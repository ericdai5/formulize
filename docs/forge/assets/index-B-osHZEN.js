var lO = Object.defineProperty;
var aO = (t, e, n) =>
  e in t
    ? lO(t, e, { enumerable: !0, configurable: !0, writable: !0, value: n })
    : (t[e] = n);
var rt = (t, e, n) => (aO(t, typeof e != "symbol" ? e + "" : e, n), n),
  Ky = (t, e, n) => {
    if (!e.has(t)) throw TypeError("Cannot " + n);
  };
var an = (t, e, n) => (
    Ky(t, e, "read from private field"), n ? n.call(t) : e.get(t)
  ),
  un = (t, e, n) => {
    if (e.has(t))
      throw TypeError("Cannot add the same private member more than once");
    e instanceof WeakSet ? e.add(t) : e.set(t, n);
  },
  cn = (t, e, n, r) => (
    Ky(t, e, "write to private field"), r ? r.call(t, n) : e.set(t, n), n
  );
function uO(t, e) {
  for (var n = 0; n < e.length; n++) {
    const r = e[n];
    if (typeof r != "string" && !Array.isArray(r)) {
      for (const i in r)
        if (i !== "default" && !(i in t)) {
          const s = Object.getOwnPropertyDescriptor(r, i);
          s &&
            Object.defineProperty(
              t,
              i,
              s.get ? s : { enumerable: !0, get: () => r[i] }
            );
        }
    }
  }
  return Object.freeze(
    Object.defineProperty(t, Symbol.toStringTag, { value: "Module" })
  );
}
(function () {
  const e = document.createElement("link").relList;
  if (e && e.supports && e.supports("modulepreload")) return;
  for (const i of document.querySelectorAll('link[rel="modulepreload"]')) r(i);
  new MutationObserver((i) => {
    for (const s of i)
      if (s.type === "childList")
        for (const o of s.addedNodes)
          o.tagName === "LINK" && o.rel === "modulepreload" && r(o);
  }).observe(document, { childList: !0, subtree: !0 });
  function n(i) {
    const s = {};
    return (
      i.integrity && (s.integrity = i.integrity),
      i.referrerPolicy && (s.referrerPolicy = i.referrerPolicy),
      i.crossOrigin === "use-credentials"
        ? (s.credentials = "include")
        : i.crossOrigin === "anonymous"
          ? (s.credentials = "omit")
          : (s.credentials = "same-origin"),
      s
    );
  }
  function r(i) {
    if (i.ep) return;
    i.ep = !0;
    const s = n(i);
    fetch(i.href, s);
  }
})();
function Jb(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default")
    ? t.default
    : t;
}
function Hr(t) {
  if (t.__esModule) return t;
  var e = t.default;
  if (typeof e == "function") {
    var n = function r() {
      return this instanceof r
        ? Reflect.construct(e, arguments, this.constructor)
        : e.apply(this, arguments);
    };
    n.prototype = e.prototype;
  } else n = {};
  return (
    Object.defineProperty(n, "__esModule", { value: !0 }),
    Object.keys(t).forEach(function (r) {
      var i = Object.getOwnPropertyDescriptor(t, r);
      Object.defineProperty(
        n,
        r,
        i.get
          ? i
          : {
              enumerable: !0,
              get: function () {
                return t[r];
              },
            }
      );
    }),
    n
  );
}
var Zb = { exports: {} },
  zf = {},
  ex = { exports: {} },
  te = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var $a = Symbol.for("react.element"),
  cO = Symbol.for("react.portal"),
  fO = Symbol.for("react.fragment"),
  hO = Symbol.for("react.strict_mode"),
  dO = Symbol.for("react.profiler"),
  pO = Symbol.for("react.provider"),
  mO = Symbol.for("react.context"),
  gO = Symbol.for("react.forward_ref"),
  yO = Symbol.for("react.suspense"),
  vO = Symbol.for("react.memo"),
  wO = Symbol.for("react.lazy"),
  qy = Symbol.iterator;
function bO(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (qy && t[qy]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var tx = {
    isMounted: function () {
      return !1;
    },
    enqueueForceUpdate: function () {},
    enqueueReplaceState: function () {},
    enqueueSetState: function () {},
  },
  nx = Object.assign,
  rx = {};
function No(t, e, n) {
  (this.props = t),
    (this.context = e),
    (this.refs = rx),
    (this.updater = n || tx);
}
No.prototype.isReactComponent = {};
No.prototype.setState = function (t, e) {
  if (typeof t != "object" && typeof t != "function" && t != null)
    throw Error(
      "setState(...): takes an object of state variables to update or a function which returns an object of state variables."
    );
  this.updater.enqueueSetState(this, t, e, "setState");
};
No.prototype.forceUpdate = function (t) {
  this.updater.enqueueForceUpdate(this, t, "forceUpdate");
};
function ix() {}
ix.prototype = No.prototype;
function Eg(t, e, n) {
  (this.props = t),
    (this.context = e),
    (this.refs = rx),
    (this.updater = n || tx);
}
var Mg = (Eg.prototype = new ix());
Mg.constructor = Eg;
nx(Mg, No.prototype);
Mg.isPureReactComponent = !0;
var Gy = Array.isArray,
  sx = Object.prototype.hasOwnProperty,
  Tg = { current: null },
  ox = { key: !0, ref: !0, __self: !0, __source: !0 };
function lx(t, e, n) {
  var r,
    i = {},
    s = null,
    o = null;
  if (e != null)
    for (r in (e.ref !== void 0 && (o = e.ref),
    e.key !== void 0 && (s = "" + e.key),
    e))
      sx.call(e, r) && !ox.hasOwnProperty(r) && (i[r] = e[r]);
  var l = arguments.length - 2;
  if (l === 1) i.children = n;
  else if (1 < l) {
    for (var a = Array(l), u = 0; u < l; u++) a[u] = arguments[u + 2];
    i.children = a;
  }
  if (t && t.defaultProps)
    for (r in ((l = t.defaultProps), l)) i[r] === void 0 && (i[r] = l[r]);
  return {
    $$typeof: $a,
    type: t,
    key: s,
    ref: o,
    props: i,
    _owner: Tg.current,
  };
}
function xO(t, e) {
  return {
    $$typeof: $a,
    type: t.type,
    key: e,
    ref: t.ref,
    props: t.props,
    _owner: t._owner,
  };
}
function Pg(t) {
  return typeof t == "object" && t !== null && t.$$typeof === $a;
}
function SO(t) {
  var e = { "=": "=0", ":": "=2" };
  return (
    "$" +
    t.replace(/[=:]/g, function (n) {
      return e[n];
    })
  );
}
var Yy = /\/+/g;
function hd(t, e) {
  return typeof t == "object" && t !== null && t.key != null
    ? SO("" + t.key)
    : e.toString(36);
}
function ac(t, e, n, r, i) {
  var s = typeof t;
  (s === "undefined" || s === "boolean") && (t = null);
  var o = !1;
  if (t === null) o = !0;
  else
    switch (s) {
      case "string":
      case "number":
        o = !0;
        break;
      case "object":
        switch (t.$$typeof) {
          case $a:
          case cO:
            o = !0;
        }
    }
  if (o)
    return (
      (o = t),
      (i = i(o)),
      (t = r === "" ? "." + hd(o, 0) : r),
      Gy(i)
        ? ((n = ""),
          t != null && (n = t.replace(Yy, "$&/") + "/"),
          ac(i, e, n, "", function (u) {
            return u;
          }))
        : i != null &&
          (Pg(i) &&
            (i = xO(
              i,
              n +
                (!i.key || (o && o.key === i.key)
                  ? ""
                  : ("" + i.key).replace(Yy, "$&/") + "/") +
                t
            )),
          e.push(i)),
      1
    );
  if (((o = 0), (r = r === "" ? "." : r + ":"), Gy(t)))
    for (var l = 0; l < t.length; l++) {
      s = t[l];
      var a = r + hd(s, l);
      o += ac(s, e, n, a, i);
    }
  else if (((a = bO(t)), typeof a == "function"))
    for (t = a.call(t), l = 0; !(s = t.next()).done; )
      (s = s.value), (a = r + hd(s, l++)), (o += ac(s, e, n, a, i));
  else if (s === "object")
    throw (
      ((e = String(t)),
      Error(
        "Objects are not valid as a React child (found: " +
          (e === "[object Object]"
            ? "object with keys {" + Object.keys(t).join(", ") + "}"
            : e) +
          "). If you meant to render a collection of children, use an array instead."
      ))
    );
  return o;
}
function mu(t, e, n) {
  if (t == null) return t;
  var r = [],
    i = 0;
  return (
    ac(t, r, "", "", function (s) {
      return e.call(n, s, i++);
    }),
    r
  );
}
function kO(t) {
  if (t._status === -1) {
    var e = t._result;
    (e = e()),
      e.then(
        function (n) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 1), (t._result = n));
        },
        function (n) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 2), (t._result = n));
        }
      ),
      t._status === -1 && ((t._status = 0), (t._result = e));
  }
  if (t._status === 1) return t._result.default;
  throw t._result;
}
var Pt = { current: null },
  uc = { transition: null },
  CO = {
    ReactCurrentDispatcher: Pt,
    ReactCurrentBatchConfig: uc,
    ReactCurrentOwner: Tg,
  };
te.Children = {
  map: mu,
  forEach: function (t, e, n) {
    mu(
      t,
      function () {
        e.apply(this, arguments);
      },
      n
    );
  },
  count: function (t) {
    var e = 0;
    return (
      mu(t, function () {
        e++;
      }),
      e
    );
  },
  toArray: function (t) {
    return (
      mu(t, function (e) {
        return e;
      }) || []
    );
  },
  only: function (t) {
    if (!Pg(t))
      throw Error(
        "React.Children.only expected to receive a single React element child."
      );
    return t;
  },
};
te.Component = No;
te.Fragment = fO;
te.Profiler = dO;
te.PureComponent = Eg;
te.StrictMode = hO;
te.Suspense = yO;
te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = CO;
te.cloneElement = function (t, e, n) {
  if (t == null)
    throw Error(
      "React.cloneElement(...): The argument must be a React element, but you passed " +
        t +
        "."
    );
  var r = nx({}, t.props),
    i = t.key,
    s = t.ref,
    o = t._owner;
  if (e != null) {
    if (
      (e.ref !== void 0 && ((s = e.ref), (o = Tg.current)),
      e.key !== void 0 && (i = "" + e.key),
      t.type && t.type.defaultProps)
    )
      var l = t.type.defaultProps;
    for (a in e)
      sx.call(e, a) &&
        !ox.hasOwnProperty(a) &&
        (r[a] = e[a] === void 0 && l !== void 0 ? l[a] : e[a]);
  }
  var a = arguments.length - 2;
  if (a === 1) r.children = n;
  else if (1 < a) {
    l = Array(a);
    for (var u = 0; u < a; u++) l[u] = arguments[u + 2];
    r.children = l;
  }
  return { $$typeof: $a, type: t.type, key: i, ref: s, props: r, _owner: o };
};
te.createContext = function (t) {
  return (
    (t = {
      $$typeof: mO,
      _currentValue: t,
      _currentValue2: t,
      _threadCount: 0,
      Provider: null,
      Consumer: null,
      _defaultValue: null,
      _globalName: null,
    }),
    (t.Provider = { $$typeof: pO, _context: t }),
    (t.Consumer = t)
  );
};
te.createElement = lx;
te.createFactory = function (t) {
  var e = lx.bind(null, t);
  return (e.type = t), e;
};
te.createRef = function () {
  return { current: null };
};
te.forwardRef = function (t) {
  return { $$typeof: gO, render: t };
};
te.isValidElement = Pg;
te.lazy = function (t) {
  return { $$typeof: wO, _payload: { _status: -1, _result: t }, _init: kO };
};
te.memo = function (t, e) {
  return { $$typeof: vO, type: t, compare: e === void 0 ? null : e };
};
te.startTransition = function (t) {
  var e = uc.transition;
  uc.transition = {};
  try {
    t();
  } finally {
    uc.transition = e;
  }
};
te.unstable_act = function () {
  throw Error("act(...) is not supported in production builds of React.");
};
te.useCallback = function (t, e) {
  return Pt.current.useCallback(t, e);
};
te.useContext = function (t) {
  return Pt.current.useContext(t);
};
te.useDebugValue = function () {};
te.useDeferredValue = function (t) {
  return Pt.current.useDeferredValue(t);
};
te.useEffect = function (t, e) {
  return Pt.current.useEffect(t, e);
};
te.useId = function () {
  return Pt.current.useId();
};
te.useImperativeHandle = function (t, e, n) {
  return Pt.current.useImperativeHandle(t, e, n);
};
te.useInsertionEffect = function (t, e) {
  return Pt.current.useInsertionEffect(t, e);
};
te.useLayoutEffect = function (t, e) {
  return Pt.current.useLayoutEffect(t, e);
};
te.useMemo = function (t, e) {
  return Pt.current.useMemo(t, e);
};
te.useReducer = function (t, e, n) {
  return Pt.current.useReducer(t, e, n);
};
te.useRef = function (t) {
  return Pt.current.useRef(t);
};
te.useState = function (t) {
  return Pt.current.useState(t);
};
te.useSyncExternalStore = function (t, e, n) {
  return Pt.current.useSyncExternalStore(t, e, n);
};
te.useTransition = function () {
  return Pt.current.useTransition();
};
te.version = "18.2.0";
ex.exports = te;
var V = ex.exports;
const po = Jb(V),
  Xy = uO({ __proto__: null, default: po }, [V]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var _O = V,
  AO = Symbol.for("react.element"),
  OO = Symbol.for("react.fragment"),
  EO = Object.prototype.hasOwnProperty,
  MO = _O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
  TO = { key: !0, ref: !0, __self: !0, __source: !0 };
function ax(t, e, n) {
  var r,
    i = {},
    s = null,
    o = null;
  n !== void 0 && (s = "" + n),
    e.key !== void 0 && (s = "" + e.key),
    e.ref !== void 0 && (o = e.ref);
  for (r in e) EO.call(e, r) && !TO.hasOwnProperty(r) && (i[r] = e[r]);
  if (t && t.defaultProps)
    for (r in ((e = t.defaultProps), e)) i[r] === void 0 && (i[r] = e[r]);
  return {
    $$typeof: AO,
    type: t,
    key: s,
    ref: o,
    props: i,
    _owner: MO.current,
  };
}
zf.Fragment = OO;
zf.jsx = ax;
zf.jsxs = ax;
Zb.exports = zf;
var ki = Zb.exports;
function PO(t) {
  if (t.sheet) return t.sheet;
  for (var e = 0; e < document.styleSheets.length; e++)
    if (document.styleSheets[e].ownerNode === t) return document.styleSheets[e];
}
function RO(t) {
  var e = document.createElement("style");
  return (
    e.setAttribute("data-emotion", t.key),
    t.nonce !== void 0 && e.setAttribute("nonce", t.nonce),
    e.appendChild(document.createTextNode("")),
    e.setAttribute("data-s", ""),
    e
  );
}
var DO = (function () {
    function t(n) {
      var r = this;
      (this._insertTag = function (i) {
        var s;
        r.tags.length === 0
          ? r.insertionPoint
            ? (s = r.insertionPoint.nextSibling)
            : r.prepend
              ? (s = r.container.firstChild)
              : (s = r.before)
          : (s = r.tags[r.tags.length - 1].nextSibling),
          r.container.insertBefore(i, s),
          r.tags.push(i);
      }),
        (this.isSpeedy = n.speedy === void 0 ? !0 : n.speedy),
        (this.tags = []),
        (this.ctr = 0),
        (this.nonce = n.nonce),
        (this.key = n.key),
        (this.container = n.container),
        (this.prepend = n.prepend),
        (this.insertionPoint = n.insertionPoint),
        (this.before = null);
    }
    var e = t.prototype;
    return (
      (e.hydrate = function (r) {
        r.forEach(this._insertTag);
      }),
      (e.insert = function (r) {
        this.ctr % (this.isSpeedy ? 65e3 : 1) === 0 &&
          this._insertTag(RO(this));
        var i = this.tags[this.tags.length - 1];
        if (this.isSpeedy) {
          var s = PO(i);
          try {
            s.insertRule(r, s.cssRules.length);
          } catch {}
        } else i.appendChild(document.createTextNode(r));
        this.ctr++;
      }),
      (e.flush = function () {
        this.tags.forEach(function (r) {
          return r.parentNode && r.parentNode.removeChild(r);
        }),
          (this.tags = []),
          (this.ctr = 0);
      }),
      t
    );
  })(),
  yt = "-ms-",
  $c = "-moz-",
  le = "-webkit-",
  ux = "comm",
  Rg = "rule",
  Dg = "decl",
  LO = "@import",
  cx = "@keyframes",
  BO = "@layer",
  NO = Math.abs,
  jf = String.fromCharCode,
  IO = Object.assign;
function $O(t, e) {
  return ot(t, 0) ^ 45
    ? (((((((e << 2) ^ ot(t, 0)) << 2) ^ ot(t, 1)) << 2) ^ ot(t, 2)) << 2) ^
        ot(t, 3)
    : 0;
}
function fx(t) {
  return t.trim();
}
function FO(t, e) {
  return (t = e.exec(t)) ? t[0] : t;
}
function ae(t, e, n) {
  return t.replace(e, n);
}
function xp(t, e) {
  return t.indexOf(e);
}
function ot(t, e) {
  return t.charCodeAt(e) | 0;
}
function $l(t, e, n) {
  return t.slice(e, n);
}
function sr(t) {
  return t.length;
}
function Lg(t) {
  return t.length;
}
function gu(t, e) {
  return e.push(t), t;
}
function zO(t, e) {
  return t.map(e).join("");
}
var Vf = 1,
  mo = 1,
  hx = 0,
  Vt = 0,
  He = 0,
  Io = "";
function Wf(t, e, n, r, i, s, o) {
  return {
    value: t,
    root: e,
    parent: n,
    type: r,
    props: i,
    children: s,
    line: Vf,
    column: mo,
    length: o,
    return: "",
  };
}
function Xo(t, e) {
  return IO(Wf("", null, null, "", null, null, 0), t, { length: -t.length }, e);
}
function jO() {
  return He;
}
function VO() {
  return (
    (He = Vt > 0 ? ot(Io, --Vt) : 0), mo--, He === 10 && ((mo = 1), Vf--), He
  );
}
function en() {
  return (
    (He = Vt < hx ? ot(Io, Vt++) : 0), mo++, He === 10 && ((mo = 1), Vf++), He
  );
}
function pr() {
  return ot(Io, Vt);
}
function cc() {
  return Vt;
}
function Fa(t, e) {
  return $l(Io, t, e);
}
function Fl(t) {
  switch (t) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function dx(t) {
  return (Vf = mo = 1), (hx = sr((Io = t))), (Vt = 0), [];
}
function px(t) {
  return (Io = ""), t;
}
function fc(t) {
  return fx(Fa(Vt - 1, Sp(t === 91 ? t + 2 : t === 40 ? t + 1 : t)));
}
function WO(t) {
  for (; (He = pr()) && He < 33; ) en();
  return Fl(t) > 2 || Fl(He) > 3 ? "" : " ";
}
function HO(t, e) {
  for (
    ;
    --e &&
    en() &&
    !(He < 48 || He > 102 || (He > 57 && He < 65) || (He > 70 && He < 97));

  );
  return Fa(t, cc() + (e < 6 && pr() == 32 && en() == 32));
}
function Sp(t) {
  for (; en(); )
    switch (He) {
      case t:
        return Vt;
      case 34:
      case 39:
        t !== 34 && t !== 39 && Sp(He);
        break;
      case 40:
        t === 41 && Sp(t);
        break;
      case 92:
        en();
        break;
    }
  return Vt;
}
function UO(t, e) {
  for (; en() && t + He !== 57; ) if (t + He === 84 && pr() === 47) break;
  return "/*" + Fa(e, Vt - 1) + "*" + jf(t === 47 ? t : en());
}
function KO(t) {
  for (; !Fl(pr()); ) en();
  return Fa(t, Vt);
}
function qO(t) {
  return px(hc("", null, null, null, [""], (t = dx(t)), 0, [0], t));
}
function hc(t, e, n, r, i, s, o, l, a) {
  for (
    var u = 0,
      c = 0,
      f = o,
      h = 0,
      d = 0,
      p = 0,
      m = 1,
      w = 1,
      g = 1,
      y = 0,
      v = "",
      b = i,
      x = s,
      S = r,
      k = v;
    w;

  )
    switch (((p = y), (y = en()))) {
      case 40:
        if (p != 108 && ot(k, f - 1) == 58) {
          xp((k += ae(fc(y), "&", "&\f")), "&\f") != -1 && (g = -1);
          break;
        }
      case 34:
      case 39:
      case 91:
        k += fc(y);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        k += WO(p);
        break;
      case 92:
        k += HO(cc() - 1, 7);
        continue;
      case 47:
        switch (pr()) {
          case 42:
          case 47:
            gu(GO(UO(en(), cc()), e, n), a);
            break;
          default:
            k += "/";
        }
        break;
      case 123 * m:
        l[u++] = sr(k) * g;
      case 125 * m:
      case 59:
      case 0:
        switch (y) {
          case 0:
          case 125:
            w = 0;
          case 59 + c:
            g == -1 && (k = ae(k, /\f/g, "")),
              d > 0 &&
                sr(k) - f &&
                gu(
                  d > 32
                    ? Jy(k + ";", r, n, f - 1)
                    : Jy(ae(k, " ", "") + ";", r, n, f - 2),
                  a
                );
            break;
          case 59:
            k += ";";
          default:
            if (
              (gu((S = Qy(k, e, n, u, c, i, l, v, (b = []), (x = []), f)), s),
              y === 123)
            )
              if (c === 0) hc(k, e, S, S, b, s, f, l, x);
              else
                switch (h === 99 && ot(k, 3) === 110 ? 100 : h) {
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    hc(
                      t,
                      S,
                      S,
                      r && gu(Qy(t, S, S, 0, 0, i, l, v, i, (b = []), f), x),
                      i,
                      x,
                      f,
                      l,
                      r ? b : x
                    );
                    break;
                  default:
                    hc(k, S, S, S, [""], x, 0, l, x);
                }
        }
        (u = c = d = 0), (m = g = 1), (v = k = ""), (f = o);
        break;
      case 58:
        (f = 1 + sr(k)), (d = p);
      default:
        if (m < 1) {
          if (y == 123) --m;
          else if (y == 125 && m++ == 0 && VO() == 125) continue;
        }
        switch (((k += jf(y)), y * m)) {
          case 38:
            g = c > 0 ? 1 : ((k += "\f"), -1);
            break;
          case 44:
            (l[u++] = (sr(k) - 1) * g), (g = 1);
            break;
          case 64:
            pr() === 45 && (k += fc(en())),
              (h = pr()),
              (c = f = sr((v = k += KO(cc())))),
              y++;
            break;
          case 45:
            p === 45 && sr(k) == 2 && (m = 0);
        }
    }
  return s;
}
function Qy(t, e, n, r, i, s, o, l, a, u, c) {
  for (
    var f = i - 1, h = i === 0 ? s : [""], d = Lg(h), p = 0, m = 0, w = 0;
    p < r;
    ++p
  )
    for (var g = 0, y = $l(t, f + 1, (f = NO((m = o[p])))), v = t; g < d; ++g)
      (v = fx(m > 0 ? h[g] + " " + y : ae(y, /&\f/g, h[g]))) && (a[w++] = v);
  return Wf(t, e, n, i === 0 ? Rg : l, a, u, c);
}
function GO(t, e, n) {
  return Wf(t, e, n, ux, jf(jO()), $l(t, 2, -2), 0);
}
function Jy(t, e, n, r) {
  return Wf(t, e, n, Dg, $l(t, 0, r), $l(t, r + 1, -1), r);
}
function Zs(t, e) {
  for (var n = "", r = Lg(t), i = 0; i < r; i++) n += e(t[i], i, t, e) || "";
  return n;
}
function YO(t, e, n, r) {
  switch (t.type) {
    case BO:
      if (t.children.length) break;
    case LO:
    case Dg:
      return (t.return = t.return || t.value);
    case ux:
      return "";
    case cx:
      return (t.return = t.value + "{" + Zs(t.children, r) + "}");
    case Rg:
      t.value = t.props.join(",");
  }
  return sr((n = Zs(t.children, r)))
    ? (t.return = t.value + "{" + n + "}")
    : "";
}
function XO(t) {
  var e = Lg(t);
  return function (n, r, i, s) {
    for (var o = "", l = 0; l < e; l++) o += t[l](n, r, i, s) || "";
    return o;
  };
}
function QO(t) {
  return function (e) {
    e.root || ((e = e.return) && t(e));
  };
}
function mx(t) {
  var e = Object.create(null);
  return function (n) {
    return e[n] === void 0 && (e[n] = t(n)), e[n];
  };
}
var JO = function (e, n, r) {
    for (
      var i = 0, s = 0;
      (i = s), (s = pr()), i === 38 && s === 12 && (n[r] = 1), !Fl(s);

    )
      en();
    return Fa(e, Vt);
  },
  ZO = function (e, n) {
    var r = -1,
      i = 44;
    do
      switch (Fl(i)) {
        case 0:
          i === 38 && pr() === 12 && (n[r] = 1), (e[r] += JO(Vt - 1, n, r));
          break;
        case 2:
          e[r] += fc(i);
          break;
        case 4:
          if (i === 44) {
            (e[++r] = pr() === 58 ? "&\f" : ""), (n[r] = e[r].length);
            break;
          }
        default:
          e[r] += jf(i);
      }
    while ((i = en()));
    return e;
  },
  eE = function (e, n) {
    return px(ZO(dx(e), n));
  },
  Zy = new WeakMap(),
  tE = function (e) {
    if (!(e.type !== "rule" || !e.parent || e.length < 1)) {
      for (
        var n = e.value,
          r = e.parent,
          i = e.column === r.column && e.line === r.line;
        r.type !== "rule";

      )
        if (((r = r.parent), !r)) return;
      if (
        !(e.props.length === 1 && n.charCodeAt(0) !== 58 && !Zy.get(r)) &&
        !i
      ) {
        Zy.set(e, !0);
        for (
          var s = [], o = eE(n, s), l = r.props, a = 0, u = 0;
          a < o.length;
          a++
        )
          for (var c = 0; c < l.length; c++, u++)
            e.props[u] = s[a] ? o[a].replace(/&\f/g, l[c]) : l[c] + " " + o[a];
      }
    }
  },
  nE = function (e) {
    if (e.type === "decl") {
      var n = e.value;
      n.charCodeAt(0) === 108 &&
        n.charCodeAt(2) === 98 &&
        ((e.return = ""), (e.value = ""));
    }
  };
function gx(t, e) {
  switch ($O(t, e)) {
    case 5103:
      return le + "print-" + t + t;
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return le + t + t;
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return le + t + $c + t + yt + t + t;
    case 6828:
    case 4268:
      return le + t + yt + t + t;
    case 6165:
      return le + t + yt + "flex-" + t + t;
    case 5187:
      return (
        le + t + ae(t, /(\w+).+(:[^]+)/, le + "box-$1$2" + yt + "flex-$1$2") + t
      );
    case 5443:
      return le + t + yt + "flex-item-" + ae(t, /flex-|-self/, "") + t;
    case 4675:
      return (
        le +
        t +
        yt +
        "flex-line-pack" +
        ae(t, /align-content|flex-|-self/, "") +
        t
      );
    case 5548:
      return le + t + yt + ae(t, "shrink", "negative") + t;
    case 5292:
      return le + t + yt + ae(t, "basis", "preferred-size") + t;
    case 6060:
      return (
        le +
        "box-" +
        ae(t, "-grow", "") +
        le +
        t +
        yt +
        ae(t, "grow", "positive") +
        t
      );
    case 4554:
      return le + ae(t, /([^-])(transform)/g, "$1" + le + "$2") + t;
    case 6187:
      return (
        ae(
          ae(ae(t, /(zoom-|grab)/, le + "$1"), /(image-set)/, le + "$1"),
          t,
          ""
        ) + t
      );
    case 5495:
    case 3959:
      return ae(t, /(image-set\([^]*)/, le + "$1$`$1");
    case 4968:
      return (
        ae(
          ae(t, /(.+:)(flex-)?(.*)/, le + "box-pack:$3" + yt + "flex-pack:$3"),
          /s.+-b[^;]+/,
          "justify"
        ) +
        le +
        t +
        t
      );
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return ae(t, /(.+)-inline(.+)/, le + "$1$2") + t;
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (sr(t) - 1 - e > 6)
        switch (ot(t, e + 1)) {
          case 109:
            if (ot(t, e + 4) !== 45) break;
          case 102:
            return (
              ae(
                t,
                /(.+:)(.+)-([^]+)/,
                "$1" +
                  le +
                  "$2-$3$1" +
                  $c +
                  (ot(t, e + 3) == 108 ? "$3" : "$2-$3")
              ) + t
            );
          case 115:
            return ~xp(t, "stretch")
              ? gx(ae(t, "stretch", "fill-available"), e) + t
              : t;
        }
      break;
    case 4949:
      if (ot(t, e + 1) !== 115) break;
    case 6444:
      switch (ot(t, sr(t) - 3 - (~xp(t, "!important") && 10))) {
        case 107:
          return ae(t, ":", ":" + le) + t;
        case 101:
          return (
            ae(
              t,
              /(.+:)([^;!]+)(;|!.+)?/,
              "$1" +
                le +
                (ot(t, 14) === 45 ? "inline-" : "") +
                "box$3$1" +
                le +
                "$2$3$1" +
                yt +
                "$2box$3"
            ) + t
          );
      }
      break;
    case 5936:
      switch (ot(t, e + 11)) {
        case 114:
          return le + t + yt + ae(t, /[svh]\w+-[tblr]{2}/, "tb") + t;
        case 108:
          return le + t + yt + ae(t, /[svh]\w+-[tblr]{2}/, "tb-rl") + t;
        case 45:
          return le + t + yt + ae(t, /[svh]\w+-[tblr]{2}/, "lr") + t;
      }
      return le + t + yt + t + t;
  }
  return t;
}
var rE = function (e, n, r, i) {
    if (e.length > -1 && !e.return)
      switch (e.type) {
        case Dg:
          e.return = gx(e.value, e.length);
          break;
        case cx:
          return Zs([Xo(e, { value: ae(e.value, "@", "@" + le) })], i);
        case Rg:
          if (e.length)
            return zO(e.props, function (s) {
              switch (FO(s, /(::plac\w+|:read-\w+)/)) {
                case ":read-only":
                case ":read-write":
                  return Zs(
                    [Xo(e, { props: [ae(s, /:(read-\w+)/, ":" + $c + "$1")] })],
                    i
                  );
                case "::placeholder":
                  return Zs(
                    [
                      Xo(e, {
                        props: [ae(s, /:(plac\w+)/, ":" + le + "input-$1")],
                      }),
                      Xo(e, { props: [ae(s, /:(plac\w+)/, ":" + $c + "$1")] }),
                      Xo(e, { props: [ae(s, /:(plac\w+)/, yt + "input-$1")] }),
                    ],
                    i
                  );
              }
              return "";
            });
      }
  },
  iE = [rE],
  Bg = function (e) {
    var n = e.key;
    if (n === "css") {
      var r = document.querySelectorAll("style[data-emotion]:not([data-s])");
      Array.prototype.forEach.call(r, function (m) {
        var w = m.getAttribute("data-emotion");
        w.indexOf(" ") !== -1 &&
          (document.head.appendChild(m), m.setAttribute("data-s", ""));
      });
    }
    var i = e.stylisPlugins || iE,
      s = {},
      o,
      l = [];
    (o = e.container || document.head),
      Array.prototype.forEach.call(
        document.querySelectorAll('style[data-emotion^="' + n + ' "]'),
        function (m) {
          for (
            var w = m.getAttribute("data-emotion").split(" "), g = 1;
            g < w.length;
            g++
          )
            s[w[g]] = !0;
          l.push(m);
        }
      );
    var a,
      u = [tE, nE];
    {
      var c,
        f = [
          YO,
          QO(function (m) {
            c.insert(m);
          }),
        ],
        h = XO(u.concat(i, f)),
        d = function (w) {
          return Zs(qO(w), h);
        };
      a = function (w, g, y, v) {
        (c = y),
          d(w ? w + "{" + g.styles + "}" : g.styles),
          v && (p.inserted[g.name] = !0);
      };
    }
    var p = {
      key: n,
      sheet: new DO({
        key: n,
        container: o,
        nonce: e.nonce,
        speedy: e.speedy,
        prepend: e.prepend,
        insertionPoint: e.insertionPoint,
      }),
      nonce: e.nonce,
      inserted: s,
      registered: {},
      insert: a,
    };
    return p.sheet.hydrate(l), p;
  };
function fe() {
  return (
    (fe = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    fe.apply(this, arguments)
  );
}
const sE = Object.freeze(
  Object.defineProperty({ __proto__: null, default: fe }, Symbol.toStringTag, {
    value: "Module",
  })
);
var yx = { exports: {} },
  de = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var tt = typeof Symbol == "function" && Symbol.for,
  Ng = tt ? Symbol.for("react.element") : 60103,
  Ig = tt ? Symbol.for("react.portal") : 60106,
  Hf = tt ? Symbol.for("react.fragment") : 60107,
  Uf = tt ? Symbol.for("react.strict_mode") : 60108,
  Kf = tt ? Symbol.for("react.profiler") : 60114,
  qf = tt ? Symbol.for("react.provider") : 60109,
  Gf = tt ? Symbol.for("react.context") : 60110,
  $g = tt ? Symbol.for("react.async_mode") : 60111,
  Yf = tt ? Symbol.for("react.concurrent_mode") : 60111,
  Xf = tt ? Symbol.for("react.forward_ref") : 60112,
  Qf = tt ? Symbol.for("react.suspense") : 60113,
  oE = tt ? Symbol.for("react.suspense_list") : 60120,
  Jf = tt ? Symbol.for("react.memo") : 60115,
  Zf = tt ? Symbol.for("react.lazy") : 60116,
  lE = tt ? Symbol.for("react.block") : 60121,
  aE = tt ? Symbol.for("react.fundamental") : 60117,
  uE = tt ? Symbol.for("react.responder") : 60118,
  cE = tt ? Symbol.for("react.scope") : 60119;
function rn(t) {
  if (typeof t == "object" && t !== null) {
    var e = t.$$typeof;
    switch (e) {
      case Ng:
        switch (((t = t.type), t)) {
          case $g:
          case Yf:
          case Hf:
          case Kf:
          case Uf:
          case Qf:
            return t;
          default:
            switch (((t = t && t.$$typeof), t)) {
              case Gf:
              case Xf:
              case Zf:
              case Jf:
              case qf:
                return t;
              default:
                return e;
            }
        }
      case Ig:
        return e;
    }
  }
}
function vx(t) {
  return rn(t) === Yf;
}
de.AsyncMode = $g;
de.ConcurrentMode = Yf;
de.ContextConsumer = Gf;
de.ContextProvider = qf;
de.Element = Ng;
de.ForwardRef = Xf;
de.Fragment = Hf;
de.Lazy = Zf;
de.Memo = Jf;
de.Portal = Ig;
de.Profiler = Kf;
de.StrictMode = Uf;
de.Suspense = Qf;
de.isAsyncMode = function (t) {
  return vx(t) || rn(t) === $g;
};
de.isConcurrentMode = vx;
de.isContextConsumer = function (t) {
  return rn(t) === Gf;
};
de.isContextProvider = function (t) {
  return rn(t) === qf;
};
de.isElement = function (t) {
  return typeof t == "object" && t !== null && t.$$typeof === Ng;
};
de.isForwardRef = function (t) {
  return rn(t) === Xf;
};
de.isFragment = function (t) {
  return rn(t) === Hf;
};
de.isLazy = function (t) {
  return rn(t) === Zf;
};
de.isMemo = function (t) {
  return rn(t) === Jf;
};
de.isPortal = function (t) {
  return rn(t) === Ig;
};
de.isProfiler = function (t) {
  return rn(t) === Kf;
};
de.isStrictMode = function (t) {
  return rn(t) === Uf;
};
de.isSuspense = function (t) {
  return rn(t) === Qf;
};
de.isValidElementType = function (t) {
  return (
    typeof t == "string" ||
    typeof t == "function" ||
    t === Hf ||
    t === Yf ||
    t === Kf ||
    t === Uf ||
    t === Qf ||
    t === oE ||
    (typeof t == "object" &&
      t !== null &&
      (t.$$typeof === Zf ||
        t.$$typeof === Jf ||
        t.$$typeof === qf ||
        t.$$typeof === Gf ||
        t.$$typeof === Xf ||
        t.$$typeof === aE ||
        t.$$typeof === uE ||
        t.$$typeof === cE ||
        t.$$typeof === lE))
  );
};
de.typeOf = rn;
yx.exports = de;
var fE = yx.exports,
  wx = fE,
  hE = {
    $$typeof: !0,
    render: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0,
  },
  dE = {
    $$typeof: !0,
    compare: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0,
    type: !0,
  },
  bx = {};
bx[wx.ForwardRef] = hE;
bx[wx.Memo] = dE;
var pE = !0;
function eh(t, e, n) {
  var r = "";
  return (
    n.split(" ").forEach(function (i) {
      t[i] !== void 0 ? e.push(t[i] + ";") : (r += i + " ");
    }),
    r
  );
}
var Fg = function (e, n, r) {
    var i = e.key + "-" + n.name;
    (r === !1 || pE === !1) &&
      e.registered[i] === void 0 &&
      (e.registered[i] = n.styles);
  },
  th = function (e, n, r) {
    Fg(e, n, r);
    var i = e.key + "-" + n.name;
    if (e.inserted[n.name] === void 0) {
      var s = n;
      do e.insert(n === s ? "." + i : "", s, e.sheet, !0), (s = s.next);
      while (s !== void 0);
    }
  };
function mE(t) {
  for (var e = 0, n, r = 0, i = t.length; i >= 4; ++r, i -= 4)
    (n =
      (t.charCodeAt(r) & 255) |
      ((t.charCodeAt(++r) & 255) << 8) |
      ((t.charCodeAt(++r) & 255) << 16) |
      ((t.charCodeAt(++r) & 255) << 24)),
      (n = (n & 65535) * 1540483477 + (((n >>> 16) * 59797) << 16)),
      (n ^= n >>> 24),
      (e =
        ((n & 65535) * 1540483477 + (((n >>> 16) * 59797) << 16)) ^
        ((e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)));
  switch (i) {
    case 3:
      e ^= (t.charCodeAt(r + 2) & 255) << 16;
    case 2:
      e ^= (t.charCodeAt(r + 1) & 255) << 8;
    case 1:
      (e ^= t.charCodeAt(r) & 255),
        (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16));
  }
  return (
    (e ^= e >>> 13),
    (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)),
    ((e ^ (e >>> 15)) >>> 0).toString(36)
  );
}
var gE = {
    animationIterationCount: 1,
    aspectRatio: 1,
    borderImageOutset: 1,
    borderImageSlice: 1,
    borderImageWidth: 1,
    boxFlex: 1,
    boxFlexGroup: 1,
    boxOrdinalGroup: 1,
    columnCount: 1,
    columns: 1,
    flex: 1,
    flexGrow: 1,
    flexPositive: 1,
    flexShrink: 1,
    flexNegative: 1,
    flexOrder: 1,
    gridRow: 1,
    gridRowEnd: 1,
    gridRowSpan: 1,
    gridRowStart: 1,
    gridColumn: 1,
    gridColumnEnd: 1,
    gridColumnSpan: 1,
    gridColumnStart: 1,
    msGridRow: 1,
    msGridRowSpan: 1,
    msGridColumn: 1,
    msGridColumnSpan: 1,
    fontWeight: 1,
    lineHeight: 1,
    opacity: 1,
    order: 1,
    orphans: 1,
    tabSize: 1,
    widows: 1,
    zIndex: 1,
    zoom: 1,
    WebkitLineClamp: 1,
    fillOpacity: 1,
    floodOpacity: 1,
    stopOpacity: 1,
    strokeDasharray: 1,
    strokeDashoffset: 1,
    strokeMiterlimit: 1,
    strokeOpacity: 1,
    strokeWidth: 1,
  },
  yE = /[A-Z]|^ms/g,
  vE = /_EMO_([^_]+?)_([^]*?)_EMO_/g,
  xx = function (e) {
    return e.charCodeAt(1) === 45;
  },
  e1 = function (e) {
    return e != null && typeof e != "boolean";
  },
  dd = mx(function (t) {
    return xx(t) ? t : t.replace(yE, "-$&").toLowerCase();
  }),
  t1 = function (e, n) {
    switch (e) {
      case "animation":
      case "animationName":
        if (typeof n == "string")
          return n.replace(vE, function (r, i, s) {
            return (or = { name: i, styles: s, next: or }), i;
          });
    }
    return gE[e] !== 1 && !xx(e) && typeof n == "number" && n !== 0
      ? n + "px"
      : n;
  };
function zl(t, e, n) {
  if (n == null) return "";
  if (n.__emotion_styles !== void 0) return n;
  switch (typeof n) {
    case "boolean":
      return "";
    case "object": {
      if (n.anim === 1)
        return (or = { name: n.name, styles: n.styles, next: or }), n.name;
      if (n.styles !== void 0) {
        var r = n.next;
        if (r !== void 0)
          for (; r !== void 0; )
            (or = { name: r.name, styles: r.styles, next: or }), (r = r.next);
        var i = n.styles + ";";
        return i;
      }
      return wE(t, e, n);
    }
    case "function": {
      if (t !== void 0) {
        var s = or,
          o = n(t);
        return (or = s), zl(t, e, o);
      }
      break;
    }
  }
  if (e == null) return n;
  var l = e[n];
  return l !== void 0 ? l : n;
}
function wE(t, e, n) {
  var r = "";
  if (Array.isArray(n))
    for (var i = 0; i < n.length; i++) r += zl(t, e, n[i]) + ";";
  else
    for (var s in n) {
      var o = n[s];
      if (typeof o != "object")
        e != null && e[o] !== void 0
          ? (r += s + "{" + e[o] + "}")
          : e1(o) && (r += dd(s) + ":" + t1(s, o) + ";");
      else if (
        Array.isArray(o) &&
        typeof o[0] == "string" &&
        (e == null || e[o[0]] === void 0)
      )
        for (var l = 0; l < o.length; l++)
          e1(o[l]) && (r += dd(s) + ":" + t1(s, o[l]) + ";");
      else {
        var a = zl(t, e, o);
        switch (s) {
          case "animation":
          case "animationName": {
            r += dd(s) + ":" + a + ";";
            break;
          }
          default:
            r += s + "{" + a + "}";
        }
      }
    }
  return r;
}
var n1 = /label:\s*([^\s;\n{]+)\s*(;|$)/g,
  or,
  Qi = function (e, n, r) {
    if (
      e.length === 1 &&
      typeof e[0] == "object" &&
      e[0] !== null &&
      e[0].styles !== void 0
    )
      return e[0];
    var i = !0,
      s = "";
    or = void 0;
    var o = e[0];
    o == null || o.raw === void 0
      ? ((i = !1), (s += zl(r, n, o)))
      : (s += o[0]);
    for (var l = 1; l < e.length; l++) (s += zl(r, n, e[l])), i && (s += o[l]);
    n1.lastIndex = 0;
    for (var a = "", u; (u = n1.exec(s)) !== null; ) a += "-" + u[1];
    var c = mE(s) + a;
    return { name: c, styles: s, next: or };
  },
  bE = function (e) {
    return e();
  },
  Sx = Xy.useInsertionEffect ? Xy.useInsertionEffect : !1,
  kx = Sx || bE,
  r1 = Sx || V.useLayoutEffect,
  nh = {}.hasOwnProperty,
  Cx = V.createContext(typeof HTMLElement < "u" ? Bg({ key: "css" }) : null),
  xE = Cx.Provider,
  zg = function (e) {
    return V.forwardRef(function (n, r) {
      var i = V.useContext(Cx);
      return e(n, i, r);
    });
  },
  za = V.createContext({}),
  kp = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__",
  _x = function (e, n) {
    var r = {};
    for (var i in n) nh.call(n, i) && (r[i] = n[i]);
    return (r[kp] = e), r;
  },
  SE = function (e) {
    var n = e.cache,
      r = e.serialized,
      i = e.isStringTag;
    return (
      Fg(n, r, i),
      kx(function () {
        return th(n, r, i);
      }),
      null
    );
  },
  kE = zg(function (t, e, n) {
    var r = t.css;
    typeof r == "string" && e.registered[r] !== void 0 && (r = e.registered[r]);
    var i = t[kp],
      s = [r],
      o = "";
    typeof t.className == "string"
      ? (o = eh(e.registered, s, t.className))
      : t.className != null && (o = t.className + " ");
    var l = Qi(s, void 0, V.useContext(za));
    o += e.key + "-" + l.name;
    var a = {};
    for (var u in t) nh.call(t, u) && u !== "css" && u !== kp && (a[u] = t[u]);
    return (
      (a.ref = n),
      (a.className = o),
      V.createElement(
        V.Fragment,
        null,
        V.createElement(SE, {
          cache: e,
          serialized: l,
          isStringTag: typeof i == "string",
        }),
        V.createElement(i, a)
      )
    );
  }),
  Ax = kE,
  Lr = ki.Fragment;
function C(t, e, n) {
  return nh.call(e, "css") ? ki.jsx(Ax, _x(t, e), n) : ki.jsx(t, e, n);
}
function ze(t, e, n) {
  return nh.call(e, "css") ? ki.jsxs(Ax, _x(t, e), n) : ki.jsxs(t, e, n);
}
var Cp = {},
  Ox = { exports: {} },
  sn = {},
  Ex = { exports: {} },
  Mx = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ (function (t) {
  function e(T, j) {
    var z = T.length;
    T.push(j);
    e: for (; 0 < z; ) {
      var G = (z - 1) >>> 1,
        se = T[G];
      if (0 < i(se, j)) (T[G] = j), (T[z] = se), (z = G);
      else break e;
    }
  }
  function n(T) {
    return T.length === 0 ? null : T[0];
  }
  function r(T) {
    if (T.length === 0) return null;
    var j = T[0],
      z = T.pop();
    if (z !== j) {
      T[0] = z;
      e: for (var G = 0, se = T.length, kt = se >>> 1; G < kt; ) {
        var Ke = 2 * (G + 1) - 1,
          Ut = T[Ke],
          me = Ke + 1,
          qr = T[me];
        if (0 > i(Ut, z))
          me < se && 0 > i(qr, Ut)
            ? ((T[G] = qr), (T[me] = z), (G = me))
            : ((T[G] = Ut), (T[Ke] = z), (G = Ke));
        else if (me < se && 0 > i(qr, z)) (T[G] = qr), (T[me] = z), (G = me);
        else break e;
      }
    }
    return j;
  }
  function i(T, j) {
    var z = T.sortIndex - j.sortIndex;
    return z !== 0 ? z : T.id - j.id;
  }
  if (typeof performance == "object" && typeof performance.now == "function") {
    var s = performance;
    t.unstable_now = function () {
      return s.now();
    };
  } else {
    var o = Date,
      l = o.now();
    t.unstable_now = function () {
      return o.now() - l;
    };
  }
  var a = [],
    u = [],
    c = 1,
    f = null,
    h = 3,
    d = !1,
    p = !1,
    m = !1,
    w = typeof setTimeout == "function" ? setTimeout : null,
    g = typeof clearTimeout == "function" ? clearTimeout : null,
    y = typeof setImmediate < "u" ? setImmediate : null;
  typeof navigator < "u" &&
    navigator.scheduling !== void 0 &&
    navigator.scheduling.isInputPending !== void 0 &&
    navigator.scheduling.isInputPending.bind(navigator.scheduling);
  function v(T) {
    for (var j = n(u); j !== null; ) {
      if (j.callback === null) r(u);
      else if (j.startTime <= T)
        r(u), (j.sortIndex = j.expirationTime), e(a, j);
      else break;
      j = n(u);
    }
  }
  function b(T) {
    if (((m = !1), v(T), !p))
      if (n(a) !== null) (p = !0), Ee(x);
      else {
        var j = n(u);
        j !== null && Le(b, j.startTime - T);
      }
  }
  function x(T, j) {
    (p = !1), m && ((m = !1), g(_), (_ = -1)), (d = !0);
    var z = h;
    try {
      for (
        v(j), f = n(a);
        f !== null && (!(f.expirationTime > j) || (T && !L()));

      ) {
        var G = f.callback;
        if (typeof G == "function") {
          (f.callback = null), (h = f.priorityLevel);
          var se = G(f.expirationTime <= j);
          (j = t.unstable_now()),
            typeof se == "function" ? (f.callback = se) : f === n(a) && r(a),
            v(j);
        } else r(a);
        f = n(a);
      }
      if (f !== null) var kt = !0;
      else {
        var Ke = n(u);
        Ke !== null && Le(b, Ke.startTime - j), (kt = !1);
      }
      return kt;
    } finally {
      (f = null), (h = z), (d = !1);
    }
  }
  var S = !1,
    k = null,
    _ = -1,
    M = 5,
    O = -1;
  function L() {
    return !(t.unstable_now() - O < M);
  }
  function F() {
    if (k !== null) {
      var T = t.unstable_now();
      O = T;
      var j = !0;
      try {
        j = k(!0, T);
      } finally {
        j ? W() : ((S = !1), (k = null));
      }
    } else S = !1;
  }
  var W;
  if (typeof y == "function")
    W = function () {
      y(F);
    };
  else if (typeof MessageChannel < "u") {
    var H = new MessageChannel(),
      Q = H.port2;
    (H.port1.onmessage = F),
      (W = function () {
        Q.postMessage(null);
      });
  } else
    W = function () {
      w(F, 0);
    };
  function Ee(T) {
    (k = T), S || ((S = !0), W());
  }
  function Le(T, j) {
    _ = w(function () {
      T(t.unstable_now());
    }, j);
  }
  (t.unstable_IdlePriority = 5),
    (t.unstable_ImmediatePriority = 1),
    (t.unstable_LowPriority = 4),
    (t.unstable_NormalPriority = 3),
    (t.unstable_Profiling = null),
    (t.unstable_UserBlockingPriority = 2),
    (t.unstable_cancelCallback = function (T) {
      T.callback = null;
    }),
    (t.unstable_continueExecution = function () {
      p || d || ((p = !0), Ee(x));
    }),
    (t.unstable_forceFrameRate = function (T) {
      0 > T || 125 < T
        ? console.error(
            "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
          )
        : (M = 0 < T ? Math.floor(1e3 / T) : 5);
    }),
    (t.unstable_getCurrentPriorityLevel = function () {
      return h;
    }),
    (t.unstable_getFirstCallbackNode = function () {
      return n(a);
    }),
    (t.unstable_next = function (T) {
      switch (h) {
        case 1:
        case 2:
        case 3:
          var j = 3;
          break;
        default:
          j = h;
      }
      var z = h;
      h = j;
      try {
        return T();
      } finally {
        h = z;
      }
    }),
    (t.unstable_pauseExecution = function () {}),
    (t.unstable_requestPaint = function () {}),
    (t.unstable_runWithPriority = function (T, j) {
      switch (T) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          T = 3;
      }
      var z = h;
      h = T;
      try {
        return j();
      } finally {
        h = z;
      }
    }),
    (t.unstable_scheduleCallback = function (T, j, z) {
      var G = t.unstable_now();
      switch (
        (typeof z == "object" && z !== null
          ? ((z = z.delay), (z = typeof z == "number" && 0 < z ? G + z : G))
          : (z = G),
        T)
      ) {
        case 1:
          var se = -1;
          break;
        case 2:
          se = 250;
          break;
        case 5:
          se = 1073741823;
          break;
        case 4:
          se = 1e4;
          break;
        default:
          se = 5e3;
      }
      return (
        (se = z + se),
        (T = {
          id: c++,
          callback: j,
          priorityLevel: T,
          startTime: z,
          expirationTime: se,
          sortIndex: -1,
        }),
        z > G
          ? ((T.sortIndex = z),
            e(u, T),
            n(a) === null &&
              T === n(u) &&
              (m ? (g(_), (_ = -1)) : (m = !0), Le(b, z - G)))
          : ((T.sortIndex = se), e(a, T), p || d || ((p = !0), Ee(x))),
        T
      );
    }),
    (t.unstable_shouldYield = L),
    (t.unstable_wrapCallback = function (T) {
      var j = h;
      return function () {
        var z = h;
        h = j;
        try {
          return T.apply(this, arguments);
        } finally {
          h = z;
        }
      };
    });
})(Mx);
Ex.exports = Mx;
var CE = Ex.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Tx = V,
  nn = CE;
function E(t) {
  for (
    var e = "https://reactjs.org/docs/error-decoder.html?invariant=" + t, n = 1;
    n < arguments.length;
    n++
  )
    e += "&args[]=" + encodeURIComponent(arguments[n]);
  return (
    "Minified React error #" +
    t +
    "; visit " +
    e +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
var Px = new Set(),
  jl = {};
function vs(t, e) {
  go(t, e), go(t + "Capture", e);
}
function go(t, e) {
  for (jl[t] = e, t = 0; t < e.length; t++) Px.add(e[t]);
}
var Br = !(
    typeof window > "u" ||
    typeof window.document > "u" ||
    typeof window.document.createElement > "u"
  ),
  _p = Object.prototype.hasOwnProperty,
  _E =
    /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
  i1 = {},
  s1 = {};
function AE(t) {
  return _p.call(s1, t)
    ? !0
    : _p.call(i1, t)
      ? !1
      : _E.test(t)
        ? (s1[t] = !0)
        : ((i1[t] = !0), !1);
}
function OE(t, e, n, r) {
  if (n !== null && n.type === 0) return !1;
  switch (typeof e) {
    case "function":
    case "symbol":
      return !0;
    case "boolean":
      return r
        ? !1
        : n !== null
          ? !n.acceptsBooleans
          : ((t = t.toLowerCase().slice(0, 5)), t !== "data-" && t !== "aria-");
    default:
      return !1;
  }
}
function EE(t, e, n, r) {
  if (e === null || typeof e > "u" || OE(t, e, n, r)) return !0;
  if (r) return !1;
  if (n !== null)
    switch (n.type) {
      case 3:
        return !e;
      case 4:
        return e === !1;
      case 5:
        return isNaN(e);
      case 6:
        return isNaN(e) || 1 > e;
    }
  return !1;
}
function Rt(t, e, n, r, i, s, o) {
  (this.acceptsBooleans = e === 2 || e === 3 || e === 4),
    (this.attributeName = r),
    (this.attributeNamespace = i),
    (this.mustUseProperty = n),
    (this.propertyName = t),
    (this.type = e),
    (this.sanitizeURL = s),
    (this.removeEmptyString = o);
}
var dt = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style"
  .split(" ")
  .forEach(function (t) {
    dt[t] = new Rt(t, 0, !1, t, null, !1, !1);
  });
[
  ["acceptCharset", "accept-charset"],
  ["className", "class"],
  ["htmlFor", "for"],
  ["httpEquiv", "http-equiv"],
].forEach(function (t) {
  var e = t[0];
  dt[e] = new Rt(e, 1, !1, t[1], null, !1, !1);
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function (t) {
  dt[t] = new Rt(t, 2, !1, t.toLowerCase(), null, !1, !1);
});
[
  "autoReverse",
  "externalResourcesRequired",
  "focusable",
  "preserveAlpha",
].forEach(function (t) {
  dt[t] = new Rt(t, 2, !1, t, null, !1, !1);
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope"
  .split(" ")
  .forEach(function (t) {
    dt[t] = new Rt(t, 3, !1, t.toLowerCase(), null, !1, !1);
  });
["checked", "multiple", "muted", "selected"].forEach(function (t) {
  dt[t] = new Rt(t, 3, !0, t, null, !1, !1);
});
["capture", "download"].forEach(function (t) {
  dt[t] = new Rt(t, 4, !1, t, null, !1, !1);
});
["cols", "rows", "size", "span"].forEach(function (t) {
  dt[t] = new Rt(t, 6, !1, t, null, !1, !1);
});
["rowSpan", "start"].forEach(function (t) {
  dt[t] = new Rt(t, 5, !1, t.toLowerCase(), null, !1, !1);
});
var jg = /[\-:]([a-z])/g;
function Vg(t) {
  return t[1].toUpperCase();
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height"
  .split(" ")
  .forEach(function (t) {
    var e = t.replace(jg, Vg);
    dt[e] = new Rt(e, 1, !1, t, null, !1, !1);
  });
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type"
  .split(" ")
  .forEach(function (t) {
    var e = t.replace(jg, Vg);
    dt[e] = new Rt(e, 1, !1, t, "http://www.w3.org/1999/xlink", !1, !1);
  });
["xml:base", "xml:lang", "xml:space"].forEach(function (t) {
  var e = t.replace(jg, Vg);
  dt[e] = new Rt(e, 1, !1, t, "http://www.w3.org/XML/1998/namespace", !1, !1);
});
["tabIndex", "crossOrigin"].forEach(function (t) {
  dt[t] = new Rt(t, 1, !1, t.toLowerCase(), null, !1, !1);
});
dt.xlinkHref = new Rt(
  "xlinkHref",
  1,
  !1,
  "xlink:href",
  "http://www.w3.org/1999/xlink",
  !0,
  !1
);
["src", "href", "action", "formAction"].forEach(function (t) {
  dt[t] = new Rt(t, 1, !1, t.toLowerCase(), null, !0, !0);
});
function Wg(t, e, n, r) {
  var i = dt.hasOwnProperty(e) ? dt[e] : null;
  (i !== null
    ? i.type !== 0
    : r ||
      !(2 < e.length) ||
      (e[0] !== "o" && e[0] !== "O") ||
      (e[1] !== "n" && e[1] !== "N")) &&
    (EE(e, n, i, r) && (n = null),
    r || i === null
      ? AE(e) && (n === null ? t.removeAttribute(e) : t.setAttribute(e, "" + n))
      : i.mustUseProperty
        ? (t[i.propertyName] = n === null ? (i.type === 3 ? !1 : "") : n)
        : ((e = i.attributeName),
          (r = i.attributeNamespace),
          n === null
            ? t.removeAttribute(e)
            : ((i = i.type),
              (n = i === 3 || (i === 4 && n === !0) ? "" : "" + n),
              r ? t.setAttributeNS(r, e, n) : t.setAttribute(e, n))));
}
var Ur = Tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
  yu = Symbol.for("react.element"),
  Ns = Symbol.for("react.portal"),
  Is = Symbol.for("react.fragment"),
  Hg = Symbol.for("react.strict_mode"),
  Ap = Symbol.for("react.profiler"),
  Rx = Symbol.for("react.provider"),
  Dx = Symbol.for("react.context"),
  Ug = Symbol.for("react.forward_ref"),
  Op = Symbol.for("react.suspense"),
  Ep = Symbol.for("react.suspense_list"),
  Kg = Symbol.for("react.memo"),
  Xr = Symbol.for("react.lazy"),
  Lx = Symbol.for("react.offscreen"),
  o1 = Symbol.iterator;
function Qo(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (o1 && t[o1]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var De = Object.assign,
  pd;
function hl(t) {
  if (pd === void 0)
    try {
      throw Error();
    } catch (n) {
      var e = n.stack.trim().match(/\n( *(at )?)/);
      pd = (e && e[1]) || "";
    }
  return (
    `
` +
    pd +
    t
  );
}
var md = !1;
function gd(t, e) {
  if (!t || md) return "";
  md = !0;
  var n = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    if (e)
      if (
        ((e = function () {
          throw Error();
        }),
        Object.defineProperty(e.prototype, "props", {
          set: function () {
            throw Error();
          },
        }),
        typeof Reflect == "object" && Reflect.construct)
      ) {
        try {
          Reflect.construct(e, []);
        } catch (u) {
          var r = u;
        }
        Reflect.construct(t, [], e);
      } else {
        try {
          e.call();
        } catch (u) {
          r = u;
        }
        t.call(e.prototype);
      }
    else {
      try {
        throw Error();
      } catch (u) {
        r = u;
      }
      t();
    }
  } catch (u) {
    if (u && r && typeof u.stack == "string") {
      for (
        var i = u.stack.split(`
`),
          s = r.stack.split(`
`),
          o = i.length - 1,
          l = s.length - 1;
        1 <= o && 0 <= l && i[o] !== s[l];

      )
        l--;
      for (; 1 <= o && 0 <= l; o--, l--)
        if (i[o] !== s[l]) {
          if (o !== 1 || l !== 1)
            do
              if ((o--, l--, 0 > l || i[o] !== s[l])) {
                var a =
                  `
` + i[o].replace(" at new ", " at ");
                return (
                  t.displayName &&
                    a.includes("<anonymous>") &&
                    (a = a.replace("<anonymous>", t.displayName)),
                  a
                );
              }
            while (1 <= o && 0 <= l);
          break;
        }
    }
  } finally {
    (md = !1), (Error.prepareStackTrace = n);
  }
  return (t = t ? t.displayName || t.name : "") ? hl(t) : "";
}
function ME(t) {
  switch (t.tag) {
    case 5:
      return hl(t.type);
    case 16:
      return hl("Lazy");
    case 13:
      return hl("Suspense");
    case 19:
      return hl("SuspenseList");
    case 0:
    case 2:
    case 15:
      return (t = gd(t.type, !1)), t;
    case 11:
      return (t = gd(t.type.render, !1)), t;
    case 1:
      return (t = gd(t.type, !0)), t;
    default:
      return "";
  }
}
function Mp(t) {
  if (t == null) return null;
  if (typeof t == "function") return t.displayName || t.name || null;
  if (typeof t == "string") return t;
  switch (t) {
    case Is:
      return "Fragment";
    case Ns:
      return "Portal";
    case Ap:
      return "Profiler";
    case Hg:
      return "StrictMode";
    case Op:
      return "Suspense";
    case Ep:
      return "SuspenseList";
  }
  if (typeof t == "object")
    switch (t.$$typeof) {
      case Dx:
        return (t.displayName || "Context") + ".Consumer";
      case Rx:
        return (t._context.displayName || "Context") + ".Provider";
      case Ug:
        var e = t.render;
        return (
          (t = t.displayName),
          t ||
            ((t = e.displayName || e.name || ""),
            (t = t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef")),
          t
        );
      case Kg:
        return (
          (e = t.displayName || null), e !== null ? e : Mp(t.type) || "Memo"
        );
      case Xr:
        (e = t._payload), (t = t._init);
        try {
          return Mp(t(e));
        } catch {}
    }
  return null;
}
function TE(t) {
  var e = t.type;
  switch (t.tag) {
    case 24:
      return "Cache";
    case 9:
      return (e.displayName || "Context") + ".Consumer";
    case 10:
      return (e._context.displayName || "Context") + ".Provider";
    case 18:
      return "DehydratedFragment";
    case 11:
      return (
        (t = e.render),
        (t = t.displayName || t.name || ""),
        e.displayName || (t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef")
      );
    case 7:
      return "Fragment";
    case 5:
      return e;
    case 4:
      return "Portal";
    case 3:
      return "Root";
    case 6:
      return "Text";
    case 16:
      return Mp(e);
    case 8:
      return e === Hg ? "StrictMode" : "Mode";
    case 22:
      return "Offscreen";
    case 12:
      return "Profiler";
    case 21:
      return "Scope";
    case 13:
      return "Suspense";
    case 19:
      return "SuspenseList";
    case 25:
      return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
      if (typeof e == "function") return e.displayName || e.name || null;
      if (typeof e == "string") return e;
  }
  return null;
}
function Ci(t) {
  switch (typeof t) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
      return t;
    case "object":
      return t;
    default:
      return "";
  }
}
function Bx(t) {
  var e = t.type;
  return (
    (t = t.nodeName) &&
    t.toLowerCase() === "input" &&
    (e === "checkbox" || e === "radio")
  );
}
function PE(t) {
  var e = Bx(t) ? "checked" : "value",
    n = Object.getOwnPropertyDescriptor(t.constructor.prototype, e),
    r = "" + t[e];
  if (
    !t.hasOwnProperty(e) &&
    typeof n < "u" &&
    typeof n.get == "function" &&
    typeof n.set == "function"
  ) {
    var i = n.get,
      s = n.set;
    return (
      Object.defineProperty(t, e, {
        configurable: !0,
        get: function () {
          return i.call(this);
        },
        set: function (o) {
          (r = "" + o), s.call(this, o);
        },
      }),
      Object.defineProperty(t, e, { enumerable: n.enumerable }),
      {
        getValue: function () {
          return r;
        },
        setValue: function (o) {
          r = "" + o;
        },
        stopTracking: function () {
          (t._valueTracker = null), delete t[e];
        },
      }
    );
  }
}
function vu(t) {
  t._valueTracker || (t._valueTracker = PE(t));
}
function Nx(t) {
  if (!t) return !1;
  var e = t._valueTracker;
  if (!e) return !0;
  var n = e.getValue(),
    r = "";
  return (
    t && (r = Bx(t) ? (t.checked ? "true" : "false") : t.value),
    (t = r),
    t !== n ? (e.setValue(t), !0) : !1
  );
}
function Fc(t) {
  if (((t = t || (typeof document < "u" ? document : void 0)), typeof t > "u"))
    return null;
  try {
    return t.activeElement || t.body;
  } catch {
    return t.body;
  }
}
function Tp(t, e) {
  var n = e.checked;
  return De({}, e, {
    defaultChecked: void 0,
    defaultValue: void 0,
    value: void 0,
    checked: n ?? t._wrapperState.initialChecked,
  });
}
function l1(t, e) {
  var n = e.defaultValue == null ? "" : e.defaultValue,
    r = e.checked != null ? e.checked : e.defaultChecked;
  (n = Ci(e.value != null ? e.value : n)),
    (t._wrapperState = {
      initialChecked: r,
      initialValue: n,
      controlled:
        e.type === "checkbox" || e.type === "radio"
          ? e.checked != null
          : e.value != null,
    });
}
function Ix(t, e) {
  (e = e.checked), e != null && Wg(t, "checked", e, !1);
}
function Pp(t, e) {
  Ix(t, e);
  var n = Ci(e.value),
    r = e.type;
  if (n != null)
    r === "number"
      ? ((n === 0 && t.value === "") || t.value != n) && (t.value = "" + n)
      : t.value !== "" + n && (t.value = "" + n);
  else if (r === "submit" || r === "reset") {
    t.removeAttribute("value");
    return;
  }
  e.hasOwnProperty("value")
    ? Rp(t, e.type, n)
    : e.hasOwnProperty("defaultValue") && Rp(t, e.type, Ci(e.defaultValue)),
    e.checked == null &&
      e.defaultChecked != null &&
      (t.defaultChecked = !!e.defaultChecked);
}
function a1(t, e, n) {
  if (e.hasOwnProperty("value") || e.hasOwnProperty("defaultValue")) {
    var r = e.type;
    if (
      !(
        (r !== "submit" && r !== "reset") ||
        (e.value !== void 0 && e.value !== null)
      )
    )
      return;
    (e = "" + t._wrapperState.initialValue),
      n || e === t.value || (t.value = e),
      (t.defaultValue = e);
  }
  (n = t.name),
    n !== "" && (t.name = ""),
    (t.defaultChecked = !!t._wrapperState.initialChecked),
    n !== "" && (t.name = n);
}
function Rp(t, e, n) {
  (e !== "number" || Fc(t.ownerDocument) !== t) &&
    (n == null
      ? (t.defaultValue = "" + t._wrapperState.initialValue)
      : t.defaultValue !== "" + n && (t.defaultValue = "" + n));
}
var dl = Array.isArray;
function eo(t, e, n, r) {
  if (((t = t.options), e)) {
    e = {};
    for (var i = 0; i < n.length; i++) e["$" + n[i]] = !0;
    for (n = 0; n < t.length; n++)
      (i = e.hasOwnProperty("$" + t[n].value)),
        t[n].selected !== i && (t[n].selected = i),
        i && r && (t[n].defaultSelected = !0);
  } else {
    for (n = "" + Ci(n), e = null, i = 0; i < t.length; i++) {
      if (t[i].value === n) {
        (t[i].selected = !0), r && (t[i].defaultSelected = !0);
        return;
      }
      e !== null || t[i].disabled || (e = t[i]);
    }
    e !== null && (e.selected = !0);
  }
}
function Dp(t, e) {
  if (e.dangerouslySetInnerHTML != null) throw Error(E(91));
  return De({}, e, {
    value: void 0,
    defaultValue: void 0,
    children: "" + t._wrapperState.initialValue,
  });
}
function u1(t, e) {
  var n = e.value;
  if (n == null) {
    if (((n = e.children), (e = e.defaultValue), n != null)) {
      if (e != null) throw Error(E(92));
      if (dl(n)) {
        if (1 < n.length) throw Error(E(93));
        n = n[0];
      }
      e = n;
    }
    e == null && (e = ""), (n = e);
  }
  t._wrapperState = { initialValue: Ci(n) };
}
function $x(t, e) {
  var n = Ci(e.value),
    r = Ci(e.defaultValue);
  n != null &&
    ((n = "" + n),
    n !== t.value && (t.value = n),
    e.defaultValue == null && t.defaultValue !== n && (t.defaultValue = n)),
    r != null && (t.defaultValue = "" + r);
}
function c1(t) {
  var e = t.textContent;
  e === t._wrapperState.initialValue && e !== "" && e !== null && (t.value = e);
}
function Fx(t) {
  switch (t) {
    case "svg":
      return "http://www.w3.org/2000/svg";
    case "math":
      return "http://www.w3.org/1998/Math/MathML";
    default:
      return "http://www.w3.org/1999/xhtml";
  }
}
function Lp(t, e) {
  return t == null || t === "http://www.w3.org/1999/xhtml"
    ? Fx(e)
    : t === "http://www.w3.org/2000/svg" && e === "foreignObject"
      ? "http://www.w3.org/1999/xhtml"
      : t;
}
var wu,
  zx = (function (t) {
    return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction
      ? function (e, n, r, i) {
          MSApp.execUnsafeLocalFunction(function () {
            return t(e, n, r, i);
          });
        }
      : t;
  })(function (t, e) {
    if (t.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in t)
      t.innerHTML = e;
    else {
      for (
        wu = wu || document.createElement("div"),
          wu.innerHTML = "<svg>" + e.valueOf().toString() + "</svg>",
          e = wu.firstChild;
        t.firstChild;

      )
        t.removeChild(t.firstChild);
      for (; e.firstChild; ) t.appendChild(e.firstChild);
    }
  });
function Vl(t, e) {
  if (e) {
    var n = t.firstChild;
    if (n && n === t.lastChild && n.nodeType === 3) {
      n.nodeValue = e;
      return;
    }
  }
  t.textContent = e;
}
var xl = {
    animationIterationCount: !0,
    aspectRatio: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0,
  },
  RE = ["Webkit", "ms", "Moz", "O"];
Object.keys(xl).forEach(function (t) {
  RE.forEach(function (e) {
    (e = e + t.charAt(0).toUpperCase() + t.substring(1)), (xl[e] = xl[t]);
  });
});
function jx(t, e, n) {
  return e == null || typeof e == "boolean" || e === ""
    ? ""
    : n || typeof e != "number" || e === 0 || (xl.hasOwnProperty(t) && xl[t])
      ? ("" + e).trim()
      : e + "px";
}
function Vx(t, e) {
  t = t.style;
  for (var n in e)
    if (e.hasOwnProperty(n)) {
      var r = n.indexOf("--") === 0,
        i = jx(n, e[n], r);
      n === "float" && (n = "cssFloat"), r ? t.setProperty(n, i) : (t[n] = i);
    }
}
var DE = De(
  { menuitem: !0 },
  {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0,
  }
);
function Bp(t, e) {
  if (e) {
    if (DE[t] && (e.children != null || e.dangerouslySetInnerHTML != null))
      throw Error(E(137, t));
    if (e.dangerouslySetInnerHTML != null) {
      if (e.children != null) throw Error(E(60));
      if (
        typeof e.dangerouslySetInnerHTML != "object" ||
        !("__html" in e.dangerouslySetInnerHTML)
      )
        throw Error(E(61));
    }
    if (e.style != null && typeof e.style != "object") throw Error(E(62));
  }
}
function Np(t, e) {
  if (t.indexOf("-") === -1) return typeof e.is == "string";
  switch (t) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
      return !1;
    default:
      return !0;
  }
}
var Ip = null;
function qg(t) {
  return (
    (t = t.target || t.srcElement || window),
    t.correspondingUseElement && (t = t.correspondingUseElement),
    t.nodeType === 3 ? t.parentNode : t
  );
}
var $p = null,
  to = null,
  no = null;
function f1(t) {
  if ((t = Wa(t))) {
    if (typeof $p != "function") throw Error(E(280));
    var e = t.stateNode;
    e && ((e = lh(e)), $p(t.stateNode, t.type, e));
  }
}
function Wx(t) {
  to ? (no ? no.push(t) : (no = [t])) : (to = t);
}
function Hx() {
  if (to) {
    var t = to,
      e = no;
    if (((no = to = null), f1(t), e)) for (t = 0; t < e.length; t++) f1(e[t]);
  }
}
function Ux(t, e) {
  return t(e);
}
function Kx() {}
var yd = !1;
function qx(t, e, n) {
  if (yd) return t(e, n);
  yd = !0;
  try {
    return Ux(t, e, n);
  } finally {
    (yd = !1), (to !== null || no !== null) && (Kx(), Hx());
  }
}
function Wl(t, e) {
  var n = t.stateNode;
  if (n === null) return null;
  var r = lh(n);
  if (r === null) return null;
  n = r[e];
  e: switch (e) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
      (r = !r.disabled) ||
        ((t = t.type),
        (r = !(
          t === "button" ||
          t === "input" ||
          t === "select" ||
          t === "textarea"
        ))),
        (t = !r);
      break e;
    default:
      t = !1;
  }
  if (t) return null;
  if (n && typeof n != "function") throw Error(E(231, e, typeof n));
  return n;
}
var Fp = !1;
if (Br)
  try {
    var Jo = {};
    Object.defineProperty(Jo, "passive", {
      get: function () {
        Fp = !0;
      },
    }),
      window.addEventListener("test", Jo, Jo),
      window.removeEventListener("test", Jo, Jo);
  } catch {
    Fp = !1;
  }
function LE(t, e, n, r, i, s, o, l, a) {
  var u = Array.prototype.slice.call(arguments, 3);
  try {
    e.apply(n, u);
  } catch (c) {
    this.onError(c);
  }
}
var Sl = !1,
  zc = null,
  jc = !1,
  zp = null,
  BE = {
    onError: function (t) {
      (Sl = !0), (zc = t);
    },
  };
function NE(t, e, n, r, i, s, o, l, a) {
  (Sl = !1), (zc = null), LE.apply(BE, arguments);
}
function IE(t, e, n, r, i, s, o, l, a) {
  if ((NE.apply(this, arguments), Sl)) {
    if (Sl) {
      var u = zc;
      (Sl = !1), (zc = null);
    } else throw Error(E(198));
    jc || ((jc = !0), (zp = u));
  }
}
function ws(t) {
  var e = t,
    n = t;
  if (t.alternate) for (; e.return; ) e = e.return;
  else {
    t = e;
    do (e = t), e.flags & 4098 && (n = e.return), (t = e.return);
    while (t);
  }
  return e.tag === 3 ? n : null;
}
function Gx(t) {
  if (t.tag === 13) {
    var e = t.memoizedState;
    if (
      (e === null && ((t = t.alternate), t !== null && (e = t.memoizedState)),
      e !== null)
    )
      return e.dehydrated;
  }
  return null;
}
function h1(t) {
  if (ws(t) !== t) throw Error(E(188));
}
function $E(t) {
  var e = t.alternate;
  if (!e) {
    if (((e = ws(t)), e === null)) throw Error(E(188));
    return e !== t ? null : t;
  }
  for (var n = t, r = e; ; ) {
    var i = n.return;
    if (i === null) break;
    var s = i.alternate;
    if (s === null) {
      if (((r = i.return), r !== null)) {
        n = r;
        continue;
      }
      break;
    }
    if (i.child === s.child) {
      for (s = i.child; s; ) {
        if (s === n) return h1(i), t;
        if (s === r) return h1(i), e;
        s = s.sibling;
      }
      throw Error(E(188));
    }
    if (n.return !== r.return) (n = i), (r = s);
    else {
      for (var o = !1, l = i.child; l; ) {
        if (l === n) {
          (o = !0), (n = i), (r = s);
          break;
        }
        if (l === r) {
          (o = !0), (r = i), (n = s);
          break;
        }
        l = l.sibling;
      }
      if (!o) {
        for (l = s.child; l; ) {
          if (l === n) {
            (o = !0), (n = s), (r = i);
            break;
          }
          if (l === r) {
            (o = !0), (r = s), (n = i);
            break;
          }
          l = l.sibling;
        }
        if (!o) throw Error(E(189));
      }
    }
    if (n.alternate !== r) throw Error(E(190));
  }
  if (n.tag !== 3) throw Error(E(188));
  return n.stateNode.current === n ? t : e;
}
function Yx(t) {
  return (t = $E(t)), t !== null ? Xx(t) : null;
}
function Xx(t) {
  if (t.tag === 5 || t.tag === 6) return t;
  for (t = t.child; t !== null; ) {
    var e = Xx(t);
    if (e !== null) return e;
    t = t.sibling;
  }
  return null;
}
var Qx = nn.unstable_scheduleCallback,
  d1 = nn.unstable_cancelCallback,
  FE = nn.unstable_shouldYield,
  zE = nn.unstable_requestPaint,
  Fe = nn.unstable_now,
  jE = nn.unstable_getCurrentPriorityLevel,
  Gg = nn.unstable_ImmediatePriority,
  Jx = nn.unstable_UserBlockingPriority,
  Vc = nn.unstable_NormalPriority,
  VE = nn.unstable_LowPriority,
  Zx = nn.unstable_IdlePriority,
  rh = null,
  mr = null;
function WE(t) {
  if (mr && typeof mr.onCommitFiberRoot == "function")
    try {
      mr.onCommitFiberRoot(rh, t, void 0, (t.current.flags & 128) === 128);
    } catch {}
}
var zn = Math.clz32 ? Math.clz32 : KE,
  HE = Math.log,
  UE = Math.LN2;
function KE(t) {
  return (t >>>= 0), t === 0 ? 32 : (31 - ((HE(t) / UE) | 0)) | 0;
}
var bu = 64,
  xu = 4194304;
function pl(t) {
  switch (t & -t) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return t & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return t & 130023424;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 1073741824;
    default:
      return t;
  }
}
function Wc(t, e) {
  var n = t.pendingLanes;
  if (n === 0) return 0;
  var r = 0,
    i = t.suspendedLanes,
    s = t.pingedLanes,
    o = n & 268435455;
  if (o !== 0) {
    var l = o & ~i;
    l !== 0 ? (r = pl(l)) : ((s &= o), s !== 0 && (r = pl(s)));
  } else (o = n & ~i), o !== 0 ? (r = pl(o)) : s !== 0 && (r = pl(s));
  if (r === 0) return 0;
  if (
    e !== 0 &&
    e !== r &&
    !(e & i) &&
    ((i = r & -r), (s = e & -e), i >= s || (i === 16 && (s & 4194240) !== 0))
  )
    return e;
  if ((r & 4 && (r |= n & 16), (e = t.entangledLanes), e !== 0))
    for (t = t.entanglements, e &= r; 0 < e; )
      (n = 31 - zn(e)), (i = 1 << n), (r |= t[n]), (e &= ~i);
  return r;
}
function qE(t, e) {
  switch (t) {
    case 1:
    case 2:
    case 4:
      return e + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return e + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function GE(t, e) {
  for (
    var n = t.suspendedLanes,
      r = t.pingedLanes,
      i = t.expirationTimes,
      s = t.pendingLanes;
    0 < s;

  ) {
    var o = 31 - zn(s),
      l = 1 << o,
      a = i[o];
    a === -1
      ? (!(l & n) || l & r) && (i[o] = qE(l, e))
      : a <= e && (t.expiredLanes |= l),
      (s &= ~l);
  }
}
function jp(t) {
  return (
    (t = t.pendingLanes & -1073741825),
    t !== 0 ? t : t & 1073741824 ? 1073741824 : 0
  );
}
function eS() {
  var t = bu;
  return (bu <<= 1), !(bu & 4194240) && (bu = 64), t;
}
function vd(t) {
  for (var e = [], n = 0; 31 > n; n++) e.push(t);
  return e;
}
function ja(t, e, n) {
  (t.pendingLanes |= e),
    e !== 536870912 && ((t.suspendedLanes = 0), (t.pingedLanes = 0)),
    (t = t.eventTimes),
    (e = 31 - zn(e)),
    (t[e] = n);
}
function YE(t, e) {
  var n = t.pendingLanes & ~e;
  (t.pendingLanes = e),
    (t.suspendedLanes = 0),
    (t.pingedLanes = 0),
    (t.expiredLanes &= e),
    (t.mutableReadLanes &= e),
    (t.entangledLanes &= e),
    (e = t.entanglements);
  var r = t.eventTimes;
  for (t = t.expirationTimes; 0 < n; ) {
    var i = 31 - zn(n),
      s = 1 << i;
    (e[i] = 0), (r[i] = -1), (t[i] = -1), (n &= ~s);
  }
}
function Yg(t, e) {
  var n = (t.entangledLanes |= e);
  for (t = t.entanglements; n; ) {
    var r = 31 - zn(n),
      i = 1 << r;
    (i & e) | (t[r] & e) && (t[r] |= e), (n &= ~i);
  }
}
var he = 0;
function tS(t) {
  return (t &= -t), 1 < t ? (4 < t ? (t & 268435455 ? 16 : 536870912) : 4) : 1;
}
var nS,
  Xg,
  rS,
  iS,
  sS,
  Vp = !1,
  Su = [],
  fi = null,
  hi = null,
  di = null,
  Hl = new Map(),
  Ul = new Map(),
  ei = [],
  XE =
    "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(
      " "
    );
function p1(t, e) {
  switch (t) {
    case "focusin":
    case "focusout":
      fi = null;
      break;
    case "dragenter":
    case "dragleave":
      hi = null;
      break;
    case "mouseover":
    case "mouseout":
      di = null;
      break;
    case "pointerover":
    case "pointerout":
      Hl.delete(e.pointerId);
      break;
    case "gotpointercapture":
    case "lostpointercapture":
      Ul.delete(e.pointerId);
  }
}
function Zo(t, e, n, r, i, s) {
  return t === null || t.nativeEvent !== s
    ? ((t = {
        blockedOn: e,
        domEventName: n,
        eventSystemFlags: r,
        nativeEvent: s,
        targetContainers: [i],
      }),
      e !== null && ((e = Wa(e)), e !== null && Xg(e)),
      t)
    : ((t.eventSystemFlags |= r),
      (e = t.targetContainers),
      i !== null && e.indexOf(i) === -1 && e.push(i),
      t);
}
function QE(t, e, n, r, i) {
  switch (e) {
    case "focusin":
      return (fi = Zo(fi, t, e, n, r, i)), !0;
    case "dragenter":
      return (hi = Zo(hi, t, e, n, r, i)), !0;
    case "mouseover":
      return (di = Zo(di, t, e, n, r, i)), !0;
    case "pointerover":
      var s = i.pointerId;
      return Hl.set(s, Zo(Hl.get(s) || null, t, e, n, r, i)), !0;
    case "gotpointercapture":
      return (
        (s = i.pointerId), Ul.set(s, Zo(Ul.get(s) || null, t, e, n, r, i)), !0
      );
  }
  return !1;
}
function oS(t) {
  var e = Ki(t.target);
  if (e !== null) {
    var n = ws(e);
    if (n !== null) {
      if (((e = n.tag), e === 13)) {
        if (((e = Gx(n)), e !== null)) {
          (t.blockedOn = e),
            sS(t.priority, function () {
              rS(n);
            });
          return;
        }
      } else if (e === 3 && n.stateNode.current.memoizedState.isDehydrated) {
        t.blockedOn = n.tag === 3 ? n.stateNode.containerInfo : null;
        return;
      }
    }
  }
  t.blockedOn = null;
}
function dc(t) {
  if (t.blockedOn !== null) return !1;
  for (var e = t.targetContainers; 0 < e.length; ) {
    var n = Wp(t.domEventName, t.eventSystemFlags, e[0], t.nativeEvent);
    if (n === null) {
      n = t.nativeEvent;
      var r = new n.constructor(n.type, n);
      (Ip = r), n.target.dispatchEvent(r), (Ip = null);
    } else return (e = Wa(n)), e !== null && Xg(e), (t.blockedOn = n), !1;
    e.shift();
  }
  return !0;
}
function m1(t, e, n) {
  dc(t) && n.delete(e);
}
function JE() {
  (Vp = !1),
    fi !== null && dc(fi) && (fi = null),
    hi !== null && dc(hi) && (hi = null),
    di !== null && dc(di) && (di = null),
    Hl.forEach(m1),
    Ul.forEach(m1);
}
function el(t, e) {
  t.blockedOn === e &&
    ((t.blockedOn = null),
    Vp ||
      ((Vp = !0),
      nn.unstable_scheduleCallback(nn.unstable_NormalPriority, JE)));
}
function Kl(t) {
  function e(i) {
    return el(i, t);
  }
  if (0 < Su.length) {
    el(Su[0], t);
    for (var n = 1; n < Su.length; n++) {
      var r = Su[n];
      r.blockedOn === t && (r.blockedOn = null);
    }
  }
  for (
    fi !== null && el(fi, t),
      hi !== null && el(hi, t),
      di !== null && el(di, t),
      Hl.forEach(e),
      Ul.forEach(e),
      n = 0;
    n < ei.length;
    n++
  )
    (r = ei[n]), r.blockedOn === t && (r.blockedOn = null);
  for (; 0 < ei.length && ((n = ei[0]), n.blockedOn === null); )
    oS(n), n.blockedOn === null && ei.shift();
}
var ro = Ur.ReactCurrentBatchConfig,
  Hc = !0;
function ZE(t, e, n, r) {
  var i = he,
    s = ro.transition;
  ro.transition = null;
  try {
    (he = 1), Qg(t, e, n, r);
  } finally {
    (he = i), (ro.transition = s);
  }
}
function eM(t, e, n, r) {
  var i = he,
    s = ro.transition;
  ro.transition = null;
  try {
    (he = 4), Qg(t, e, n, r);
  } finally {
    (he = i), (ro.transition = s);
  }
}
function Qg(t, e, n, r) {
  if (Hc) {
    var i = Wp(t, e, n, r);
    if (i === null) Ed(t, e, r, Uc, n), p1(t, r);
    else if (QE(i, t, e, n, r)) r.stopPropagation();
    else if ((p1(t, r), e & 4 && -1 < XE.indexOf(t))) {
      for (; i !== null; ) {
        var s = Wa(i);
        if (
          (s !== null && nS(s),
          (s = Wp(t, e, n, r)),
          s === null && Ed(t, e, r, Uc, n),
          s === i)
        )
          break;
        i = s;
      }
      i !== null && r.stopPropagation();
    } else Ed(t, e, r, null, n);
  }
}
var Uc = null;
function Wp(t, e, n, r) {
  if (((Uc = null), (t = qg(r)), (t = Ki(t)), t !== null))
    if (((e = ws(t)), e === null)) t = null;
    else if (((n = e.tag), n === 13)) {
      if (((t = Gx(e)), t !== null)) return t;
      t = null;
    } else if (n === 3) {
      if (e.stateNode.current.memoizedState.isDehydrated)
        return e.tag === 3 ? e.stateNode.containerInfo : null;
      t = null;
    } else e !== t && (t = null);
  return (Uc = t), null;
}
function lS(t) {
  switch (t) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
      return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
      return 4;
    case "message":
      switch (jE()) {
        case Gg:
          return 1;
        case Jx:
          return 4;
        case Vc:
        case VE:
          return 16;
        case Zx:
          return 536870912;
        default:
          return 16;
      }
    default:
      return 16;
  }
}
var ii = null,
  Jg = null,
  pc = null;
function aS() {
  if (pc) return pc;
  var t,
    e = Jg,
    n = e.length,
    r,
    i = "value" in ii ? ii.value : ii.textContent,
    s = i.length;
  for (t = 0; t < n && e[t] === i[t]; t++);
  var o = n - t;
  for (r = 1; r <= o && e[n - r] === i[s - r]; r++);
  return (pc = i.slice(t, 1 < r ? 1 - r : void 0));
}
function mc(t) {
  var e = t.keyCode;
  return (
    "charCode" in t
      ? ((t = t.charCode), t === 0 && e === 13 && (t = 13))
      : (t = e),
    t === 10 && (t = 13),
    32 <= t || t === 13 ? t : 0
  );
}
function ku() {
  return !0;
}
function g1() {
  return !1;
}
function on(t) {
  function e(n, r, i, s, o) {
    (this._reactName = n),
      (this._targetInst = i),
      (this.type = r),
      (this.nativeEvent = s),
      (this.target = o),
      (this.currentTarget = null);
    for (var l in t)
      t.hasOwnProperty(l) && ((n = t[l]), (this[l] = n ? n(s) : s[l]));
    return (
      (this.isDefaultPrevented = (
        s.defaultPrevented != null ? s.defaultPrevented : s.returnValue === !1
      )
        ? ku
        : g1),
      (this.isPropagationStopped = g1),
      this
    );
  }
  return (
    De(e.prototype, {
      preventDefault: function () {
        this.defaultPrevented = !0;
        var n = this.nativeEvent;
        n &&
          (n.preventDefault
            ? n.preventDefault()
            : typeof n.returnValue != "unknown" && (n.returnValue = !1),
          (this.isDefaultPrevented = ku));
      },
      stopPropagation: function () {
        var n = this.nativeEvent;
        n &&
          (n.stopPropagation
            ? n.stopPropagation()
            : typeof n.cancelBubble != "unknown" && (n.cancelBubble = !0),
          (this.isPropagationStopped = ku));
      },
      persist: function () {},
      isPersistent: ku,
    }),
    e
  );
}
var $o = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function (t) {
      return t.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0,
  },
  Zg = on($o),
  Va = De({}, $o, { view: 0, detail: 0 }),
  tM = on(Va),
  wd,
  bd,
  tl,
  ih = De({}, Va, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: e0,
    button: 0,
    buttons: 0,
    relatedTarget: function (t) {
      return t.relatedTarget === void 0
        ? t.fromElement === t.srcElement
          ? t.toElement
          : t.fromElement
        : t.relatedTarget;
    },
    movementX: function (t) {
      return "movementX" in t
        ? t.movementX
        : (t !== tl &&
            (tl && t.type === "mousemove"
              ? ((wd = t.screenX - tl.screenX), (bd = t.screenY - tl.screenY))
              : (bd = wd = 0),
            (tl = t)),
          wd);
    },
    movementY: function (t) {
      return "movementY" in t ? t.movementY : bd;
    },
  }),
  y1 = on(ih),
  nM = De({}, ih, { dataTransfer: 0 }),
  rM = on(nM),
  iM = De({}, Va, { relatedTarget: 0 }),
  xd = on(iM),
  sM = De({}, $o, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
  oM = on(sM),
  lM = De({}, $o, {
    clipboardData: function (t) {
      return "clipboardData" in t ? t.clipboardData : window.clipboardData;
    },
  }),
  aM = on(lM),
  uM = De({}, $o, { data: 0 }),
  v1 = on(uM),
  cM = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified",
  },
  fM = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta",
  },
  hM = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey",
  };
function dM(t) {
  var e = this.nativeEvent;
  return e.getModifierState ? e.getModifierState(t) : (t = hM[t]) ? !!e[t] : !1;
}
function e0() {
  return dM;
}
var pM = De({}, Va, {
    key: function (t) {
      if (t.key) {
        var e = cM[t.key] || t.key;
        if (e !== "Unidentified") return e;
      }
      return t.type === "keypress"
        ? ((t = mc(t)), t === 13 ? "Enter" : String.fromCharCode(t))
        : t.type === "keydown" || t.type === "keyup"
          ? fM[t.keyCode] || "Unidentified"
          : "";
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: e0,
    charCode: function (t) {
      return t.type === "keypress" ? mc(t) : 0;
    },
    keyCode: function (t) {
      return t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0;
    },
    which: function (t) {
      return t.type === "keypress"
        ? mc(t)
        : t.type === "keydown" || t.type === "keyup"
          ? t.keyCode
          : 0;
    },
  }),
  mM = on(pM),
  gM = De({}, ih, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0,
  }),
  w1 = on(gM),
  yM = De({}, Va, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: e0,
  }),
  vM = on(yM),
  wM = De({}, $o, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
  bM = on(wM),
  xM = De({}, ih, {
    deltaX: function (t) {
      return "deltaX" in t ? t.deltaX : "wheelDeltaX" in t ? -t.wheelDeltaX : 0;
    },
    deltaY: function (t) {
      return "deltaY" in t
        ? t.deltaY
        : "wheelDeltaY" in t
          ? -t.wheelDeltaY
          : "wheelDelta" in t
            ? -t.wheelDelta
            : 0;
    },
    deltaZ: 0,
    deltaMode: 0,
  }),
  SM = on(xM),
  kM = [9, 13, 27, 32],
  t0 = Br && "CompositionEvent" in window,
  kl = null;
Br && "documentMode" in document && (kl = document.documentMode);
var CM = Br && "TextEvent" in window && !kl,
  uS = Br && (!t0 || (kl && 8 < kl && 11 >= kl)),
  b1 = " ",
  x1 = !1;
function cS(t, e) {
  switch (t) {
    case "keyup":
      return kM.indexOf(e.keyCode) !== -1;
    case "keydown":
      return e.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
      return !0;
    default:
      return !1;
  }
}
function fS(t) {
  return (t = t.detail), typeof t == "object" && "data" in t ? t.data : null;
}
var $s = !1;
function _M(t, e) {
  switch (t) {
    case "compositionend":
      return fS(e);
    case "keypress":
      return e.which !== 32 ? null : ((x1 = !0), b1);
    case "textInput":
      return (t = e.data), t === b1 && x1 ? null : t;
    default:
      return null;
  }
}
function AM(t, e) {
  if ($s)
    return t === "compositionend" || (!t0 && cS(t, e))
      ? ((t = aS()), (pc = Jg = ii = null), ($s = !1), t)
      : null;
  switch (t) {
    case "paste":
      return null;
    case "keypress":
      if (!(e.ctrlKey || e.altKey || e.metaKey) || (e.ctrlKey && e.altKey)) {
        if (e.char && 1 < e.char.length) return e.char;
        if (e.which) return String.fromCharCode(e.which);
      }
      return null;
    case "compositionend":
      return uS && e.locale !== "ko" ? null : e.data;
    default:
      return null;
  }
}
var OM = {
  color: !0,
  date: !0,
  datetime: !0,
  "datetime-local": !0,
  email: !0,
  month: !0,
  number: !0,
  password: !0,
  range: !0,
  search: !0,
  tel: !0,
  text: !0,
  time: !0,
  url: !0,
  week: !0,
};
function S1(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return e === "input" ? !!OM[t.type] : e === "textarea";
}
function hS(t, e, n, r) {
  Wx(r),
    (e = Kc(e, "onChange")),
    0 < e.length &&
      ((n = new Zg("onChange", "change", null, n, r)),
      t.push({ event: n, listeners: e }));
}
var Cl = null,
  ql = null;
function EM(t) {
  kS(t, 0);
}
function sh(t) {
  var e = js(t);
  if (Nx(e)) return t;
}
function MM(t, e) {
  if (t === "change") return e;
}
var dS = !1;
if (Br) {
  var Sd;
  if (Br) {
    var kd = "oninput" in document;
    if (!kd) {
      var k1 = document.createElement("div");
      k1.setAttribute("oninput", "return;"),
        (kd = typeof k1.oninput == "function");
    }
    Sd = kd;
  } else Sd = !1;
  dS = Sd && (!document.documentMode || 9 < document.documentMode);
}
function C1() {
  Cl && (Cl.detachEvent("onpropertychange", pS), (ql = Cl = null));
}
function pS(t) {
  if (t.propertyName === "value" && sh(ql)) {
    var e = [];
    hS(e, ql, t, qg(t)), qx(EM, e);
  }
}
function TM(t, e, n) {
  t === "focusin"
    ? (C1(), (Cl = e), (ql = n), Cl.attachEvent("onpropertychange", pS))
    : t === "focusout" && C1();
}
function PM(t) {
  if (t === "selectionchange" || t === "keyup" || t === "keydown")
    return sh(ql);
}
function RM(t, e) {
  if (t === "click") return sh(e);
}
function DM(t, e) {
  if (t === "input" || t === "change") return sh(e);
}
function LM(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var Hn = typeof Object.is == "function" ? Object.is : LM;
function Gl(t, e) {
  if (Hn(t, e)) return !0;
  if (typeof t != "object" || t === null || typeof e != "object" || e === null)
    return !1;
  var n = Object.keys(t),
    r = Object.keys(e);
  if (n.length !== r.length) return !1;
  for (r = 0; r < n.length; r++) {
    var i = n[r];
    if (!_p.call(e, i) || !Hn(t[i], e[i])) return !1;
  }
  return !0;
}
function _1(t) {
  for (; t && t.firstChild; ) t = t.firstChild;
  return t;
}
function A1(t, e) {
  var n = _1(t);
  t = 0;
  for (var r; n; ) {
    if (n.nodeType === 3) {
      if (((r = t + n.textContent.length), t <= e && r >= e))
        return { node: n, offset: e - t };
      t = r;
    }
    e: {
      for (; n; ) {
        if (n.nextSibling) {
          n = n.nextSibling;
          break e;
        }
        n = n.parentNode;
      }
      n = void 0;
    }
    n = _1(n);
  }
}
function mS(t, e) {
  return t && e
    ? t === e
      ? !0
      : t && t.nodeType === 3
        ? !1
        : e && e.nodeType === 3
          ? mS(t, e.parentNode)
          : "contains" in t
            ? t.contains(e)
            : t.compareDocumentPosition
              ? !!(t.compareDocumentPosition(e) & 16)
              : !1
    : !1;
}
function gS() {
  for (var t = window, e = Fc(); e instanceof t.HTMLIFrameElement; ) {
    try {
      var n = typeof e.contentWindow.location.href == "string";
    } catch {
      n = !1;
    }
    if (n) t = e.contentWindow;
    else break;
    e = Fc(t.document);
  }
  return e;
}
function n0(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return (
    e &&
    ((e === "input" &&
      (t.type === "text" ||
        t.type === "search" ||
        t.type === "tel" ||
        t.type === "url" ||
        t.type === "password")) ||
      e === "textarea" ||
      t.contentEditable === "true")
  );
}
function BM(t) {
  var e = gS(),
    n = t.focusedElem,
    r = t.selectionRange;
  if (
    e !== n &&
    n &&
    n.ownerDocument &&
    mS(n.ownerDocument.documentElement, n)
  ) {
    if (r !== null && n0(n)) {
      if (
        ((e = r.start),
        (t = r.end),
        t === void 0 && (t = e),
        "selectionStart" in n)
      )
        (n.selectionStart = e), (n.selectionEnd = Math.min(t, n.value.length));
      else if (
        ((t = ((e = n.ownerDocument || document) && e.defaultView) || window),
        t.getSelection)
      ) {
        t = t.getSelection();
        var i = n.textContent.length,
          s = Math.min(r.start, i);
        (r = r.end === void 0 ? s : Math.min(r.end, i)),
          !t.extend && s > r && ((i = r), (r = s), (s = i)),
          (i = A1(n, s));
        var o = A1(n, r);
        i &&
          o &&
          (t.rangeCount !== 1 ||
            t.anchorNode !== i.node ||
            t.anchorOffset !== i.offset ||
            t.focusNode !== o.node ||
            t.focusOffset !== o.offset) &&
          ((e = e.createRange()),
          e.setStart(i.node, i.offset),
          t.removeAllRanges(),
          s > r
            ? (t.addRange(e), t.extend(o.node, o.offset))
            : (e.setEnd(o.node, o.offset), t.addRange(e)));
      }
    }
    for (e = [], t = n; (t = t.parentNode); )
      t.nodeType === 1 &&
        e.push({ element: t, left: t.scrollLeft, top: t.scrollTop });
    for (typeof n.focus == "function" && n.focus(), n = 0; n < e.length; n++)
      (t = e[n]),
        (t.element.scrollLeft = t.left),
        (t.element.scrollTop = t.top);
  }
}
var NM = Br && "documentMode" in document && 11 >= document.documentMode,
  Fs = null,
  Hp = null,
  _l = null,
  Up = !1;
function O1(t, e, n) {
  var r = n.window === n ? n.document : n.nodeType === 9 ? n : n.ownerDocument;
  Up ||
    Fs == null ||
    Fs !== Fc(r) ||
    ((r = Fs),
    "selectionStart" in r && n0(r)
      ? (r = { start: r.selectionStart, end: r.selectionEnd })
      : ((r = (
          (r.ownerDocument && r.ownerDocument.defaultView) ||
          window
        ).getSelection()),
        (r = {
          anchorNode: r.anchorNode,
          anchorOffset: r.anchorOffset,
          focusNode: r.focusNode,
          focusOffset: r.focusOffset,
        })),
    (_l && Gl(_l, r)) ||
      ((_l = r),
      (r = Kc(Hp, "onSelect")),
      0 < r.length &&
        ((e = new Zg("onSelect", "select", null, e, n)),
        t.push({ event: e, listeners: r }),
        (e.target = Fs))));
}
function Cu(t, e) {
  var n = {};
  return (
    (n[t.toLowerCase()] = e.toLowerCase()),
    (n["Webkit" + t] = "webkit" + e),
    (n["Moz" + t] = "moz" + e),
    n
  );
}
var zs = {
    animationend: Cu("Animation", "AnimationEnd"),
    animationiteration: Cu("Animation", "AnimationIteration"),
    animationstart: Cu("Animation", "AnimationStart"),
    transitionend: Cu("Transition", "TransitionEnd"),
  },
  Cd = {},
  yS = {};
Br &&
  ((yS = document.createElement("div").style),
  "AnimationEvent" in window ||
    (delete zs.animationend.animation,
    delete zs.animationiteration.animation,
    delete zs.animationstart.animation),
  "TransitionEvent" in window || delete zs.transitionend.transition);
function oh(t) {
  if (Cd[t]) return Cd[t];
  if (!zs[t]) return t;
  var e = zs[t],
    n;
  for (n in e) if (e.hasOwnProperty(n) && n in yS) return (Cd[t] = e[n]);
  return t;
}
var vS = oh("animationend"),
  wS = oh("animationiteration"),
  bS = oh("animationstart"),
  xS = oh("transitionend"),
  SS = new Map(),
  E1 =
    "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
      " "
    );
function Ri(t, e) {
  SS.set(t, e), vs(e, [t]);
}
for (var _d = 0; _d < E1.length; _d++) {
  var Ad = E1[_d],
    IM = Ad.toLowerCase(),
    $M = Ad[0].toUpperCase() + Ad.slice(1);
  Ri(IM, "on" + $M);
}
Ri(vS, "onAnimationEnd");
Ri(wS, "onAnimationIteration");
Ri(bS, "onAnimationStart");
Ri("dblclick", "onDoubleClick");
Ri("focusin", "onFocus");
Ri("focusout", "onBlur");
Ri(xS, "onTransitionEnd");
go("onMouseEnter", ["mouseout", "mouseover"]);
go("onMouseLeave", ["mouseout", "mouseover"]);
go("onPointerEnter", ["pointerout", "pointerover"]);
go("onPointerLeave", ["pointerout", "pointerover"]);
vs(
  "onChange",
  "change click focusin focusout input keydown keyup selectionchange".split(" ")
);
vs(
  "onSelect",
  "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
    " "
  )
);
vs("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
vs(
  "onCompositionEnd",
  "compositionend focusout keydown keypress keyup mousedown".split(" ")
);
vs(
  "onCompositionStart",
  "compositionstart focusout keydown keypress keyup mousedown".split(" ")
);
vs(
  "onCompositionUpdate",
  "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
);
var ml =
    "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
      " "
    ),
  FM = new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));
function M1(t, e, n) {
  var r = t.type || "unknown-event";
  (t.currentTarget = n), IE(r, e, void 0, t), (t.currentTarget = null);
}
function kS(t, e) {
  e = (e & 4) !== 0;
  for (var n = 0; n < t.length; n++) {
    var r = t[n],
      i = r.event;
    r = r.listeners;
    e: {
      var s = void 0;
      if (e)
        for (var o = r.length - 1; 0 <= o; o--) {
          var l = r[o],
            a = l.instance,
            u = l.currentTarget;
          if (((l = l.listener), a !== s && i.isPropagationStopped())) break e;
          M1(i, l, u), (s = a);
        }
      else
        for (o = 0; o < r.length; o++) {
          if (
            ((l = r[o]),
            (a = l.instance),
            (u = l.currentTarget),
            (l = l.listener),
            a !== s && i.isPropagationStopped())
          )
            break e;
          M1(i, l, u), (s = a);
        }
    }
  }
  if (jc) throw ((t = zp), (jc = !1), (zp = null), t);
}
function xe(t, e) {
  var n = e[Xp];
  n === void 0 && (n = e[Xp] = new Set());
  var r = t + "__bubble";
  n.has(r) || (CS(e, t, 2, !1), n.add(r));
}
function Od(t, e, n) {
  var r = 0;
  e && (r |= 4), CS(n, t, r, e);
}
var _u = "_reactListening" + Math.random().toString(36).slice(2);
function Yl(t) {
  if (!t[_u]) {
    (t[_u] = !0),
      Px.forEach(function (n) {
        n !== "selectionchange" && (FM.has(n) || Od(n, !1, t), Od(n, !0, t));
      });
    var e = t.nodeType === 9 ? t : t.ownerDocument;
    e === null || e[_u] || ((e[_u] = !0), Od("selectionchange", !1, e));
  }
}
function CS(t, e, n, r) {
  switch (lS(e)) {
    case 1:
      var i = ZE;
      break;
    case 4:
      i = eM;
      break;
    default:
      i = Qg;
  }
  (n = i.bind(null, e, n, t)),
    (i = void 0),
    !Fp ||
      (e !== "touchstart" && e !== "touchmove" && e !== "wheel") ||
      (i = !0),
    r
      ? i !== void 0
        ? t.addEventListener(e, n, { capture: !0, passive: i })
        : t.addEventListener(e, n, !0)
      : i !== void 0
        ? t.addEventListener(e, n, { passive: i })
        : t.addEventListener(e, n, !1);
}
function Ed(t, e, n, r, i) {
  var s = r;
  if (!(e & 1) && !(e & 2) && r !== null)
    e: for (;;) {
      if (r === null) return;
      var o = r.tag;
      if (o === 3 || o === 4) {
        var l = r.stateNode.containerInfo;
        if (l === i || (l.nodeType === 8 && l.parentNode === i)) break;
        if (o === 4)
          for (o = r.return; o !== null; ) {
            var a = o.tag;
            if (
              (a === 3 || a === 4) &&
              ((a = o.stateNode.containerInfo),
              a === i || (a.nodeType === 8 && a.parentNode === i))
            )
              return;
            o = o.return;
          }
        for (; l !== null; ) {
          if (((o = Ki(l)), o === null)) return;
          if (((a = o.tag), a === 5 || a === 6)) {
            r = s = o;
            continue e;
          }
          l = l.parentNode;
        }
      }
      r = r.return;
    }
  qx(function () {
    var u = s,
      c = qg(n),
      f = [];
    e: {
      var h = SS.get(t);
      if (h !== void 0) {
        var d = Zg,
          p = t;
        switch (t) {
          case "keypress":
            if (mc(n) === 0) break e;
          case "keydown":
          case "keyup":
            d = mM;
            break;
          case "focusin":
            (p = "focus"), (d = xd);
            break;
          case "focusout":
            (p = "blur"), (d = xd);
            break;
          case "beforeblur":
          case "afterblur":
            d = xd;
            break;
          case "click":
            if (n.button === 2) break e;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            d = y1;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            d = rM;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            d = vM;
            break;
          case vS:
          case wS:
          case bS:
            d = oM;
            break;
          case xS:
            d = bM;
            break;
          case "scroll":
            d = tM;
            break;
          case "wheel":
            d = SM;
            break;
          case "copy":
          case "cut":
          case "paste":
            d = aM;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            d = w1;
        }
        var m = (e & 4) !== 0,
          w = !m && t === "scroll",
          g = m ? (h !== null ? h + "Capture" : null) : h;
        m = [];
        for (var y = u, v; y !== null; ) {
          v = y;
          var b = v.stateNode;
          if (
            (v.tag === 5 &&
              b !== null &&
              ((v = b),
              g !== null && ((b = Wl(y, g)), b != null && m.push(Xl(y, b, v)))),
            w)
          )
            break;
          y = y.return;
        }
        0 < m.length &&
          ((h = new d(h, p, null, n, c)), f.push({ event: h, listeners: m }));
      }
    }
    if (!(e & 7)) {
      e: {
        if (
          ((h = t === "mouseover" || t === "pointerover"),
          (d = t === "mouseout" || t === "pointerout"),
          h &&
            n !== Ip &&
            (p = n.relatedTarget || n.fromElement) &&
            (Ki(p) || p[Nr]))
        )
          break e;
        if (
          (d || h) &&
          ((h =
            c.window === c
              ? c
              : (h = c.ownerDocument)
                ? h.defaultView || h.parentWindow
                : window),
          d
            ? ((p = n.relatedTarget || n.toElement),
              (d = u),
              (p = p ? Ki(p) : null),
              p !== null &&
                ((w = ws(p)), p !== w || (p.tag !== 5 && p.tag !== 6)) &&
                (p = null))
            : ((d = null), (p = u)),
          d !== p)
        ) {
          if (
            ((m = y1),
            (b = "onMouseLeave"),
            (g = "onMouseEnter"),
            (y = "mouse"),
            (t === "pointerout" || t === "pointerover") &&
              ((m = w1),
              (b = "onPointerLeave"),
              (g = "onPointerEnter"),
              (y = "pointer")),
            (w = d == null ? h : js(d)),
            (v = p == null ? h : js(p)),
            (h = new m(b, y + "leave", d, n, c)),
            (h.target = w),
            (h.relatedTarget = v),
            (b = null),
            Ki(c) === u &&
              ((m = new m(g, y + "enter", p, n, c)),
              (m.target = v),
              (m.relatedTarget = w),
              (b = m)),
            (w = b),
            d && p)
          )
            t: {
              for (m = d, g = p, y = 0, v = m; v; v = _s(v)) y++;
              for (v = 0, b = g; b; b = _s(b)) v++;
              for (; 0 < y - v; ) (m = _s(m)), y--;
              for (; 0 < v - y; ) (g = _s(g)), v--;
              for (; y--; ) {
                if (m === g || (g !== null && m === g.alternate)) break t;
                (m = _s(m)), (g = _s(g));
              }
              m = null;
            }
          else m = null;
          d !== null && T1(f, h, d, m, !1),
            p !== null && w !== null && T1(f, w, p, m, !0);
        }
      }
      e: {
        if (
          ((h = u ? js(u) : window),
          (d = h.nodeName && h.nodeName.toLowerCase()),
          d === "select" || (d === "input" && h.type === "file"))
        )
          var x = MM;
        else if (S1(h))
          if (dS) x = DM;
          else {
            x = PM;
            var S = TM;
          }
        else
          (d = h.nodeName) &&
            d.toLowerCase() === "input" &&
            (h.type === "checkbox" || h.type === "radio") &&
            (x = RM);
        if (x && (x = x(t, u))) {
          hS(f, x, n, c);
          break e;
        }
        S && S(t, h, u),
          t === "focusout" &&
            (S = h._wrapperState) &&
            S.controlled &&
            h.type === "number" &&
            Rp(h, "number", h.value);
      }
      switch (((S = u ? js(u) : window), t)) {
        case "focusin":
          (S1(S) || S.contentEditable === "true") &&
            ((Fs = S), (Hp = u), (_l = null));
          break;
        case "focusout":
          _l = Hp = Fs = null;
          break;
        case "mousedown":
          Up = !0;
          break;
        case "contextmenu":
        case "mouseup":
        case "dragend":
          (Up = !1), O1(f, n, c);
          break;
        case "selectionchange":
          if (NM) break;
        case "keydown":
        case "keyup":
          O1(f, n, c);
      }
      var k;
      if (t0)
        e: {
          switch (t) {
            case "compositionstart":
              var _ = "onCompositionStart";
              break e;
            case "compositionend":
              _ = "onCompositionEnd";
              break e;
            case "compositionupdate":
              _ = "onCompositionUpdate";
              break e;
          }
          _ = void 0;
        }
      else
        $s
          ? cS(t, n) && (_ = "onCompositionEnd")
          : t === "keydown" && n.keyCode === 229 && (_ = "onCompositionStart");
      _ &&
        (uS &&
          n.locale !== "ko" &&
          ($s || _ !== "onCompositionStart"
            ? _ === "onCompositionEnd" && $s && (k = aS())
            : ((ii = c),
              (Jg = "value" in ii ? ii.value : ii.textContent),
              ($s = !0))),
        (S = Kc(u, _)),
        0 < S.length &&
          ((_ = new v1(_, t, null, n, c)),
          f.push({ event: _, listeners: S }),
          k ? (_.data = k) : ((k = fS(n)), k !== null && (_.data = k)))),
        (k = CM ? _M(t, n) : AM(t, n)) &&
          ((u = Kc(u, "onBeforeInput")),
          0 < u.length &&
            ((c = new v1("onBeforeInput", "beforeinput", null, n, c)),
            f.push({ event: c, listeners: u }),
            (c.data = k)));
    }
    kS(f, e);
  });
}
function Xl(t, e, n) {
  return { instance: t, listener: e, currentTarget: n };
}
function Kc(t, e) {
  for (var n = e + "Capture", r = []; t !== null; ) {
    var i = t,
      s = i.stateNode;
    i.tag === 5 &&
      s !== null &&
      ((i = s),
      (s = Wl(t, n)),
      s != null && r.unshift(Xl(t, s, i)),
      (s = Wl(t, e)),
      s != null && r.push(Xl(t, s, i))),
      (t = t.return);
  }
  return r;
}
function _s(t) {
  if (t === null) return null;
  do t = t.return;
  while (t && t.tag !== 5);
  return t || null;
}
function T1(t, e, n, r, i) {
  for (var s = e._reactName, o = []; n !== null && n !== r; ) {
    var l = n,
      a = l.alternate,
      u = l.stateNode;
    if (a !== null && a === r) break;
    l.tag === 5 &&
      u !== null &&
      ((l = u),
      i
        ? ((a = Wl(n, s)), a != null && o.unshift(Xl(n, a, l)))
        : i || ((a = Wl(n, s)), a != null && o.push(Xl(n, a, l)))),
      (n = n.return);
  }
  o.length !== 0 && t.push({ event: e, listeners: o });
}
var zM = /\r\n?/g,
  jM = /\u0000|\uFFFD/g;
function P1(t) {
  return (typeof t == "string" ? t : "" + t)
    .replace(
      zM,
      `
`
    )
    .replace(jM, "");
}
function Au(t, e, n) {
  if (((e = P1(e)), P1(t) !== e && n)) throw Error(E(425));
}
function qc() {}
var Kp = null,
  qp = null;
function Gp(t, e) {
  return (
    t === "textarea" ||
    t === "noscript" ||
    typeof e.children == "string" ||
    typeof e.children == "number" ||
    (typeof e.dangerouslySetInnerHTML == "object" &&
      e.dangerouslySetInnerHTML !== null &&
      e.dangerouslySetInnerHTML.__html != null)
  );
}
var Yp = typeof setTimeout == "function" ? setTimeout : void 0,
  VM = typeof clearTimeout == "function" ? clearTimeout : void 0,
  R1 = typeof Promise == "function" ? Promise : void 0,
  WM =
    typeof queueMicrotask == "function"
      ? queueMicrotask
      : typeof R1 < "u"
        ? function (t) {
            return R1.resolve(null).then(t).catch(HM);
          }
        : Yp;
function HM(t) {
  setTimeout(function () {
    throw t;
  });
}
function Md(t, e) {
  var n = e,
    r = 0;
  do {
    var i = n.nextSibling;
    if ((t.removeChild(n), i && i.nodeType === 8))
      if (((n = i.data), n === "/$")) {
        if (r === 0) {
          t.removeChild(i), Kl(e);
          return;
        }
        r--;
      } else (n !== "$" && n !== "$?" && n !== "$!") || r++;
    n = i;
  } while (n);
  Kl(e);
}
function pi(t) {
  for (; t != null; t = t.nextSibling) {
    var e = t.nodeType;
    if (e === 1 || e === 3) break;
    if (e === 8) {
      if (((e = t.data), e === "$" || e === "$!" || e === "$?")) break;
      if (e === "/$") return null;
    }
  }
  return t;
}
function D1(t) {
  t = t.previousSibling;
  for (var e = 0; t; ) {
    if (t.nodeType === 8) {
      var n = t.data;
      if (n === "$" || n === "$!" || n === "$?") {
        if (e === 0) return t;
        e--;
      } else n === "/$" && e++;
    }
    t = t.previousSibling;
  }
  return null;
}
var Fo = Math.random().toString(36).slice(2),
  ar = "__reactFiber$" + Fo,
  Ql = "__reactProps$" + Fo,
  Nr = "__reactContainer$" + Fo,
  Xp = "__reactEvents$" + Fo,
  UM = "__reactListeners$" + Fo,
  KM = "__reactHandles$" + Fo;
function Ki(t) {
  var e = t[ar];
  if (e) return e;
  for (var n = t.parentNode; n; ) {
    if ((e = n[Nr] || n[ar])) {
      if (
        ((n = e.alternate),
        e.child !== null || (n !== null && n.child !== null))
      )
        for (t = D1(t); t !== null; ) {
          if ((n = t[ar])) return n;
          t = D1(t);
        }
      return e;
    }
    (t = n), (n = t.parentNode);
  }
  return null;
}
function Wa(t) {
  return (
    (t = t[ar] || t[Nr]),
    !t || (t.tag !== 5 && t.tag !== 6 && t.tag !== 13 && t.tag !== 3) ? null : t
  );
}
function js(t) {
  if (t.tag === 5 || t.tag === 6) return t.stateNode;
  throw Error(E(33));
}
function lh(t) {
  return t[Ql] || null;
}
var Qp = [],
  Vs = -1;
function Di(t) {
  return { current: t };
}
function ke(t) {
  0 > Vs || ((t.current = Qp[Vs]), (Qp[Vs] = null), Vs--);
}
function we(t, e) {
  Vs++, (Qp[Vs] = t.current), (t.current = e);
}
var _i = {},
  xt = Di(_i),
  Ft = Di(!1),
  ts = _i;
function yo(t, e) {
  var n = t.type.contextTypes;
  if (!n) return _i;
  var r = t.stateNode;
  if (r && r.__reactInternalMemoizedUnmaskedChildContext === e)
    return r.__reactInternalMemoizedMaskedChildContext;
  var i = {},
    s;
  for (s in n) i[s] = e[s];
  return (
    r &&
      ((t = t.stateNode),
      (t.__reactInternalMemoizedUnmaskedChildContext = e),
      (t.__reactInternalMemoizedMaskedChildContext = i)),
    i
  );
}
function zt(t) {
  return (t = t.childContextTypes), t != null;
}
function Gc() {
  ke(Ft), ke(xt);
}
function L1(t, e, n) {
  if (xt.current !== _i) throw Error(E(168));
  we(xt, e), we(Ft, n);
}
function _S(t, e, n) {
  var r = t.stateNode;
  if (((e = e.childContextTypes), typeof r.getChildContext != "function"))
    return n;
  r = r.getChildContext();
  for (var i in r) if (!(i in e)) throw Error(E(108, TE(t) || "Unknown", i));
  return De({}, n, r);
}
function Yc(t) {
  return (
    (t =
      ((t = t.stateNode) && t.__reactInternalMemoizedMergedChildContext) || _i),
    (ts = xt.current),
    we(xt, t),
    we(Ft, Ft.current),
    !0
  );
}
function B1(t, e, n) {
  var r = t.stateNode;
  if (!r) throw Error(E(169));
  n
    ? ((t = _S(t, e, ts)),
      (r.__reactInternalMemoizedMergedChildContext = t),
      ke(Ft),
      ke(xt),
      we(xt, t))
    : ke(Ft),
    we(Ft, n);
}
var Or = null,
  ah = !1,
  Td = !1;
function AS(t) {
  Or === null ? (Or = [t]) : Or.push(t);
}
function qM(t) {
  (ah = !0), AS(t);
}
function Li() {
  if (!Td && Or !== null) {
    Td = !0;
    var t = 0,
      e = he;
    try {
      var n = Or;
      for (he = 1; t < n.length; t++) {
        var r = n[t];
        do r = r(!0);
        while (r !== null);
      }
      (Or = null), (ah = !1);
    } catch (i) {
      throw (Or !== null && (Or = Or.slice(t + 1)), Qx(Gg, Li), i);
    } finally {
      (he = e), (Td = !1);
    }
  }
  return null;
}
var Ws = [],
  Hs = 0,
  Xc = null,
  Qc = 0,
  dn = [],
  pn = 0,
  ns = null,
  Mr = 1,
  Tr = "";
function Vi(t, e) {
  (Ws[Hs++] = Qc), (Ws[Hs++] = Xc), (Xc = t), (Qc = e);
}
function OS(t, e, n) {
  (dn[pn++] = Mr), (dn[pn++] = Tr), (dn[pn++] = ns), (ns = t);
  var r = Mr;
  t = Tr;
  var i = 32 - zn(r) - 1;
  (r &= ~(1 << i)), (n += 1);
  var s = 32 - zn(e) + i;
  if (30 < s) {
    var o = i - (i % 5);
    (s = (r & ((1 << o) - 1)).toString(32)),
      (r >>= o),
      (i -= o),
      (Mr = (1 << (32 - zn(e) + i)) | (n << i) | r),
      (Tr = s + t);
  } else (Mr = (1 << s) | (n << i) | r), (Tr = t);
}
function r0(t) {
  t.return !== null && (Vi(t, 1), OS(t, 1, 0));
}
function i0(t) {
  for (; t === Xc; )
    (Xc = Ws[--Hs]), (Ws[Hs] = null), (Qc = Ws[--Hs]), (Ws[Hs] = null);
  for (; t === ns; )
    (ns = dn[--pn]),
      (dn[pn] = null),
      (Tr = dn[--pn]),
      (dn[pn] = null),
      (Mr = dn[--pn]),
      (dn[pn] = null);
}
var tn = null,
  Jt = null,
  Ae = !1,
  $n = null;
function ES(t, e) {
  var n = wn(5, null, null, 0);
  (n.elementType = "DELETED"),
    (n.stateNode = e),
    (n.return = t),
    (e = t.deletions),
    e === null ? ((t.deletions = [n]), (t.flags |= 16)) : e.push(n);
}
function N1(t, e) {
  switch (t.tag) {
    case 5:
      var n = t.type;
      return (
        (e =
          e.nodeType !== 1 || n.toLowerCase() !== e.nodeName.toLowerCase()
            ? null
            : e),
        e !== null
          ? ((t.stateNode = e), (tn = t), (Jt = pi(e.firstChild)), !0)
          : !1
      );
    case 6:
      return (
        (e = t.pendingProps === "" || e.nodeType !== 3 ? null : e),
        e !== null ? ((t.stateNode = e), (tn = t), (Jt = null), !0) : !1
      );
    case 13:
      return (
        (e = e.nodeType !== 8 ? null : e),
        e !== null
          ? ((n = ns !== null ? { id: Mr, overflow: Tr } : null),
            (t.memoizedState = {
              dehydrated: e,
              treeContext: n,
              retryLane: 1073741824,
            }),
            (n = wn(18, null, null, 0)),
            (n.stateNode = e),
            (n.return = t),
            (t.child = n),
            (tn = t),
            (Jt = null),
            !0)
          : !1
      );
    default:
      return !1;
  }
}
function Jp(t) {
  return (t.mode & 1) !== 0 && (t.flags & 128) === 0;
}
function Zp(t) {
  if (Ae) {
    var e = Jt;
    if (e) {
      var n = e;
      if (!N1(t, e)) {
        if (Jp(t)) throw Error(E(418));
        e = pi(n.nextSibling);
        var r = tn;
        e && N1(t, e)
          ? ES(r, n)
          : ((t.flags = (t.flags & -4097) | 2), (Ae = !1), (tn = t));
      }
    } else {
      if (Jp(t)) throw Error(E(418));
      (t.flags = (t.flags & -4097) | 2), (Ae = !1), (tn = t);
    }
  }
}
function I1(t) {
  for (t = t.return; t !== null && t.tag !== 5 && t.tag !== 3 && t.tag !== 13; )
    t = t.return;
  tn = t;
}
function Ou(t) {
  if (t !== tn) return !1;
  if (!Ae) return I1(t), (Ae = !0), !1;
  var e;
  if (
    ((e = t.tag !== 3) &&
      !(e = t.tag !== 5) &&
      ((e = t.type),
      (e = e !== "head" && e !== "body" && !Gp(t.type, t.memoizedProps))),
    e && (e = Jt))
  ) {
    if (Jp(t)) throw (MS(), Error(E(418)));
    for (; e; ) ES(t, e), (e = pi(e.nextSibling));
  }
  if ((I1(t), t.tag === 13)) {
    if (((t = t.memoizedState), (t = t !== null ? t.dehydrated : null), !t))
      throw Error(E(317));
    e: {
      for (t = t.nextSibling, e = 0; t; ) {
        if (t.nodeType === 8) {
          var n = t.data;
          if (n === "/$") {
            if (e === 0) {
              Jt = pi(t.nextSibling);
              break e;
            }
            e--;
          } else (n !== "$" && n !== "$!" && n !== "$?") || e++;
        }
        t = t.nextSibling;
      }
      Jt = null;
    }
  } else Jt = tn ? pi(t.stateNode.nextSibling) : null;
  return !0;
}
function MS() {
  for (var t = Jt; t; ) t = pi(t.nextSibling);
}
function vo() {
  (Jt = tn = null), (Ae = !1);
}
function s0(t) {
  $n === null ? ($n = [t]) : $n.push(t);
}
var GM = Ur.ReactCurrentBatchConfig;
function Nn(t, e) {
  if (t && t.defaultProps) {
    (e = De({}, e)), (t = t.defaultProps);
    for (var n in t) e[n] === void 0 && (e[n] = t[n]);
    return e;
  }
  return e;
}
var Jc = Di(null),
  Zc = null,
  Us = null,
  o0 = null;
function l0() {
  o0 = Us = Zc = null;
}
function a0(t) {
  var e = Jc.current;
  ke(Jc), (t._currentValue = e);
}
function em(t, e, n) {
  for (; t !== null; ) {
    var r = t.alternate;
    if (
      ((t.childLanes & e) !== e
        ? ((t.childLanes |= e), r !== null && (r.childLanes |= e))
        : r !== null && (r.childLanes & e) !== e && (r.childLanes |= e),
      t === n)
    )
      break;
    t = t.return;
  }
}
function io(t, e) {
  (Zc = t),
    (o0 = Us = null),
    (t = t.dependencies),
    t !== null &&
      t.firstContext !== null &&
      (t.lanes & e && (Nt = !0), (t.firstContext = null));
}
function On(t) {
  var e = t._currentValue;
  if (o0 !== t)
    if (((t = { context: t, memoizedValue: e, next: null }), Us === null)) {
      if (Zc === null) throw Error(E(308));
      (Us = t), (Zc.dependencies = { lanes: 0, firstContext: t });
    } else Us = Us.next = t;
  return e;
}
var qi = null;
function u0(t) {
  qi === null ? (qi = [t]) : qi.push(t);
}
function TS(t, e, n, r) {
  var i = e.interleaved;
  return (
    i === null ? ((n.next = n), u0(e)) : ((n.next = i.next), (i.next = n)),
    (e.interleaved = n),
    Ir(t, r)
  );
}
function Ir(t, e) {
  t.lanes |= e;
  var n = t.alternate;
  for (n !== null && (n.lanes |= e), n = t, t = t.return; t !== null; )
    (t.childLanes |= e),
      (n = t.alternate),
      n !== null && (n.childLanes |= e),
      (n = t),
      (t = t.return);
  return n.tag === 3 ? n.stateNode : null;
}
var Qr = !1;
function c0(t) {
  t.updateQueue = {
    baseState: t.memoizedState,
    firstBaseUpdate: null,
    lastBaseUpdate: null,
    shared: { pending: null, interleaved: null, lanes: 0 },
    effects: null,
  };
}
function PS(t, e) {
  (t = t.updateQueue),
    e.updateQueue === t &&
      (e.updateQueue = {
        baseState: t.baseState,
        firstBaseUpdate: t.firstBaseUpdate,
        lastBaseUpdate: t.lastBaseUpdate,
        shared: t.shared,
        effects: t.effects,
      });
}
function Pr(t, e) {
  return {
    eventTime: t,
    lane: e,
    tag: 0,
    payload: null,
    callback: null,
    next: null,
  };
}
function mi(t, e, n) {
  var r = t.updateQueue;
  if (r === null) return null;
  if (((r = r.shared), ie & 2)) {
    var i = r.pending;
    return (
      i === null ? (e.next = e) : ((e.next = i.next), (i.next = e)),
      (r.pending = e),
      Ir(t, n)
    );
  }
  return (
    (i = r.interleaved),
    i === null ? ((e.next = e), u0(r)) : ((e.next = i.next), (i.next = e)),
    (r.interleaved = e),
    Ir(t, n)
  );
}
function gc(t, e, n) {
  if (
    ((e = e.updateQueue), e !== null && ((e = e.shared), (n & 4194240) !== 0))
  ) {
    var r = e.lanes;
    (r &= t.pendingLanes), (n |= r), (e.lanes = n), Yg(t, n);
  }
}
function $1(t, e) {
  var n = t.updateQueue,
    r = t.alternate;
  if (r !== null && ((r = r.updateQueue), n === r)) {
    var i = null,
      s = null;
    if (((n = n.firstBaseUpdate), n !== null)) {
      do {
        var o = {
          eventTime: n.eventTime,
          lane: n.lane,
          tag: n.tag,
          payload: n.payload,
          callback: n.callback,
          next: null,
        };
        s === null ? (i = s = o) : (s = s.next = o), (n = n.next);
      } while (n !== null);
      s === null ? (i = s = e) : (s = s.next = e);
    } else i = s = e;
    (n = {
      baseState: r.baseState,
      firstBaseUpdate: i,
      lastBaseUpdate: s,
      shared: r.shared,
      effects: r.effects,
    }),
      (t.updateQueue = n);
    return;
  }
  (t = n.lastBaseUpdate),
    t === null ? (n.firstBaseUpdate = e) : (t.next = e),
    (n.lastBaseUpdate = e);
}
function ef(t, e, n, r) {
  var i = t.updateQueue;
  Qr = !1;
  var s = i.firstBaseUpdate,
    o = i.lastBaseUpdate,
    l = i.shared.pending;
  if (l !== null) {
    i.shared.pending = null;
    var a = l,
      u = a.next;
    (a.next = null), o === null ? (s = u) : (o.next = u), (o = a);
    var c = t.alternate;
    c !== null &&
      ((c = c.updateQueue),
      (l = c.lastBaseUpdate),
      l !== o &&
        (l === null ? (c.firstBaseUpdate = u) : (l.next = u),
        (c.lastBaseUpdate = a)));
  }
  if (s !== null) {
    var f = i.baseState;
    (o = 0), (c = u = a = null), (l = s);
    do {
      var h = l.lane,
        d = l.eventTime;
      if ((r & h) === h) {
        c !== null &&
          (c = c.next =
            {
              eventTime: d,
              lane: 0,
              tag: l.tag,
              payload: l.payload,
              callback: l.callback,
              next: null,
            });
        e: {
          var p = t,
            m = l;
          switch (((h = e), (d = n), m.tag)) {
            case 1:
              if (((p = m.payload), typeof p == "function")) {
                f = p.call(d, f, h);
                break e;
              }
              f = p;
              break e;
            case 3:
              p.flags = (p.flags & -65537) | 128;
            case 0:
              if (
                ((p = m.payload),
                (h = typeof p == "function" ? p.call(d, f, h) : p),
                h == null)
              )
                break e;
              f = De({}, f, h);
              break e;
            case 2:
              Qr = !0;
          }
        }
        l.callback !== null &&
          l.lane !== 0 &&
          ((t.flags |= 64),
          (h = i.effects),
          h === null ? (i.effects = [l]) : h.push(l));
      } else
        (d = {
          eventTime: d,
          lane: h,
          tag: l.tag,
          payload: l.payload,
          callback: l.callback,
          next: null,
        }),
          c === null ? ((u = c = d), (a = f)) : (c = c.next = d),
          (o |= h);
      if (((l = l.next), l === null)) {
        if (((l = i.shared.pending), l === null)) break;
        (h = l),
          (l = h.next),
          (h.next = null),
          (i.lastBaseUpdate = h),
          (i.shared.pending = null);
      }
    } while (!0);
    if (
      (c === null && (a = f),
      (i.baseState = a),
      (i.firstBaseUpdate = u),
      (i.lastBaseUpdate = c),
      (e = i.shared.interleaved),
      e !== null)
    ) {
      i = e;
      do (o |= i.lane), (i = i.next);
      while (i !== e);
    } else s === null && (i.shared.lanes = 0);
    (is |= o), (t.lanes = o), (t.memoizedState = f);
  }
}
function F1(t, e, n) {
  if (((t = e.effects), (e.effects = null), t !== null))
    for (e = 0; e < t.length; e++) {
      var r = t[e],
        i = r.callback;
      if (i !== null) {
        if (((r.callback = null), (r = n), typeof i != "function"))
          throw Error(E(191, i));
        i.call(r);
      }
    }
}
var RS = new Tx.Component().refs;
function tm(t, e, n, r) {
  (e = t.memoizedState),
    (n = n(r, e)),
    (n = n == null ? e : De({}, e, n)),
    (t.memoizedState = n),
    t.lanes === 0 && (t.updateQueue.baseState = n);
}
var uh = {
  isMounted: function (t) {
    return (t = t._reactInternals) ? ws(t) === t : !1;
  },
  enqueueSetState: function (t, e, n) {
    t = t._reactInternals;
    var r = Et(),
      i = yi(t),
      s = Pr(r, i);
    (s.payload = e),
      n != null && (s.callback = n),
      (e = mi(t, s, i)),
      e !== null && (jn(e, t, i, r), gc(e, t, i));
  },
  enqueueReplaceState: function (t, e, n) {
    t = t._reactInternals;
    var r = Et(),
      i = yi(t),
      s = Pr(r, i);
    (s.tag = 1),
      (s.payload = e),
      n != null && (s.callback = n),
      (e = mi(t, s, i)),
      e !== null && (jn(e, t, i, r), gc(e, t, i));
  },
  enqueueForceUpdate: function (t, e) {
    t = t._reactInternals;
    var n = Et(),
      r = yi(t),
      i = Pr(n, r);
    (i.tag = 2),
      e != null && (i.callback = e),
      (e = mi(t, i, r)),
      e !== null && (jn(e, t, r, n), gc(e, t, r));
  },
};
function z1(t, e, n, r, i, s, o) {
  return (
    (t = t.stateNode),
    typeof t.shouldComponentUpdate == "function"
      ? t.shouldComponentUpdate(r, s, o)
      : e.prototype && e.prototype.isPureReactComponent
        ? !Gl(n, r) || !Gl(i, s)
        : !0
  );
}
function DS(t, e, n) {
  var r = !1,
    i = _i,
    s = e.contextType;
  return (
    typeof s == "object" && s !== null
      ? (s = On(s))
      : ((i = zt(e) ? ts : xt.current),
        (r = e.contextTypes),
        (s = (r = r != null) ? yo(t, i) : _i)),
    (e = new e(n, s)),
    (t.memoizedState = e.state !== null && e.state !== void 0 ? e.state : null),
    (e.updater = uh),
    (t.stateNode = e),
    (e._reactInternals = t),
    r &&
      ((t = t.stateNode),
      (t.__reactInternalMemoizedUnmaskedChildContext = i),
      (t.__reactInternalMemoizedMaskedChildContext = s)),
    e
  );
}
function j1(t, e, n, r) {
  (t = e.state),
    typeof e.componentWillReceiveProps == "function" &&
      e.componentWillReceiveProps(n, r),
    typeof e.UNSAFE_componentWillReceiveProps == "function" &&
      e.UNSAFE_componentWillReceiveProps(n, r),
    e.state !== t && uh.enqueueReplaceState(e, e.state, null);
}
function nm(t, e, n, r) {
  var i = t.stateNode;
  (i.props = n), (i.state = t.memoizedState), (i.refs = RS), c0(t);
  var s = e.contextType;
  typeof s == "object" && s !== null
    ? (i.context = On(s))
    : ((s = zt(e) ? ts : xt.current), (i.context = yo(t, s))),
    (i.state = t.memoizedState),
    (s = e.getDerivedStateFromProps),
    typeof s == "function" && (tm(t, e, s, n), (i.state = t.memoizedState)),
    typeof e.getDerivedStateFromProps == "function" ||
      typeof i.getSnapshotBeforeUpdate == "function" ||
      (typeof i.UNSAFE_componentWillMount != "function" &&
        typeof i.componentWillMount != "function") ||
      ((e = i.state),
      typeof i.componentWillMount == "function" && i.componentWillMount(),
      typeof i.UNSAFE_componentWillMount == "function" &&
        i.UNSAFE_componentWillMount(),
      e !== i.state && uh.enqueueReplaceState(i, i.state, null),
      ef(t, n, i, r),
      (i.state = t.memoizedState)),
    typeof i.componentDidMount == "function" && (t.flags |= 4194308);
}
function nl(t, e, n) {
  if (
    ((t = n.ref), t !== null && typeof t != "function" && typeof t != "object")
  ) {
    if (n._owner) {
      if (((n = n._owner), n)) {
        if (n.tag !== 1) throw Error(E(309));
        var r = n.stateNode;
      }
      if (!r) throw Error(E(147, t));
      var i = r,
        s = "" + t;
      return e !== null &&
        e.ref !== null &&
        typeof e.ref == "function" &&
        e.ref._stringRef === s
        ? e.ref
        : ((e = function (o) {
            var l = i.refs;
            l === RS && (l = i.refs = {}),
              o === null ? delete l[s] : (l[s] = o);
          }),
          (e._stringRef = s),
          e);
    }
    if (typeof t != "string") throw Error(E(284));
    if (!n._owner) throw Error(E(290, t));
  }
  return t;
}
function Eu(t, e) {
  throw (
    ((t = Object.prototype.toString.call(e)),
    Error(
      E(
        31,
        t === "[object Object]"
          ? "object with keys {" + Object.keys(e).join(", ") + "}"
          : t
      )
    ))
  );
}
function V1(t) {
  var e = t._init;
  return e(t._payload);
}
function LS(t) {
  function e(g, y) {
    if (t) {
      var v = g.deletions;
      v === null ? ((g.deletions = [y]), (g.flags |= 16)) : v.push(y);
    }
  }
  function n(g, y) {
    if (!t) return null;
    for (; y !== null; ) e(g, y), (y = y.sibling);
    return null;
  }
  function r(g, y) {
    for (g = new Map(); y !== null; )
      y.key !== null ? g.set(y.key, y) : g.set(y.index, y), (y = y.sibling);
    return g;
  }
  function i(g, y) {
    return (g = vi(g, y)), (g.index = 0), (g.sibling = null), g;
  }
  function s(g, y, v) {
    return (
      (g.index = v),
      t
        ? ((v = g.alternate),
          v !== null
            ? ((v = v.index), v < y ? ((g.flags |= 2), y) : v)
            : ((g.flags |= 2), y))
        : ((g.flags |= 1048576), y)
    );
  }
  function o(g) {
    return t && g.alternate === null && (g.flags |= 2), g;
  }
  function l(g, y, v, b) {
    return y === null || y.tag !== 6
      ? ((y = Id(v, g.mode, b)), (y.return = g), y)
      : ((y = i(y, v)), (y.return = g), y);
  }
  function a(g, y, v, b) {
    var x = v.type;
    return x === Is
      ? c(g, y, v.props.children, b, v.key)
      : y !== null &&
          (y.elementType === x ||
            (typeof x == "object" &&
              x !== null &&
              x.$$typeof === Xr &&
              V1(x) === y.type))
        ? ((b = i(y, v.props)), (b.ref = nl(g, y, v)), (b.return = g), b)
        : ((b = Sc(v.type, v.key, v.props, null, g.mode, b)),
          (b.ref = nl(g, y, v)),
          (b.return = g),
          b);
  }
  function u(g, y, v, b) {
    return y === null ||
      y.tag !== 4 ||
      y.stateNode.containerInfo !== v.containerInfo ||
      y.stateNode.implementation !== v.implementation
      ? ((y = $d(v, g.mode, b)), (y.return = g), y)
      : ((y = i(y, v.children || [])), (y.return = g), y);
  }
  function c(g, y, v, b, x) {
    return y === null || y.tag !== 7
      ? ((y = Zi(v, g.mode, b, x)), (y.return = g), y)
      : ((y = i(y, v)), (y.return = g), y);
  }
  function f(g, y, v) {
    if ((typeof y == "string" && y !== "") || typeof y == "number")
      return (y = Id("" + y, g.mode, v)), (y.return = g), y;
    if (typeof y == "object" && y !== null) {
      switch (y.$$typeof) {
        case yu:
          return (
            (v = Sc(y.type, y.key, y.props, null, g.mode, v)),
            (v.ref = nl(g, null, y)),
            (v.return = g),
            v
          );
        case Ns:
          return (y = $d(y, g.mode, v)), (y.return = g), y;
        case Xr:
          var b = y._init;
          return f(g, b(y._payload), v);
      }
      if (dl(y) || Qo(y))
        return (y = Zi(y, g.mode, v, null)), (y.return = g), y;
      Eu(g, y);
    }
    return null;
  }
  function h(g, y, v, b) {
    var x = y !== null ? y.key : null;
    if ((typeof v == "string" && v !== "") || typeof v == "number")
      return x !== null ? null : l(g, y, "" + v, b);
    if (typeof v == "object" && v !== null) {
      switch (v.$$typeof) {
        case yu:
          return v.key === x ? a(g, y, v, b) : null;
        case Ns:
          return v.key === x ? u(g, y, v, b) : null;
        case Xr:
          return (x = v._init), h(g, y, x(v._payload), b);
      }
      if (dl(v) || Qo(v)) return x !== null ? null : c(g, y, v, b, null);
      Eu(g, v);
    }
    return null;
  }
  function d(g, y, v, b, x) {
    if ((typeof b == "string" && b !== "") || typeof b == "number")
      return (g = g.get(v) || null), l(y, g, "" + b, x);
    if (typeof b == "object" && b !== null) {
      switch (b.$$typeof) {
        case yu:
          return (g = g.get(b.key === null ? v : b.key) || null), a(y, g, b, x);
        case Ns:
          return (g = g.get(b.key === null ? v : b.key) || null), u(y, g, b, x);
        case Xr:
          var S = b._init;
          return d(g, y, v, S(b._payload), x);
      }
      if (dl(b) || Qo(b)) return (g = g.get(v) || null), c(y, g, b, x, null);
      Eu(y, b);
    }
    return null;
  }
  function p(g, y, v, b) {
    for (
      var x = null, S = null, k = y, _ = (y = 0), M = null;
      k !== null && _ < v.length;
      _++
    ) {
      k.index > _ ? ((M = k), (k = null)) : (M = k.sibling);
      var O = h(g, k, v[_], b);
      if (O === null) {
        k === null && (k = M);
        break;
      }
      t && k && O.alternate === null && e(g, k),
        (y = s(O, y, _)),
        S === null ? (x = O) : (S.sibling = O),
        (S = O),
        (k = M);
    }
    if (_ === v.length) return n(g, k), Ae && Vi(g, _), x;
    if (k === null) {
      for (; _ < v.length; _++)
        (k = f(g, v[_], b)),
          k !== null &&
            ((y = s(k, y, _)), S === null ? (x = k) : (S.sibling = k), (S = k));
      return Ae && Vi(g, _), x;
    }
    for (k = r(g, k); _ < v.length; _++)
      (M = d(k, g, _, v[_], b)),
        M !== null &&
          (t && M.alternate !== null && k.delete(M.key === null ? _ : M.key),
          (y = s(M, y, _)),
          S === null ? (x = M) : (S.sibling = M),
          (S = M));
    return (
      t &&
        k.forEach(function (L) {
          return e(g, L);
        }),
      Ae && Vi(g, _),
      x
    );
  }
  function m(g, y, v, b) {
    var x = Qo(v);
    if (typeof x != "function") throw Error(E(150));
    if (((v = x.call(v)), v == null)) throw Error(E(151));
    for (
      var S = (x = null), k = y, _ = (y = 0), M = null, O = v.next();
      k !== null && !O.done;
      _++, O = v.next()
    ) {
      k.index > _ ? ((M = k), (k = null)) : (M = k.sibling);
      var L = h(g, k, O.value, b);
      if (L === null) {
        k === null && (k = M);
        break;
      }
      t && k && L.alternate === null && e(g, k),
        (y = s(L, y, _)),
        S === null ? (x = L) : (S.sibling = L),
        (S = L),
        (k = M);
    }
    if (O.done) return n(g, k), Ae && Vi(g, _), x;
    if (k === null) {
      for (; !O.done; _++, O = v.next())
        (O = f(g, O.value, b)),
          O !== null &&
            ((y = s(O, y, _)), S === null ? (x = O) : (S.sibling = O), (S = O));
      return Ae && Vi(g, _), x;
    }
    for (k = r(g, k); !O.done; _++, O = v.next())
      (O = d(k, g, _, O.value, b)),
        O !== null &&
          (t && O.alternate !== null && k.delete(O.key === null ? _ : O.key),
          (y = s(O, y, _)),
          S === null ? (x = O) : (S.sibling = O),
          (S = O));
    return (
      t &&
        k.forEach(function (F) {
          return e(g, F);
        }),
      Ae && Vi(g, _),
      x
    );
  }
  function w(g, y, v, b) {
    if (
      (typeof v == "object" &&
        v !== null &&
        v.type === Is &&
        v.key === null &&
        (v = v.props.children),
      typeof v == "object" && v !== null)
    ) {
      switch (v.$$typeof) {
        case yu:
          e: {
            for (var x = v.key, S = y; S !== null; ) {
              if (S.key === x) {
                if (((x = v.type), x === Is)) {
                  if (S.tag === 7) {
                    n(g, S.sibling),
                      (y = i(S, v.props.children)),
                      (y.return = g),
                      (g = y);
                    break e;
                  }
                } else if (
                  S.elementType === x ||
                  (typeof x == "object" &&
                    x !== null &&
                    x.$$typeof === Xr &&
                    V1(x) === S.type)
                ) {
                  n(g, S.sibling),
                    (y = i(S, v.props)),
                    (y.ref = nl(g, S, v)),
                    (y.return = g),
                    (g = y);
                  break e;
                }
                n(g, S);
                break;
              } else e(g, S);
              S = S.sibling;
            }
            v.type === Is
              ? ((y = Zi(v.props.children, g.mode, b, v.key)),
                (y.return = g),
                (g = y))
              : ((b = Sc(v.type, v.key, v.props, null, g.mode, b)),
                (b.ref = nl(g, y, v)),
                (b.return = g),
                (g = b));
          }
          return o(g);
        case Ns:
          e: {
            for (S = v.key; y !== null; ) {
              if (y.key === S)
                if (
                  y.tag === 4 &&
                  y.stateNode.containerInfo === v.containerInfo &&
                  y.stateNode.implementation === v.implementation
                ) {
                  n(g, y.sibling),
                    (y = i(y, v.children || [])),
                    (y.return = g),
                    (g = y);
                  break e;
                } else {
                  n(g, y);
                  break;
                }
              else e(g, y);
              y = y.sibling;
            }
            (y = $d(v, g.mode, b)), (y.return = g), (g = y);
          }
          return o(g);
        case Xr:
          return (S = v._init), w(g, y, S(v._payload), b);
      }
      if (dl(v)) return p(g, y, v, b);
      if (Qo(v)) return m(g, y, v, b);
      Eu(g, v);
    }
    return (typeof v == "string" && v !== "") || typeof v == "number"
      ? ((v = "" + v),
        y !== null && y.tag === 6
          ? (n(g, y.sibling), (y = i(y, v)), (y.return = g), (g = y))
          : (n(g, y), (y = Id(v, g.mode, b)), (y.return = g), (g = y)),
        o(g))
      : n(g, y);
  }
  return w;
}
var wo = LS(!0),
  BS = LS(!1),
  Ha = {},
  gr = Di(Ha),
  Jl = Di(Ha),
  Zl = Di(Ha);
function Gi(t) {
  if (t === Ha) throw Error(E(174));
  return t;
}
function f0(t, e) {
  switch ((we(Zl, e), we(Jl, t), we(gr, Ha), (t = e.nodeType), t)) {
    case 9:
    case 11:
      e = (e = e.documentElement) ? e.namespaceURI : Lp(null, "");
      break;
    default:
      (t = t === 8 ? e.parentNode : e),
        (e = t.namespaceURI || null),
        (t = t.tagName),
        (e = Lp(e, t));
  }
  ke(gr), we(gr, e);
}
function bo() {
  ke(gr), ke(Jl), ke(Zl);
}
function NS(t) {
  Gi(Zl.current);
  var e = Gi(gr.current),
    n = Lp(e, t.type);
  e !== n && (we(Jl, t), we(gr, n));
}
function h0(t) {
  Jl.current === t && (ke(gr), ke(Jl));
}
var Te = Di(0);
function tf(t) {
  for (var e = t; e !== null; ) {
    if (e.tag === 13) {
      var n = e.memoizedState;
      if (
        n !== null &&
        ((n = n.dehydrated), n === null || n.data === "$?" || n.data === "$!")
      )
        return e;
    } else if (e.tag === 19 && e.memoizedProps.revealOrder !== void 0) {
      if (e.flags & 128) return e;
    } else if (e.child !== null) {
      (e.child.return = e), (e = e.child);
      continue;
    }
    if (e === t) break;
    for (; e.sibling === null; ) {
      if (e.return === null || e.return === t) return null;
      e = e.return;
    }
    (e.sibling.return = e.return), (e = e.sibling);
  }
  return null;
}
var Pd = [];
function d0() {
  for (var t = 0; t < Pd.length; t++)
    Pd[t]._workInProgressVersionPrimary = null;
  Pd.length = 0;
}
var yc = Ur.ReactCurrentDispatcher,
  Rd = Ur.ReactCurrentBatchConfig,
  rs = 0,
  Re = null,
  Ge = null,
  Ze = null,
  nf = !1,
  Al = !1,
  ea = 0,
  YM = 0;
function mt() {
  throw Error(E(321));
}
function p0(t, e) {
  if (e === null) return !1;
  for (var n = 0; n < e.length && n < t.length; n++)
    if (!Hn(t[n], e[n])) return !1;
  return !0;
}
function m0(t, e, n, r, i, s) {
  if (
    ((rs = s),
    (Re = e),
    (e.memoizedState = null),
    (e.updateQueue = null),
    (e.lanes = 0),
    (yc.current = t === null || t.memoizedState === null ? ZM : e5),
    (t = n(r, i)),
    Al)
  ) {
    s = 0;
    do {
      if (((Al = !1), (ea = 0), 25 <= s)) throw Error(E(301));
      (s += 1),
        (Ze = Ge = null),
        (e.updateQueue = null),
        (yc.current = t5),
        (t = n(r, i));
    } while (Al);
  }
  if (
    ((yc.current = rf),
    (e = Ge !== null && Ge.next !== null),
    (rs = 0),
    (Ze = Ge = Re = null),
    (nf = !1),
    e)
  )
    throw Error(E(300));
  return t;
}
function g0() {
  var t = ea !== 0;
  return (ea = 0), t;
}
function ir() {
  var t = {
    memoizedState: null,
    baseState: null,
    baseQueue: null,
    queue: null,
    next: null,
  };
  return Ze === null ? (Re.memoizedState = Ze = t) : (Ze = Ze.next = t), Ze;
}
function En() {
  if (Ge === null) {
    var t = Re.alternate;
    t = t !== null ? t.memoizedState : null;
  } else t = Ge.next;
  var e = Ze === null ? Re.memoizedState : Ze.next;
  if (e !== null) (Ze = e), (Ge = t);
  else {
    if (t === null) throw Error(E(310));
    (Ge = t),
      (t = {
        memoizedState: Ge.memoizedState,
        baseState: Ge.baseState,
        baseQueue: Ge.baseQueue,
        queue: Ge.queue,
        next: null,
      }),
      Ze === null ? (Re.memoizedState = Ze = t) : (Ze = Ze.next = t);
  }
  return Ze;
}
function ta(t, e) {
  return typeof e == "function" ? e(t) : e;
}
function Dd(t) {
  var e = En(),
    n = e.queue;
  if (n === null) throw Error(E(311));
  n.lastRenderedReducer = t;
  var r = Ge,
    i = r.baseQueue,
    s = n.pending;
  if (s !== null) {
    if (i !== null) {
      var o = i.next;
      (i.next = s.next), (s.next = o);
    }
    (r.baseQueue = i = s), (n.pending = null);
  }
  if (i !== null) {
    (s = i.next), (r = r.baseState);
    var l = (o = null),
      a = null,
      u = s;
    do {
      var c = u.lane;
      if ((rs & c) === c)
        a !== null &&
          (a = a.next =
            {
              lane: 0,
              action: u.action,
              hasEagerState: u.hasEagerState,
              eagerState: u.eagerState,
              next: null,
            }),
          (r = u.hasEagerState ? u.eagerState : t(r, u.action));
      else {
        var f = {
          lane: c,
          action: u.action,
          hasEagerState: u.hasEagerState,
          eagerState: u.eagerState,
          next: null,
        };
        a === null ? ((l = a = f), (o = r)) : (a = a.next = f),
          (Re.lanes |= c),
          (is |= c);
      }
      u = u.next;
    } while (u !== null && u !== s);
    a === null ? (o = r) : (a.next = l),
      Hn(r, e.memoizedState) || (Nt = !0),
      (e.memoizedState = r),
      (e.baseState = o),
      (e.baseQueue = a),
      (n.lastRenderedState = r);
  }
  if (((t = n.interleaved), t !== null)) {
    i = t;
    do (s = i.lane), (Re.lanes |= s), (is |= s), (i = i.next);
    while (i !== t);
  } else i === null && (n.lanes = 0);
  return [e.memoizedState, n.dispatch];
}
function Ld(t) {
  var e = En(),
    n = e.queue;
  if (n === null) throw Error(E(311));
  n.lastRenderedReducer = t;
  var r = n.dispatch,
    i = n.pending,
    s = e.memoizedState;
  if (i !== null) {
    n.pending = null;
    var o = (i = i.next);
    do (s = t(s, o.action)), (o = o.next);
    while (o !== i);
    Hn(s, e.memoizedState) || (Nt = !0),
      (e.memoizedState = s),
      e.baseQueue === null && (e.baseState = s),
      (n.lastRenderedState = s);
  }
  return [s, r];
}
function IS() {}
function $S(t, e) {
  var n = Re,
    r = En(),
    i = e(),
    s = !Hn(r.memoizedState, i);
  if (
    (s && ((r.memoizedState = i), (Nt = !0)),
    (r = r.queue),
    y0(jS.bind(null, n, r, t), [t]),
    r.getSnapshot !== e || s || (Ze !== null && Ze.memoizedState.tag & 1))
  ) {
    if (
      ((n.flags |= 2048),
      na(9, zS.bind(null, n, r, i, e), void 0, null),
      et === null)
    )
      throw Error(E(349));
    rs & 30 || FS(n, e, i);
  }
  return i;
}
function FS(t, e, n) {
  (t.flags |= 16384),
    (t = { getSnapshot: e, value: n }),
    (e = Re.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (Re.updateQueue = e),
        (e.stores = [t]))
      : ((n = e.stores), n === null ? (e.stores = [t]) : n.push(t));
}
function zS(t, e, n, r) {
  (e.value = n), (e.getSnapshot = r), VS(e) && WS(t);
}
function jS(t, e, n) {
  return n(function () {
    VS(e) && WS(t);
  });
}
function VS(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var n = e();
    return !Hn(t, n);
  } catch {
    return !0;
  }
}
function WS(t) {
  var e = Ir(t, 1);
  e !== null && jn(e, t, 1, -1);
}
function W1(t) {
  var e = ir();
  return (
    typeof t == "function" && (t = t()),
    (e.memoizedState = e.baseState = t),
    (t = {
      pending: null,
      interleaved: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: ta,
      lastRenderedState: t,
    }),
    (e.queue = t),
    (t = t.dispatch = JM.bind(null, Re, t)),
    [e.memoizedState, t]
  );
}
function na(t, e, n, r) {
  return (
    (t = { tag: t, create: e, destroy: n, deps: r, next: null }),
    (e = Re.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (Re.updateQueue = e),
        (e.lastEffect = t.next = t))
      : ((n = e.lastEffect),
        n === null
          ? (e.lastEffect = t.next = t)
          : ((r = n.next), (n.next = t), (t.next = r), (e.lastEffect = t))),
    t
  );
}
function HS() {
  return En().memoizedState;
}
function vc(t, e, n, r) {
  var i = ir();
  (Re.flags |= t),
    (i.memoizedState = na(1 | e, n, void 0, r === void 0 ? null : r));
}
function ch(t, e, n, r) {
  var i = En();
  r = r === void 0 ? null : r;
  var s = void 0;
  if (Ge !== null) {
    var o = Ge.memoizedState;
    if (((s = o.destroy), r !== null && p0(r, o.deps))) {
      i.memoizedState = na(e, n, s, r);
      return;
    }
  }
  (Re.flags |= t), (i.memoizedState = na(1 | e, n, s, r));
}
function H1(t, e) {
  return vc(8390656, 8, t, e);
}
function y0(t, e) {
  return ch(2048, 8, t, e);
}
function US(t, e) {
  return ch(4, 2, t, e);
}
function KS(t, e) {
  return ch(4, 4, t, e);
}
function qS(t, e) {
  if (typeof e == "function")
    return (
      (t = t()),
      e(t),
      function () {
        e(null);
      }
    );
  if (e != null)
    return (
      (t = t()),
      (e.current = t),
      function () {
        e.current = null;
      }
    );
}
function GS(t, e, n) {
  return (
    (n = n != null ? n.concat([t]) : null), ch(4, 4, qS.bind(null, e, t), n)
  );
}
function v0() {}
function YS(t, e) {
  var n = En();
  e = e === void 0 ? null : e;
  var r = n.memoizedState;
  return r !== null && e !== null && p0(e, r[1])
    ? r[0]
    : ((n.memoizedState = [t, e]), t);
}
function XS(t, e) {
  var n = En();
  e = e === void 0 ? null : e;
  var r = n.memoizedState;
  return r !== null && e !== null && p0(e, r[1])
    ? r[0]
    : ((t = t()), (n.memoizedState = [t, e]), t);
}
function QS(t, e, n) {
  return rs & 21
    ? (Hn(n, e) || ((n = eS()), (Re.lanes |= n), (is |= n), (t.baseState = !0)),
      e)
    : (t.baseState && ((t.baseState = !1), (Nt = !0)), (t.memoizedState = n));
}
function XM(t, e) {
  var n = he;
  (he = n !== 0 && 4 > n ? n : 4), t(!0);
  var r = Rd.transition;
  Rd.transition = {};
  try {
    t(!1), e();
  } finally {
    (he = n), (Rd.transition = r);
  }
}
function JS() {
  return En().memoizedState;
}
function QM(t, e, n) {
  var r = yi(t);
  if (
    ((n = {
      lane: r,
      action: n,
      hasEagerState: !1,
      eagerState: null,
      next: null,
    }),
    ZS(t))
  )
    e2(e, n);
  else if (((n = TS(t, e, n, r)), n !== null)) {
    var i = Et();
    jn(n, t, r, i), t2(n, e, r);
  }
}
function JM(t, e, n) {
  var r = yi(t),
    i = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null };
  if (ZS(t)) e2(e, i);
  else {
    var s = t.alternate;
    if (
      t.lanes === 0 &&
      (s === null || s.lanes === 0) &&
      ((s = e.lastRenderedReducer), s !== null)
    )
      try {
        var o = e.lastRenderedState,
          l = s(o, n);
        if (((i.hasEagerState = !0), (i.eagerState = l), Hn(l, o))) {
          var a = e.interleaved;
          a === null
            ? ((i.next = i), u0(e))
            : ((i.next = a.next), (a.next = i)),
            (e.interleaved = i);
          return;
        }
      } catch {
      } finally {
      }
    (n = TS(t, e, i, r)),
      n !== null && ((i = Et()), jn(n, t, r, i), t2(n, e, r));
  }
}
function ZS(t) {
  var e = t.alternate;
  return t === Re || (e !== null && e === Re);
}
function e2(t, e) {
  Al = nf = !0;
  var n = t.pending;
  n === null ? (e.next = e) : ((e.next = n.next), (n.next = e)),
    (t.pending = e);
}
function t2(t, e, n) {
  if (n & 4194240) {
    var r = e.lanes;
    (r &= t.pendingLanes), (n |= r), (e.lanes = n), Yg(t, n);
  }
}
var rf = {
    readContext: On,
    useCallback: mt,
    useContext: mt,
    useEffect: mt,
    useImperativeHandle: mt,
    useInsertionEffect: mt,
    useLayoutEffect: mt,
    useMemo: mt,
    useReducer: mt,
    useRef: mt,
    useState: mt,
    useDebugValue: mt,
    useDeferredValue: mt,
    useTransition: mt,
    useMutableSource: mt,
    useSyncExternalStore: mt,
    useId: mt,
    unstable_isNewReconciler: !1,
  },
  ZM = {
    readContext: On,
    useCallback: function (t, e) {
      return (ir().memoizedState = [t, e === void 0 ? null : e]), t;
    },
    useContext: On,
    useEffect: H1,
    useImperativeHandle: function (t, e, n) {
      return (
        (n = n != null ? n.concat([t]) : null),
        vc(4194308, 4, qS.bind(null, e, t), n)
      );
    },
    useLayoutEffect: function (t, e) {
      return vc(4194308, 4, t, e);
    },
    useInsertionEffect: function (t, e) {
      return vc(4, 2, t, e);
    },
    useMemo: function (t, e) {
      var n = ir();
      return (
        (e = e === void 0 ? null : e), (t = t()), (n.memoizedState = [t, e]), t
      );
    },
    useReducer: function (t, e, n) {
      var r = ir();
      return (
        (e = n !== void 0 ? n(e) : e),
        (r.memoizedState = r.baseState = e),
        (t = {
          pending: null,
          interleaved: null,
          lanes: 0,
          dispatch: null,
          lastRenderedReducer: t,
          lastRenderedState: e,
        }),
        (r.queue = t),
        (t = t.dispatch = QM.bind(null, Re, t)),
        [r.memoizedState, t]
      );
    },
    useRef: function (t) {
      var e = ir();
      return (t = { current: t }), (e.memoizedState = t);
    },
    useState: W1,
    useDebugValue: v0,
    useDeferredValue: function (t) {
      return (ir().memoizedState = t);
    },
    useTransition: function () {
      var t = W1(!1),
        e = t[0];
      return (t = XM.bind(null, t[1])), (ir().memoizedState = t), [e, t];
    },
    useMutableSource: function () {},
    useSyncExternalStore: function (t, e, n) {
      var r = Re,
        i = ir();
      if (Ae) {
        if (n === void 0) throw Error(E(407));
        n = n();
      } else {
        if (((n = e()), et === null)) throw Error(E(349));
        rs & 30 || FS(r, e, n);
      }
      i.memoizedState = n;
      var s = { value: n, getSnapshot: e };
      return (
        (i.queue = s),
        H1(jS.bind(null, r, s, t), [t]),
        (r.flags |= 2048),
        na(9, zS.bind(null, r, s, n, e), void 0, null),
        n
      );
    },
    useId: function () {
      var t = ir(),
        e = et.identifierPrefix;
      if (Ae) {
        var n = Tr,
          r = Mr;
        (n = (r & ~(1 << (32 - zn(r) - 1))).toString(32) + n),
          (e = ":" + e + "R" + n),
          (n = ea++),
          0 < n && (e += "H" + n.toString(32)),
          (e += ":");
      } else (n = YM++), (e = ":" + e + "r" + n.toString(32) + ":");
      return (t.memoizedState = e);
    },
    unstable_isNewReconciler: !1,
  },
  e5 = {
    readContext: On,
    useCallback: YS,
    useContext: On,
    useEffect: y0,
    useImperativeHandle: GS,
    useInsertionEffect: US,
    useLayoutEffect: KS,
    useMemo: XS,
    useReducer: Dd,
    useRef: HS,
    useState: function () {
      return Dd(ta);
    },
    useDebugValue: v0,
    useDeferredValue: function (t) {
      var e = En();
      return QS(e, Ge.memoizedState, t);
    },
    useTransition: function () {
      var t = Dd(ta)[0],
        e = En().memoizedState;
      return [t, e];
    },
    useMutableSource: IS,
    useSyncExternalStore: $S,
    useId: JS,
    unstable_isNewReconciler: !1,
  },
  t5 = {
    readContext: On,
    useCallback: YS,
    useContext: On,
    useEffect: y0,
    useImperativeHandle: GS,
    useInsertionEffect: US,
    useLayoutEffect: KS,
    useMemo: XS,
    useReducer: Ld,
    useRef: HS,
    useState: function () {
      return Ld(ta);
    },
    useDebugValue: v0,
    useDeferredValue: function (t) {
      var e = En();
      return Ge === null ? (e.memoizedState = t) : QS(e, Ge.memoizedState, t);
    },
    useTransition: function () {
      var t = Ld(ta)[0],
        e = En().memoizedState;
      return [t, e];
    },
    useMutableSource: IS,
    useSyncExternalStore: $S,
    useId: JS,
    unstable_isNewReconciler: !1,
  };
function xo(t, e) {
  try {
    var n = "",
      r = e;
    do (n += ME(r)), (r = r.return);
    while (r);
    var i = n;
  } catch (s) {
    i =
      `
Error generating stack: ` +
      s.message +
      `
` +
      s.stack;
  }
  return { value: t, source: e, stack: i, digest: null };
}
function Bd(t, e, n) {
  return { value: t, source: null, stack: n ?? null, digest: e ?? null };
}
function rm(t, e) {
  try {
    console.error(e.value);
  } catch (n) {
    setTimeout(function () {
      throw n;
    });
  }
}
var n5 = typeof WeakMap == "function" ? WeakMap : Map;
function n2(t, e, n) {
  (n = Pr(-1, n)), (n.tag = 3), (n.payload = { element: null });
  var r = e.value;
  return (
    (n.callback = function () {
      of || ((of = !0), (dm = r)), rm(t, e);
    }),
    n
  );
}
function r2(t, e, n) {
  (n = Pr(-1, n)), (n.tag = 3);
  var r = t.type.getDerivedStateFromError;
  if (typeof r == "function") {
    var i = e.value;
    (n.payload = function () {
      return r(i);
    }),
      (n.callback = function () {
        rm(t, e);
      });
  }
  var s = t.stateNode;
  return (
    s !== null &&
      typeof s.componentDidCatch == "function" &&
      (n.callback = function () {
        rm(t, e),
          typeof r != "function" &&
            (gi === null ? (gi = new Set([this])) : gi.add(this));
        var o = e.stack;
        this.componentDidCatch(e.value, {
          componentStack: o !== null ? o : "",
        });
      }),
    n
  );
}
function U1(t, e, n) {
  var r = t.pingCache;
  if (r === null) {
    r = t.pingCache = new n5();
    var i = new Set();
    r.set(e, i);
  } else (i = r.get(e)), i === void 0 && ((i = new Set()), r.set(e, i));
  i.has(n) || (i.add(n), (t = g5.bind(null, t, e, n)), e.then(t, t));
}
function K1(t) {
  do {
    var e;
    if (
      ((e = t.tag === 13) &&
        ((e = t.memoizedState), (e = e !== null ? e.dehydrated !== null : !0)),
      e)
    )
      return t;
    t = t.return;
  } while (t !== null);
  return null;
}
function q1(t, e, n, r, i) {
  return t.mode & 1
    ? ((t.flags |= 65536), (t.lanes = i), t)
    : (t === e
        ? (t.flags |= 65536)
        : ((t.flags |= 128),
          (n.flags |= 131072),
          (n.flags &= -52805),
          n.tag === 1 &&
            (n.alternate === null
              ? (n.tag = 17)
              : ((e = Pr(-1, 1)), (e.tag = 2), mi(n, e, 1))),
          (n.lanes |= 1)),
      t);
}
var r5 = Ur.ReactCurrentOwner,
  Nt = !1;
function _t(t, e, n, r) {
  e.child = t === null ? BS(e, null, n, r) : wo(e, t.child, n, r);
}
function G1(t, e, n, r, i) {
  n = n.render;
  var s = e.ref;
  return (
    io(e, i),
    (r = m0(t, e, n, r, s, i)),
    (n = g0()),
    t !== null && !Nt
      ? ((e.updateQueue = t.updateQueue),
        (e.flags &= -2053),
        (t.lanes &= ~i),
        $r(t, e, i))
      : (Ae && n && r0(e), (e.flags |= 1), _t(t, e, r, i), e.child)
  );
}
function Y1(t, e, n, r, i) {
  if (t === null) {
    var s = n.type;
    return typeof s == "function" &&
      !A0(s) &&
      s.defaultProps === void 0 &&
      n.compare === null &&
      n.defaultProps === void 0
      ? ((e.tag = 15), (e.type = s), i2(t, e, s, r, i))
      : ((t = Sc(n.type, null, r, e, e.mode, i)),
        (t.ref = e.ref),
        (t.return = e),
        (e.child = t));
  }
  if (((s = t.child), !(t.lanes & i))) {
    var o = s.memoizedProps;
    if (
      ((n = n.compare), (n = n !== null ? n : Gl), n(o, r) && t.ref === e.ref)
    )
      return $r(t, e, i);
  }
  return (
    (e.flags |= 1),
    (t = vi(s, r)),
    (t.ref = e.ref),
    (t.return = e),
    (e.child = t)
  );
}
function i2(t, e, n, r, i) {
  if (t !== null) {
    var s = t.memoizedProps;
    if (Gl(s, r) && t.ref === e.ref)
      if (((Nt = !1), (e.pendingProps = r = s), (t.lanes & i) !== 0))
        t.flags & 131072 && (Nt = !0);
      else return (e.lanes = t.lanes), $r(t, e, i);
  }
  return im(t, e, n, r, i);
}
function s2(t, e, n) {
  var r = e.pendingProps,
    i = r.children,
    s = t !== null ? t.memoizedState : null;
  if (r.mode === "hidden")
    if (!(e.mode & 1))
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        we(qs, Gt),
        (Gt |= n);
    else {
      if (!(n & 1073741824))
        return (
          (t = s !== null ? s.baseLanes | n : n),
          (e.lanes = e.childLanes = 1073741824),
          (e.memoizedState = {
            baseLanes: t,
            cachePool: null,
            transitions: null,
          }),
          (e.updateQueue = null),
          we(qs, Gt),
          (Gt |= t),
          null
        );
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        (r = s !== null ? s.baseLanes : n),
        we(qs, Gt),
        (Gt |= r);
    }
  else
    s !== null ? ((r = s.baseLanes | n), (e.memoizedState = null)) : (r = n),
      we(qs, Gt),
      (Gt |= r);
  return _t(t, e, i, n), e.child;
}
function o2(t, e) {
  var n = e.ref;
  ((t === null && n !== null) || (t !== null && t.ref !== n)) &&
    ((e.flags |= 512), (e.flags |= 2097152));
}
function im(t, e, n, r, i) {
  var s = zt(n) ? ts : xt.current;
  return (
    (s = yo(e, s)),
    io(e, i),
    (n = m0(t, e, n, r, s, i)),
    (r = g0()),
    t !== null && !Nt
      ? ((e.updateQueue = t.updateQueue),
        (e.flags &= -2053),
        (t.lanes &= ~i),
        $r(t, e, i))
      : (Ae && r && r0(e), (e.flags |= 1), _t(t, e, n, i), e.child)
  );
}
function X1(t, e, n, r, i) {
  if (zt(n)) {
    var s = !0;
    Yc(e);
  } else s = !1;
  if ((io(e, i), e.stateNode === null))
    wc(t, e), DS(e, n, r), nm(e, n, r, i), (r = !0);
  else if (t === null) {
    var o = e.stateNode,
      l = e.memoizedProps;
    o.props = l;
    var a = o.context,
      u = n.contextType;
    typeof u == "object" && u !== null
      ? (u = On(u))
      : ((u = zt(n) ? ts : xt.current), (u = yo(e, u)));
    var c = n.getDerivedStateFromProps,
      f =
        typeof c == "function" ||
        typeof o.getSnapshotBeforeUpdate == "function";
    f ||
      (typeof o.UNSAFE_componentWillReceiveProps != "function" &&
        typeof o.componentWillReceiveProps != "function") ||
      ((l !== r || a !== u) && j1(e, o, r, u)),
      (Qr = !1);
    var h = e.memoizedState;
    (o.state = h),
      ef(e, r, o, i),
      (a = e.memoizedState),
      l !== r || h !== a || Ft.current || Qr
        ? (typeof c == "function" && (tm(e, n, c, r), (a = e.memoizedState)),
          (l = Qr || z1(e, n, l, r, h, a, u))
            ? (f ||
                (typeof o.UNSAFE_componentWillMount != "function" &&
                  typeof o.componentWillMount != "function") ||
                (typeof o.componentWillMount == "function" &&
                  o.componentWillMount(),
                typeof o.UNSAFE_componentWillMount == "function" &&
                  o.UNSAFE_componentWillMount()),
              typeof o.componentDidMount == "function" && (e.flags |= 4194308))
            : (typeof o.componentDidMount == "function" && (e.flags |= 4194308),
              (e.memoizedProps = r),
              (e.memoizedState = a)),
          (o.props = r),
          (o.state = a),
          (o.context = u),
          (r = l))
        : (typeof o.componentDidMount == "function" && (e.flags |= 4194308),
          (r = !1));
  } else {
    (o = e.stateNode),
      PS(t, e),
      (l = e.memoizedProps),
      (u = e.type === e.elementType ? l : Nn(e.type, l)),
      (o.props = u),
      (f = e.pendingProps),
      (h = o.context),
      (a = n.contextType),
      typeof a == "object" && a !== null
        ? (a = On(a))
        : ((a = zt(n) ? ts : xt.current), (a = yo(e, a)));
    var d = n.getDerivedStateFromProps;
    (c =
      typeof d == "function" ||
      typeof o.getSnapshotBeforeUpdate == "function") ||
      (typeof o.UNSAFE_componentWillReceiveProps != "function" &&
        typeof o.componentWillReceiveProps != "function") ||
      ((l !== f || h !== a) && j1(e, o, r, a)),
      (Qr = !1),
      (h = e.memoizedState),
      (o.state = h),
      ef(e, r, o, i);
    var p = e.memoizedState;
    l !== f || h !== p || Ft.current || Qr
      ? (typeof d == "function" && (tm(e, n, d, r), (p = e.memoizedState)),
        (u = Qr || z1(e, n, u, r, h, p, a) || !1)
          ? (c ||
              (typeof o.UNSAFE_componentWillUpdate != "function" &&
                typeof o.componentWillUpdate != "function") ||
              (typeof o.componentWillUpdate == "function" &&
                o.componentWillUpdate(r, p, a),
              typeof o.UNSAFE_componentWillUpdate == "function" &&
                o.UNSAFE_componentWillUpdate(r, p, a)),
            typeof o.componentDidUpdate == "function" && (e.flags |= 4),
            typeof o.getSnapshotBeforeUpdate == "function" && (e.flags |= 1024))
          : (typeof o.componentDidUpdate != "function" ||
              (l === t.memoizedProps && h === t.memoizedState) ||
              (e.flags |= 4),
            typeof o.getSnapshotBeforeUpdate != "function" ||
              (l === t.memoizedProps && h === t.memoizedState) ||
              (e.flags |= 1024),
            (e.memoizedProps = r),
            (e.memoizedState = p)),
        (o.props = r),
        (o.state = p),
        (o.context = a),
        (r = u))
      : (typeof o.componentDidUpdate != "function" ||
          (l === t.memoizedProps && h === t.memoizedState) ||
          (e.flags |= 4),
        typeof o.getSnapshotBeforeUpdate != "function" ||
          (l === t.memoizedProps && h === t.memoizedState) ||
          (e.flags |= 1024),
        (r = !1));
  }
  return sm(t, e, n, r, s, i);
}
function sm(t, e, n, r, i, s) {
  o2(t, e);
  var o = (e.flags & 128) !== 0;
  if (!r && !o) return i && B1(e, n, !1), $r(t, e, s);
  (r = e.stateNode), (r5.current = e);
  var l =
    o && typeof n.getDerivedStateFromError != "function" ? null : r.render();
  return (
    (e.flags |= 1),
    t !== null && o
      ? ((e.child = wo(e, t.child, null, s)), (e.child = wo(e, null, l, s)))
      : _t(t, e, l, s),
    (e.memoizedState = r.state),
    i && B1(e, n, !0),
    e.child
  );
}
function l2(t) {
  var e = t.stateNode;
  e.pendingContext
    ? L1(t, e.pendingContext, e.pendingContext !== e.context)
    : e.context && L1(t, e.context, !1),
    f0(t, e.containerInfo);
}
function Q1(t, e, n, r, i) {
  return vo(), s0(i), (e.flags |= 256), _t(t, e, n, r), e.child;
}
var om = { dehydrated: null, treeContext: null, retryLane: 0 };
function lm(t) {
  return { baseLanes: t, cachePool: null, transitions: null };
}
function a2(t, e, n) {
  var r = e.pendingProps,
    i = Te.current,
    s = !1,
    o = (e.flags & 128) !== 0,
    l;
  if (
    ((l = o) ||
      (l = t !== null && t.memoizedState === null ? !1 : (i & 2) !== 0),
    l
      ? ((s = !0), (e.flags &= -129))
      : (t === null || t.memoizedState !== null) && (i |= 1),
    we(Te, i & 1),
    t === null)
  )
    return (
      Zp(e),
      (t = e.memoizedState),
      t !== null && ((t = t.dehydrated), t !== null)
        ? (e.mode & 1
            ? t.data === "$!"
              ? (e.lanes = 8)
              : (e.lanes = 1073741824)
            : (e.lanes = 1),
          null)
        : ((o = r.children),
          (t = r.fallback),
          s
            ? ((r = e.mode),
              (s = e.child),
              (o = { mode: "hidden", children: o }),
              !(r & 1) && s !== null
                ? ((s.childLanes = 0), (s.pendingProps = o))
                : (s = dh(o, r, 0, null)),
              (t = Zi(t, r, n, null)),
              (s.return = e),
              (t.return = e),
              (s.sibling = t),
              (e.child = s),
              (e.child.memoizedState = lm(n)),
              (e.memoizedState = om),
              t)
            : w0(e, o))
    );
  if (((i = t.memoizedState), i !== null && ((l = i.dehydrated), l !== null)))
    return i5(t, e, o, r, l, i, n);
  if (s) {
    (s = r.fallback), (o = e.mode), (i = t.child), (l = i.sibling);
    var a = { mode: "hidden", children: r.children };
    return (
      !(o & 1) && e.child !== i
        ? ((r = e.child),
          (r.childLanes = 0),
          (r.pendingProps = a),
          (e.deletions = null))
        : ((r = vi(i, a)), (r.subtreeFlags = i.subtreeFlags & 14680064)),
      l !== null ? (s = vi(l, s)) : ((s = Zi(s, o, n, null)), (s.flags |= 2)),
      (s.return = e),
      (r.return = e),
      (r.sibling = s),
      (e.child = r),
      (r = s),
      (s = e.child),
      (o = t.child.memoizedState),
      (o =
        o === null
          ? lm(n)
          : {
              baseLanes: o.baseLanes | n,
              cachePool: null,
              transitions: o.transitions,
            }),
      (s.memoizedState = o),
      (s.childLanes = t.childLanes & ~n),
      (e.memoizedState = om),
      r
    );
  }
  return (
    (s = t.child),
    (t = s.sibling),
    (r = vi(s, { mode: "visible", children: r.children })),
    !(e.mode & 1) && (r.lanes = n),
    (r.return = e),
    (r.sibling = null),
    t !== null &&
      ((n = e.deletions),
      n === null ? ((e.deletions = [t]), (e.flags |= 16)) : n.push(t)),
    (e.child = r),
    (e.memoizedState = null),
    r
  );
}
function w0(t, e) {
  return (
    (e = dh({ mode: "visible", children: e }, t.mode, 0, null)),
    (e.return = t),
    (t.child = e)
  );
}
function Mu(t, e, n, r) {
  return (
    r !== null && s0(r),
    wo(e, t.child, null, n),
    (t = w0(e, e.pendingProps.children)),
    (t.flags |= 2),
    (e.memoizedState = null),
    t
  );
}
function i5(t, e, n, r, i, s, o) {
  if (n)
    return e.flags & 256
      ? ((e.flags &= -257), (r = Bd(Error(E(422)))), Mu(t, e, o, r))
      : e.memoizedState !== null
        ? ((e.child = t.child), (e.flags |= 128), null)
        : ((s = r.fallback),
          (i = e.mode),
          (r = dh({ mode: "visible", children: r.children }, i, 0, null)),
          (s = Zi(s, i, o, null)),
          (s.flags |= 2),
          (r.return = e),
          (s.return = e),
          (r.sibling = s),
          (e.child = r),
          e.mode & 1 && wo(e, t.child, null, o),
          (e.child.memoizedState = lm(o)),
          (e.memoizedState = om),
          s);
  if (!(e.mode & 1)) return Mu(t, e, o, null);
  if (i.data === "$!") {
    if (((r = i.nextSibling && i.nextSibling.dataset), r)) var l = r.dgst;
    return (r = l), (s = Error(E(419))), (r = Bd(s, r, void 0)), Mu(t, e, o, r);
  }
  if (((l = (o & t.childLanes) !== 0), Nt || l)) {
    if (((r = et), r !== null)) {
      switch (o & -o) {
        case 4:
          i = 2;
          break;
        case 16:
          i = 8;
          break;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          i = 32;
          break;
        case 536870912:
          i = 268435456;
          break;
        default:
          i = 0;
      }
      (i = i & (r.suspendedLanes | o) ? 0 : i),
        i !== 0 &&
          i !== s.retryLane &&
          ((s.retryLane = i), Ir(t, i), jn(r, t, i, -1));
    }
    return _0(), (r = Bd(Error(E(421)))), Mu(t, e, o, r);
  }
  return i.data === "$?"
    ? ((e.flags |= 128),
      (e.child = t.child),
      (e = y5.bind(null, t)),
      (i._reactRetry = e),
      null)
    : ((t = s.treeContext),
      (Jt = pi(i.nextSibling)),
      (tn = e),
      (Ae = !0),
      ($n = null),
      t !== null &&
        ((dn[pn++] = Mr),
        (dn[pn++] = Tr),
        (dn[pn++] = ns),
        (Mr = t.id),
        (Tr = t.overflow),
        (ns = e)),
      (e = w0(e, r.children)),
      (e.flags |= 4096),
      e);
}
function J1(t, e, n) {
  t.lanes |= e;
  var r = t.alternate;
  r !== null && (r.lanes |= e), em(t.return, e, n);
}
function Nd(t, e, n, r, i) {
  var s = t.memoizedState;
  s === null
    ? (t.memoizedState = {
        isBackwards: e,
        rendering: null,
        renderingStartTime: 0,
        last: r,
        tail: n,
        tailMode: i,
      })
    : ((s.isBackwards = e),
      (s.rendering = null),
      (s.renderingStartTime = 0),
      (s.last = r),
      (s.tail = n),
      (s.tailMode = i));
}
function u2(t, e, n) {
  var r = e.pendingProps,
    i = r.revealOrder,
    s = r.tail;
  if ((_t(t, e, r.children, n), (r = Te.current), r & 2))
    (r = (r & 1) | 2), (e.flags |= 128);
  else {
    if (t !== null && t.flags & 128)
      e: for (t = e.child; t !== null; ) {
        if (t.tag === 13) t.memoizedState !== null && J1(t, n, e);
        else if (t.tag === 19) J1(t, n, e);
        else if (t.child !== null) {
          (t.child.return = t), (t = t.child);
          continue;
        }
        if (t === e) break e;
        for (; t.sibling === null; ) {
          if (t.return === null || t.return === e) break e;
          t = t.return;
        }
        (t.sibling.return = t.return), (t = t.sibling);
      }
    r &= 1;
  }
  if ((we(Te, r), !(e.mode & 1))) e.memoizedState = null;
  else
    switch (i) {
      case "forwards":
        for (n = e.child, i = null; n !== null; )
          (t = n.alternate),
            t !== null && tf(t) === null && (i = n),
            (n = n.sibling);
        (n = i),
          n === null
            ? ((i = e.child), (e.child = null))
            : ((i = n.sibling), (n.sibling = null)),
          Nd(e, !1, i, n, s);
        break;
      case "backwards":
        for (n = null, i = e.child, e.child = null; i !== null; ) {
          if (((t = i.alternate), t !== null && tf(t) === null)) {
            e.child = i;
            break;
          }
          (t = i.sibling), (i.sibling = n), (n = i), (i = t);
        }
        Nd(e, !0, n, null, s);
        break;
      case "together":
        Nd(e, !1, null, null, void 0);
        break;
      default:
        e.memoizedState = null;
    }
  return e.child;
}
function wc(t, e) {
  !(e.mode & 1) &&
    t !== null &&
    ((t.alternate = null), (e.alternate = null), (e.flags |= 2));
}
function $r(t, e, n) {
  if (
    (t !== null && (e.dependencies = t.dependencies),
    (is |= e.lanes),
    !(n & e.childLanes))
  )
    return null;
  if (t !== null && e.child !== t.child) throw Error(E(153));
  if (e.child !== null) {
    for (
      t = e.child, n = vi(t, t.pendingProps), e.child = n, n.return = e;
      t.sibling !== null;

    )
      (t = t.sibling), (n = n.sibling = vi(t, t.pendingProps)), (n.return = e);
    n.sibling = null;
  }
  return e.child;
}
function s5(t, e, n) {
  switch (e.tag) {
    case 3:
      l2(e), vo();
      break;
    case 5:
      NS(e);
      break;
    case 1:
      zt(e.type) && Yc(e);
      break;
    case 4:
      f0(e, e.stateNode.containerInfo);
      break;
    case 10:
      var r = e.type._context,
        i = e.memoizedProps.value;
      we(Jc, r._currentValue), (r._currentValue = i);
      break;
    case 13:
      if (((r = e.memoizedState), r !== null))
        return r.dehydrated !== null
          ? (we(Te, Te.current & 1), (e.flags |= 128), null)
          : n & e.child.childLanes
            ? a2(t, e, n)
            : (we(Te, Te.current & 1),
              (t = $r(t, e, n)),
              t !== null ? t.sibling : null);
      we(Te, Te.current & 1);
      break;
    case 19:
      if (((r = (n & e.childLanes) !== 0), t.flags & 128)) {
        if (r) return u2(t, e, n);
        e.flags |= 128;
      }
      if (
        ((i = e.memoizedState),
        i !== null &&
          ((i.rendering = null), (i.tail = null), (i.lastEffect = null)),
        we(Te, Te.current),
        r)
      )
        break;
      return null;
    case 22:
    case 23:
      return (e.lanes = 0), s2(t, e, n);
  }
  return $r(t, e, n);
}
var c2, am, f2, h2;
c2 = function (t, e) {
  for (var n = e.child; n !== null; ) {
    if (n.tag === 5 || n.tag === 6) t.appendChild(n.stateNode);
    else if (n.tag !== 4 && n.child !== null) {
      (n.child.return = n), (n = n.child);
      continue;
    }
    if (n === e) break;
    for (; n.sibling === null; ) {
      if (n.return === null || n.return === e) return;
      n = n.return;
    }
    (n.sibling.return = n.return), (n = n.sibling);
  }
};
am = function () {};
f2 = function (t, e, n, r) {
  var i = t.memoizedProps;
  if (i !== r) {
    (t = e.stateNode), Gi(gr.current);
    var s = null;
    switch (n) {
      case "input":
        (i = Tp(t, i)), (r = Tp(t, r)), (s = []);
        break;
      case "select":
        (i = De({}, i, { value: void 0 })),
          (r = De({}, r, { value: void 0 })),
          (s = []);
        break;
      case "textarea":
        (i = Dp(t, i)), (r = Dp(t, r)), (s = []);
        break;
      default:
        typeof i.onClick != "function" &&
          typeof r.onClick == "function" &&
          (t.onclick = qc);
    }
    Bp(n, r);
    var o;
    n = null;
    for (u in i)
      if (!r.hasOwnProperty(u) && i.hasOwnProperty(u) && i[u] != null)
        if (u === "style") {
          var l = i[u];
          for (o in l) l.hasOwnProperty(o) && (n || (n = {}), (n[o] = ""));
        } else
          u !== "dangerouslySetInnerHTML" &&
            u !== "children" &&
            u !== "suppressContentEditableWarning" &&
            u !== "suppressHydrationWarning" &&
            u !== "autoFocus" &&
            (jl.hasOwnProperty(u)
              ? s || (s = [])
              : (s = s || []).push(u, null));
    for (u in r) {
      var a = r[u];
      if (
        ((l = i != null ? i[u] : void 0),
        r.hasOwnProperty(u) && a !== l && (a != null || l != null))
      )
        if (u === "style")
          if (l) {
            for (o in l)
              !l.hasOwnProperty(o) ||
                (a && a.hasOwnProperty(o)) ||
                (n || (n = {}), (n[o] = ""));
            for (o in a)
              a.hasOwnProperty(o) &&
                l[o] !== a[o] &&
                (n || (n = {}), (n[o] = a[o]));
          } else n || (s || (s = []), s.push(u, n)), (n = a);
        else
          u === "dangerouslySetInnerHTML"
            ? ((a = a ? a.__html : void 0),
              (l = l ? l.__html : void 0),
              a != null && l !== a && (s = s || []).push(u, a))
            : u === "children"
              ? (typeof a != "string" && typeof a != "number") ||
                (s = s || []).push(u, "" + a)
              : u !== "suppressContentEditableWarning" &&
                u !== "suppressHydrationWarning" &&
                (jl.hasOwnProperty(u)
                  ? (a != null && u === "onScroll" && xe("scroll", t),
                    s || l === a || (s = []))
                  : (s = s || []).push(u, a));
    }
    n && (s = s || []).push("style", n);
    var u = s;
    (e.updateQueue = u) && (e.flags |= 4);
  }
};
h2 = function (t, e, n, r) {
  n !== r && (e.flags |= 4);
};
function rl(t, e) {
  if (!Ae)
    switch (t.tailMode) {
      case "hidden":
        e = t.tail;
        for (var n = null; e !== null; )
          e.alternate !== null && (n = e), (e = e.sibling);
        n === null ? (t.tail = null) : (n.sibling = null);
        break;
      case "collapsed":
        n = t.tail;
        for (var r = null; n !== null; )
          n.alternate !== null && (r = n), (n = n.sibling);
        r === null
          ? e || t.tail === null
            ? (t.tail = null)
            : (t.tail.sibling = null)
          : (r.sibling = null);
    }
}
function gt(t) {
  var e = t.alternate !== null && t.alternate.child === t.child,
    n = 0,
    r = 0;
  if (e)
    for (var i = t.child; i !== null; )
      (n |= i.lanes | i.childLanes),
        (r |= i.subtreeFlags & 14680064),
        (r |= i.flags & 14680064),
        (i.return = t),
        (i = i.sibling);
  else
    for (i = t.child; i !== null; )
      (n |= i.lanes | i.childLanes),
        (r |= i.subtreeFlags),
        (r |= i.flags),
        (i.return = t),
        (i = i.sibling);
  return (t.subtreeFlags |= r), (t.childLanes = n), e;
}
function o5(t, e, n) {
  var r = e.pendingProps;
  switch ((i0(e), e.tag)) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return gt(e), null;
    case 1:
      return zt(e.type) && Gc(), gt(e), null;
    case 3:
      return (
        (r = e.stateNode),
        bo(),
        ke(Ft),
        ke(xt),
        d0(),
        r.pendingContext &&
          ((r.context = r.pendingContext), (r.pendingContext = null)),
        (t === null || t.child === null) &&
          (Ou(e)
            ? (e.flags |= 4)
            : t === null ||
              (t.memoizedState.isDehydrated && !(e.flags & 256)) ||
              ((e.flags |= 1024), $n !== null && (gm($n), ($n = null)))),
        am(t, e),
        gt(e),
        null
      );
    case 5:
      h0(e);
      var i = Gi(Zl.current);
      if (((n = e.type), t !== null && e.stateNode != null))
        f2(t, e, n, r, i),
          t.ref !== e.ref && ((e.flags |= 512), (e.flags |= 2097152));
      else {
        if (!r) {
          if (e.stateNode === null) throw Error(E(166));
          return gt(e), null;
        }
        if (((t = Gi(gr.current)), Ou(e))) {
          (r = e.stateNode), (n = e.type);
          var s = e.memoizedProps;
          switch (((r[ar] = e), (r[Ql] = s), (t = (e.mode & 1) !== 0), n)) {
            case "dialog":
              xe("cancel", r), xe("close", r);
              break;
            case "iframe":
            case "object":
            case "embed":
              xe("load", r);
              break;
            case "video":
            case "audio":
              for (i = 0; i < ml.length; i++) xe(ml[i], r);
              break;
            case "source":
              xe("error", r);
              break;
            case "img":
            case "image":
            case "link":
              xe("error", r), xe("load", r);
              break;
            case "details":
              xe("toggle", r);
              break;
            case "input":
              l1(r, s), xe("invalid", r);
              break;
            case "select":
              (r._wrapperState = { wasMultiple: !!s.multiple }),
                xe("invalid", r);
              break;
            case "textarea":
              u1(r, s), xe("invalid", r);
          }
          Bp(n, s), (i = null);
          for (var o in s)
            if (s.hasOwnProperty(o)) {
              var l = s[o];
              o === "children"
                ? typeof l == "string"
                  ? r.textContent !== l &&
                    (s.suppressHydrationWarning !== !0 &&
                      Au(r.textContent, l, t),
                    (i = ["children", l]))
                  : typeof l == "number" &&
                    r.textContent !== "" + l &&
                    (s.suppressHydrationWarning !== !0 &&
                      Au(r.textContent, l, t),
                    (i = ["children", "" + l]))
                : jl.hasOwnProperty(o) &&
                  l != null &&
                  o === "onScroll" &&
                  xe("scroll", r);
            }
          switch (n) {
            case "input":
              vu(r), a1(r, s, !0);
              break;
            case "textarea":
              vu(r), c1(r);
              break;
            case "select":
            case "option":
              break;
            default:
              typeof s.onClick == "function" && (r.onclick = qc);
          }
          (r = i), (e.updateQueue = r), r !== null && (e.flags |= 4);
        } else {
          (o = i.nodeType === 9 ? i : i.ownerDocument),
            t === "http://www.w3.org/1999/xhtml" && (t = Fx(n)),
            t === "http://www.w3.org/1999/xhtml"
              ? n === "script"
                ? ((t = o.createElement("div")),
                  (t.innerHTML = "<script></script>"),
                  (t = t.removeChild(t.firstChild)))
                : typeof r.is == "string"
                  ? (t = o.createElement(n, { is: r.is }))
                  : ((t = o.createElement(n)),
                    n === "select" &&
                      ((o = t),
                      r.multiple
                        ? (o.multiple = !0)
                        : r.size && (o.size = r.size)))
              : (t = o.createElementNS(t, n)),
            (t[ar] = e),
            (t[Ql] = r),
            c2(t, e, !1, !1),
            (e.stateNode = t);
          e: {
            switch (((o = Np(n, r)), n)) {
              case "dialog":
                xe("cancel", t), xe("close", t), (i = r);
                break;
              case "iframe":
              case "object":
              case "embed":
                xe("load", t), (i = r);
                break;
              case "video":
              case "audio":
                for (i = 0; i < ml.length; i++) xe(ml[i], t);
                i = r;
                break;
              case "source":
                xe("error", t), (i = r);
                break;
              case "img":
              case "image":
              case "link":
                xe("error", t), xe("load", t), (i = r);
                break;
              case "details":
                xe("toggle", t), (i = r);
                break;
              case "input":
                l1(t, r), (i = Tp(t, r)), xe("invalid", t);
                break;
              case "option":
                i = r;
                break;
              case "select":
                (t._wrapperState = { wasMultiple: !!r.multiple }),
                  (i = De({}, r, { value: void 0 })),
                  xe("invalid", t);
                break;
              case "textarea":
                u1(t, r), (i = Dp(t, r)), xe("invalid", t);
                break;
              default:
                i = r;
            }
            Bp(n, i), (l = i);
            for (s in l)
              if (l.hasOwnProperty(s)) {
                var a = l[s];
                s === "style"
                  ? Vx(t, a)
                  : s === "dangerouslySetInnerHTML"
                    ? ((a = a ? a.__html : void 0), a != null && zx(t, a))
                    : s === "children"
                      ? typeof a == "string"
                        ? (n !== "textarea" || a !== "") && Vl(t, a)
                        : typeof a == "number" && Vl(t, "" + a)
                      : s !== "suppressContentEditableWarning" &&
                        s !== "suppressHydrationWarning" &&
                        s !== "autoFocus" &&
                        (jl.hasOwnProperty(s)
                          ? a != null && s === "onScroll" && xe("scroll", t)
                          : a != null && Wg(t, s, a, o));
              }
            switch (n) {
              case "input":
                vu(t), a1(t, r, !1);
                break;
              case "textarea":
                vu(t), c1(t);
                break;
              case "option":
                r.value != null && t.setAttribute("value", "" + Ci(r.value));
                break;
              case "select":
                (t.multiple = !!r.multiple),
                  (s = r.value),
                  s != null
                    ? eo(t, !!r.multiple, s, !1)
                    : r.defaultValue != null &&
                      eo(t, !!r.multiple, r.defaultValue, !0);
                break;
              default:
                typeof i.onClick == "function" && (t.onclick = qc);
            }
            switch (n) {
              case "button":
              case "input":
              case "select":
              case "textarea":
                r = !!r.autoFocus;
                break e;
              case "img":
                r = !0;
                break e;
              default:
                r = !1;
            }
          }
          r && (e.flags |= 4);
        }
        e.ref !== null && ((e.flags |= 512), (e.flags |= 2097152));
      }
      return gt(e), null;
    case 6:
      if (t && e.stateNode != null) h2(t, e, t.memoizedProps, r);
      else {
        if (typeof r != "string" && e.stateNode === null) throw Error(E(166));
        if (((n = Gi(Zl.current)), Gi(gr.current), Ou(e))) {
          if (
            ((r = e.stateNode),
            (n = e.memoizedProps),
            (r[ar] = e),
            (s = r.nodeValue !== n) && ((t = tn), t !== null))
          )
            switch (t.tag) {
              case 3:
                Au(r.nodeValue, n, (t.mode & 1) !== 0);
                break;
              case 5:
                t.memoizedProps.suppressHydrationWarning !== !0 &&
                  Au(r.nodeValue, n, (t.mode & 1) !== 0);
            }
          s && (e.flags |= 4);
        } else
          (r = (n.nodeType === 9 ? n : n.ownerDocument).createTextNode(r)),
            (r[ar] = e),
            (e.stateNode = r);
      }
      return gt(e), null;
    case 13:
      if (
        (ke(Te),
        (r = e.memoizedState),
        t === null ||
          (t.memoizedState !== null && t.memoizedState.dehydrated !== null))
      ) {
        if (Ae && Jt !== null && e.mode & 1 && !(e.flags & 128))
          MS(), vo(), (e.flags |= 98560), (s = !1);
        else if (((s = Ou(e)), r !== null && r.dehydrated !== null)) {
          if (t === null) {
            if (!s) throw Error(E(318));
            if (
              ((s = e.memoizedState),
              (s = s !== null ? s.dehydrated : null),
              !s)
            )
              throw Error(E(317));
            s[ar] = e;
          } else
            vo(), !(e.flags & 128) && (e.memoizedState = null), (e.flags |= 4);
          gt(e), (s = !1);
        } else $n !== null && (gm($n), ($n = null)), (s = !0);
        if (!s) return e.flags & 65536 ? e : null;
      }
      return e.flags & 128
        ? ((e.lanes = n), e)
        : ((r = r !== null),
          r !== (t !== null && t.memoizedState !== null) &&
            r &&
            ((e.child.flags |= 8192),
            e.mode & 1 &&
              (t === null || Te.current & 1 ? Qe === 0 && (Qe = 3) : _0())),
          e.updateQueue !== null && (e.flags |= 4),
          gt(e),
          null);
    case 4:
      return (
        bo(), am(t, e), t === null && Yl(e.stateNode.containerInfo), gt(e), null
      );
    case 10:
      return a0(e.type._context), gt(e), null;
    case 17:
      return zt(e.type) && Gc(), gt(e), null;
    case 19:
      if ((ke(Te), (s = e.memoizedState), s === null)) return gt(e), null;
      if (((r = (e.flags & 128) !== 0), (o = s.rendering), o === null))
        if (r) rl(s, !1);
        else {
          if (Qe !== 0 || (t !== null && t.flags & 128))
            for (t = e.child; t !== null; ) {
              if (((o = tf(t)), o !== null)) {
                for (
                  e.flags |= 128,
                    rl(s, !1),
                    r = o.updateQueue,
                    r !== null && ((e.updateQueue = r), (e.flags |= 4)),
                    e.subtreeFlags = 0,
                    r = n,
                    n = e.child;
                  n !== null;

                )
                  (s = n),
                    (t = r),
                    (s.flags &= 14680066),
                    (o = s.alternate),
                    o === null
                      ? ((s.childLanes = 0),
                        (s.lanes = t),
                        (s.child = null),
                        (s.subtreeFlags = 0),
                        (s.memoizedProps = null),
                        (s.memoizedState = null),
                        (s.updateQueue = null),
                        (s.dependencies = null),
                        (s.stateNode = null))
                      : ((s.childLanes = o.childLanes),
                        (s.lanes = o.lanes),
                        (s.child = o.child),
                        (s.subtreeFlags = 0),
                        (s.deletions = null),
                        (s.memoizedProps = o.memoizedProps),
                        (s.memoizedState = o.memoizedState),
                        (s.updateQueue = o.updateQueue),
                        (s.type = o.type),
                        (t = o.dependencies),
                        (s.dependencies =
                          t === null
                            ? null
                            : {
                                lanes: t.lanes,
                                firstContext: t.firstContext,
                              })),
                    (n = n.sibling);
                return we(Te, (Te.current & 1) | 2), e.child;
              }
              t = t.sibling;
            }
          s.tail !== null &&
            Fe() > So &&
            ((e.flags |= 128), (r = !0), rl(s, !1), (e.lanes = 4194304));
        }
      else {
        if (!r)
          if (((t = tf(o)), t !== null)) {
            if (
              ((e.flags |= 128),
              (r = !0),
              (n = t.updateQueue),
              n !== null && ((e.updateQueue = n), (e.flags |= 4)),
              rl(s, !0),
              s.tail === null && s.tailMode === "hidden" && !o.alternate && !Ae)
            )
              return gt(e), null;
          } else
            2 * Fe() - s.renderingStartTime > So &&
              n !== 1073741824 &&
              ((e.flags |= 128), (r = !0), rl(s, !1), (e.lanes = 4194304));
        s.isBackwards
          ? ((o.sibling = e.child), (e.child = o))
          : ((n = s.last),
            n !== null ? (n.sibling = o) : (e.child = o),
            (s.last = o));
      }
      return s.tail !== null
        ? ((e = s.tail),
          (s.rendering = e),
          (s.tail = e.sibling),
          (s.renderingStartTime = Fe()),
          (e.sibling = null),
          (n = Te.current),
          we(Te, r ? (n & 1) | 2 : n & 1),
          e)
        : (gt(e), null);
    case 22:
    case 23:
      return (
        C0(),
        (r = e.memoizedState !== null),
        t !== null && (t.memoizedState !== null) !== r && (e.flags |= 8192),
        r && e.mode & 1
          ? Gt & 1073741824 && (gt(e), e.subtreeFlags & 6 && (e.flags |= 8192))
          : gt(e),
        null
      );
    case 24:
      return null;
    case 25:
      return null;
  }
  throw Error(E(156, e.tag));
}
function l5(t, e) {
  switch ((i0(e), e.tag)) {
    case 1:
      return (
        zt(e.type) && Gc(),
        (t = e.flags),
        t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 3:
      return (
        bo(),
        ke(Ft),
        ke(xt),
        d0(),
        (t = e.flags),
        t & 65536 && !(t & 128) ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 5:
      return h0(e), null;
    case 13:
      if (
        (ke(Te), (t = e.memoizedState), t !== null && t.dehydrated !== null)
      ) {
        if (e.alternate === null) throw Error(E(340));
        vo();
      }
      return (
        (t = e.flags), t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 19:
      return ke(Te), null;
    case 4:
      return bo(), null;
    case 10:
      return a0(e.type._context), null;
    case 22:
    case 23:
      return C0(), null;
    case 24:
      return null;
    default:
      return null;
  }
}
var Tu = !1,
  wt = !1,
  a5 = typeof WeakSet == "function" ? WeakSet : Set,
  N = null;
function Ks(t, e) {
  var n = t.ref;
  if (n !== null)
    if (typeof n == "function")
      try {
        n(null);
      } catch (r) {
        Ie(t, e, r);
      }
    else n.current = null;
}
function um(t, e, n) {
  try {
    n();
  } catch (r) {
    Ie(t, e, r);
  }
}
var Z1 = !1;
function u5(t, e) {
  if (((Kp = Hc), (t = gS()), n0(t))) {
    if ("selectionStart" in t)
      var n = { start: t.selectionStart, end: t.selectionEnd };
    else
      e: {
        n = ((n = t.ownerDocument) && n.defaultView) || window;
        var r = n.getSelection && n.getSelection();
        if (r && r.rangeCount !== 0) {
          n = r.anchorNode;
          var i = r.anchorOffset,
            s = r.focusNode;
          r = r.focusOffset;
          try {
            n.nodeType, s.nodeType;
          } catch {
            n = null;
            break e;
          }
          var o = 0,
            l = -1,
            a = -1,
            u = 0,
            c = 0,
            f = t,
            h = null;
          t: for (;;) {
            for (
              var d;
              f !== n || (i !== 0 && f.nodeType !== 3) || (l = o + i),
                f !== s || (r !== 0 && f.nodeType !== 3) || (a = o + r),
                f.nodeType === 3 && (o += f.nodeValue.length),
                (d = f.firstChild) !== null;

            )
              (h = f), (f = d);
            for (;;) {
              if (f === t) break t;
              if (
                (h === n && ++u === i && (l = o),
                h === s && ++c === r && (a = o),
                (d = f.nextSibling) !== null)
              )
                break;
              (f = h), (h = f.parentNode);
            }
            f = d;
          }
          n = l === -1 || a === -1 ? null : { start: l, end: a };
        } else n = null;
      }
    n = n || { start: 0, end: 0 };
  } else n = null;
  for (qp = { focusedElem: t, selectionRange: n }, Hc = !1, N = e; N !== null; )
    if (((e = N), (t = e.child), (e.subtreeFlags & 1028) !== 0 && t !== null))
      (t.return = e), (N = t);
    else
      for (; N !== null; ) {
        e = N;
        try {
          var p = e.alternate;
          if (e.flags & 1024)
            switch (e.tag) {
              case 0:
              case 11:
              case 15:
                break;
              case 1:
                if (p !== null) {
                  var m = p.memoizedProps,
                    w = p.memoizedState,
                    g = e.stateNode,
                    y = g.getSnapshotBeforeUpdate(
                      e.elementType === e.type ? m : Nn(e.type, m),
                      w
                    );
                  g.__reactInternalSnapshotBeforeUpdate = y;
                }
                break;
              case 3:
                var v = e.stateNode.containerInfo;
                v.nodeType === 1
                  ? (v.textContent = "")
                  : v.nodeType === 9 &&
                    v.documentElement &&
                    v.removeChild(v.documentElement);
                break;
              case 5:
              case 6:
              case 4:
              case 17:
                break;
              default:
                throw Error(E(163));
            }
        } catch (b) {
          Ie(e, e.return, b);
        }
        if (((t = e.sibling), t !== null)) {
          (t.return = e.return), (N = t);
          break;
        }
        N = e.return;
      }
  return (p = Z1), (Z1 = !1), p;
}
function Ol(t, e, n) {
  var r = e.updateQueue;
  if (((r = r !== null ? r.lastEffect : null), r !== null)) {
    var i = (r = r.next);
    do {
      if ((i.tag & t) === t) {
        var s = i.destroy;
        (i.destroy = void 0), s !== void 0 && um(e, n, s);
      }
      i = i.next;
    } while (i !== r);
  }
}
function fh(t, e) {
  if (
    ((e = e.updateQueue), (e = e !== null ? e.lastEffect : null), e !== null)
  ) {
    var n = (e = e.next);
    do {
      if ((n.tag & t) === t) {
        var r = n.create;
        n.destroy = r();
      }
      n = n.next;
    } while (n !== e);
  }
}
function cm(t) {
  var e = t.ref;
  if (e !== null) {
    var n = t.stateNode;
    switch (t.tag) {
      case 5:
        t = n;
        break;
      default:
        t = n;
    }
    typeof e == "function" ? e(t) : (e.current = t);
  }
}
function d2(t) {
  var e = t.alternate;
  e !== null && ((t.alternate = null), d2(e)),
    (t.child = null),
    (t.deletions = null),
    (t.sibling = null),
    t.tag === 5 &&
      ((e = t.stateNode),
      e !== null &&
        (delete e[ar], delete e[Ql], delete e[Xp], delete e[UM], delete e[KM])),
    (t.stateNode = null),
    (t.return = null),
    (t.dependencies = null),
    (t.memoizedProps = null),
    (t.memoizedState = null),
    (t.pendingProps = null),
    (t.stateNode = null),
    (t.updateQueue = null);
}
function p2(t) {
  return t.tag === 5 || t.tag === 3 || t.tag === 4;
}
function ev(t) {
  e: for (;;) {
    for (; t.sibling === null; ) {
      if (t.return === null || p2(t.return)) return null;
      t = t.return;
    }
    for (
      t.sibling.return = t.return, t = t.sibling;
      t.tag !== 5 && t.tag !== 6 && t.tag !== 18;

    ) {
      if (t.flags & 2 || t.child === null || t.tag === 4) continue e;
      (t.child.return = t), (t = t.child);
    }
    if (!(t.flags & 2)) return t.stateNode;
  }
}
function fm(t, e, n) {
  var r = t.tag;
  if (r === 5 || r === 6)
    (t = t.stateNode),
      e
        ? n.nodeType === 8
          ? n.parentNode.insertBefore(t, e)
          : n.insertBefore(t, e)
        : (n.nodeType === 8
            ? ((e = n.parentNode), e.insertBefore(t, n))
            : ((e = n), e.appendChild(t)),
          (n = n._reactRootContainer),
          n != null || e.onclick !== null || (e.onclick = qc));
  else if (r !== 4 && ((t = t.child), t !== null))
    for (fm(t, e, n), t = t.sibling; t !== null; ) fm(t, e, n), (t = t.sibling);
}
function hm(t, e, n) {
  var r = t.tag;
  if (r === 5 || r === 6)
    (t = t.stateNode), e ? n.insertBefore(t, e) : n.appendChild(t);
  else if (r !== 4 && ((t = t.child), t !== null))
    for (hm(t, e, n), t = t.sibling; t !== null; ) hm(t, e, n), (t = t.sibling);
}
var it = null,
  In = !1;
function Yr(t, e, n) {
  for (n = n.child; n !== null; ) m2(t, e, n), (n = n.sibling);
}
function m2(t, e, n) {
  if (mr && typeof mr.onCommitFiberUnmount == "function")
    try {
      mr.onCommitFiberUnmount(rh, n);
    } catch {}
  switch (n.tag) {
    case 5:
      wt || Ks(n, e);
    case 6:
      var r = it,
        i = In;
      (it = null),
        Yr(t, e, n),
        (it = r),
        (In = i),
        it !== null &&
          (In
            ? ((t = it),
              (n = n.stateNode),
              t.nodeType === 8 ? t.parentNode.removeChild(n) : t.removeChild(n))
            : it.removeChild(n.stateNode));
      break;
    case 18:
      it !== null &&
        (In
          ? ((t = it),
            (n = n.stateNode),
            t.nodeType === 8
              ? Md(t.parentNode, n)
              : t.nodeType === 1 && Md(t, n),
            Kl(t))
          : Md(it, n.stateNode));
      break;
    case 4:
      (r = it),
        (i = In),
        (it = n.stateNode.containerInfo),
        (In = !0),
        Yr(t, e, n),
        (it = r),
        (In = i);
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      if (
        !wt &&
        ((r = n.updateQueue), r !== null && ((r = r.lastEffect), r !== null))
      ) {
        i = r = r.next;
        do {
          var s = i,
            o = s.destroy;
          (s = s.tag),
            o !== void 0 && (s & 2 || s & 4) && um(n, e, o),
            (i = i.next);
        } while (i !== r);
      }
      Yr(t, e, n);
      break;
    case 1:
      if (
        !wt &&
        (Ks(n, e),
        (r = n.stateNode),
        typeof r.componentWillUnmount == "function")
      )
        try {
          (r.props = n.memoizedProps),
            (r.state = n.memoizedState),
            r.componentWillUnmount();
        } catch (l) {
          Ie(n, e, l);
        }
      Yr(t, e, n);
      break;
    case 21:
      Yr(t, e, n);
      break;
    case 22:
      n.mode & 1
        ? ((wt = (r = wt) || n.memoizedState !== null), Yr(t, e, n), (wt = r))
        : Yr(t, e, n);
      break;
    default:
      Yr(t, e, n);
  }
}
function tv(t) {
  var e = t.updateQueue;
  if (e !== null) {
    t.updateQueue = null;
    var n = t.stateNode;
    n === null && (n = t.stateNode = new a5()),
      e.forEach(function (r) {
        var i = v5.bind(null, t, r);
        n.has(r) || (n.add(r), r.then(i, i));
      });
  }
}
function Ln(t, e) {
  var n = e.deletions;
  if (n !== null)
    for (var r = 0; r < n.length; r++) {
      var i = n[r];
      try {
        var s = t,
          o = e,
          l = o;
        e: for (; l !== null; ) {
          switch (l.tag) {
            case 5:
              (it = l.stateNode), (In = !1);
              break e;
            case 3:
              (it = l.stateNode.containerInfo), (In = !0);
              break e;
            case 4:
              (it = l.stateNode.containerInfo), (In = !0);
              break e;
          }
          l = l.return;
        }
        if (it === null) throw Error(E(160));
        m2(s, o, i), (it = null), (In = !1);
        var a = i.alternate;
        a !== null && (a.return = null), (i.return = null);
      } catch (u) {
        Ie(i, e, u);
      }
    }
  if (e.subtreeFlags & 12854)
    for (e = e.child; e !== null; ) g2(e, t), (e = e.sibling);
}
function g2(t, e) {
  var n = t.alternate,
    r = t.flags;
  switch (t.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      if ((Ln(e, t), Xn(t), r & 4)) {
        try {
          Ol(3, t, t.return), fh(3, t);
        } catch (m) {
          Ie(t, t.return, m);
        }
        try {
          Ol(5, t, t.return);
        } catch (m) {
          Ie(t, t.return, m);
        }
      }
      break;
    case 1:
      Ln(e, t), Xn(t), r & 512 && n !== null && Ks(n, n.return);
      break;
    case 5:
      if (
        (Ln(e, t),
        Xn(t),
        r & 512 && n !== null && Ks(n, n.return),
        t.flags & 32)
      ) {
        var i = t.stateNode;
        try {
          Vl(i, "");
        } catch (m) {
          Ie(t, t.return, m);
        }
      }
      if (r & 4 && ((i = t.stateNode), i != null)) {
        var s = t.memoizedProps,
          o = n !== null ? n.memoizedProps : s,
          l = t.type,
          a = t.updateQueue;
        if (((t.updateQueue = null), a !== null))
          try {
            l === "input" && s.type === "radio" && s.name != null && Ix(i, s),
              Np(l, o);
            var u = Np(l, s);
            for (o = 0; o < a.length; o += 2) {
              var c = a[o],
                f = a[o + 1];
              c === "style"
                ? Vx(i, f)
                : c === "dangerouslySetInnerHTML"
                  ? zx(i, f)
                  : c === "children"
                    ? Vl(i, f)
                    : Wg(i, c, f, u);
            }
            switch (l) {
              case "input":
                Pp(i, s);
                break;
              case "textarea":
                $x(i, s);
                break;
              case "select":
                var h = i._wrapperState.wasMultiple;
                i._wrapperState.wasMultiple = !!s.multiple;
                var d = s.value;
                d != null
                  ? eo(i, !!s.multiple, d, !1)
                  : h !== !!s.multiple &&
                    (s.defaultValue != null
                      ? eo(i, !!s.multiple, s.defaultValue, !0)
                      : eo(i, !!s.multiple, s.multiple ? [] : "", !1));
            }
            i[Ql] = s;
          } catch (m) {
            Ie(t, t.return, m);
          }
      }
      break;
    case 6:
      if ((Ln(e, t), Xn(t), r & 4)) {
        if (t.stateNode === null) throw Error(E(162));
        (i = t.stateNode), (s = t.memoizedProps);
        try {
          i.nodeValue = s;
        } catch (m) {
          Ie(t, t.return, m);
        }
      }
      break;
    case 3:
      if (
        (Ln(e, t), Xn(t), r & 4 && n !== null && n.memoizedState.isDehydrated)
      )
        try {
          Kl(e.containerInfo);
        } catch (m) {
          Ie(t, t.return, m);
        }
      break;
    case 4:
      Ln(e, t), Xn(t);
      break;
    case 13:
      Ln(e, t),
        Xn(t),
        (i = t.child),
        i.flags & 8192 &&
          ((s = i.memoizedState !== null),
          (i.stateNode.isHidden = s),
          !s ||
            (i.alternate !== null && i.alternate.memoizedState !== null) ||
            (S0 = Fe())),
        r & 4 && tv(t);
      break;
    case 22:
      if (
        ((c = n !== null && n.memoizedState !== null),
        t.mode & 1 ? ((wt = (u = wt) || c), Ln(e, t), (wt = u)) : Ln(e, t),
        Xn(t),
        r & 8192)
      ) {
        if (
          ((u = t.memoizedState !== null),
          (t.stateNode.isHidden = u) && !c && t.mode & 1)
        )
          for (N = t, c = t.child; c !== null; ) {
            for (f = N = c; N !== null; ) {
              switch (((h = N), (d = h.child), h.tag)) {
                case 0:
                case 11:
                case 14:
                case 15:
                  Ol(4, h, h.return);
                  break;
                case 1:
                  Ks(h, h.return);
                  var p = h.stateNode;
                  if (typeof p.componentWillUnmount == "function") {
                    (r = h), (n = h.return);
                    try {
                      (e = r),
                        (p.props = e.memoizedProps),
                        (p.state = e.memoizedState),
                        p.componentWillUnmount();
                    } catch (m) {
                      Ie(r, n, m);
                    }
                  }
                  break;
                case 5:
                  Ks(h, h.return);
                  break;
                case 22:
                  if (h.memoizedState !== null) {
                    rv(f);
                    continue;
                  }
              }
              d !== null ? ((d.return = h), (N = d)) : rv(f);
            }
            c = c.sibling;
          }
        e: for (c = null, f = t; ; ) {
          if (f.tag === 5) {
            if (c === null) {
              c = f;
              try {
                (i = f.stateNode),
                  u
                    ? ((s = i.style),
                      typeof s.setProperty == "function"
                        ? s.setProperty("display", "none", "important")
                        : (s.display = "none"))
                    : ((l = f.stateNode),
                      (a = f.memoizedProps.style),
                      (o =
                        a != null && a.hasOwnProperty("display")
                          ? a.display
                          : null),
                      (l.style.display = jx("display", o)));
              } catch (m) {
                Ie(t, t.return, m);
              }
            }
          } else if (f.tag === 6) {
            if (c === null)
              try {
                f.stateNode.nodeValue = u ? "" : f.memoizedProps;
              } catch (m) {
                Ie(t, t.return, m);
              }
          } else if (
            ((f.tag !== 22 && f.tag !== 23) ||
              f.memoizedState === null ||
              f === t) &&
            f.child !== null
          ) {
            (f.child.return = f), (f = f.child);
            continue;
          }
          if (f === t) break e;
          for (; f.sibling === null; ) {
            if (f.return === null || f.return === t) break e;
            c === f && (c = null), (f = f.return);
          }
          c === f && (c = null), (f.sibling.return = f.return), (f = f.sibling);
        }
      }
      break;
    case 19:
      Ln(e, t), Xn(t), r & 4 && tv(t);
      break;
    case 21:
      break;
    default:
      Ln(e, t), Xn(t);
  }
}
function Xn(t) {
  var e = t.flags;
  if (e & 2) {
    try {
      e: {
        for (var n = t.return; n !== null; ) {
          if (p2(n)) {
            var r = n;
            break e;
          }
          n = n.return;
        }
        throw Error(E(160));
      }
      switch (r.tag) {
        case 5:
          var i = r.stateNode;
          r.flags & 32 && (Vl(i, ""), (r.flags &= -33));
          var s = ev(t);
          hm(t, s, i);
          break;
        case 3:
        case 4:
          var o = r.stateNode.containerInfo,
            l = ev(t);
          fm(t, l, o);
          break;
        default:
          throw Error(E(161));
      }
    } catch (a) {
      Ie(t, t.return, a);
    }
    t.flags &= -3;
  }
  e & 4096 && (t.flags &= -4097);
}
function c5(t, e, n) {
  (N = t), y2(t);
}
function y2(t, e, n) {
  for (var r = (t.mode & 1) !== 0; N !== null; ) {
    var i = N,
      s = i.child;
    if (i.tag === 22 && r) {
      var o = i.memoizedState !== null || Tu;
      if (!o) {
        var l = i.alternate,
          a = (l !== null && l.memoizedState !== null) || wt;
        l = Tu;
        var u = wt;
        if (((Tu = o), (wt = a) && !u))
          for (N = i; N !== null; )
            (o = N),
              (a = o.child),
              o.tag === 22 && o.memoizedState !== null
                ? iv(i)
                : a !== null
                  ? ((a.return = o), (N = a))
                  : iv(i);
        for (; s !== null; ) (N = s), y2(s), (s = s.sibling);
        (N = i), (Tu = l), (wt = u);
      }
      nv(t);
    } else
      i.subtreeFlags & 8772 && s !== null ? ((s.return = i), (N = s)) : nv(t);
  }
}
function nv(t) {
  for (; N !== null; ) {
    var e = N;
    if (e.flags & 8772) {
      var n = e.alternate;
      try {
        if (e.flags & 8772)
          switch (e.tag) {
            case 0:
            case 11:
            case 15:
              wt || fh(5, e);
              break;
            case 1:
              var r = e.stateNode;
              if (e.flags & 4 && !wt)
                if (n === null) r.componentDidMount();
                else {
                  var i =
                    e.elementType === e.type
                      ? n.memoizedProps
                      : Nn(e.type, n.memoizedProps);
                  r.componentDidUpdate(
                    i,
                    n.memoizedState,
                    r.__reactInternalSnapshotBeforeUpdate
                  );
                }
              var s = e.updateQueue;
              s !== null && F1(e, s, r);
              break;
            case 3:
              var o = e.updateQueue;
              if (o !== null) {
                if (((n = null), e.child !== null))
                  switch (e.child.tag) {
                    case 5:
                      n = e.child.stateNode;
                      break;
                    case 1:
                      n = e.child.stateNode;
                  }
                F1(e, o, n);
              }
              break;
            case 5:
              var l = e.stateNode;
              if (n === null && e.flags & 4) {
                n = l;
                var a = e.memoizedProps;
                switch (e.type) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    a.autoFocus && n.focus();
                    break;
                  case "img":
                    a.src && (n.src = a.src);
                }
              }
              break;
            case 6:
              break;
            case 4:
              break;
            case 12:
              break;
            case 13:
              if (e.memoizedState === null) {
                var u = e.alternate;
                if (u !== null) {
                  var c = u.memoizedState;
                  if (c !== null) {
                    var f = c.dehydrated;
                    f !== null && Kl(f);
                  }
                }
              }
              break;
            case 19:
            case 17:
            case 21:
            case 22:
            case 23:
            case 25:
              break;
            default:
              throw Error(E(163));
          }
        wt || (e.flags & 512 && cm(e));
      } catch (h) {
        Ie(e, e.return, h);
      }
    }
    if (e === t) {
      N = null;
      break;
    }
    if (((n = e.sibling), n !== null)) {
      (n.return = e.return), (N = n);
      break;
    }
    N = e.return;
  }
}
function rv(t) {
  for (; N !== null; ) {
    var e = N;
    if (e === t) {
      N = null;
      break;
    }
    var n = e.sibling;
    if (n !== null) {
      (n.return = e.return), (N = n);
      break;
    }
    N = e.return;
  }
}
function iv(t) {
  for (; N !== null; ) {
    var e = N;
    try {
      switch (e.tag) {
        case 0:
        case 11:
        case 15:
          var n = e.return;
          try {
            fh(4, e);
          } catch (a) {
            Ie(e, n, a);
          }
          break;
        case 1:
          var r = e.stateNode;
          if (typeof r.componentDidMount == "function") {
            var i = e.return;
            try {
              r.componentDidMount();
            } catch (a) {
              Ie(e, i, a);
            }
          }
          var s = e.return;
          try {
            cm(e);
          } catch (a) {
            Ie(e, s, a);
          }
          break;
        case 5:
          var o = e.return;
          try {
            cm(e);
          } catch (a) {
            Ie(e, o, a);
          }
      }
    } catch (a) {
      Ie(e, e.return, a);
    }
    if (e === t) {
      N = null;
      break;
    }
    var l = e.sibling;
    if (l !== null) {
      (l.return = e.return), (N = l);
      break;
    }
    N = e.return;
  }
}
var f5 = Math.ceil,
  sf = Ur.ReactCurrentDispatcher,
  b0 = Ur.ReactCurrentOwner,
  Cn = Ur.ReactCurrentBatchConfig,
  ie = 0,
  et = null,
  Ue = null,
  ht = 0,
  Gt = 0,
  qs = Di(0),
  Qe = 0,
  ra = null,
  is = 0,
  hh = 0,
  x0 = 0,
  El = null,
  Lt = null,
  S0 = 0,
  So = 1 / 0,
  Ar = null,
  of = !1,
  dm = null,
  gi = null,
  Pu = !1,
  si = null,
  lf = 0,
  Ml = 0,
  pm = null,
  bc = -1,
  xc = 0;
function Et() {
  return ie & 6 ? Fe() : bc !== -1 ? bc : (bc = Fe());
}
function yi(t) {
  return t.mode & 1
    ? ie & 2 && ht !== 0
      ? ht & -ht
      : GM.transition !== null
        ? (xc === 0 && (xc = eS()), xc)
        : ((t = he),
          t !== 0 || ((t = window.event), (t = t === void 0 ? 16 : lS(t.type))),
          t)
    : 1;
}
function jn(t, e, n, r) {
  if (50 < Ml) throw ((Ml = 0), (pm = null), Error(E(185)));
  ja(t, n, r),
    (!(ie & 2) || t !== et) &&
      (t === et && (!(ie & 2) && (hh |= n), Qe === 4 && ti(t, ht)),
      jt(t, r),
      n === 1 && ie === 0 && !(e.mode & 1) && ((So = Fe() + 500), ah && Li()));
}
function jt(t, e) {
  var n = t.callbackNode;
  GE(t, e);
  var r = Wc(t, t === et ? ht : 0);
  if (r === 0)
    n !== null && d1(n), (t.callbackNode = null), (t.callbackPriority = 0);
  else if (((e = r & -r), t.callbackPriority !== e)) {
    if ((n != null && d1(n), e === 1))
      t.tag === 0 ? qM(sv.bind(null, t)) : AS(sv.bind(null, t)),
        WM(function () {
          !(ie & 6) && Li();
        }),
        (n = null);
    else {
      switch (tS(r)) {
        case 1:
          n = Gg;
          break;
        case 4:
          n = Jx;
          break;
        case 16:
          n = Vc;
          break;
        case 536870912:
          n = Zx;
          break;
        default:
          n = Vc;
      }
      n = _2(n, v2.bind(null, t));
    }
    (t.callbackPriority = e), (t.callbackNode = n);
  }
}
function v2(t, e) {
  if (((bc = -1), (xc = 0), ie & 6)) throw Error(E(327));
  var n = t.callbackNode;
  if (so() && t.callbackNode !== n) return null;
  var r = Wc(t, t === et ? ht : 0);
  if (r === 0) return null;
  if (r & 30 || r & t.expiredLanes || e) e = af(t, r);
  else {
    e = r;
    var i = ie;
    ie |= 2;
    var s = b2();
    (et !== t || ht !== e) && ((Ar = null), (So = Fe() + 500), Ji(t, e));
    do
      try {
        p5();
        break;
      } catch (l) {
        w2(t, l);
      }
    while (!0);
    l0(),
      (sf.current = s),
      (ie = i),
      Ue !== null ? (e = 0) : ((et = null), (ht = 0), (e = Qe));
  }
  if (e !== 0) {
    if (
      (e === 2 && ((i = jp(t)), i !== 0 && ((r = i), (e = mm(t, i)))), e === 1)
    )
      throw ((n = ra), Ji(t, 0), ti(t, r), jt(t, Fe()), n);
    if (e === 6) ti(t, r);
    else {
      if (
        ((i = t.current.alternate),
        !(r & 30) &&
          !h5(i) &&
          ((e = af(t, r)),
          e === 2 && ((s = jp(t)), s !== 0 && ((r = s), (e = mm(t, s)))),
          e === 1))
      )
        throw ((n = ra), Ji(t, 0), ti(t, r), jt(t, Fe()), n);
      switch (((t.finishedWork = i), (t.finishedLanes = r), e)) {
        case 0:
        case 1:
          throw Error(E(345));
        case 2:
          Wi(t, Lt, Ar);
          break;
        case 3:
          if (
            (ti(t, r), (r & 130023424) === r && ((e = S0 + 500 - Fe()), 10 < e))
          ) {
            if (Wc(t, 0) !== 0) break;
            if (((i = t.suspendedLanes), (i & r) !== r)) {
              Et(), (t.pingedLanes |= t.suspendedLanes & i);
              break;
            }
            t.timeoutHandle = Yp(Wi.bind(null, t, Lt, Ar), e);
            break;
          }
          Wi(t, Lt, Ar);
          break;
        case 4:
          if ((ti(t, r), (r & 4194240) === r)) break;
          for (e = t.eventTimes, i = -1; 0 < r; ) {
            var o = 31 - zn(r);
            (s = 1 << o), (o = e[o]), o > i && (i = o), (r &= ~s);
          }
          if (
            ((r = i),
            (r = Fe() - r),
            (r =
              (120 > r
                ? 120
                : 480 > r
                  ? 480
                  : 1080 > r
                    ? 1080
                    : 1920 > r
                      ? 1920
                      : 3e3 > r
                        ? 3e3
                        : 4320 > r
                          ? 4320
                          : 1960 * f5(r / 1960)) - r),
            10 < r)
          ) {
            t.timeoutHandle = Yp(Wi.bind(null, t, Lt, Ar), r);
            break;
          }
          Wi(t, Lt, Ar);
          break;
        case 5:
          Wi(t, Lt, Ar);
          break;
        default:
          throw Error(E(329));
      }
    }
  }
  return jt(t, Fe()), t.callbackNode === n ? v2.bind(null, t) : null;
}
function mm(t, e) {
  var n = El;
  return (
    t.current.memoizedState.isDehydrated && (Ji(t, e).flags |= 256),
    (t = af(t, e)),
    t !== 2 && ((e = Lt), (Lt = n), e !== null && gm(e)),
    t
  );
}
function gm(t) {
  Lt === null ? (Lt = t) : Lt.push.apply(Lt, t);
}
function h5(t) {
  for (var e = t; ; ) {
    if (e.flags & 16384) {
      var n = e.updateQueue;
      if (n !== null && ((n = n.stores), n !== null))
        for (var r = 0; r < n.length; r++) {
          var i = n[r],
            s = i.getSnapshot;
          i = i.value;
          try {
            if (!Hn(s(), i)) return !1;
          } catch {
            return !1;
          }
        }
    }
    if (((n = e.child), e.subtreeFlags & 16384 && n !== null))
      (n.return = e), (e = n);
    else {
      if (e === t) break;
      for (; e.sibling === null; ) {
        if (e.return === null || e.return === t) return !0;
        e = e.return;
      }
      (e.sibling.return = e.return), (e = e.sibling);
    }
  }
  return !0;
}
function ti(t, e) {
  for (
    e &= ~x0,
      e &= ~hh,
      t.suspendedLanes |= e,
      t.pingedLanes &= ~e,
      t = t.expirationTimes;
    0 < e;

  ) {
    var n = 31 - zn(e),
      r = 1 << n;
    (t[n] = -1), (e &= ~r);
  }
}
function sv(t) {
  if (ie & 6) throw Error(E(327));
  so();
  var e = Wc(t, 0);
  if (!(e & 1)) return jt(t, Fe()), null;
  var n = af(t, e);
  if (t.tag !== 0 && n === 2) {
    var r = jp(t);
    r !== 0 && ((e = r), (n = mm(t, r)));
  }
  if (n === 1) throw ((n = ra), Ji(t, 0), ti(t, e), jt(t, Fe()), n);
  if (n === 6) throw Error(E(345));
  return (
    (t.finishedWork = t.current.alternate),
    (t.finishedLanes = e),
    Wi(t, Lt, Ar),
    jt(t, Fe()),
    null
  );
}
function k0(t, e) {
  var n = ie;
  ie |= 1;
  try {
    return t(e);
  } finally {
    (ie = n), ie === 0 && ((So = Fe() + 500), ah && Li());
  }
}
function ss(t) {
  si !== null && si.tag === 0 && !(ie & 6) && so();
  var e = ie;
  ie |= 1;
  var n = Cn.transition,
    r = he;
  try {
    if (((Cn.transition = null), (he = 1), t)) return t();
  } finally {
    (he = r), (Cn.transition = n), (ie = e), !(ie & 6) && Li();
  }
}
function C0() {
  (Gt = qs.current), ke(qs);
}
function Ji(t, e) {
  (t.finishedWork = null), (t.finishedLanes = 0);
  var n = t.timeoutHandle;
  if ((n !== -1 && ((t.timeoutHandle = -1), VM(n)), Ue !== null))
    for (n = Ue.return; n !== null; ) {
      var r = n;
      switch ((i0(r), r.tag)) {
        case 1:
          (r = r.type.childContextTypes), r != null && Gc();
          break;
        case 3:
          bo(), ke(Ft), ke(xt), d0();
          break;
        case 5:
          h0(r);
          break;
        case 4:
          bo();
          break;
        case 13:
          ke(Te);
          break;
        case 19:
          ke(Te);
          break;
        case 10:
          a0(r.type._context);
          break;
        case 22:
        case 23:
          C0();
      }
      n = n.return;
    }
  if (
    ((et = t),
    (Ue = t = vi(t.current, null)),
    (ht = Gt = e),
    (Qe = 0),
    (ra = null),
    (x0 = hh = is = 0),
    (Lt = El = null),
    qi !== null)
  ) {
    for (e = 0; e < qi.length; e++)
      if (((n = qi[e]), (r = n.interleaved), r !== null)) {
        n.interleaved = null;
        var i = r.next,
          s = n.pending;
        if (s !== null) {
          var o = s.next;
          (s.next = i), (r.next = o);
        }
        n.pending = r;
      }
    qi = null;
  }
  return t;
}
function w2(t, e) {
  do {
    var n = Ue;
    try {
      if ((l0(), (yc.current = rf), nf)) {
        for (var r = Re.memoizedState; r !== null; ) {
          var i = r.queue;
          i !== null && (i.pending = null), (r = r.next);
        }
        nf = !1;
      }
      if (
        ((rs = 0),
        (Ze = Ge = Re = null),
        (Al = !1),
        (ea = 0),
        (b0.current = null),
        n === null || n.return === null)
      ) {
        (Qe = 1), (ra = e), (Ue = null);
        break;
      }
      e: {
        var s = t,
          o = n.return,
          l = n,
          a = e;
        if (
          ((e = ht),
          (l.flags |= 32768),
          a !== null && typeof a == "object" && typeof a.then == "function")
        ) {
          var u = a,
            c = l,
            f = c.tag;
          if (!(c.mode & 1) && (f === 0 || f === 11 || f === 15)) {
            var h = c.alternate;
            h
              ? ((c.updateQueue = h.updateQueue),
                (c.memoizedState = h.memoizedState),
                (c.lanes = h.lanes))
              : ((c.updateQueue = null), (c.memoizedState = null));
          }
          var d = K1(o);
          if (d !== null) {
            (d.flags &= -257),
              q1(d, o, l, s, e),
              d.mode & 1 && U1(s, u, e),
              (e = d),
              (a = u);
            var p = e.updateQueue;
            if (p === null) {
              var m = new Set();
              m.add(a), (e.updateQueue = m);
            } else p.add(a);
            break e;
          } else {
            if (!(e & 1)) {
              U1(s, u, e), _0();
              break e;
            }
            a = Error(E(426));
          }
        } else if (Ae && l.mode & 1) {
          var w = K1(o);
          if (w !== null) {
            !(w.flags & 65536) && (w.flags |= 256),
              q1(w, o, l, s, e),
              s0(xo(a, l));
            break e;
          }
        }
        (s = a = xo(a, l)),
          Qe !== 4 && (Qe = 2),
          El === null ? (El = [s]) : El.push(s),
          (s = o);
        do {
          switch (s.tag) {
            case 3:
              (s.flags |= 65536), (e &= -e), (s.lanes |= e);
              var g = n2(s, a, e);
              $1(s, g);
              break e;
            case 1:
              l = a;
              var y = s.type,
                v = s.stateNode;
              if (
                !(s.flags & 128) &&
                (typeof y.getDerivedStateFromError == "function" ||
                  (v !== null &&
                    typeof v.componentDidCatch == "function" &&
                    (gi === null || !gi.has(v))))
              ) {
                (s.flags |= 65536), (e &= -e), (s.lanes |= e);
                var b = r2(s, l, e);
                $1(s, b);
                break e;
              }
          }
          s = s.return;
        } while (s !== null);
      }
      S2(n);
    } catch (x) {
      (e = x), Ue === n && n !== null && (Ue = n = n.return);
      continue;
    }
    break;
  } while (!0);
}
function b2() {
  var t = sf.current;
  return (sf.current = rf), t === null ? rf : t;
}
function _0() {
  (Qe === 0 || Qe === 3 || Qe === 2) && (Qe = 4),
    et === null || (!(is & 268435455) && !(hh & 268435455)) || ti(et, ht);
}
function af(t, e) {
  var n = ie;
  ie |= 2;
  var r = b2();
  (et !== t || ht !== e) && ((Ar = null), Ji(t, e));
  do
    try {
      d5();
      break;
    } catch (i) {
      w2(t, i);
    }
  while (!0);
  if ((l0(), (ie = n), (sf.current = r), Ue !== null)) throw Error(E(261));
  return (et = null), (ht = 0), Qe;
}
function d5() {
  for (; Ue !== null; ) x2(Ue);
}
function p5() {
  for (; Ue !== null && !FE(); ) x2(Ue);
}
function x2(t) {
  var e = C2(t.alternate, t, Gt);
  (t.memoizedProps = t.pendingProps),
    e === null ? S2(t) : (Ue = e),
    (b0.current = null);
}
function S2(t) {
  var e = t;
  do {
    var n = e.alternate;
    if (((t = e.return), e.flags & 32768)) {
      if (((n = l5(n, e)), n !== null)) {
        (n.flags &= 32767), (Ue = n);
        return;
      }
      if (t !== null)
        (t.flags |= 32768), (t.subtreeFlags = 0), (t.deletions = null);
      else {
        (Qe = 6), (Ue = null);
        return;
      }
    } else if (((n = o5(n, e, Gt)), n !== null)) {
      Ue = n;
      return;
    }
    if (((e = e.sibling), e !== null)) {
      Ue = e;
      return;
    }
    Ue = e = t;
  } while (e !== null);
  Qe === 0 && (Qe = 5);
}
function Wi(t, e, n) {
  var r = he,
    i = Cn.transition;
  try {
    (Cn.transition = null), (he = 1), m5(t, e, n, r);
  } finally {
    (Cn.transition = i), (he = r);
  }
  return null;
}
function m5(t, e, n, r) {
  do so();
  while (si !== null);
  if (ie & 6) throw Error(E(327));
  n = t.finishedWork;
  var i = t.finishedLanes;
  if (n === null) return null;
  if (((t.finishedWork = null), (t.finishedLanes = 0), n === t.current))
    throw Error(E(177));
  (t.callbackNode = null), (t.callbackPriority = 0);
  var s = n.lanes | n.childLanes;
  if (
    (YE(t, s),
    t === et && ((Ue = et = null), (ht = 0)),
    (!(n.subtreeFlags & 2064) && !(n.flags & 2064)) ||
      Pu ||
      ((Pu = !0),
      _2(Vc, function () {
        return so(), null;
      })),
    (s = (n.flags & 15990) !== 0),
    n.subtreeFlags & 15990 || s)
  ) {
    (s = Cn.transition), (Cn.transition = null);
    var o = he;
    he = 1;
    var l = ie;
    (ie |= 4),
      (b0.current = null),
      u5(t, n),
      g2(n, t),
      BM(qp),
      (Hc = !!Kp),
      (qp = Kp = null),
      (t.current = n),
      c5(n),
      zE(),
      (ie = l),
      (he = o),
      (Cn.transition = s);
  } else t.current = n;
  if (
    (Pu && ((Pu = !1), (si = t), (lf = i)),
    (s = t.pendingLanes),
    s === 0 && (gi = null),
    WE(n.stateNode),
    jt(t, Fe()),
    e !== null)
  )
    for (r = t.onRecoverableError, n = 0; n < e.length; n++)
      (i = e[n]), r(i.value, { componentStack: i.stack, digest: i.digest });
  if (of) throw ((of = !1), (t = dm), (dm = null), t);
  return (
    lf & 1 && t.tag !== 0 && so(),
    (s = t.pendingLanes),
    s & 1 ? (t === pm ? Ml++ : ((Ml = 0), (pm = t))) : (Ml = 0),
    Li(),
    null
  );
}
function so() {
  if (si !== null) {
    var t = tS(lf),
      e = Cn.transition,
      n = he;
    try {
      if (((Cn.transition = null), (he = 16 > t ? 16 : t), si === null))
        var r = !1;
      else {
        if (((t = si), (si = null), (lf = 0), ie & 6)) throw Error(E(331));
        var i = ie;
        for (ie |= 4, N = t.current; N !== null; ) {
          var s = N,
            o = s.child;
          if (N.flags & 16) {
            var l = s.deletions;
            if (l !== null) {
              for (var a = 0; a < l.length; a++) {
                var u = l[a];
                for (N = u; N !== null; ) {
                  var c = N;
                  switch (c.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Ol(8, c, s);
                  }
                  var f = c.child;
                  if (f !== null) (f.return = c), (N = f);
                  else
                    for (; N !== null; ) {
                      c = N;
                      var h = c.sibling,
                        d = c.return;
                      if ((d2(c), c === u)) {
                        N = null;
                        break;
                      }
                      if (h !== null) {
                        (h.return = d), (N = h);
                        break;
                      }
                      N = d;
                    }
                }
              }
              var p = s.alternate;
              if (p !== null) {
                var m = p.child;
                if (m !== null) {
                  p.child = null;
                  do {
                    var w = m.sibling;
                    (m.sibling = null), (m = w);
                  } while (m !== null);
                }
              }
              N = s;
            }
          }
          if (s.subtreeFlags & 2064 && o !== null) (o.return = s), (N = o);
          else
            e: for (; N !== null; ) {
              if (((s = N), s.flags & 2048))
                switch (s.tag) {
                  case 0:
                  case 11:
                  case 15:
                    Ol(9, s, s.return);
                }
              var g = s.sibling;
              if (g !== null) {
                (g.return = s.return), (N = g);
                break e;
              }
              N = s.return;
            }
        }
        var y = t.current;
        for (N = y; N !== null; ) {
          o = N;
          var v = o.child;
          if (o.subtreeFlags & 2064 && v !== null) (v.return = o), (N = v);
          else
            e: for (o = y; N !== null; ) {
              if (((l = N), l.flags & 2048))
                try {
                  switch (l.tag) {
                    case 0:
                    case 11:
                    case 15:
                      fh(9, l);
                  }
                } catch (x) {
                  Ie(l, l.return, x);
                }
              if (l === o) {
                N = null;
                break e;
              }
              var b = l.sibling;
              if (b !== null) {
                (b.return = l.return), (N = b);
                break e;
              }
              N = l.return;
            }
        }
        if (
          ((ie = i), Li(), mr && typeof mr.onPostCommitFiberRoot == "function")
        )
          try {
            mr.onPostCommitFiberRoot(rh, t);
          } catch {}
        r = !0;
      }
      return r;
    } finally {
      (he = n), (Cn.transition = e);
    }
  }
  return !1;
}
function ov(t, e, n) {
  (e = xo(n, e)),
    (e = n2(t, e, 1)),
    (t = mi(t, e, 1)),
    (e = Et()),
    t !== null && (ja(t, 1, e), jt(t, e));
}
function Ie(t, e, n) {
  if (t.tag === 3) ov(t, t, n);
  else
    for (; e !== null; ) {
      if (e.tag === 3) {
        ov(e, t, n);
        break;
      } else if (e.tag === 1) {
        var r = e.stateNode;
        if (
          typeof e.type.getDerivedStateFromError == "function" ||
          (typeof r.componentDidCatch == "function" &&
            (gi === null || !gi.has(r)))
        ) {
          (t = xo(n, t)),
            (t = r2(e, t, 1)),
            (e = mi(e, t, 1)),
            (t = Et()),
            e !== null && (ja(e, 1, t), jt(e, t));
          break;
        }
      }
      e = e.return;
    }
}
function g5(t, e, n) {
  var r = t.pingCache;
  r !== null && r.delete(e),
    (e = Et()),
    (t.pingedLanes |= t.suspendedLanes & n),
    et === t &&
      (ht & n) === n &&
      (Qe === 4 || (Qe === 3 && (ht & 130023424) === ht && 500 > Fe() - S0)
        ? Ji(t, 0)
        : (x0 |= n)),
    jt(t, e);
}
function k2(t, e) {
  e === 0 &&
    (t.mode & 1
      ? ((e = xu), (xu <<= 1), !(xu & 130023424) && (xu = 4194304))
      : (e = 1));
  var n = Et();
  (t = Ir(t, e)), t !== null && (ja(t, e, n), jt(t, n));
}
function y5(t) {
  var e = t.memoizedState,
    n = 0;
  e !== null && (n = e.retryLane), k2(t, n);
}
function v5(t, e) {
  var n = 0;
  switch (t.tag) {
    case 13:
      var r = t.stateNode,
        i = t.memoizedState;
      i !== null && (n = i.retryLane);
      break;
    case 19:
      r = t.stateNode;
      break;
    default:
      throw Error(E(314));
  }
  r !== null && r.delete(e), k2(t, n);
}
var C2;
C2 = function (t, e, n) {
  if (t !== null)
    if (t.memoizedProps !== e.pendingProps || Ft.current) Nt = !0;
    else {
      if (!(t.lanes & n) && !(e.flags & 128)) return (Nt = !1), s5(t, e, n);
      Nt = !!(t.flags & 131072);
    }
  else (Nt = !1), Ae && e.flags & 1048576 && OS(e, Qc, e.index);
  switch (((e.lanes = 0), e.tag)) {
    case 2:
      var r = e.type;
      wc(t, e), (t = e.pendingProps);
      var i = yo(e, xt.current);
      io(e, n), (i = m0(null, e, r, t, i, n));
      var s = g0();
      return (
        (e.flags |= 1),
        typeof i == "object" &&
        i !== null &&
        typeof i.render == "function" &&
        i.$$typeof === void 0
          ? ((e.tag = 1),
            (e.memoizedState = null),
            (e.updateQueue = null),
            zt(r) ? ((s = !0), Yc(e)) : (s = !1),
            (e.memoizedState =
              i.state !== null && i.state !== void 0 ? i.state : null),
            c0(e),
            (i.updater = uh),
            (e.stateNode = i),
            (i._reactInternals = e),
            nm(e, r, t, n),
            (e = sm(null, e, r, !0, s, n)))
          : ((e.tag = 0), Ae && s && r0(e), _t(null, e, i, n), (e = e.child)),
        e
      );
    case 16:
      r = e.elementType;
      e: {
        switch (
          (wc(t, e),
          (t = e.pendingProps),
          (i = r._init),
          (r = i(r._payload)),
          (e.type = r),
          (i = e.tag = b5(r)),
          (t = Nn(r, t)),
          i)
        ) {
          case 0:
            e = im(null, e, r, t, n);
            break e;
          case 1:
            e = X1(null, e, r, t, n);
            break e;
          case 11:
            e = G1(null, e, r, t, n);
            break e;
          case 14:
            e = Y1(null, e, r, Nn(r.type, t), n);
            break e;
        }
        throw Error(E(306, r, ""));
      }
      return e;
    case 0:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : Nn(r, i)),
        im(t, e, r, i, n)
      );
    case 1:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : Nn(r, i)),
        X1(t, e, r, i, n)
      );
    case 3:
      e: {
        if ((l2(e), t === null)) throw Error(E(387));
        (r = e.pendingProps),
          (s = e.memoizedState),
          (i = s.element),
          PS(t, e),
          ef(e, r, null, n);
        var o = e.memoizedState;
        if (((r = o.element), s.isDehydrated))
          if (
            ((s = {
              element: r,
              isDehydrated: !1,
              cache: o.cache,
              pendingSuspenseBoundaries: o.pendingSuspenseBoundaries,
              transitions: o.transitions,
            }),
            (e.updateQueue.baseState = s),
            (e.memoizedState = s),
            e.flags & 256)
          ) {
            (i = xo(Error(E(423)), e)), (e = Q1(t, e, r, n, i));
            break e;
          } else if (r !== i) {
            (i = xo(Error(E(424)), e)), (e = Q1(t, e, r, n, i));
            break e;
          } else
            for (
              Jt = pi(e.stateNode.containerInfo.firstChild),
                tn = e,
                Ae = !0,
                $n = null,
                n = BS(e, null, r, n),
                e.child = n;
              n;

            )
              (n.flags = (n.flags & -3) | 4096), (n = n.sibling);
        else {
          if ((vo(), r === i)) {
            e = $r(t, e, n);
            break e;
          }
          _t(t, e, r, n);
        }
        e = e.child;
      }
      return e;
    case 5:
      return (
        NS(e),
        t === null && Zp(e),
        (r = e.type),
        (i = e.pendingProps),
        (s = t !== null ? t.memoizedProps : null),
        (o = i.children),
        Gp(r, i) ? (o = null) : s !== null && Gp(r, s) && (e.flags |= 32),
        o2(t, e),
        _t(t, e, o, n),
        e.child
      );
    case 6:
      return t === null && Zp(e), null;
    case 13:
      return a2(t, e, n);
    case 4:
      return (
        f0(e, e.stateNode.containerInfo),
        (r = e.pendingProps),
        t === null ? (e.child = wo(e, null, r, n)) : _t(t, e, r, n),
        e.child
      );
    case 11:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : Nn(r, i)),
        G1(t, e, r, i, n)
      );
    case 7:
      return _t(t, e, e.pendingProps, n), e.child;
    case 8:
      return _t(t, e, e.pendingProps.children, n), e.child;
    case 12:
      return _t(t, e, e.pendingProps.children, n), e.child;
    case 10:
      e: {
        if (
          ((r = e.type._context),
          (i = e.pendingProps),
          (s = e.memoizedProps),
          (o = i.value),
          we(Jc, r._currentValue),
          (r._currentValue = o),
          s !== null)
        )
          if (Hn(s.value, o)) {
            if (s.children === i.children && !Ft.current) {
              e = $r(t, e, n);
              break e;
            }
          } else
            for (s = e.child, s !== null && (s.return = e); s !== null; ) {
              var l = s.dependencies;
              if (l !== null) {
                o = s.child;
                for (var a = l.firstContext; a !== null; ) {
                  if (a.context === r) {
                    if (s.tag === 1) {
                      (a = Pr(-1, n & -n)), (a.tag = 2);
                      var u = s.updateQueue;
                      if (u !== null) {
                        u = u.shared;
                        var c = u.pending;
                        c === null
                          ? (a.next = a)
                          : ((a.next = c.next), (c.next = a)),
                          (u.pending = a);
                      }
                    }
                    (s.lanes |= n),
                      (a = s.alternate),
                      a !== null && (a.lanes |= n),
                      em(s.return, n, e),
                      (l.lanes |= n);
                    break;
                  }
                  a = a.next;
                }
              } else if (s.tag === 10) o = s.type === e.type ? null : s.child;
              else if (s.tag === 18) {
                if (((o = s.return), o === null)) throw Error(E(341));
                (o.lanes |= n),
                  (l = o.alternate),
                  l !== null && (l.lanes |= n),
                  em(o, n, e),
                  (o = s.sibling);
              } else o = s.child;
              if (o !== null) o.return = s;
              else
                for (o = s; o !== null; ) {
                  if (o === e) {
                    o = null;
                    break;
                  }
                  if (((s = o.sibling), s !== null)) {
                    (s.return = o.return), (o = s);
                    break;
                  }
                  o = o.return;
                }
              s = o;
            }
        _t(t, e, i.children, n), (e = e.child);
      }
      return e;
    case 9:
      return (
        (i = e.type),
        (r = e.pendingProps.children),
        io(e, n),
        (i = On(i)),
        (r = r(i)),
        (e.flags |= 1),
        _t(t, e, r, n),
        e.child
      );
    case 14:
      return (
        (r = e.type),
        (i = Nn(r, e.pendingProps)),
        (i = Nn(r.type, i)),
        Y1(t, e, r, i, n)
      );
    case 15:
      return i2(t, e, e.type, e.pendingProps, n);
    case 17:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : Nn(r, i)),
        wc(t, e),
        (e.tag = 1),
        zt(r) ? ((t = !0), Yc(e)) : (t = !1),
        io(e, n),
        DS(e, r, i),
        nm(e, r, i, n),
        sm(null, e, r, !0, t, n)
      );
    case 19:
      return u2(t, e, n);
    case 22:
      return s2(t, e, n);
  }
  throw Error(E(156, e.tag));
};
function _2(t, e) {
  return Qx(t, e);
}
function w5(t, e, n, r) {
  (this.tag = t),
    (this.key = n),
    (this.sibling =
      this.child =
      this.return =
      this.stateNode =
      this.type =
      this.elementType =
        null),
    (this.index = 0),
    (this.ref = null),
    (this.pendingProps = e),
    (this.dependencies =
      this.memoizedState =
      this.updateQueue =
      this.memoizedProps =
        null),
    (this.mode = r),
    (this.subtreeFlags = this.flags = 0),
    (this.deletions = null),
    (this.childLanes = this.lanes = 0),
    (this.alternate = null);
}
function wn(t, e, n, r) {
  return new w5(t, e, n, r);
}
function A0(t) {
  return (t = t.prototype), !(!t || !t.isReactComponent);
}
function b5(t) {
  if (typeof t == "function") return A0(t) ? 1 : 0;
  if (t != null) {
    if (((t = t.$$typeof), t === Ug)) return 11;
    if (t === Kg) return 14;
  }
  return 2;
}
function vi(t, e) {
  var n = t.alternate;
  return (
    n === null
      ? ((n = wn(t.tag, e, t.key, t.mode)),
        (n.elementType = t.elementType),
        (n.type = t.type),
        (n.stateNode = t.stateNode),
        (n.alternate = t),
        (t.alternate = n))
      : ((n.pendingProps = e),
        (n.type = t.type),
        (n.flags = 0),
        (n.subtreeFlags = 0),
        (n.deletions = null)),
    (n.flags = t.flags & 14680064),
    (n.childLanes = t.childLanes),
    (n.lanes = t.lanes),
    (n.child = t.child),
    (n.memoizedProps = t.memoizedProps),
    (n.memoizedState = t.memoizedState),
    (n.updateQueue = t.updateQueue),
    (e = t.dependencies),
    (n.dependencies =
      e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }),
    (n.sibling = t.sibling),
    (n.index = t.index),
    (n.ref = t.ref),
    n
  );
}
function Sc(t, e, n, r, i, s) {
  var o = 2;
  if (((r = t), typeof t == "function")) A0(t) && (o = 1);
  else if (typeof t == "string") o = 5;
  else
    e: switch (t) {
      case Is:
        return Zi(n.children, i, s, e);
      case Hg:
        (o = 8), (i |= 8);
        break;
      case Ap:
        return (
          (t = wn(12, n, e, i | 2)), (t.elementType = Ap), (t.lanes = s), t
        );
      case Op:
        return (t = wn(13, n, e, i)), (t.elementType = Op), (t.lanes = s), t;
      case Ep:
        return (t = wn(19, n, e, i)), (t.elementType = Ep), (t.lanes = s), t;
      case Lx:
        return dh(n, i, s, e);
      default:
        if (typeof t == "object" && t !== null)
          switch (t.$$typeof) {
            case Rx:
              o = 10;
              break e;
            case Dx:
              o = 9;
              break e;
            case Ug:
              o = 11;
              break e;
            case Kg:
              o = 14;
              break e;
            case Xr:
              (o = 16), (r = null);
              break e;
          }
        throw Error(E(130, t == null ? t : typeof t, ""));
    }
  return (
    (e = wn(o, n, e, i)), (e.elementType = t), (e.type = r), (e.lanes = s), e
  );
}
function Zi(t, e, n, r) {
  return (t = wn(7, t, r, e)), (t.lanes = n), t;
}
function dh(t, e, n, r) {
  return (
    (t = wn(22, t, r, e)),
    (t.elementType = Lx),
    (t.lanes = n),
    (t.stateNode = { isHidden: !1 }),
    t
  );
}
function Id(t, e, n) {
  return (t = wn(6, t, null, e)), (t.lanes = n), t;
}
function $d(t, e, n) {
  return (
    (e = wn(4, t.children !== null ? t.children : [], t.key, e)),
    (e.lanes = n),
    (e.stateNode = {
      containerInfo: t.containerInfo,
      pendingChildren: null,
      implementation: t.implementation,
    }),
    e
  );
}
function x5(t, e, n, r, i) {
  (this.tag = e),
    (this.containerInfo = t),
    (this.finishedWork =
      this.pingCache =
      this.current =
      this.pendingChildren =
        null),
    (this.timeoutHandle = -1),
    (this.callbackNode = this.pendingContext = this.context = null),
    (this.callbackPriority = 0),
    (this.eventTimes = vd(0)),
    (this.expirationTimes = vd(-1)),
    (this.entangledLanes =
      this.finishedLanes =
      this.mutableReadLanes =
      this.expiredLanes =
      this.pingedLanes =
      this.suspendedLanes =
      this.pendingLanes =
        0),
    (this.entanglements = vd(0)),
    (this.identifierPrefix = r),
    (this.onRecoverableError = i),
    (this.mutableSourceEagerHydrationData = null);
}
function O0(t, e, n, r, i, s, o, l, a) {
  return (
    (t = new x5(t, e, n, l, a)),
    e === 1 ? ((e = 1), s === !0 && (e |= 8)) : (e = 0),
    (s = wn(3, null, null, e)),
    (t.current = s),
    (s.stateNode = t),
    (s.memoizedState = {
      element: r,
      isDehydrated: n,
      cache: null,
      transitions: null,
      pendingSuspenseBoundaries: null,
    }),
    c0(s),
    t
  );
}
function S5(t, e, n) {
  var r = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
  return {
    $$typeof: Ns,
    key: r == null ? null : "" + r,
    children: t,
    containerInfo: e,
    implementation: n,
  };
}
function A2(t) {
  if (!t) return _i;
  t = t._reactInternals;
  e: {
    if (ws(t) !== t || t.tag !== 1) throw Error(E(170));
    var e = t;
    do {
      switch (e.tag) {
        case 3:
          e = e.stateNode.context;
          break e;
        case 1:
          if (zt(e.type)) {
            e = e.stateNode.__reactInternalMemoizedMergedChildContext;
            break e;
          }
      }
      e = e.return;
    } while (e !== null);
    throw Error(E(171));
  }
  if (t.tag === 1) {
    var n = t.type;
    if (zt(n)) return _S(t, n, e);
  }
  return e;
}
function O2(t, e, n, r, i, s, o, l, a) {
  return (
    (t = O0(n, r, !0, t, i, s, o, l, a)),
    (t.context = A2(null)),
    (n = t.current),
    (r = Et()),
    (i = yi(n)),
    (s = Pr(r, i)),
    (s.callback = e ?? null),
    mi(n, s, i),
    (t.current.lanes = i),
    ja(t, i, r),
    jt(t, r),
    t
  );
}
function ph(t, e, n, r) {
  var i = e.current,
    s = Et(),
    o = yi(i);
  return (
    (n = A2(n)),
    e.context === null ? (e.context = n) : (e.pendingContext = n),
    (e = Pr(s, o)),
    (e.payload = { element: t }),
    (r = r === void 0 ? null : r),
    r !== null && (e.callback = r),
    (t = mi(i, e, o)),
    t !== null && (jn(t, i, o, s), gc(t, i, o)),
    o
  );
}
function uf(t) {
  if (((t = t.current), !t.child)) return null;
  switch (t.child.tag) {
    case 5:
      return t.child.stateNode;
    default:
      return t.child.stateNode;
  }
}
function lv(t, e) {
  if (((t = t.memoizedState), t !== null && t.dehydrated !== null)) {
    var n = t.retryLane;
    t.retryLane = n !== 0 && n < e ? n : e;
  }
}
function E0(t, e) {
  lv(t, e), (t = t.alternate) && lv(t, e);
}
function k5() {
  return null;
}
var E2 =
  typeof reportError == "function"
    ? reportError
    : function (t) {
        console.error(t);
      };
function M0(t) {
  this._internalRoot = t;
}
mh.prototype.render = M0.prototype.render = function (t) {
  var e = this._internalRoot;
  if (e === null) throw Error(E(409));
  ph(t, e, null, null);
};
mh.prototype.unmount = M0.prototype.unmount = function () {
  var t = this._internalRoot;
  if (t !== null) {
    this._internalRoot = null;
    var e = t.containerInfo;
    ss(function () {
      ph(null, t, null, null);
    }),
      (e[Nr] = null);
  }
};
function mh(t) {
  this._internalRoot = t;
}
mh.prototype.unstable_scheduleHydration = function (t) {
  if (t) {
    var e = iS();
    t = { blockedOn: null, target: t, priority: e };
    for (var n = 0; n < ei.length && e !== 0 && e < ei[n].priority; n++);
    ei.splice(n, 0, t), n === 0 && oS(t);
  }
};
function T0(t) {
  return !(!t || (t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11));
}
function gh(t) {
  return !(
    !t ||
    (t.nodeType !== 1 &&
      t.nodeType !== 9 &&
      t.nodeType !== 11 &&
      (t.nodeType !== 8 || t.nodeValue !== " react-mount-point-unstable "))
  );
}
function av() {}
function C5(t, e, n, r, i) {
  if (i) {
    if (typeof r == "function") {
      var s = r;
      r = function () {
        var u = uf(o);
        s.call(u);
      };
    }
    var o = O2(e, r, t, 0, null, !1, !1, "", av);
    return (
      (t._reactRootContainer = o),
      (t[Nr] = o.current),
      Yl(t.nodeType === 8 ? t.parentNode : t),
      ss(),
      o
    );
  }
  for (; (i = t.lastChild); ) t.removeChild(i);
  if (typeof r == "function") {
    var l = r;
    r = function () {
      var u = uf(a);
      l.call(u);
    };
  }
  var a = O0(t, 0, !1, null, null, !1, !1, "", av);
  return (
    (t._reactRootContainer = a),
    (t[Nr] = a.current),
    Yl(t.nodeType === 8 ? t.parentNode : t),
    ss(function () {
      ph(e, a, n, r);
    }),
    a
  );
}
function yh(t, e, n, r, i) {
  var s = n._reactRootContainer;
  if (s) {
    var o = s;
    if (typeof i == "function") {
      var l = i;
      i = function () {
        var a = uf(o);
        l.call(a);
      };
    }
    ph(e, o, t, i);
  } else o = C5(n, e, t, i, r);
  return uf(o);
}
nS = function (t) {
  switch (t.tag) {
    case 3:
      var e = t.stateNode;
      if (e.current.memoizedState.isDehydrated) {
        var n = pl(e.pendingLanes);
        n !== 0 &&
          (Yg(e, n | 1), jt(e, Fe()), !(ie & 6) && ((So = Fe() + 500), Li()));
      }
      break;
    case 13:
      ss(function () {
        var r = Ir(t, 1);
        if (r !== null) {
          var i = Et();
          jn(r, t, 1, i);
        }
      }),
        E0(t, 1);
  }
};
Xg = function (t) {
  if (t.tag === 13) {
    var e = Ir(t, 134217728);
    if (e !== null) {
      var n = Et();
      jn(e, t, 134217728, n);
    }
    E0(t, 134217728);
  }
};
rS = function (t) {
  if (t.tag === 13) {
    var e = yi(t),
      n = Ir(t, e);
    if (n !== null) {
      var r = Et();
      jn(n, t, e, r);
    }
    E0(t, e);
  }
};
iS = function () {
  return he;
};
sS = function (t, e) {
  var n = he;
  try {
    return (he = t), e();
  } finally {
    he = n;
  }
};
$p = function (t, e, n) {
  switch (e) {
    case "input":
      if ((Pp(t, n), (e = n.name), n.type === "radio" && e != null)) {
        for (n = t; n.parentNode; ) n = n.parentNode;
        for (
          n = n.querySelectorAll(
            "input[name=" + JSON.stringify("" + e) + '][type="radio"]'
          ),
            e = 0;
          e < n.length;
          e++
        ) {
          var r = n[e];
          if (r !== t && r.form === t.form) {
            var i = lh(r);
            if (!i) throw Error(E(90));
            Nx(r), Pp(r, i);
          }
        }
      }
      break;
    case "textarea":
      $x(t, n);
      break;
    case "select":
      (e = n.value), e != null && eo(t, !!n.multiple, e, !1);
  }
};
Ux = k0;
Kx = ss;
var _5 = { usingClientEntryPoint: !1, Events: [Wa, js, lh, Wx, Hx, k0] },
  il = {
    findFiberByHostInstance: Ki,
    bundleType: 0,
    version: "18.2.0",
    rendererPackageName: "react-dom",
  },
  A5 = {
    bundleType: il.bundleType,
    version: il.version,
    rendererPackageName: il.rendererPackageName,
    rendererConfig: il.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setErrorHandler: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: Ur.ReactCurrentDispatcher,
    findHostInstanceByFiber: function (t) {
      return (t = Yx(t)), t === null ? null : t.stateNode;
    },
    findFiberByHostInstance: il.findFiberByHostInstance || k5,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null,
    reconcilerVersion: "18.2.0-next-9e3b772b8-20220608",
  };
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
  var Ru = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (!Ru.isDisabled && Ru.supportsFiber)
    try {
      (rh = Ru.inject(A5)), (mr = Ru);
    } catch {}
}
sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = _5;
sn.createPortal = function (t, e) {
  var n = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
  if (!T0(e)) throw Error(E(200));
  return S5(t, e, null, n);
};
sn.createRoot = function (t, e) {
  if (!T0(t)) throw Error(E(299));
  var n = !1,
    r = "",
    i = E2;
  return (
    e != null &&
      (e.unstable_strictMode === !0 && (n = !0),
      e.identifierPrefix !== void 0 && (r = e.identifierPrefix),
      e.onRecoverableError !== void 0 && (i = e.onRecoverableError)),
    (e = O0(t, 1, !1, null, null, n, !1, r, i)),
    (t[Nr] = e.current),
    Yl(t.nodeType === 8 ? t.parentNode : t),
    new M0(e)
  );
};
sn.findDOMNode = function (t) {
  if (t == null) return null;
  if (t.nodeType === 1) return t;
  var e = t._reactInternals;
  if (e === void 0)
    throw typeof t.render == "function"
      ? Error(E(188))
      : ((t = Object.keys(t).join(",")), Error(E(268, t)));
  return (t = Yx(e)), (t = t === null ? null : t.stateNode), t;
};
sn.flushSync = function (t) {
  return ss(t);
};
sn.hydrate = function (t, e, n) {
  if (!gh(e)) throw Error(E(200));
  return yh(null, t, e, !0, n);
};
sn.hydrateRoot = function (t, e, n) {
  if (!T0(t)) throw Error(E(405));
  var r = (n != null && n.hydratedSources) || null,
    i = !1,
    s = "",
    o = E2;
  if (
    (n != null &&
      (n.unstable_strictMode === !0 && (i = !0),
      n.identifierPrefix !== void 0 && (s = n.identifierPrefix),
      n.onRecoverableError !== void 0 && (o = n.onRecoverableError)),
    (e = O2(e, null, t, 1, n ?? null, i, !1, s, o)),
    (t[Nr] = e.current),
    Yl(t),
    r)
  )
    for (t = 0; t < r.length; t++)
      (n = r[t]),
        (i = n._getVersion),
        (i = i(n._source)),
        e.mutableSourceEagerHydrationData == null
          ? (e.mutableSourceEagerHydrationData = [n, i])
          : e.mutableSourceEagerHydrationData.push(n, i);
  return new mh(e);
};
sn.render = function (t, e, n) {
  if (!gh(e)) throw Error(E(200));
  return yh(null, t, e, !1, n);
};
sn.unmountComponentAtNode = function (t) {
  if (!gh(t)) throw Error(E(40));
  return t._reactRootContainer
    ? (ss(function () {
        yh(null, null, t, !1, function () {
          (t._reactRootContainer = null), (t[Nr] = null);
        });
      }),
      !0)
    : !1;
};
sn.unstable_batchedUpdates = k0;
sn.unstable_renderSubtreeIntoContainer = function (t, e, n, r) {
  if (!gh(n)) throw Error(E(200));
  if (t == null || t._reactInternals === void 0) throw Error(E(38));
  return yh(t, e, n, !1, r);
};
sn.version = "18.2.0-next-9e3b772b8-20220608";
function M2() {
  if (
    !(
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
    )
  )
    try {
      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M2);
    } catch (t) {
      console.error(t);
    }
}
M2(), (Ox.exports = sn);
var T2 = Ox.exports,
  uv = T2;
(Cp.createRoot = uv.createRoot), (Cp.hydrateRoot = uv.hydrateRoot);
var P0 = zg(function (t, e) {
  var n = t.styles,
    r = Qi([n], void 0, V.useContext(za)),
    i = V.useRef();
  return (
    r1(
      function () {
        var s = e.key + "-global",
          o = new e.sheet.constructor({
            key: s,
            nonce: e.sheet.nonce,
            container: e.sheet.container,
            speedy: e.sheet.isSpeedy,
          }),
          l = !1,
          a = document.querySelector(
            'style[data-emotion="' + s + " " + r.name + '"]'
          );
        return (
          e.sheet.tags.length && (o.before = e.sheet.tags[0]),
          a !== null &&
            ((l = !0), a.setAttribute("data-emotion", s), o.hydrate([a])),
          (i.current = [o, l]),
          function () {
            o.flush();
          }
        );
      },
      [e]
    ),
    r1(
      function () {
        var s = i.current,
          o = s[0],
          l = s[1];
        if (l) {
          s[1] = !1;
          return;
        }
        if ((r.next !== void 0 && th(e, r.next, !0), o.tags.length)) {
          var a = o.tags[o.tags.length - 1].nextElementSibling;
          (o.before = a), o.flush();
        }
        e.insert("", r, o, !1);
      },
      [e, r.name]
    ),
    null
  );
});
function Ua() {
  for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
    e[n] = arguments[n];
  return Qi(e);
}
var O5 = function () {
    var e = Ua.apply(void 0, arguments),
      n = "animation-" + e.name;
    return {
      name: n,
      styles: "@keyframes " + n + "{" + e.styles + "}",
      anim: 1,
      toString: function () {
        return "_EMO_" + this.name + "_" + this.styles + "_EMO_";
      },
    };
  },
  E5 =
    /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,
  M5 = mx(function (t) {
    return (
      E5.test(t) ||
      (t.charCodeAt(0) === 111 &&
        t.charCodeAt(1) === 110 &&
        t.charCodeAt(2) < 91)
    );
  }),
  T5 = M5,
  P5 = function (e) {
    return e !== "theme";
  },
  cv = function (e) {
    return typeof e == "string" && e.charCodeAt(0) > 96 ? T5 : P5;
  },
  fv = function (e, n, r) {
    var i;
    if (n) {
      var s = n.shouldForwardProp;
      i =
        e.__emotion_forwardProp && s
          ? function (o) {
              return e.__emotion_forwardProp(o) && s(o);
            }
          : s;
    }
    return typeof i != "function" && r && (i = e.__emotion_forwardProp), i;
  },
  R5 = function (e) {
    var n = e.cache,
      r = e.serialized,
      i = e.isStringTag;
    return (
      Fg(n, r, i),
      kx(function () {
        return th(n, r, i);
      }),
      null
    );
  },
  R0 = function t(e, n) {
    var r = e.__emotion_real === e,
      i = (r && e.__emotion_base) || e,
      s,
      o;
    n !== void 0 && ((s = n.label), (o = n.target));
    var l = fv(e, n, r),
      a = l || cv(i),
      u = !a("as");
    return function () {
      var c = arguments,
        f =
          r && e.__emotion_styles !== void 0 ? e.__emotion_styles.slice(0) : [];
      if (
        (s !== void 0 && f.push("label:" + s + ";"),
        c[0] == null || c[0].raw === void 0)
      )
        f.push.apply(f, c);
      else {
        f.push(c[0][0]);
        for (var h = c.length, d = 1; d < h; d++) f.push(c[d], c[0][d]);
      }
      var p = zg(function (m, w, g) {
        var y = (u && m.as) || i,
          v = "",
          b = [],
          x = m;
        if (m.theme == null) {
          x = {};
          for (var S in m) x[S] = m[S];
          x.theme = V.useContext(za);
        }
        typeof m.className == "string"
          ? (v = eh(w.registered, b, m.className))
          : m.className != null && (v = m.className + " ");
        var k = Qi(f.concat(b), w.registered, x);
        (v += w.key + "-" + k.name), o !== void 0 && (v += " " + o);
        var _ = u && l === void 0 ? cv(y) : a,
          M = {};
        for (var O in m) (u && O === "as") || (_(O) && (M[O] = m[O]));
        return (
          (M.className = v),
          (M.ref = g),
          V.createElement(
            V.Fragment,
            null,
            V.createElement(R5, {
              cache: w,
              serialized: k,
              isStringTag: typeof y == "string",
            }),
            V.createElement(y, M)
          )
        );
      });
      return (
        (p.displayName =
          s !== void 0
            ? s
            : "Styled(" +
              (typeof i == "string"
                ? i
                : i.displayName || i.name || "Component") +
              ")"),
        (p.defaultProps = e.defaultProps),
        (p.__emotion_real = p),
        (p.__emotion_base = i),
        (p.__emotion_styles = f),
        (p.__emotion_forwardProp = l),
        Object.defineProperty(p, "toString", {
          value: function () {
            return "." + o;
          },
        }),
        (p.withComponent = function (m, w) {
          return t(m, fe({}, n, w, { shouldForwardProp: fv(p, w, !0) })).apply(
            void 0,
            f
          );
        }),
        p
      );
    };
  };
function hv(t, e) {
  if (t.inserted[e.name] === void 0) return t.insert("", e, t.sheet, !0);
}
function dv(t, e, n) {
  var r = [],
    i = eh(t, r, n);
  return r.length < 2 ? n : i + e(r);
}
var D5 = function (e) {
    var n = Bg(e);
    (n.sheet.speedy = function (l) {
      this.isSpeedy = l;
    }),
      (n.compat = !0);
    var r = function () {
        for (var a = arguments.length, u = new Array(a), c = 0; c < a; c++)
          u[c] = arguments[c];
        var f = Qi(u, n.registered, void 0);
        return th(n, f, !1), n.key + "-" + f.name;
      },
      i = function () {
        for (var a = arguments.length, u = new Array(a), c = 0; c < a; c++)
          u[c] = arguments[c];
        var f = Qi(u, n.registered),
          h = "animation-" + f.name;
        return (
          hv(n, {
            name: f.name,
            styles: "@keyframes " + h + "{" + f.styles + "}",
          }),
          h
        );
      },
      s = function () {
        for (var a = arguments.length, u = new Array(a), c = 0; c < a; c++)
          u[c] = arguments[c];
        var f = Qi(u, n.registered);
        hv(n, f);
      },
      o = function () {
        for (var a = arguments.length, u = new Array(a), c = 0; c < a; c++)
          u[c] = arguments[c];
        return dv(n.registered, r, L5(u));
      };
    return {
      css: r,
      cx: o,
      injectGlobal: s,
      keyframes: i,
      hydrate: function (a) {
        a.forEach(function (u) {
          n.inserted[u] = !0;
        });
      },
      flush: function () {
        (n.registered = {}), (n.inserted = {}), n.sheet.flush();
      },
      sheet: n.sheet,
      cache: n,
      getRegisteredStyles: eh.bind(null, n.registered),
      merge: dv.bind(null, n.registered, r),
    };
  },
  L5 = function t(e) {
    for (var n = "", r = 0; r < e.length; r++) {
      var i = e[r];
      if (i != null) {
        var s = void 0;
        switch (typeof i) {
          case "boolean":
            break;
          case "object": {
            if (Array.isArray(i)) s = t(i);
            else {
              s = "";
              for (var o in i) i[o] && o && (s && (s += " "), (s += o));
            }
            break;
          }
          default:
            s = i;
        }
        s && (n && (n += " "), (n += s));
      }
    }
    return n;
  },
  B5 = D5({ key: "css" }),
  N5 = B5.css,
  Fd = V,
  I5 = function (t) {
    return typeof t == "function";
  },
  $5 = function (t) {
    var e = Fd.useState(t),
      n = e[0],
      r = e[1],
      i = Fd.useRef(n),
      s = Fd.useCallback(function (o) {
        (i.current = I5(o) ? o(i.current) : o), r(i.current);
      }, []);
    return [n, s, i];
  },
  F5 = $5;
const P2 = Jb(F5);
function ne(t) {
  for (
    var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1;
    r < e;
    r++
  )
    n[r - 1] = arguments[r];
  throw new Error(
    typeof t == "number"
      ? "[MobX] minified error nr: " +
        t +
        (n.length ? " " + n.map(String).join(",") : "") +
        ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts"
      : "[MobX] " + t
  );
}
var z5 = {};
function D0() {
  return typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
      ? window
      : typeof global < "u"
        ? global
        : typeof self < "u"
          ? self
          : z5;
}
var R2 = Object.assign,
  cf = Object.getOwnPropertyDescriptor,
  yr = Object.defineProperty,
  Ka = Object.prototype,
  ym = [];
Object.freeze(ym);
var L0 = {};
Object.freeze(L0);
var j5 = typeof Proxy < "u",
  V5 = Object.toString();
function D2() {
  j5 || ne("Proxy not available");
}
function L2(t) {
  var e = !1;
  return function () {
    if (!e) return (e = !0), t.apply(this, arguments);
  };
}
var Gs = function () {};
function Un(t) {
  return typeof t == "function";
}
function os(t) {
  var e = typeof t;
  switch (e) {
    case "string":
    case "symbol":
    case "number":
      return !0;
  }
  return !1;
}
function vh(t) {
  return t !== null && typeof t == "object";
}
function Ai(t) {
  if (!vh(t)) return !1;
  var e = Object.getPrototypeOf(t);
  if (e == null) return !0;
  var n = Object.hasOwnProperty.call(e, "constructor") && e.constructor;
  return typeof n == "function" && n.toString() === V5;
}
function B2(t) {
  var e = t == null ? void 0 : t.constructor;
  return e
    ? e.name === "GeneratorFunction" || e.displayName === "GeneratorFunction"
    : !1;
}
function wh(t, e, n) {
  yr(t, e, { enumerable: !1, writable: !0, configurable: !0, value: n });
}
function N2(t, e, n) {
  yr(t, e, { enumerable: !1, writable: !1, configurable: !0, value: n });
}
function Bi(t, e) {
  var n = "isMobX" + t;
  return (
    (e.prototype[n] = !0),
    function (r) {
      return vh(r) && r[n] === !0;
    }
  );
}
function zo(t) {
  return t instanceof Map;
}
function qa(t) {
  return t instanceof Set;
}
var I2 = typeof Object.getOwnPropertySymbols < "u";
function W5(t) {
  var e = Object.keys(t);
  if (!I2) return e;
  var n = Object.getOwnPropertySymbols(t);
  return n.length
    ? [].concat(
        e,
        n.filter(function (r) {
          return Ka.propertyIsEnumerable.call(t, r);
        })
      )
    : e;
}
var bh =
  typeof Reflect < "u" && Reflect.ownKeys
    ? Reflect.ownKeys
    : I2
      ? function (t) {
          return Object.getOwnPropertyNames(t).concat(
            Object.getOwnPropertySymbols(t)
          );
        }
      : Object.getOwnPropertyNames;
function $2(t) {
  return t === null ? null : typeof t == "object" ? "" + t : t;
}
function Rr(t, e) {
  return Ka.hasOwnProperty.call(t, e);
}
var H5 =
  Object.getOwnPropertyDescriptors ||
  function (e) {
    var n = {};
    return (
      bh(e).forEach(function (r) {
        n[r] = cf(e, r);
      }),
      n
    );
  };
function pv(t, e) {
  for (var n = 0; n < e.length; n++) {
    var r = e[n];
    (r.enumerable = r.enumerable || !1),
      (r.configurable = !0),
      "value" in r && (r.writable = !0),
      Object.defineProperty(t, q5(r.key), r);
  }
}
function B0(t, e, n) {
  return (
    e && pv(t.prototype, e),
    n && pv(t, n),
    Object.defineProperty(t, "prototype", { writable: !1 }),
    t
  );
}
function ls() {
  return (
    (ls = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    ls.apply(this, arguments)
  );
}
function F2(t, e) {
  (t.prototype = Object.create(e.prototype)),
    (t.prototype.constructor = t),
    vm(t, e);
}
function vm(t, e) {
  return (
    (vm = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (r, i) {
          return (r.__proto__ = i), r;
        }),
    vm(t, e)
  );
}
function zd(t) {
  if (t === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called"
    );
  return t;
}
function U5(t, e) {
  if (t) {
    if (typeof t == "string") return mv(t, e);
    var n = Object.prototype.toString.call(t).slice(8, -1);
    if (
      (n === "Object" && t.constructor && (n = t.constructor.name),
      n === "Map" || n === "Set")
    )
      return Array.from(t);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
      return mv(t, e);
  }
}
function mv(t, e) {
  (e == null || e > t.length) && (e = t.length);
  for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
  return r;
}
function Ys(t, e) {
  var n = (typeof Symbol < "u" && t[Symbol.iterator]) || t["@@iterator"];
  if (n) return (n = n.call(t)).next.bind(n);
  if (
    Array.isArray(t) ||
    (n = U5(t)) ||
    (e && t && typeof t.length == "number")
  ) {
    n && (t = n);
    var r = 0;
    return function () {
      return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function K5(t, e) {
  if (typeof t != "object" || t === null) return t;
  var n = t[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(t, e || "default");
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function q5(t) {
  var e = K5(t, "string");
  return typeof e == "symbol" ? e : String(e);
}
var fr = Symbol("mobx-stored-annotations");
function vr(t) {
  function e(n, r) {
    if (Ga(r)) return t.decorate_20223_(n, r);
    jo(n, r, t);
  }
  return Object.assign(e, t);
}
function jo(t, e, n) {
  Rr(t, fr) || wh(t, fr, ls({}, t[fr])), n3(n) || (t[fr][e] = n);
}
function G5(t) {
  return Rr(t, fr) || wh(t, fr, ls({}, t[fr])), t[fr];
}
function Ga(t) {
  return typeof t == "object" && typeof t.kind == "string";
}
var q = Symbol("mobx administration"),
  Ya = (function () {
    function t(n) {
      n === void 0 && (n = "Atom"),
        (this.name_ = void 0),
        (this.isPendingUnobservation_ = !1),
        (this.isBeingObserved_ = !1),
        (this.observers_ = new Set()),
        (this.diffValue_ = 0),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = oe.NOT_TRACKING_),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        (this.name_ = n);
    }
    var e = t.prototype;
    return (
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (r) {
            return r();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (r) {
            return r();
          });
      }),
      (e.reportObserved = function () {
        return rk(this);
      }),
      (e.reportChanged = function () {
        xn(), ik(this), Sn();
      }),
      (e.toString = function () {
        return this.name_;
      }),
      t
    );
  })(),
  N0 = Bi("Atom", Ya);
function z2(t, e, n) {
  e === void 0 && (e = Gs), n === void 0 && (n = Gs);
  var r = new Ya(t);
  return e !== Gs && aT(r, e), n !== Gs && fk(r, n), r;
}
function Y5(t, e) {
  return t === e;
}
function X5(t, e) {
  return V0(t, e);
}
function Q5(t, e) {
  return V0(t, e, 1);
}
function J5(t, e) {
  return Object.is
    ? Object.is(t, e)
    : t === e
      ? t !== 0 || 1 / t === 1 / e
      : t !== t && e !== e;
}
var ko = { identity: Y5, structural: X5, default: J5, shallow: Q5 };
function as(t, e, n) {
  return F0(t)
    ? t
    : Array.isArray(t)
      ? ue.array(t, { name: n })
      : Ai(t)
        ? ue.object(t, void 0, { name: n })
        : zo(t)
          ? ue.map(t, { name: n })
          : qa(t)
            ? ue.set(t, { name: n })
            : typeof t == "function" && !_h(t) && !oa(t)
              ? B2(t)
                ? _o(t)
                : sa(n, t)
              : t;
}
function Z5(t, e, n) {
  if (t == null || Ao(t) || eu(t) || Ni(t) || xs(t)) return t;
  if (Array.isArray(t)) return ue.array(t, { name: n, deep: !1 });
  if (Ai(t)) return ue.object(t, void 0, { name: n, deep: !1 });
  if (zo(t)) return ue.map(t, { name: n, deep: !1 });
  if (qa(t)) return ue.set(t, { name: n, deep: !1 });
}
function xh(t) {
  return t;
}
function e3(t, e) {
  return V0(t, e) ? e : t;
}
var t3 = "override";
function n3(t) {
  return t.annotationType_ === t3;
}
function Xa(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: r3,
    extend_: i3,
    decorate_20223_: s3,
  };
}
function r3(t, e, n, r) {
  var i;
  if ((i = this.options_) != null && i.bound)
    return this.extend_(t, e, n, !1) === null ? 0 : 1;
  if (r === t.target_) return this.extend_(t, e, n, !1) === null ? 0 : 2;
  if (_h(n.value)) return 1;
  var s = j2(t, this, e, n, !1);
  return yr(r, e, s), 2;
}
function i3(t, e, n, r) {
  var i = j2(t, this, e, n);
  return t.defineProperty_(e, i, r);
}
function s3(t, e) {
  var n = e.kind,
    r = e.name,
    i = e.addInitializer,
    s = this,
    o = function (u) {
      var c, f, h, d;
      return us(
        (c = (f = s.options_) == null ? void 0 : f.name) != null
          ? c
          : r.toString(),
        u,
        (h = (d = s.options_) == null ? void 0 : d.autoAction) != null ? h : !1
      );
    };
  if (n == "field") {
    i(function () {
      jo(this, r, s);
    });
    return;
  }
  if (n == "method") {
    var l;
    return (
      _h(t) || (t = o(t)),
      (l = this.options_) != null &&
        l.bound &&
        i(function () {
          var a = this,
            u = a[r].bind(a);
          (u.isMobxAction = !0), (a[r] = u);
        }),
      t
    );
  }
  ne(
    "Cannot apply '" +
      s.annotationType_ +
      "' to '" +
      String(r) +
      "' (kind: " +
      n +
      "):" +
      (`
'` +
        s.annotationType_ +
        "' can only be used on properties with a function value.")
  );
}
function o3(t, e, n, r) {
  e.annotationType_, r.value;
}
function j2(t, e, n, r, i) {
  var s, o, l, a, u, c, f;
  i === void 0 && (i = R.safeDescriptors), o3(t, e, n, r);
  var h = r.value;
  if ((s = e.options_) != null && s.bound) {
    var d;
    h = h.bind((d = t.proxy_) != null ? d : t.target_);
  }
  return {
    value: us(
      (o = (l = e.options_) == null ? void 0 : l.name) != null
        ? o
        : n.toString(),
      h,
      (a = (u = e.options_) == null ? void 0 : u.autoAction) != null ? a : !1,
      (c = e.options_) != null && c.bound
        ? (f = t.proxy_) != null
          ? f
          : t.target_
        : void 0
    ),
    configurable: i ? t.isPlainObject_ : !0,
    enumerable: !1,
    writable: !i,
  };
}
function V2(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: l3,
    extend_: a3,
    decorate_20223_: u3,
  };
}
function l3(t, e, n, r) {
  var i;
  if (r === t.target_) return this.extend_(t, e, n, !1) === null ? 0 : 2;
  if (
    (i = this.options_) != null &&
    i.bound &&
    (!Rr(t.target_, e) || !oa(t.target_[e])) &&
    this.extend_(t, e, n, !1) === null
  )
    return 0;
  if (oa(n.value)) return 1;
  var s = W2(t, this, e, n, !1, !1);
  return yr(r, e, s), 2;
}
function a3(t, e, n, r) {
  var i,
    s = W2(t, this, e, n, (i = this.options_) == null ? void 0 : i.bound);
  return t.defineProperty_(e, s, r);
}
function u3(t, e) {
  var n,
    r = e.name,
    i = e.addInitializer;
  return (
    oa(t) || (t = _o(t)),
    (n = this.options_) != null &&
      n.bound &&
      i(function () {
        var s = this,
          o = s[r].bind(s);
        (o.isMobXFlow = !0), (s[r] = o);
      }),
    t
  );
}
function c3(t, e, n, r) {
  e.annotationType_, r.value;
}
function W2(t, e, n, r, i, s) {
  s === void 0 && (s = R.safeDescriptors), c3(t, e, n, r);
  var o = r.value;
  if ((oa(o) || (o = _o(o)), i)) {
    var l;
    (o = o.bind((l = t.proxy_) != null ? l : t.target_)), (o.isMobXFlow = !0);
  }
  return {
    value: o,
    configurable: s ? t.isPlainObject_ : !0,
    enumerable: !1,
    writable: !s,
  };
}
function I0(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: f3,
    extend_: h3,
    decorate_20223_: d3,
  };
}
function f3(t, e, n) {
  return this.extend_(t, e, n, !1) === null ? 0 : 1;
}
function h3(t, e, n, r) {
  return (
    p3(t, this, e, n),
    t.defineComputedProperty_(
      e,
      ls({}, this.options_, { get: n.get, set: n.set }),
      r
    )
  );
}
function d3(t, e) {
  var n = this,
    r = e.name,
    i = e.addInitializer;
  return (
    i(function () {
      var s = Vo(this)[q],
        o = ls({}, n.options_, { get: t, context: this });
      o.name || (o.name = "ObservableObject." + r.toString()),
        s.values_.set(r, new Co(o));
    }),
    function () {
      return this[q].getObservablePropValue_(r);
    }
  );
}
function p3(t, e, n, r) {
  e.annotationType_, r.get;
}
function Sh(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: m3,
    extend_: g3,
    decorate_20223_: y3,
  };
}
function m3(t, e, n) {
  return this.extend_(t, e, n, !1) === null ? 0 : 1;
}
function g3(t, e, n, r) {
  var i, s;
  return (
    v3(t, this),
    t.defineObservableProperty_(
      e,
      n.value,
      (i = (s = this.options_) == null ? void 0 : s.enhancer) != null ? i : as,
      r
    )
  );
}
function y3(t, e) {
  var n = this,
    r = e.kind,
    i = e.name,
    s = new WeakSet();
  function o(l, a) {
    var u,
      c,
      f = Vo(l)[q],
      h = new wi(
        a,
        (u = (c = n.options_) == null ? void 0 : c.enhancer) != null ? u : as,
        "ObservableObject." + i.toString(),
        !1
      );
    f.values_.set(i, h), s.add(l);
  }
  if (r == "accessor")
    return {
      get: function () {
        return (
          s.has(this) || o(this, t.get.call(this)),
          this[q].getObservablePropValue_(i)
        );
      },
      set: function (a) {
        return s.has(this) || o(this, a), this[q].setObservablePropValue_(i, a);
      },
      init: function (a) {
        return s.has(this) || o(this, a), a;
      },
    };
}
function v3(t, e, n, r) {
  e.annotationType_;
}
var w3 = "true",
  b3 = H2();
function H2(t) {
  return {
    annotationType_: w3,
    options_: t,
    make_: x3,
    extend_: S3,
    decorate_20223_: k3,
  };
}
function x3(t, e, n, r) {
  var i, s;
  if (n.get) return bn.make_(t, e, n, r);
  if (n.set) {
    var o = us(e.toString(), n.set);
    return r === t.target_
      ? t.defineProperty_(e, {
          configurable: R.safeDescriptors ? t.isPlainObject_ : !0,
          set: o,
        }) === null
        ? 0
        : 2
      : (yr(r, e, { configurable: !0, set: o }), 2);
  }
  if (r !== t.target_ && typeof n.value == "function") {
    var l;
    if (B2(n.value)) {
      var a,
        u = (a = this.options_) != null && a.autoBind ? _o.bound : _o;
      return u.make_(t, e, n, r);
    }
    var c = (l = this.options_) != null && l.autoBind ? sa.bound : sa;
    return c.make_(t, e, n, r);
  }
  var f = ((i = this.options_) == null ? void 0 : i.deep) === !1 ? ue.ref : ue;
  if (
    typeof n.value == "function" &&
    (s = this.options_) != null &&
    s.autoBind
  ) {
    var h;
    n.value = n.value.bind((h = t.proxy_) != null ? h : t.target_);
  }
  return f.make_(t, e, n, r);
}
function S3(t, e, n, r) {
  var i, s;
  if (n.get) return bn.extend_(t, e, n, r);
  if (n.set)
    return t.defineProperty_(
      e,
      {
        configurable: R.safeDescriptors ? t.isPlainObject_ : !0,
        set: us(e.toString(), n.set),
      },
      r
    );
  if (
    typeof n.value == "function" &&
    (i = this.options_) != null &&
    i.autoBind
  ) {
    var o;
    n.value = n.value.bind((o = t.proxy_) != null ? o : t.target_);
  }
  var l = ((s = this.options_) == null ? void 0 : s.deep) === !1 ? ue.ref : ue;
  return l.extend_(t, e, n, r);
}
function k3(t, e) {
  ne("'" + this.annotationType_ + "' cannot be used as a decorator");
}
var C3 = "observable",
  _3 = "observable.ref",
  A3 = "observable.shallow",
  O3 = "observable.struct",
  U2 = { deep: !0, name: void 0, defaultDecorator: void 0, proxy: !0 };
Object.freeze(U2);
function Du(t) {
  return t || U2;
}
var wm = Sh(C3),
  E3 = Sh(_3, { enhancer: xh }),
  M3 = Sh(A3, { enhancer: Z5 }),
  T3 = Sh(O3, { enhancer: e3 }),
  K2 = vr(wm);
function Lu(t) {
  return t.deep === !0 ? as : t.deep === !1 ? xh : R3(t.defaultDecorator);
}
function P3(t) {
  var e;
  return t ? ((e = t.defaultDecorator) != null ? e : H2(t)) : void 0;
}
function R3(t) {
  var e, n;
  return t && (e = (n = t.options_) == null ? void 0 : n.enhancer) != null
    ? e
    : as;
}
function q2(t, e, n) {
  if (Ga(e)) return wm.decorate_20223_(t, e);
  if (os(e)) {
    jo(t, e, wm);
    return;
  }
  return F0(t)
    ? t
    : Ai(t)
      ? ue.object(t, e, n)
      : Array.isArray(t)
        ? ue.array(t, e)
        : zo(t)
          ? ue.map(t, e)
          : qa(t)
            ? ue.set(t, e)
            : typeof t == "object" && t !== null
              ? t
              : ue.box(t, e);
}
R2(q2, K2);
var D3 = {
    box: function (e, n) {
      var r = Du(n);
      return new wi(e, Lu(r), r.name, !0, r.equals);
    },
    array: function (e, n) {
      var r = Du(n);
      return (R.useProxies === !1 || r.proxy === !1 ? BT : _T)(
        e,
        Lu(r),
        r.name
      );
    },
    map: function (e, n) {
      var r = Du(n);
      return new vk(e, Lu(r), r.name);
    },
    set: function (e, n) {
      var r = Du(n);
      return new xk(e, Lu(r), r.name);
    },
    object: function (e, n, r) {
      return Ss(function () {
        return hT(
          R.useProxies === !1 || (r == null ? void 0 : r.proxy) === !1
            ? Vo({}, r)
            : xT({}, r),
          e,
          n
        );
      });
    },
    ref: vr(E3),
    shallow: vr(M3),
    deep: K2,
    struct: vr(T3),
  },
  ue = R2(q2, D3),
  G2 = "computed",
  L3 = "computed.struct",
  bm = I0(G2),
  B3 = I0(L3, { equals: ko.structural }),
  bn = function (e, n) {
    if (Ga(n)) return bm.decorate_20223_(e, n);
    if (os(n)) return jo(e, n, bm);
    if (Ai(e)) return vr(I0(G2, e));
    var r = Ai(n) ? n : {};
    return (r.get = e), r.name || (r.name = e.name || ""), new Co(r);
  };
Object.assign(bn, bm);
bn.struct = vr(B3);
var gv,
  yv,
  ff = 0,
  N3 = 1,
  I3 =
    (gv =
      (yv = cf(function () {}, "name")) == null ? void 0 : yv.configurable) !=
    null
      ? gv
      : !1,
  vv = { value: "action", configurable: !0, writable: !1, enumerable: !1 };
function us(t, e, n, r) {
  n === void 0 && (n = !1);
  function i() {
    return $3(t, n, e, r || this, arguments);
  }
  return (
    (i.isMobxAction = !0),
    (i.toString = function () {
      return e.toString();
    }),
    I3 && ((vv.value = t), yr(i, "name", vv)),
    i
  );
}
function $3(t, e, n, r, i) {
  var s = F3(t, e);
  try {
    return n.apply(r, i);
  } catch (o) {
    throw ((s.error_ = o), o);
  } finally {
    z3(s);
  }
}
function F3(t, e, n, r) {
  var i = !1,
    s = 0,
    o = R.trackingDerivation,
    l = !e || !o;
  xn();
  var a = R.allowStateChanges;
  l && (bs(), (a = kh(!0)));
  var u = $0(!0),
    c = {
      runAsAction_: l,
      prevDerivation_: o,
      prevAllowStateChanges_: a,
      prevAllowStateReads_: u,
      notifySpy_: i,
      startTime_: s,
      actionId_: N3++,
      parentActionId_: ff,
    };
  return (ff = c.actionId_), c;
}
function z3(t) {
  ff !== t.actionId_ && ne(30),
    (ff = t.parentActionId_),
    t.error_ !== void 0 && (R.suppressReactionErrors = !0),
    Ch(t.prevAllowStateChanges_),
    Tl(t.prevAllowStateReads_),
    Sn(),
    t.runAsAction_ && Dr(t.prevDerivation_),
    (R.suppressReactionErrors = !1);
}
function j3(t, e) {
  var n = kh(t);
  try {
    return e();
  } finally {
    Ch(n);
  }
}
function kh(t) {
  var e = R.allowStateChanges;
  return (R.allowStateChanges = t), e;
}
function Ch(t) {
  R.allowStateChanges = t;
}
var Y2;
Y2 = Symbol.toPrimitive;
var wi = (function (t) {
    F2(e, t);
    function e(r, i, s, o, l) {
      var a;
      return (
        s === void 0 && (s = "ObservableValue"),
        l === void 0 && (l = ko.default),
        (a = t.call(this, s) || this),
        (a.enhancer = void 0),
        (a.name_ = void 0),
        (a.equals = void 0),
        (a.hasUnreportedChange_ = !1),
        (a.interceptors_ = void 0),
        (a.changeListeners_ = void 0),
        (a.value_ = void 0),
        (a.dehancer = void 0),
        (a.enhancer = i),
        (a.name_ = s),
        (a.equals = l),
        (a.value_ = i(r, void 0, s)),
        a
      );
    }
    var n = e.prototype;
    return (
      (n.dehanceValue = function (i) {
        return this.dehancer !== void 0 ? this.dehancer(i) : i;
      }),
      (n.set = function (i) {
        this.value_,
          (i = this.prepareNewValue_(i)),
          i !== R.UNCHANGED && this.setNewValue_(i);
      }),
      (n.prepareNewValue_ = function (i) {
        if (gn(this)) {
          var s = yn(this, { object: this, type: wr, newValue: i });
          if (!s) return R.UNCHANGED;
          i = s.newValue;
        }
        return (
          (i = this.enhancer(i, this.value_, this.name_)),
          this.equals(this.value_, i) ? R.UNCHANGED : i
        );
      }),
      (n.setNewValue_ = function (i) {
        var s = this.value_;
        (this.value_ = i),
          this.reportChanged(),
          Vn(this) &&
            Wn(this, { type: wr, object: this, newValue: i, oldValue: s });
      }),
      (n.get = function () {
        return this.reportObserved(), this.dehanceValue(this.value_);
      }),
      (n.intercept_ = function (i) {
        return Ja(this, i);
      }),
      (n.observe_ = function (i, s) {
        return (
          s &&
            i({
              observableKind: "value",
              debugObjectName: this.name_,
              object: this,
              type: wr,
              newValue: this.value_,
              oldValue: void 0,
            }),
          Za(this, i)
        );
      }),
      (n.raw = function () {
        return this.value_;
      }),
      (n.toJSON = function () {
        return this.get();
      }),
      (n.toString = function () {
        return this.name_ + "[" + this.value_ + "]";
      }),
      (n.valueOf = function () {
        return $2(this.get());
      }),
      (n[Y2] = function () {
        return this.valueOf();
      }),
      e
    );
  })(Ya),
  V3 = Bi("ObservableValue", wi),
  X2;
X2 = Symbol.toPrimitive;
var Co = (function () {
    function t(n) {
      (this.dependenciesState_ = oe.NOT_TRACKING_),
        (this.observing_ = []),
        (this.newObserving_ = null),
        (this.isBeingObserved_ = !1),
        (this.isPendingUnobservation_ = !1),
        (this.observers_ = new Set()),
        (this.diffValue_ = 0),
        (this.runId_ = 0),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = oe.UP_TO_DATE_),
        (this.unboundDepsCount_ = 0),
        (this.value_ = new df(null)),
        (this.name_ = void 0),
        (this.triggeredBy_ = void 0),
        (this.isComputing_ = !1),
        (this.isRunningSetter_ = !1),
        (this.derivation = void 0),
        (this.setter_ = void 0),
        (this.isTracing_ = hf.NONE),
        (this.scope_ = void 0),
        (this.equals_ = void 0),
        (this.requiresReaction_ = void 0),
        (this.keepAlive_ = void 0),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        n.get || ne(31),
        (this.derivation = n.get),
        (this.name_ = n.name || "ComputedValue"),
        n.set && (this.setter_ = us("ComputedValue-setter", n.set)),
        (this.equals_ =
          n.equals ||
          (n.compareStructural || n.struct ? ko.structural : ko.default)),
        (this.scope_ = n.context),
        (this.requiresReaction_ = n.requiresReaction),
        (this.keepAlive_ = !!n.keepAlive);
    }
    var e = t.prototype;
    return (
      (e.onBecomeStale_ = function () {
        q3(this);
      }),
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (r) {
            return r();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (r) {
            return r();
          });
      }),
      (e.get = function () {
        if (
          (this.isComputing_ && ne(32, this.name_, this.derivation),
          R.inBatch === 0 && this.observers_.size === 0 && !this.keepAlive_)
        )
          xm(this) &&
            (this.warnAboutUntrackedRead_(),
            xn(),
            (this.value_ = this.computeValue_(!1)),
            Sn());
        else if ((rk(this), xm(this))) {
          var r = R.trackingContext;
          this.keepAlive_ && !r && (R.trackingContext = this),
            this.trackAndCompute() && K3(this),
            (R.trackingContext = r);
        }
        var i = this.value_;
        if (kc(i)) throw i.cause;
        return i;
      }),
      (e.set = function (r) {
        if (this.setter_) {
          this.isRunningSetter_ && ne(33, this.name_),
            (this.isRunningSetter_ = !0);
          try {
            this.setter_.call(this.scope_, r);
          } finally {
            this.isRunningSetter_ = !1;
          }
        } else ne(34, this.name_);
      }),
      (e.trackAndCompute = function () {
        var r = this.value_,
          i = this.dependenciesState_ === oe.NOT_TRACKING_,
          s = this.computeValue_(!0),
          o = i || kc(r) || kc(s) || !this.equals_(r, s);
        return o && (this.value_ = s), o;
      }),
      (e.computeValue_ = function (r) {
        this.isComputing_ = !0;
        var i = kh(!1),
          s;
        if (r) s = Q2(this, this.derivation, this.scope_);
        else if (R.disableErrorBoundaries === !0)
          s = this.derivation.call(this.scope_);
        else
          try {
            s = this.derivation.call(this.scope_);
          } catch (o) {
            s = new df(o);
          }
        return Ch(i), (this.isComputing_ = !1), s;
      }),
      (e.suspend_ = function () {
        this.keepAlive_ || (Sm(this), (this.value_ = void 0));
      }),
      (e.observe_ = function (r, i) {
        var s = this,
          o = !0,
          l = void 0;
        return rT(function () {
          var a = s.get();
          if (!o || i) {
            var u = bs();
            r({
              observableKind: "computed",
              debugObjectName: s.name_,
              type: wr,
              object: s,
              newValue: a,
              oldValue: l,
            }),
              Dr(u);
          }
          (o = !1), (l = a);
        });
      }),
      (e.warnAboutUntrackedRead_ = function () {}),
      (e.toString = function () {
        return this.name_ + "[" + this.derivation.toString() + "]";
      }),
      (e.valueOf = function () {
        return $2(this.get());
      }),
      (e[X2] = function () {
        return this.valueOf();
      }),
      t
    );
  })(),
  Qa = Bi("ComputedValue", Co),
  oe;
(function (t) {
  (t[(t.NOT_TRACKING_ = -1)] = "NOT_TRACKING_"),
    (t[(t.UP_TO_DATE_ = 0)] = "UP_TO_DATE_"),
    (t[(t.POSSIBLY_STALE_ = 1)] = "POSSIBLY_STALE_"),
    (t[(t.STALE_ = 2)] = "STALE_");
})(oe || (oe = {}));
var hf;
(function (t) {
  (t[(t.NONE = 0)] = "NONE"),
    (t[(t.LOG = 1)] = "LOG"),
    (t[(t.BREAK = 2)] = "BREAK");
})(hf || (hf = {}));
var df = function (e) {
  (this.cause = void 0), (this.cause = e);
};
function kc(t) {
  return t instanceof df;
}
function xm(t) {
  switch (t.dependenciesState_) {
    case oe.UP_TO_DATE_:
      return !1;
    case oe.NOT_TRACKING_:
    case oe.STALE_:
      return !0;
    case oe.POSSIBLY_STALE_: {
      for (
        var e = $0(!0), n = bs(), r = t.observing_, i = r.length, s = 0;
        s < i;
        s++
      ) {
        var o = r[s];
        if (Qa(o)) {
          if (R.disableErrorBoundaries) o.get();
          else
            try {
              o.get();
            } catch {
              return Dr(n), Tl(e), !0;
            }
          if (t.dependenciesState_ === oe.STALE_) return Dr(n), Tl(e), !0;
        }
      }
      return Z2(t), Dr(n), Tl(e), !1;
    }
  }
}
function Q2(t, e, n) {
  var r = $0(!0);
  Z2(t),
    (t.newObserving_ = new Array(t.runId_ === 0 ? 100 : t.observing_.length)),
    (t.unboundDepsCount_ = 0),
    (t.runId_ = ++R.runId);
  var i = R.trackingDerivation;
  (R.trackingDerivation = t), R.inBatch++;
  var s;
  if (R.disableErrorBoundaries === !0) s = e.call(n);
  else
    try {
      s = e.call(n);
    } catch (o) {
      s = new df(o);
    }
  return R.inBatch--, (R.trackingDerivation = i), W3(t), Tl(r), s;
}
function W3(t) {
  for (
    var e = t.observing_,
      n = (t.observing_ = t.newObserving_),
      r = oe.UP_TO_DATE_,
      i = 0,
      s = t.unboundDepsCount_,
      o = 0;
    o < s;
    o++
  ) {
    var l = n[o];
    l.diffValue_ === 0 && ((l.diffValue_ = 1), i !== o && (n[i] = l), i++),
      l.dependenciesState_ > r && (r = l.dependenciesState_);
  }
  for (n.length = i, t.newObserving_ = null, s = e.length; s--; ) {
    var a = e[s];
    a.diffValue_ === 0 && tk(a, t), (a.diffValue_ = 0);
  }
  for (; i--; ) {
    var u = n[i];
    u.diffValue_ === 1 && ((u.diffValue_ = 0), U3(u, t));
  }
  r !== oe.UP_TO_DATE_ && ((t.dependenciesState_ = r), t.onBecomeStale_());
}
function Sm(t) {
  var e = t.observing_;
  t.observing_ = [];
  for (var n = e.length; n--; ) tk(e[n], t);
  t.dependenciesState_ = oe.NOT_TRACKING_;
}
function J2(t) {
  var e = bs();
  try {
    return t();
  } finally {
    Dr(e);
  }
}
function bs() {
  var t = R.trackingDerivation;
  return (R.trackingDerivation = null), t;
}
function Dr(t) {
  R.trackingDerivation = t;
}
function $0(t) {
  var e = R.allowStateReads;
  return (R.allowStateReads = t), e;
}
function Tl(t) {
  R.allowStateReads = t;
}
function Z2(t) {
  if (t.dependenciesState_ !== oe.UP_TO_DATE_) {
    t.dependenciesState_ = oe.UP_TO_DATE_;
    for (var e = t.observing_, n = e.length; n--; )
      e[n].lowestObserverState_ = oe.UP_TO_DATE_;
  }
}
var Cc = function () {
    (this.version = 6),
      (this.UNCHANGED = {}),
      (this.trackingDerivation = null),
      (this.trackingContext = null),
      (this.runId = 0),
      (this.mobxGuid = 0),
      (this.inBatch = 0),
      (this.pendingUnobservations = []),
      (this.pendingReactions = []),
      (this.isRunningReactions = !1),
      (this.allowStateChanges = !1),
      (this.allowStateReads = !0),
      (this.enforceActions = !0),
      (this.spyListeners = []),
      (this.globalReactionErrorHandlers = []),
      (this.computedRequiresReaction = !1),
      (this.reactionRequiresObservable = !1),
      (this.observableRequiresReaction = !1),
      (this.disableErrorBoundaries = !1),
      (this.suppressReactionErrors = !1),
      (this.useProxies = !0),
      (this.verifyProxies = !1),
      (this.safeDescriptors = !0);
  },
  _c = !0,
  ek = !1,
  R = (function () {
    var t = D0();
    return (
      t.__mobxInstanceCount > 0 && !t.__mobxGlobals && (_c = !1),
      t.__mobxGlobals &&
        t.__mobxGlobals.version !== new Cc().version &&
        (_c = !1),
      _c
        ? t.__mobxGlobals
          ? ((t.__mobxInstanceCount += 1),
            t.__mobxGlobals.UNCHANGED || (t.__mobxGlobals.UNCHANGED = {}),
            t.__mobxGlobals)
          : ((t.__mobxInstanceCount = 1), (t.__mobxGlobals = new Cc()))
        : (setTimeout(function () {
            ek || ne(35);
          }, 1),
          new Cc())
    );
  })();
function H3() {
  if (
    ((R.pendingReactions.length || R.inBatch || R.isRunningReactions) && ne(36),
    (ek = !0),
    _c)
  ) {
    var t = D0();
    --t.__mobxInstanceCount === 0 && (t.__mobxGlobals = void 0), (R = new Cc());
  }
}
function U3(t, e) {
  t.observers_.add(e),
    t.lowestObserverState_ > e.dependenciesState_ &&
      (t.lowestObserverState_ = e.dependenciesState_);
}
function tk(t, e) {
  t.observers_.delete(e), t.observers_.size === 0 && nk(t);
}
function nk(t) {
  t.isPendingUnobservation_ === !1 &&
    ((t.isPendingUnobservation_ = !0), R.pendingUnobservations.push(t));
}
function xn() {
  R.inBatch++;
}
function Sn() {
  if (--R.inBatch === 0) {
    sk();
    for (var t = R.pendingUnobservations, e = 0; e < t.length; e++) {
      var n = t[e];
      (n.isPendingUnobservation_ = !1),
        n.observers_.size === 0 &&
          (n.isBeingObserved_ && ((n.isBeingObserved_ = !1), n.onBUO()),
          n instanceof Co && n.suspend_());
    }
    R.pendingUnobservations = [];
  }
}
function rk(t) {
  var e = R.trackingDerivation;
  return e !== null
    ? (e.runId_ !== t.lastAccessedBy_ &&
        ((t.lastAccessedBy_ = e.runId_),
        (e.newObserving_[e.unboundDepsCount_++] = t),
        !t.isBeingObserved_ &&
          R.trackingContext &&
          ((t.isBeingObserved_ = !0), t.onBO())),
      t.isBeingObserved_)
    : (t.observers_.size === 0 && R.inBatch > 0 && nk(t), !1);
}
function ik(t) {
  t.lowestObserverState_ !== oe.STALE_ &&
    ((t.lowestObserverState_ = oe.STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === oe.UP_TO_DATE_ && e.onBecomeStale_(),
        (e.dependenciesState_ = oe.STALE_);
    }));
}
function K3(t) {
  t.lowestObserverState_ !== oe.STALE_ &&
    ((t.lowestObserverState_ = oe.STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === oe.POSSIBLY_STALE_
        ? (e.dependenciesState_ = oe.STALE_)
        : e.dependenciesState_ === oe.UP_TO_DATE_ &&
          (t.lowestObserverState_ = oe.UP_TO_DATE_);
    }));
}
function q3(t) {
  t.lowestObserverState_ === oe.UP_TO_DATE_ &&
    ((t.lowestObserverState_ = oe.POSSIBLY_STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === oe.UP_TO_DATE_ &&
        ((e.dependenciesState_ = oe.POSSIBLY_STALE_), e.onBecomeStale_());
    }));
}
var ia = (function () {
    function t(n, r, i, s) {
      n === void 0 && (n = "Reaction"),
        (this.name_ = void 0),
        (this.onInvalidate_ = void 0),
        (this.errorHandler_ = void 0),
        (this.requiresObservable_ = void 0),
        (this.observing_ = []),
        (this.newObserving_ = []),
        (this.dependenciesState_ = oe.NOT_TRACKING_),
        (this.diffValue_ = 0),
        (this.runId_ = 0),
        (this.unboundDepsCount_ = 0),
        (this.isDisposed_ = !1),
        (this.isScheduled_ = !1),
        (this.isTrackPending_ = !1),
        (this.isRunning_ = !1),
        (this.isTracing_ = hf.NONE),
        (this.name_ = n),
        (this.onInvalidate_ = r),
        (this.errorHandler_ = i),
        (this.requiresObservable_ = s);
    }
    var e = t.prototype;
    return (
      (e.onBecomeStale_ = function () {
        this.schedule_();
      }),
      (e.schedule_ = function () {
        this.isScheduled_ ||
          ((this.isScheduled_ = !0), R.pendingReactions.push(this), sk());
      }),
      (e.isScheduled = function () {
        return this.isScheduled_;
      }),
      (e.runReaction_ = function () {
        if (!this.isDisposed_) {
          xn(), (this.isScheduled_ = !1);
          var r = R.trackingContext;
          if (((R.trackingContext = this), xm(this))) {
            this.isTrackPending_ = !0;
            try {
              this.onInvalidate_();
            } catch (i) {
              this.reportExceptionInDerivation_(i);
            }
          }
          (R.trackingContext = r), Sn();
        }
      }),
      (e.track = function (r) {
        if (!this.isDisposed_) {
          xn(), (this.isRunning_ = !0);
          var i = R.trackingContext;
          R.trackingContext = this;
          var s = Q2(this, r, void 0);
          (R.trackingContext = i),
            (this.isRunning_ = !1),
            (this.isTrackPending_ = !1),
            this.isDisposed_ && Sm(this),
            kc(s) && this.reportExceptionInDerivation_(s.cause),
            Sn();
        }
      }),
      (e.reportExceptionInDerivation_ = function (r) {
        var i = this;
        if (this.errorHandler_) {
          this.errorHandler_(r, this);
          return;
        }
        if (R.disableErrorBoundaries) throw r;
        var s = "[mobx] uncaught error in '" + this + "'";
        R.suppressReactionErrors || console.error(s, r),
          R.globalReactionErrorHandlers.forEach(function (o) {
            return o(r, i);
          });
      }),
      (e.dispose = function () {
        this.isDisposed_ ||
          ((this.isDisposed_ = !0), this.isRunning_ || (xn(), Sm(this), Sn()));
      }),
      (e.getDisposer_ = function (r) {
        var i = this,
          s = function o() {
            i.dispose(),
              r == null ||
                r.removeEventListener == null ||
                r.removeEventListener("abort", o);
          };
        return (
          r == null ||
            r.addEventListener == null ||
            r.addEventListener("abort", s),
          (s[q] = this),
          s
        );
      }),
      (e.toString = function () {
        return "Reaction[" + this.name_ + "]";
      }),
      (e.trace = function (r) {}),
      t
    );
  })(),
  G3 = 100,
  km = function (e) {
    return e();
  };
function sk() {
  R.inBatch > 0 || R.isRunningReactions || km(Y3);
}
function Y3() {
  R.isRunningReactions = !0;
  for (var t = R.pendingReactions, e = 0; t.length > 0; ) {
    ++e === G3 &&
      (console.error("[mobx] cycle in reaction: " + t[0]), t.splice(0));
    for (var n = t.splice(0), r = 0, i = n.length; r < i; r++)
      n[r].runReaction_();
  }
  R.isRunningReactions = !1;
}
var pf = Bi("Reaction", ia);
function X3(t) {
  var e = km;
  km = function (r) {
    return t(function () {
      return e(r);
    });
  };
}
function Pl() {
  return !1;
}
function Q3(t) {
  return (
    console.warn("[mobx.spy] Is a no-op in production builds"), function () {}
  );
}
var ok = "action",
  J3 = "action.bound",
  lk = "autoAction",
  Z3 = "autoAction.bound",
  eT = "<unnamed action>",
  Cm = Xa(ok),
  tT = Xa(J3, { bound: !0 }),
  _m = Xa(lk, { autoAction: !0 }),
  nT = Xa(Z3, { autoAction: !0, bound: !0 });
function ak(t) {
  var e = function (r, i) {
    if (Un(r)) return us(r.name || eT, r, t);
    if (Un(i)) return us(r, i, t);
    if (Ga(i)) return (t ? _m : Cm).decorate_20223_(r, i);
    if (os(i)) return jo(r, i, t ? _m : Cm);
    if (os(r)) return vr(Xa(t ? lk : ok, { name: r, autoAction: t }));
  };
  return e;
}
var Me = ak(!1);
Object.assign(Me, Cm);
var sa = ak(!0);
Object.assign(sa, _m);
Me.bound = vr(tT);
sa.bound = vr(nT);
function _h(t) {
  return Un(t) && t.isMobxAction === !0;
}
function rT(t, e) {
  var n, r, i, s, o;
  e === void 0 && (e = L0);
  var l = (n = (r = e) == null ? void 0 : r.name) != null ? n : "Autorun",
    a = !e.scheduler && !e.delay,
    u;
  if (a)
    u = new ia(
      l,
      function () {
        this.track(h);
      },
      e.onError,
      e.requiresObservable
    );
  else {
    var c = uk(e),
      f = !1;
    u = new ia(
      l,
      function () {
        f ||
          ((f = !0),
          c(function () {
            (f = !1), u.isDisposed_ || u.track(h);
          }));
      },
      e.onError,
      e.requiresObservable
    );
  }
  function h() {
    t(u);
  }
  return (
    ((i = e) != null && (s = i.signal) != null && s.aborted) || u.schedule_(),
    u.getDisposer_((o = e) == null ? void 0 : o.signal)
  );
}
var iT = function (e) {
  return e();
};
function uk(t) {
  return t.scheduler
    ? t.scheduler
    : t.delay
      ? function (e) {
          return setTimeout(e, t.delay);
        }
      : iT;
}
function ck(t, e, n) {
  var r, i, s, o;
  n === void 0 && (n = L0);
  var l = (r = n.name) != null ? r : "Reaction",
    a = Me(l, n.onError ? sT(n.onError, e) : e),
    u = !n.scheduler && !n.delay,
    c = uk(n),
    f = !0,
    h = !1,
    d,
    p = n.compareStructural ? ko.structural : n.equals || ko.default,
    m = new ia(
      l,
      function () {
        f || u ? w() : h || ((h = !0), c(w));
      },
      n.onError,
      n.requiresObservable
    );
  function w() {
    if (((h = !1), !m.isDisposed_)) {
      var g = !1,
        y = d;
      m.track(function () {
        var v = j3(!1, function () {
          return t(m);
        });
        (g = f || !p(d, v)), (d = v);
      }),
        ((f && n.fireImmediately) || (!f && g)) && a(d, y, m),
        (f = !1);
    }
  }
  return (
    ((i = n) != null && (s = i.signal) != null && s.aborted) || m.schedule_(),
    m.getDisposer_((o = n) == null ? void 0 : o.signal)
  );
}
function sT(t, e) {
  return function () {
    try {
      return e.apply(this, arguments);
    } catch (n) {
      t.call(this, n);
    }
  };
}
var oT = "onBO",
  lT = "onBUO";
function aT(t, e, n) {
  return hk(oT, t, e, n);
}
function fk(t, e, n) {
  return hk(lT, t, e, n);
}
function hk(t, e, n, r) {
  var i = typeof r == "function" ? Oo(e, n) : Oo(e),
    s = Un(r) ? r : n,
    o = t + "L";
  return (
    i[o] ? i[o].add(s) : (i[o] = new Set([s])),
    function () {
      var l = i[o];
      l && (l.delete(s), l.size === 0 && delete i[o]);
    }
  );
}
var uT = "never",
  Bu = "always",
  cT = "observed";
function fT(t) {
  t.isolateGlobalState === !0 && H3();
  var e = t.useProxies,
    n = t.enforceActions;
  if (
    (e !== void 0 &&
      (R.useProxies = e === Bu ? !0 : e === uT ? !1 : typeof Proxy < "u"),
    e === "ifavailable" && (R.verifyProxies = !0),
    n !== void 0)
  ) {
    var r = n === Bu ? Bu : n === cT;
    (R.enforceActions = r), (R.allowStateChanges = !(r === !0 || r === Bu));
  }
  [
    "computedRequiresReaction",
    "reactionRequiresObservable",
    "observableRequiresReaction",
    "disableErrorBoundaries",
    "safeDescriptors",
  ].forEach(function (i) {
    i in t && (R[i] = !!t[i]);
  }),
    (R.allowStateReads = !R.observableRequiresReaction),
    t.reactionScheduler && X3(t.reactionScheduler);
}
function hT(t, e, n, r) {
  var i = H5(e);
  return (
    Ss(function () {
      var s = Vo(t, r)[q];
      bh(i).forEach(function (o) {
        s.extend_(o, i[o], n && o in n ? n[o] : !0);
      });
    }),
    t
  );
}
function dT(t, e) {
  return dk(Oo(t, e));
}
function dk(t) {
  var e = { name: t.name_ };
  return (
    t.observing_ &&
      t.observing_.length > 0 &&
      (e.dependencies = pT(t.observing_).map(dk)),
    e
  );
}
function pT(t) {
  return Array.from(new Set(t));
}
var mT = 0;
function pk() {
  this.message = "FLOW_CANCELLED";
}
pk.prototype = Object.create(Error.prototype);
var jd = V2("flow"),
  gT = V2("flow.bound", { bound: !0 }),
  _o = Object.assign(function (e, n) {
    if (Ga(n)) return jd.decorate_20223_(e, n);
    if (os(n)) return jo(e, n, jd);
    var r = e,
      i = r.name || "<unnamed flow>",
      s = function () {
        var l = this,
          a = arguments,
          u = ++mT,
          c = Me(i + " - runid: " + u + " - init", r).apply(l, a),
          f,
          h = void 0,
          d = new Promise(function (p, m) {
            var w = 0;
            f = m;
            function g(b) {
              h = void 0;
              var x;
              try {
                x = Me(i + " - runid: " + u + " - yield " + w++, c.next).call(
                  c,
                  b
                );
              } catch (S) {
                return m(S);
              }
              v(x);
            }
            function y(b) {
              h = void 0;
              var x;
              try {
                x = Me(i + " - runid: " + u + " - yield " + w++, c.throw).call(
                  c,
                  b
                );
              } catch (S) {
                return m(S);
              }
              v(x);
            }
            function v(b) {
              if (Un(b == null ? void 0 : b.then)) {
                b.then(v, m);
                return;
              }
              return b.done
                ? p(b.value)
                : ((h = Promise.resolve(b.value)), h.then(g, y));
            }
            g(void 0);
          });
        return (
          (d.cancel = Me(i + " - runid: " + u + " - cancel", function () {
            try {
              h && wv(h);
              var p = c.return(void 0),
                m = Promise.resolve(p.value);
              m.then(Gs, Gs), wv(m), f(new pk());
            } catch (w) {
              f(w);
            }
          })),
          d
        );
      };
    return (s.isMobXFlow = !0), s;
  }, jd);
_o.bound = vr(gT);
function wv(t) {
  Un(t.cancel) && t.cancel();
}
function oa(t) {
  return (t == null ? void 0 : t.isMobXFlow) === !0;
}
function yT(t, e) {
  return t
    ? e !== void 0
      ? Ao(t)
        ? t[q].values_.has(e)
        : !1
      : Ao(t) || !!t[q] || N0(t) || pf(t) || Qa(t)
    : !1;
}
function F0(t) {
  return yT(t);
}
function vT(t) {
  if (Ao(t)) return t[q].ownKeys_();
  ne(38);
}
function Nu(t, e, n) {
  return t.set(e, n), n;
}
function Ds(t, e) {
  if (t == null || typeof t != "object" || t instanceof Date || !F0(t))
    return t;
  if (V3(t) || Qa(t)) return Ds(t.get(), e);
  if (e.has(t)) return e.get(t);
  if (eu(t)) {
    var n = Nu(e, t, new Array(t.length));
    return (
      t.forEach(function (o, l) {
        n[l] = Ds(o, e);
      }),
      n
    );
  }
  if (xs(t)) {
    var r = Nu(e, t, new Set());
    return (
      t.forEach(function (o) {
        r.add(Ds(o, e));
      }),
      r
    );
  }
  if (Ni(t)) {
    var i = Nu(e, t, new Map());
    return (
      t.forEach(function (o, l) {
        i.set(l, Ds(o, e));
      }),
      i
    );
  } else {
    var s = Nu(e, t, {});
    return (
      vT(t).forEach(function (o) {
        Ka.propertyIsEnumerable.call(t, o) && (s[o] = Ds(t[o], e));
      }),
      s
    );
  }
}
function wT(t, e) {
  return Ds(t, new Map());
}
function Er(t, e) {
  e === void 0 && (e = void 0), xn();
  try {
    return t.apply(e);
  } finally {
    Sn();
  }
}
function As(t) {
  return t[q];
}
var bT = {
  has: function (e, n) {
    return As(e).has_(n);
  },
  get: function (e, n) {
    return As(e).get_(n);
  },
  set: function (e, n, r) {
    var i;
    return os(n) ? ((i = As(e).set_(n, r, !0)) != null ? i : !0) : !1;
  },
  deleteProperty: function (e, n) {
    var r;
    return os(n) ? ((r = As(e).delete_(n, !0)) != null ? r : !0) : !1;
  },
  defineProperty: function (e, n, r) {
    var i;
    return (i = As(e).defineProperty_(n, r)) != null ? i : !0;
  },
  ownKeys: function (e) {
    return As(e).ownKeys_();
  },
  preventExtensions: function (e) {
    ne(13);
  },
};
function xT(t, e) {
  var n, r;
  return (
    D2(),
    (t = Vo(t, e)),
    (r = (n = t[q]).proxy_) != null ? r : (n.proxy_ = new Proxy(t, bT))
  );
}
function gn(t) {
  return t.interceptors_ !== void 0 && t.interceptors_.length > 0;
}
function Ja(t, e) {
  var n = t.interceptors_ || (t.interceptors_ = []);
  return (
    n.push(e),
    L2(function () {
      var r = n.indexOf(e);
      r !== -1 && n.splice(r, 1);
    })
  );
}
function yn(t, e) {
  var n = bs();
  try {
    for (
      var r = [].concat(t.interceptors_ || []), i = 0, s = r.length;
      i < s && ((e = r[i](e)), e && !e.type && ne(14), !!e);
      i++
    );
    return e;
  } finally {
    Dr(n);
  }
}
function Vn(t) {
  return t.changeListeners_ !== void 0 && t.changeListeners_.length > 0;
}
function Za(t, e) {
  var n = t.changeListeners_ || (t.changeListeners_ = []);
  return (
    n.push(e),
    L2(function () {
      var r = n.indexOf(e);
      r !== -1 && n.splice(r, 1);
    })
  );
}
function Wn(t, e) {
  var n = bs(),
    r = t.changeListeners_;
  if (r) {
    r = r.slice();
    for (var i = 0, s = r.length; i < s; i++) r[i](e);
    Dr(n);
  }
}
function ST(t, e, n) {
  return (
    Ss(function () {
      var r,
        i = Vo(t, n)[q];
      (r = e) != null || (e = G5(t)),
        bh(e).forEach(function (s) {
          return i.make_(s, e[s]);
        });
    }),
    t
  );
}
var bv = "splice",
  wr = "update",
  kT = 1e4,
  CT = {
    get: function (e, n) {
      var r = e[q];
      return n === q
        ? r
        : n === "length"
          ? r.getArrayLength_()
          : typeof n == "string" && !isNaN(n)
            ? r.get_(parseInt(n))
            : Rr(mf, n)
              ? mf[n]
              : e[n];
    },
    set: function (e, n, r) {
      var i = e[q];
      return (
        n === "length" && i.setArrayLength_(r),
        typeof n == "symbol" || isNaN(n) ? (e[n] = r) : i.set_(parseInt(n), r),
        !0
      );
    },
    preventExtensions: function () {
      ne(15);
    },
  },
  z0 = (function () {
    function t(n, r, i, s) {
      n === void 0 && (n = "ObservableArray"),
        (this.owned_ = void 0),
        (this.legacyMode_ = void 0),
        (this.atom_ = void 0),
        (this.values_ = []),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.enhancer_ = void 0),
        (this.dehancer = void 0),
        (this.proxy_ = void 0),
        (this.lastKnownLength_ = 0),
        (this.owned_ = i),
        (this.legacyMode_ = s),
        (this.atom_ = new Ya(n)),
        (this.enhancer_ = function (o, l) {
          return r(o, l, "ObservableArray[..]");
        });
    }
    var e = t.prototype;
    return (
      (e.dehanceValue_ = function (r) {
        return this.dehancer !== void 0 ? this.dehancer(r) : r;
      }),
      (e.dehanceValues_ = function (r) {
        return this.dehancer !== void 0 && r.length > 0
          ? r.map(this.dehancer)
          : r;
      }),
      (e.intercept_ = function (r) {
        return Ja(this, r);
      }),
      (e.observe_ = function (r, i) {
        return (
          i === void 0 && (i = !1),
          i &&
            r({
              observableKind: "array",
              object: this.proxy_,
              debugObjectName: this.atom_.name_,
              type: "splice",
              index: 0,
              added: this.values_.slice(),
              addedCount: this.values_.length,
              removed: [],
              removedCount: 0,
            }),
          Za(this, r)
        );
      }),
      (e.getArrayLength_ = function () {
        return this.atom_.reportObserved(), this.values_.length;
      }),
      (e.setArrayLength_ = function (r) {
        (typeof r != "number" || isNaN(r) || r < 0) && ne("Out of range: " + r);
        var i = this.values_.length;
        if (r !== i)
          if (r > i) {
            for (var s = new Array(r - i), o = 0; o < r - i; o++) s[o] = void 0;
            this.spliceWithArray_(i, 0, s);
          } else this.spliceWithArray_(r, i - r);
      }),
      (e.updateArrayLength_ = function (r, i) {
        r !== this.lastKnownLength_ && ne(16),
          (this.lastKnownLength_ += i),
          this.legacyMode_ && i > 0 && _k(r + i + 1);
      }),
      (e.spliceWithArray_ = function (r, i, s) {
        var o = this;
        this.atom_;
        var l = this.values_.length;
        if (
          (r === void 0
            ? (r = 0)
            : r > l
              ? (r = l)
              : r < 0 && (r = Math.max(0, l + r)),
          arguments.length === 1
            ? (i = l - r)
            : i == null
              ? (i = 0)
              : (i = Math.max(0, Math.min(i, l - r))),
          s === void 0 && (s = ym),
          gn(this))
        ) {
          var a = yn(this, {
            object: this.proxy_,
            type: bv,
            index: r,
            removedCount: i,
            added: s,
          });
          if (!a) return ym;
          (i = a.removedCount), (s = a.added);
        }
        if (
          ((s =
            s.length === 0
              ? s
              : s.map(function (f) {
                  return o.enhancer_(f, void 0);
                })),
          this.legacyMode_)
        ) {
          var u = s.length - i;
          this.updateArrayLength_(l, u);
        }
        var c = this.spliceItemsIntoValues_(r, i, s);
        return (
          (i !== 0 || s.length !== 0) && this.notifyArraySplice_(r, s, c),
          this.dehanceValues_(c)
        );
      }),
      (e.spliceItemsIntoValues_ = function (r, i, s) {
        if (s.length < kT) {
          var o;
          return (o = this.values_).splice.apply(o, [r, i].concat(s));
        } else {
          var l = this.values_.slice(r, r + i),
            a = this.values_.slice(r + i);
          this.values_.length += s.length - i;
          for (var u = 0; u < s.length; u++) this.values_[r + u] = s[u];
          for (var c = 0; c < a.length; c++)
            this.values_[r + s.length + c] = a[c];
          return l;
        }
      }),
      (e.notifyArrayChildUpdate_ = function (r, i, s) {
        var o = !this.owned_ && Pl(),
          l = Vn(this),
          a =
            l || o
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  type: wr,
                  debugObjectName: this.atom_.name_,
                  index: r,
                  newValue: i,
                  oldValue: s,
                }
              : null;
        this.atom_.reportChanged(), l && Wn(this, a);
      }),
      (e.notifyArraySplice_ = function (r, i, s) {
        var o = !this.owned_ && Pl(),
          l = Vn(this),
          a =
            l || o
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  debugObjectName: this.atom_.name_,
                  type: bv,
                  index: r,
                  removed: s,
                  added: i,
                  removedCount: s.length,
                  addedCount: i.length,
                }
              : null;
        this.atom_.reportChanged(), l && Wn(this, a);
      }),
      (e.get_ = function (r) {
        if (this.legacyMode_ && r >= this.values_.length) {
          console.warn("[mobx] Out of bounds read: " + r);
          return;
        }
        return this.atom_.reportObserved(), this.dehanceValue_(this.values_[r]);
      }),
      (e.set_ = function (r, i) {
        var s = this.values_;
        if (
          (this.legacyMode_ && r > s.length && ne(17, r, s.length),
          r < s.length)
        ) {
          this.atom_;
          var o = s[r];
          if (gn(this)) {
            var l = yn(this, {
              type: wr,
              object: this.proxy_,
              index: r,
              newValue: i,
            });
            if (!l) return;
            i = l.newValue;
          }
          i = this.enhancer_(i, o);
          var a = i !== o;
          a && ((s[r] = i), this.notifyArrayChildUpdate_(r, i, o));
        } else {
          for (
            var u = new Array(r + 1 - s.length), c = 0;
            c < u.length - 1;
            c++
          )
            u[c] = void 0;
          (u[u.length - 1] = i), this.spliceWithArray_(s.length, 0, u);
        }
      }),
      t
    );
  })();
function _T(t, e, n, r) {
  return (
    n === void 0 && (n = "ObservableArray"),
    r === void 0 && (r = !1),
    D2(),
    Ss(function () {
      var i = new z0(n, e, r, !1);
      N2(i.values_, q, i);
      var s = new Proxy(i.values_, CT);
      return (i.proxy_ = s), t && t.length && i.spliceWithArray_(0, 0, t), s;
    })
  );
}
var mf = {
  clear: function () {
    return this.splice(0);
  },
  replace: function (e) {
    var n = this[q];
    return n.spliceWithArray_(0, n.values_.length, e);
  },
  toJSON: function () {
    return this.slice();
  },
  splice: function (e, n) {
    for (
      var r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), s = 2;
      s < r;
      s++
    )
      i[s - 2] = arguments[s];
    var o = this[q];
    switch (arguments.length) {
      case 0:
        return [];
      case 1:
        return o.spliceWithArray_(e);
      case 2:
        return o.spliceWithArray_(e, n);
    }
    return o.spliceWithArray_(e, n, i);
  },
  spliceWithArray: function (e, n, r) {
    return this[q].spliceWithArray_(e, n, r);
  },
  push: function () {
    for (
      var e = this[q], n = arguments.length, r = new Array(n), i = 0;
      i < n;
      i++
    )
      r[i] = arguments[i];
    return e.spliceWithArray_(e.values_.length, 0, r), e.values_.length;
  },
  pop: function () {
    return this.splice(Math.max(this[q].values_.length - 1, 0), 1)[0];
  },
  shift: function () {
    return this.splice(0, 1)[0];
  },
  unshift: function () {
    for (
      var e = this[q], n = arguments.length, r = new Array(n), i = 0;
      i < n;
      i++
    )
      r[i] = arguments[i];
    return e.spliceWithArray_(0, 0, r), e.values_.length;
  },
  reverse: function () {
    return (
      R.trackingDerivation && ne(37, "reverse"),
      this.replace(this.slice().reverse()),
      this
    );
  },
  sort: function () {
    R.trackingDerivation && ne(37, "sort");
    var e = this.slice();
    return e.sort.apply(e, arguments), this.replace(e), this;
  },
  remove: function (e) {
    var n = this[q],
      r = n.dehanceValues_(n.values_).indexOf(e);
    return r > -1 ? (this.splice(r, 1), !0) : !1;
  },
};
be("at", ln);
be("concat", ln);
be("flat", ln);
be("includes", ln);
be("indexOf", ln);
be("join", ln);
be("lastIndexOf", ln);
be("slice", ln);
be("toString", ln);
be("toLocaleString", ln);
be("toSorted", ln);
be("toSpliced", ln);
be("with", ln);
be("every", Gn);
be("filter", Gn);
be("find", Gn);
be("findIndex", Gn);
be("findLast", Gn);
be("findLastIndex", Gn);
be("flatMap", Gn);
be("forEach", Gn);
be("map", Gn);
be("some", Gn);
be("toReversed", Gn);
be("reduce", mk);
be("reduceRight", mk);
function be(t, e) {
  typeof Array.prototype[t] == "function" && (mf[t] = e(t));
}
function ln(t) {
  return function () {
    var e = this[q];
    e.atom_.reportObserved();
    var n = e.dehanceValues_(e.values_);
    return n[t].apply(n, arguments);
  };
}
function Gn(t) {
  return function (e, n) {
    var r = this,
      i = this[q];
    i.atom_.reportObserved();
    var s = i.dehanceValues_(i.values_);
    return s[t](function (o, l) {
      return e.call(n, o, l, r);
    });
  };
}
function mk(t) {
  return function () {
    var e = this,
      n = this[q];
    n.atom_.reportObserved();
    var r = n.dehanceValues_(n.values_),
      i = arguments[0];
    return (
      (arguments[0] = function (s, o, l) {
        return i(s, o, l, e);
      }),
      r[t].apply(r, arguments)
    );
  };
}
var AT = Bi("ObservableArrayAdministration", z0);
function eu(t) {
  return vh(t) && AT(t[q]);
}
var gk,
  yk,
  OT = {},
  oi = "add",
  gf = "delete";
gk = Symbol.iterator;
yk = Symbol.toStringTag;
var vk = (function () {
    function t(n, r, i) {
      var s = this;
      r === void 0 && (r = as),
        i === void 0 && (i = "ObservableMap"),
        (this.enhancer_ = void 0),
        (this.name_ = void 0),
        (this[q] = OT),
        (this.data_ = void 0),
        (this.hasMap_ = void 0),
        (this.keysAtom_ = void 0),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = r),
        (this.name_ = i),
        Un(Map) || ne(18),
        Ss(function () {
          (s.keysAtom_ = z2("ObservableMap.keys()")),
            (s.data_ = new Map()),
            (s.hasMap_ = new Map()),
            n && s.merge(n);
        });
    }
    var e = t.prototype;
    return (
      (e.has_ = function (r) {
        return this.data_.has(r);
      }),
      (e.has = function (r) {
        var i = this;
        if (!R.trackingDerivation) return this.has_(r);
        var s = this.hasMap_.get(r);
        if (!s) {
          var o = (s = new wi(this.has_(r), xh, "ObservableMap.key?", !1));
          this.hasMap_.set(r, o),
            fk(o, function () {
              return i.hasMap_.delete(r);
            });
        }
        return s.get();
      }),
      (e.set = function (r, i) {
        var s = this.has_(r);
        if (gn(this)) {
          var o = yn(this, {
            type: s ? wr : oi,
            object: this,
            newValue: i,
            name: r,
          });
          if (!o) return this;
          i = o.newValue;
        }
        return s ? this.updateValue_(r, i) : this.addValue_(r, i), this;
      }),
      (e.delete = function (r) {
        var i = this;
        if ((this.keysAtom_, gn(this))) {
          var s = yn(this, { type: gf, object: this, name: r });
          if (!s) return !1;
        }
        if (this.has_(r)) {
          var o = Pl(),
            l = Vn(this),
            a =
              l || o
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: gf,
                    object: this,
                    oldValue: this.data_.get(r).value_,
                    name: r,
                  }
                : null;
          return (
            Er(function () {
              var u;
              i.keysAtom_.reportChanged(),
                (u = i.hasMap_.get(r)) == null || u.setNewValue_(!1);
              var c = i.data_.get(r);
              c.setNewValue_(void 0), i.data_.delete(r);
            }),
            l && Wn(this, a),
            !0
          );
        }
        return !1;
      }),
      (e.updateValue_ = function (r, i) {
        var s = this.data_.get(r);
        if (((i = s.prepareNewValue_(i)), i !== R.UNCHANGED)) {
          var o = Pl(),
            l = Vn(this),
            a =
              l || o
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: wr,
                    object: this,
                    oldValue: s.value_,
                    name: r,
                    newValue: i,
                  }
                : null;
          s.setNewValue_(i), l && Wn(this, a);
        }
      }),
      (e.addValue_ = function (r, i) {
        var s = this;
        this.keysAtom_,
          Er(function () {
            var u,
              c = new wi(i, s.enhancer_, "ObservableMap.key", !1);
            s.data_.set(r, c),
              (i = c.value_),
              (u = s.hasMap_.get(r)) == null || u.setNewValue_(!0),
              s.keysAtom_.reportChanged();
          });
        var o = Pl(),
          l = Vn(this),
          a =
            l || o
              ? {
                  observableKind: "map",
                  debugObjectName: this.name_,
                  type: oi,
                  object: this,
                  name: r,
                  newValue: i,
                }
              : null;
        l && Wn(this, a);
      }),
      (e.get = function (r) {
        return this.has(r)
          ? this.dehanceValue_(this.data_.get(r).get())
          : this.dehanceValue_(void 0);
      }),
      (e.dehanceValue_ = function (r) {
        return this.dehancer !== void 0 ? this.dehancer(r) : r;
      }),
      (e.keys = function () {
        return this.keysAtom_.reportObserved(), this.data_.keys();
      }),
      (e.values = function () {
        var r = this,
          i = this.keys();
        return la({
          next: function () {
            var o = i.next(),
              l = o.done,
              a = o.value;
            return { done: l, value: l ? void 0 : r.get(a) };
          },
        });
      }),
      (e.entries = function () {
        var r = this,
          i = this.keys();
        return la({
          next: function () {
            var o = i.next(),
              l = o.done,
              a = o.value;
            return { done: l, value: l ? void 0 : [a, r.get(a)] };
          },
        });
      }),
      (e[gk] = function () {
        return this.entries();
      }),
      (e.forEach = function (r, i) {
        for (var s = Ys(this), o; !(o = s()).done; ) {
          var l = o.value,
            a = l[0],
            u = l[1];
          r.call(i, u, a, this);
        }
      }),
      (e.merge = function (r) {
        var i = this;
        return (
          Ni(r) && (r = new Map(r)),
          Er(function () {
            Ai(r)
              ? W5(r).forEach(function (s) {
                  return i.set(s, r[s]);
                })
              : Array.isArray(r)
                ? r.forEach(function (s) {
                    var o = s[0],
                      l = s[1];
                    return i.set(o, l);
                  })
                : zo(r)
                  ? (r.constructor !== Map && ne(19, r),
                    r.forEach(function (s, o) {
                      return i.set(o, s);
                    }))
                  : r != null && ne(20, r);
          }),
          this
        );
      }),
      (e.clear = function () {
        var r = this;
        Er(function () {
          J2(function () {
            for (var i = Ys(r.keys()), s; !(s = i()).done; ) {
              var o = s.value;
              r.delete(o);
            }
          });
        });
      }),
      (e.replace = function (r) {
        var i = this;
        return (
          Er(function () {
            for (
              var s = ET(r), o = new Map(), l = !1, a = Ys(i.data_.keys()), u;
              !(u = a()).done;

            ) {
              var c = u.value;
              if (!s.has(c)) {
                var f = i.delete(c);
                if (f) l = !0;
                else {
                  var h = i.data_.get(c);
                  o.set(c, h);
                }
              }
            }
            for (var d = Ys(s.entries()), p; !(p = d()).done; ) {
              var m = p.value,
                w = m[0],
                g = m[1],
                y = i.data_.has(w);
              if ((i.set(w, g), i.data_.has(w))) {
                var v = i.data_.get(w);
                o.set(w, v), y || (l = !0);
              }
            }
            if (!l)
              if (i.data_.size !== o.size) i.keysAtom_.reportChanged();
              else
                for (
                  var b = i.data_.keys(),
                    x = o.keys(),
                    S = b.next(),
                    k = x.next();
                  !S.done;

                ) {
                  if (S.value !== k.value) {
                    i.keysAtom_.reportChanged();
                    break;
                  }
                  (S = b.next()), (k = x.next());
                }
            i.data_ = o;
          }),
          this
        );
      }),
      (e.toString = function () {
        return "[object ObservableMap]";
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.observe_ = function (r, i) {
        return Za(this, r);
      }),
      (e.intercept_ = function (r) {
        return Ja(this, r);
      }),
      B0(t, [
        {
          key: "size",
          get: function () {
            return this.keysAtom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: yk,
          get: function () {
            return "Map";
          },
        },
      ]),
      t
    );
  })(),
  Ni = Bi("ObservableMap", vk);
function ET(t) {
  if (zo(t) || Ni(t)) return t;
  if (Array.isArray(t)) return new Map(t);
  if (Ai(t)) {
    var e = new Map();
    for (var n in t) e.set(n, t[n]);
    return e;
  } else return ne(21, t);
}
var wk,
  bk,
  MT = {};
wk = Symbol.iterator;
bk = Symbol.toStringTag;
var xk = (function () {
    function t(n, r, i) {
      var s = this;
      r === void 0 && (r = as),
        i === void 0 && (i = "ObservableSet"),
        (this.name_ = void 0),
        (this[q] = MT),
        (this.data_ = new Set()),
        (this.atom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = void 0),
        (this.name_ = i),
        Un(Set) || ne(22),
        (this.enhancer_ = function (o, l) {
          return r(o, l, i);
        }),
        Ss(function () {
          (s.atom_ = z2(s.name_)), n && s.replace(n);
        });
    }
    var e = t.prototype;
    return (
      (e.dehanceValue_ = function (r) {
        return this.dehancer !== void 0 ? this.dehancer(r) : r;
      }),
      (e.clear = function () {
        var r = this;
        Er(function () {
          J2(function () {
            for (var i = Ys(r.data_.values()), s; !(s = i()).done; ) {
              var o = s.value;
              r.delete(o);
            }
          });
        });
      }),
      (e.forEach = function (r, i) {
        for (var s = Ys(this), o; !(o = s()).done; ) {
          var l = o.value;
          r.call(i, l, l, this);
        }
      }),
      (e.add = function (r) {
        var i = this;
        if ((this.atom_, gn(this))) {
          var s = yn(this, { type: oi, object: this, newValue: r });
          if (!s) return this;
        }
        if (!this.has(r)) {
          Er(function () {
            i.data_.add(i.enhancer_(r, void 0)), i.atom_.reportChanged();
          });
          var o = !1,
            l = Vn(this),
            a =
              l || o
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: oi,
                    object: this,
                    newValue: r,
                  }
                : null;
          l && Wn(this, a);
        }
        return this;
      }),
      (e.delete = function (r) {
        var i = this;
        if (gn(this)) {
          var s = yn(this, { type: gf, object: this, oldValue: r });
          if (!s) return !1;
        }
        if (this.has(r)) {
          var o = !1,
            l = Vn(this),
            a =
              l || o
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: gf,
                    object: this,
                    oldValue: r,
                  }
                : null;
          return (
            Er(function () {
              i.atom_.reportChanged(), i.data_.delete(r);
            }),
            l && Wn(this, a),
            !0
          );
        }
        return !1;
      }),
      (e.has = function (r) {
        return (
          this.atom_.reportObserved(), this.data_.has(this.dehanceValue_(r))
        );
      }),
      (e.entries = function () {
        var r = 0,
          i = Array.from(this.keys()),
          s = Array.from(this.values());
        return la({
          next: function () {
            var l = r;
            return (
              (r += 1),
              l < s.length ? { value: [i[l], s[l]], done: !1 } : { done: !0 }
            );
          },
        });
      }),
      (e.keys = function () {
        return this.values();
      }),
      (e.values = function () {
        this.atom_.reportObserved();
        var r = this,
          i = 0,
          s = Array.from(this.data_.values());
        return la({
          next: function () {
            return i < s.length
              ? { value: r.dehanceValue_(s[i++]), done: !1 }
              : { done: !0 };
          },
        });
      }),
      (e.replace = function (r) {
        var i = this;
        return (
          xs(r) && (r = new Set(r)),
          Er(function () {
            Array.isArray(r)
              ? (i.clear(),
                r.forEach(function (s) {
                  return i.add(s);
                }))
              : qa(r)
                ? (i.clear(),
                  r.forEach(function (s) {
                    return i.add(s);
                  }))
                : r != null && ne("Cannot initialize set from " + r);
          }),
          this
        );
      }),
      (e.observe_ = function (r, i) {
        return Za(this, r);
      }),
      (e.intercept_ = function (r) {
        return Ja(this, r);
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.toString = function () {
        return "[object ObservableSet]";
      }),
      (e[wk] = function () {
        return this.values();
      }),
      B0(t, [
        {
          key: "size",
          get: function () {
            return this.atom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: bk,
          get: function () {
            return "Set";
          },
        },
      ]),
      t
    );
  })(),
  xs = Bi("ObservableSet", xk),
  xv = Object.create(null),
  Sv = "remove",
  Sk = (function () {
    function t(n, r, i, s) {
      r === void 0 && (r = new Map()),
        s === void 0 && (s = b3),
        (this.target_ = void 0),
        (this.values_ = void 0),
        (this.name_ = void 0),
        (this.defaultAnnotation_ = void 0),
        (this.keysAtom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.proxy_ = void 0),
        (this.isPlainObject_ = void 0),
        (this.appliedAnnotations_ = void 0),
        (this.pendingKeys_ = void 0),
        (this.target_ = n),
        (this.values_ = r),
        (this.name_ = i),
        (this.defaultAnnotation_ = s),
        (this.keysAtom_ = new Ya("ObservableObject.keys")),
        (this.isPlainObject_ = Ai(this.target_));
    }
    var e = t.prototype;
    return (
      (e.getObservablePropValue_ = function (r) {
        return this.values_.get(r).get();
      }),
      (e.setObservablePropValue_ = function (r, i) {
        var s = this.values_.get(r);
        if (s instanceof Co) return s.set(i), !0;
        if (gn(this)) {
          var o = yn(this, {
            type: wr,
            object: this.proxy_ || this.target_,
            name: r,
            newValue: i,
          });
          if (!o) return null;
          i = o.newValue;
        }
        if (((i = s.prepareNewValue_(i)), i !== R.UNCHANGED)) {
          var l = Vn(this),
            a = !1,
            u =
              l || a
                ? {
                    type: wr,
                    observableKind: "object",
                    debugObjectName: this.name_,
                    object: this.proxy_ || this.target_,
                    oldValue: s.value_,
                    name: r,
                    newValue: i,
                  }
                : null;
          s.setNewValue_(i), l && Wn(this, u);
        }
        return !0;
      }),
      (e.get_ = function (r) {
        return (
          R.trackingDerivation && !Rr(this.target_, r) && this.has_(r),
          this.target_[r]
        );
      }),
      (e.set_ = function (r, i, s) {
        return (
          s === void 0 && (s = !1),
          Rr(this.target_, r)
            ? this.values_.has(r)
              ? this.setObservablePropValue_(r, i)
              : s
                ? Reflect.set(this.target_, r, i)
                : ((this.target_[r] = i), !0)
            : this.extend_(
                r,
                { value: i, enumerable: !0, writable: !0, configurable: !0 },
                this.defaultAnnotation_,
                s
              )
        );
      }),
      (e.has_ = function (r) {
        if (!R.trackingDerivation) return r in this.target_;
        this.pendingKeys_ || (this.pendingKeys_ = new Map());
        var i = this.pendingKeys_.get(r);
        return (
          i ||
            ((i = new wi(r in this.target_, xh, "ObservableObject.key?", !1)),
            this.pendingKeys_.set(r, i)),
          i.get()
        );
      }),
      (e.make_ = function (r, i) {
        if ((i === !0 && (i = this.defaultAnnotation_), i !== !1)) {
          if (!(r in this.target_)) {
            var s;
            if ((s = this.target_[fr]) != null && s[r]) return;
            ne(1, i.annotationType_, this.name_ + "." + r.toString());
          }
          for (var o = this.target_; o && o !== Ka; ) {
            var l = cf(o, r);
            if (l) {
              var a = i.make_(this, r, l, o);
              if (a === 0) return;
              if (a === 1) break;
            }
            o = Object.getPrototypeOf(o);
          }
          Cv(this, i, r);
        }
      }),
      (e.extend_ = function (r, i, s, o) {
        if (
          (o === void 0 && (o = !1),
          s === !0 && (s = this.defaultAnnotation_),
          s === !1)
        )
          return this.defineProperty_(r, i, o);
        var l = s.extend_(this, r, i, o);
        return l && Cv(this, s, r), l;
      }),
      (e.defineProperty_ = function (r, i, s) {
        s === void 0 && (s = !1), this.keysAtom_;
        try {
          xn();
          var o = this.delete_(r);
          if (!o) return o;
          if (gn(this)) {
            var l = yn(this, {
              object: this.proxy_ || this.target_,
              name: r,
              type: oi,
              newValue: i.value,
            });
            if (!l) return null;
            var a = l.newValue;
            i.value !== a && (i = ls({}, i, { value: a }));
          }
          if (s) {
            if (!Reflect.defineProperty(this.target_, r, i)) return !1;
          } else yr(this.target_, r, i);
          this.notifyPropertyAddition_(r, i.value);
        } finally {
          Sn();
        }
        return !0;
      }),
      (e.defineObservableProperty_ = function (r, i, s, o) {
        o === void 0 && (o = !1), this.keysAtom_;
        try {
          xn();
          var l = this.delete_(r);
          if (!l) return l;
          if (gn(this)) {
            var a = yn(this, {
              object: this.proxy_ || this.target_,
              name: r,
              type: oi,
              newValue: i,
            });
            if (!a) return null;
            i = a.newValue;
          }
          var u = kv(r),
            c = {
              configurable: R.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !0,
              get: u.get,
              set: u.set,
            };
          if (o) {
            if (!Reflect.defineProperty(this.target_, r, c)) return !1;
          } else yr(this.target_, r, c);
          var f = new wi(i, s, "ObservableObject.key", !1);
          this.values_.set(r, f), this.notifyPropertyAddition_(r, f.value_);
        } finally {
          Sn();
        }
        return !0;
      }),
      (e.defineComputedProperty_ = function (r, i, s) {
        s === void 0 && (s = !1), this.keysAtom_;
        try {
          xn();
          var o = this.delete_(r);
          if (!o) return o;
          if (gn(this)) {
            var l = yn(this, {
              object: this.proxy_ || this.target_,
              name: r,
              type: oi,
              newValue: void 0,
            });
            if (!l) return null;
          }
          i.name || (i.name = "ObservableObject.key"),
            (i.context = this.proxy_ || this.target_);
          var a = kv(r),
            u = {
              configurable: R.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !1,
              get: a.get,
              set: a.set,
            };
          if (s) {
            if (!Reflect.defineProperty(this.target_, r, u)) return !1;
          } else yr(this.target_, r, u);
          this.values_.set(r, new Co(i)),
            this.notifyPropertyAddition_(r, void 0);
        } finally {
          Sn();
        }
        return !0;
      }),
      (e.delete_ = function (r, i) {
        if ((i === void 0 && (i = !1), this.keysAtom_, !Rr(this.target_, r)))
          return !0;
        if (gn(this)) {
          var s = yn(this, {
            object: this.proxy_ || this.target_,
            name: r,
            type: Sv,
          });
          if (!s) return null;
        }
        try {
          var o, l;
          xn();
          var a = Vn(this),
            u = !1,
            c = this.values_.get(r),
            f = void 0;
          if (!c && (a || u)) {
            var h;
            f = (h = cf(this.target_, r)) == null ? void 0 : h.value;
          }
          if (i) {
            if (!Reflect.deleteProperty(this.target_, r)) return !1;
          } else delete this.target_[r];
          if (
            (c &&
              (this.values_.delete(r),
              c instanceof wi && (f = c.value_),
              ik(c)),
            this.keysAtom_.reportChanged(),
            (o = this.pendingKeys_) == null ||
              (l = o.get(r)) == null ||
              l.set(r in this.target_),
            a || u)
          ) {
            var d = {
              type: Sv,
              observableKind: "object",
              object: this.proxy_ || this.target_,
              debugObjectName: this.name_,
              oldValue: f,
              name: r,
            };
            a && Wn(this, d);
          }
        } finally {
          Sn();
        }
        return !0;
      }),
      (e.observe_ = function (r, i) {
        return Za(this, r);
      }),
      (e.intercept_ = function (r) {
        return Ja(this, r);
      }),
      (e.notifyPropertyAddition_ = function (r, i) {
        var s,
          o,
          l = Vn(this),
          a = !1;
        if (l || a) {
          var u =
            l || a
              ? {
                  type: oi,
                  observableKind: "object",
                  debugObjectName: this.name_,
                  object: this.proxy_ || this.target_,
                  name: r,
                  newValue: i,
                }
              : null;
          l && Wn(this, u);
        }
        (s = this.pendingKeys_) == null || (o = s.get(r)) == null || o.set(!0),
          this.keysAtom_.reportChanged();
      }),
      (e.ownKeys_ = function () {
        return this.keysAtom_.reportObserved(), bh(this.target_);
      }),
      (e.keys_ = function () {
        return this.keysAtom_.reportObserved(), Object.keys(this.target_);
      }),
      t
    );
  })();
function Vo(t, e) {
  var n;
  if (Rr(t, q)) return t;
  var r = (n = e == null ? void 0 : e.name) != null ? n : "ObservableObject",
    i = new Sk(t, new Map(), String(r), P3(e));
  return wh(t, q, i), t;
}
var TT = Bi("ObservableObjectAdministration", Sk);
function kv(t) {
  return (
    xv[t] ||
    (xv[t] = {
      get: function () {
        return this[q].getObservablePropValue_(t);
      },
      set: function (n) {
        return this[q].setObservablePropValue_(t, n);
      },
    })
  );
}
function Ao(t) {
  return vh(t) ? TT(t[q]) : !1;
}
function Cv(t, e, n) {
  var r;
  (r = t.target_[fr]) == null || delete r[n];
}
var PT = Ck(0),
  RT = (function () {
    var t = !1,
      e = {};
    return (
      Object.defineProperty(e, "0", {
        set: function () {
          t = !0;
        },
      }),
      (Object.create(e)[0] = 1),
      t === !1
    );
  })(),
  Vd = 0,
  kk = function () {};
function DT(t, e) {
  Object.setPrototypeOf
    ? Object.setPrototypeOf(t.prototype, e)
    : t.prototype.__proto__ !== void 0
      ? (t.prototype.__proto__ = e)
      : (t.prototype = e);
}
DT(kk, Array.prototype);
var j0 = (function (t, e, n) {
  F2(r, t);
  function r(s, o, l, a) {
    var u;
    return (
      l === void 0 && (l = "ObservableArray"),
      a === void 0 && (a = !1),
      (u = t.call(this) || this),
      Ss(function () {
        var c = new z0(l, o, a, !0);
        (c.proxy_ = zd(u)),
          N2(zd(u), q, c),
          s && s.length && u.spliceWithArray(0, 0, s),
          RT && Object.defineProperty(zd(u), "0", PT);
      }),
      u
    );
  }
  var i = r.prototype;
  return (
    (i.concat = function () {
      this[q].atom_.reportObserved();
      for (var o = arguments.length, l = new Array(o), a = 0; a < o; a++)
        l[a] = arguments[a];
      return Array.prototype.concat.apply(
        this.slice(),
        l.map(function (u) {
          return eu(u) ? u.slice() : u;
        })
      );
    }),
    (i[n] = function () {
      var s = this,
        o = 0;
      return la({
        next: function () {
          return o < s.length
            ? { value: s[o++], done: !1 }
            : { done: !0, value: void 0 };
        },
      });
    }),
    B0(r, [
      {
        key: "length",
        get: function () {
          return this[q].getArrayLength_();
        },
        set: function (o) {
          this[q].setArrayLength_(o);
        },
      },
      {
        key: e,
        get: function () {
          return "Array";
        },
      },
    ]),
    r
  );
})(kk, Symbol.toStringTag, Symbol.iterator);
Object.entries(mf).forEach(function (t) {
  var e = t[0],
    n = t[1];
  e !== "concat" && wh(j0.prototype, e, n);
});
function Ck(t) {
  return {
    enumerable: !1,
    configurable: !0,
    get: function () {
      return this[q].get_(t);
    },
    set: function (n) {
      this[q].set_(t, n);
    },
  };
}
function LT(t) {
  yr(j0.prototype, "" + t, Ck(t));
}
function _k(t) {
  if (t > Vd) {
    for (var e = Vd; e < t + 100; e++) LT(e);
    Vd = t;
  }
}
_k(1e3);
function BT(t, e, n) {
  return new j0(t, e, n);
}
function Oo(t, e) {
  if (typeof t == "object" && t !== null) {
    if (eu(t)) return e !== void 0 && ne(23), t[q].atom_;
    if (xs(t)) return t.atom_;
    if (Ni(t)) {
      if (e === void 0) return t.keysAtom_;
      var n = t.data_.get(e) || t.hasMap_.get(e);
      return n || ne(25, e, Am(t)), n;
    }
    if (Ao(t)) {
      if (!e) return ne(26);
      var r = t[q].values_.get(e);
      return r || ne(27, e, Am(t)), r;
    }
    if (N0(t) || Qa(t) || pf(t)) return t;
  } else if (Un(t) && pf(t[q])) return t[q];
  ne(28);
}
function Ak(t, e) {
  if ((t || ne(29), e !== void 0)) return Ak(Oo(t, e));
  if (N0(t) || Qa(t) || pf(t) || Ni(t) || xs(t)) return t;
  if (t[q]) return t[q];
  ne(24, t);
}
function Am(t, e) {
  var n;
  if (e !== void 0) n = Oo(t, e);
  else {
    if (_h(t)) return t.name;
    Ao(t) || Ni(t) || xs(t) ? (n = Ak(t)) : (n = Oo(t));
  }
  return n.name_;
}
function Ss(t) {
  var e = bs(),
    n = kh(!0);
  xn();
  try {
    return t();
  } finally {
    Sn(), Ch(n), Dr(e);
  }
}
var _v = Ka.toString;
function V0(t, e, n) {
  return n === void 0 && (n = -1), Om(t, e, n);
}
function Om(t, e, n, r, i) {
  if (t === e) return t !== 0 || 1 / t === 1 / e;
  if (t == null || e == null) return !1;
  if (t !== t) return e !== e;
  var s = typeof t;
  if (s !== "function" && s !== "object" && typeof e != "object") return !1;
  var o = _v.call(t);
  if (o !== _v.call(e)) return !1;
  switch (o) {
    case "[object RegExp]":
    case "[object String]":
      return "" + t == "" + e;
    case "[object Number]":
      return +t != +t ? +e != +e : +t == 0 ? 1 / +t === 1 / e : +t == +e;
    case "[object Date]":
    case "[object Boolean]":
      return +t == +e;
    case "[object Symbol]":
      return (
        typeof Symbol < "u" && Symbol.valueOf.call(t) === Symbol.valueOf.call(e)
      );
    case "[object Map]":
    case "[object Set]":
      n >= 0 && n++;
      break;
  }
  (t = Av(t)), (e = Av(e));
  var l = o === "[object Array]";
  if (!l) {
    if (typeof t != "object" || typeof e != "object") return !1;
    var a = t.constructor,
      u = e.constructor;
    if (
      a !== u &&
      !(Un(a) && a instanceof a && Un(u) && u instanceof u) &&
      "constructor" in t &&
      "constructor" in e
    )
      return !1;
  }
  if (n === 0) return !1;
  n < 0 && (n = -1), (r = r || []), (i = i || []);
  for (var c = r.length; c--; ) if (r[c] === t) return i[c] === e;
  if ((r.push(t), i.push(e), l)) {
    if (((c = t.length), c !== e.length)) return !1;
    for (; c--; ) if (!Om(t[c], e[c], n - 1, r, i)) return !1;
  } else {
    var f = Object.keys(t),
      h;
    if (((c = f.length), Object.keys(e).length !== c)) return !1;
    for (; c--; )
      if (((h = f[c]), !(Rr(e, h) && Om(t[h], e[h], n - 1, r, i)))) return !1;
  }
  return r.pop(), i.pop(), !0;
}
function Av(t) {
  return eu(t)
    ? t.slice()
    : zo(t) || Ni(t) || qa(t) || xs(t)
      ? Array.from(t.entries())
      : t;
}
function la(t) {
  return (t[Symbol.iterator] = NT), t;
}
function NT() {
  return this;
}
["Symbol", "Map", "Set"].forEach(function (t) {
  var e = D0();
  typeof e[t] > "u" &&
    ne("MobX requires global '" + t + "' to be available or polyfilled");
});
typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ == "object" &&
  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
    spy: Q3,
    extras: { getDebugName: Am },
    $mobx: q,
  });
if (!V.useState)
  throw new Error("mobx-react-lite requires React with Hooks support");
if (!ST)
  throw new Error(
    "mobx-react-lite@3 requires mobx at least version 6 to be available"
  );
function IT(t) {
  t();
}
function $T(t) {
  t || (t = IT), fT({ reactionScheduler: t });
}
function FT(t) {
  return dT(t);
}
var zT = 1e4,
  jT = 1e4,
  VT = (function () {
    function t(e) {
      var n = this;
      Object.defineProperty(this, "finalize", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: e,
      }),
        Object.defineProperty(this, "registrations", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: new Map(),
        }),
        Object.defineProperty(this, "sweepTimeout", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: void 0,
        }),
        Object.defineProperty(this, "sweep", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function (r) {
            r === void 0 && (r = zT),
              clearTimeout(n.sweepTimeout),
              (n.sweepTimeout = void 0);
            var i = Date.now();
            n.registrations.forEach(function (s, o) {
              i - s.registeredAt >= r &&
                (n.finalize(s.value), n.registrations.delete(o));
            }),
              n.registrations.size > 0 && n.scheduleSweep();
          },
        }),
        Object.defineProperty(this, "finalizeAllImmediately", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function () {
            n.sweep(0);
          },
        });
    }
    return (
      Object.defineProperty(t.prototype, "register", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e, n, r) {
          this.registrations.set(r, { value: n, registeredAt: Date.now() }),
            this.scheduleSweep();
        },
      }),
      Object.defineProperty(t.prototype, "unregister", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e) {
          this.registrations.delete(e);
        },
      }),
      Object.defineProperty(t.prototype, "scheduleSweep", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function () {
          this.sweepTimeout === void 0 &&
            (this.sweepTimeout = setTimeout(this.sweep, jT));
        },
      }),
      t
    );
  })(),
  WT = typeof FinalizationRegistry < "u" ? FinalizationRegistry : VT,
  Em = new WT(function (t) {
    var e;
    (e = t.reaction) === null || e === void 0 || e.dispose(),
      (t.reaction = null);
  }),
  Ok = { exports: {} },
  Ek = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Eo = V;
function HT(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var UT = typeof Object.is == "function" ? Object.is : HT,
  KT = Eo.useState,
  qT = Eo.useEffect,
  GT = Eo.useLayoutEffect,
  YT = Eo.useDebugValue;
function XT(t, e) {
  var n = e(),
    r = KT({ inst: { value: n, getSnapshot: e } }),
    i = r[0].inst,
    s = r[1];
  return (
    GT(
      function () {
        (i.value = n), (i.getSnapshot = e), Wd(i) && s({ inst: i });
      },
      [t, n, e]
    ),
    qT(
      function () {
        return (
          Wd(i) && s({ inst: i }),
          t(function () {
            Wd(i) && s({ inst: i });
          })
        );
      },
      [t]
    ),
    YT(n),
    n
  );
}
function Wd(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var n = e();
    return !UT(t, n);
  } catch {
    return !0;
  }
}
function QT(t, e) {
  return e();
}
var JT =
  typeof window > "u" ||
  typeof window.document > "u" ||
  typeof window.document.createElement > "u"
    ? QT
    : XT;
Ek.useSyncExternalStore =
  Eo.useSyncExternalStore !== void 0 ? Eo.useSyncExternalStore : JT;
Ok.exports = Ek;
var ZT = Ok.exports;
function Ov(t) {
  t.reaction = new ia("observer".concat(t.name), function () {
    var e;
    (t.stateVersion = Symbol()),
      (e = t.onStoreChange) === null || e === void 0 || e.call(t);
  });
}
function eP(t, e) {
  e === void 0 && (e = "observed");
  var n = po.useRef(null);
  if (!n.current) {
    var r = {
      reaction: null,
      onStoreChange: null,
      stateVersion: Symbol(),
      name: e,
      subscribe: function (l) {
        return (
          Em.unregister(r),
          (r.onStoreChange = l),
          r.reaction || (Ov(r), (r.stateVersion = Symbol())),
          function () {
            var a;
            (r.onStoreChange = null),
              (a = r.reaction) === null || a === void 0 || a.dispose(),
              (r.reaction = null);
          }
        );
      },
      getSnapshot: function () {
        return r.stateVersion;
      },
    };
    n.current = r;
  }
  var i = n.current;
  i.reaction || (Ov(i), Em.register(n, i, i)),
    po.useDebugValue(i.reaction, FT),
    ZT.useSyncExternalStore(i.subscribe, i.getSnapshot, i.getSnapshot);
  var s, o;
  if (
    (i.reaction.track(function () {
      try {
        s = t();
      } catch (l) {
        o = l;
      }
    }),
    o)
  )
    throw o;
  return s;
}
var Hd,
  Ud,
  Mk = typeof Symbol == "function" && Symbol.for,
  tP =
    (Ud =
      (Hd = Object.getOwnPropertyDescriptor(function () {}, "name")) === null ||
      Hd === void 0
        ? void 0
        : Hd.configurable) !== null && Ud !== void 0
      ? Ud
      : !1,
  Ev = Mk
    ? Symbol.for("react.forward_ref")
    : typeof V.forwardRef == "function" &&
      V.forwardRef(function (t) {
        return null;
      }).$$typeof,
  Mv = Mk
    ? Symbol.for("react.memo")
    : typeof V.memo == "function" &&
      V.memo(function (t) {
        return null;
      }).$$typeof;
function Ht(t, e) {
  var n;
  if (Mv && t.$$typeof === Mv)
    throw new Error(
      "[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you."
    );
  var r =
      (n = e == null ? void 0 : e.forwardRef) !== null && n !== void 0 ? n : !1,
    i = t,
    s = t.displayName || t.name;
  if (
    Ev &&
    t.$$typeof === Ev &&
    ((r = !0), (i = t.render), typeof i != "function")
  )
    throw new Error(
      "[mobx-react-lite] `render` property of ForwardRef was not a function"
    );
  var o = function (l, a) {
    return eP(function () {
      return i(l, a);
    }, s);
  };
  return (
    (o.displayName = t.displayName),
    tP &&
      Object.defineProperty(o, "name", {
        value: t.name,
        writable: !0,
        configurable: !0,
      }),
    t.contextTypes && (o.contextTypes = t.contextTypes),
    r && (o = V.forwardRef(o)),
    (o = V.memo(o)),
    rP(t, o),
    o
  );
}
var nP = { $$typeof: !0, render: !0, compare: !0, type: !0, displayName: !0 };
function rP(t, e) {
  Object.keys(t).forEach(function (n) {
    nP[n] || Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(t, n));
  });
}
var Kd;
$T(T2.unstable_batchedUpdates);
Kd = Em.finalizeAllImmediately;
const iP = 1024;
let sP = 0,
  qd = class {
    constructor(e, n) {
      (this.from = e), (this.to = n);
    }
  };
class ee {
  constructor(e = {}) {
    (this.id = sP++),
      (this.perNode = !!e.perNode),
      (this.deserialize =
        e.deserialize ||
        (() => {
          throw new Error(
            "This node type doesn't define a deserialize function"
          );
        }));
  }
  add(e) {
    if (this.perNode)
      throw new RangeError("Can't add per-node props to node types");
    return (
      typeof e != "function" && (e = Wt.match(e)),
      (n) => {
        let r = e(n);
        return r === void 0 ? null : [this, r];
      }
    );
  }
}
ee.closedBy = new ee({ deserialize: (t) => t.split(" ") });
ee.openedBy = new ee({ deserialize: (t) => t.split(" ") });
ee.group = new ee({ deserialize: (t) => t.split(" ") });
ee.isolate = new ee({
  deserialize: (t) => {
    if (t && t != "rtl" && t != "ltr" && t != "auto")
      throw new RangeError("Invalid value for isolate: " + t);
    return t || "auto";
  },
});
ee.contextHash = new ee({ perNode: !0 });
ee.lookAhead = new ee({ perNode: !0 });
ee.mounted = new ee({ perNode: !0 });
class yf {
  constructor(e, n, r) {
    (this.tree = e), (this.overlay = n), (this.parser = r);
  }
  static get(e) {
    return e && e.props && e.props[ee.mounted.id];
  }
}
const oP = Object.create(null);
class Wt {
  constructor(e, n, r, i = 0) {
    (this.name = e), (this.props = n), (this.id = r), (this.flags = i);
  }
  static define(e) {
    let n = e.props && e.props.length ? Object.create(null) : oP,
      r =
        (e.top ? 1 : 0) |
        (e.skipped ? 2 : 0) |
        (e.error ? 4 : 0) |
        (e.name == null ? 8 : 0),
      i = new Wt(e.name || "", n, e.id, r);
    if (e.props) {
      for (let s of e.props)
        if ((Array.isArray(s) || (s = s(i)), s)) {
          if (s[0].perNode)
            throw new RangeError("Can't store a per-node prop on a node type");
          n[s[0].id] = s[1];
        }
    }
    return i;
  }
  prop(e) {
    return this.props[e.id];
  }
  get isTop() {
    return (this.flags & 1) > 0;
  }
  get isSkipped() {
    return (this.flags & 2) > 0;
  }
  get isError() {
    return (this.flags & 4) > 0;
  }
  get isAnonymous() {
    return (this.flags & 8) > 0;
  }
  is(e) {
    if (typeof e == "string") {
      if (this.name == e) return !0;
      let n = this.prop(ee.group);
      return n ? n.indexOf(e) > -1 : !1;
    }
    return this.id == e;
  }
  static match(e) {
    let n = Object.create(null);
    for (let r in e) for (let i of r.split(" ")) n[i] = e[r];
    return (r) => {
      for (let i = r.prop(ee.group), s = -1; s < (i ? i.length : 0); s++) {
        let o = n[s < 0 ? r.name : i[s]];
        if (o) return o;
      }
    };
  }
}
Wt.none = new Wt("", Object.create(null), 0, 8);
class W0 {
  constructor(e) {
    this.types = e;
    for (let n = 0; n < e.length; n++)
      if (e[n].id != n)
        throw new RangeError(
          "Node type ids should correspond to array positions when creating a node set"
        );
  }
  extend(...e) {
    let n = [];
    for (let r of this.types) {
      let i = null;
      for (let s of e) {
        let o = s(r);
        o && (i || (i = Object.assign({}, r.props)), (i[o[0].id] = o[1]));
      }
      n.push(i ? new Wt(r.name, i, r.id, r.flags) : r);
    }
    return new W0(n);
  }
}
const Iu = new WeakMap(),
  Tv = new WeakMap();
var lt;
(function (t) {
  (t[(t.ExcludeBuffers = 1)] = "ExcludeBuffers"),
    (t[(t.IncludeAnonymous = 2)] = "IncludeAnonymous"),
    (t[(t.IgnoreMounts = 4)] = "IgnoreMounts"),
    (t[(t.IgnoreOverlays = 8)] = "IgnoreOverlays");
})(lt || (lt = {}));
class Pe {
  constructor(e, n, r, i, s) {
    if (
      ((this.type = e),
      (this.children = n),
      (this.positions = r),
      (this.length = i),
      (this.props = null),
      s && s.length)
    ) {
      this.props = Object.create(null);
      for (let [o, l] of s) this.props[typeof o == "number" ? o : o.id] = l;
    }
  }
  toString() {
    let e = yf.get(this);
    if (e && !e.overlay) return e.tree.toString();
    let n = "";
    for (let r of this.children) {
      let i = r.toString();
      i && (n && (n += ","), (n += i));
    }
    return this.type.name
      ? (/\W/.test(this.type.name) && !this.type.isError
          ? JSON.stringify(this.type.name)
          : this.type.name) + (n.length ? "(" + n + ")" : "")
      : n;
  }
  cursor(e = 0) {
    return new Tm(this.topNode, e);
  }
  cursorAt(e, n = 0, r = 0) {
    let i = Iu.get(this) || this.topNode,
      s = new Tm(i);
    return s.moveTo(e, n), Iu.set(this, s._tree), s;
  }
  get topNode() {
    return new _n(this, 0, 0, null);
  }
  resolve(e, n = 0) {
    let r = aa(Iu.get(this) || this.topNode, e, n, !1);
    return Iu.set(this, r), r;
  }
  resolveInner(e, n = 0) {
    let r = aa(Tv.get(this) || this.topNode, e, n, !0);
    return Tv.set(this, r), r;
  }
  resolveStack(e, n = 0) {
    return uP(this, e, n);
  }
  iterate(e) {
    let { enter: n, leave: r, from: i = 0, to: s = this.length } = e,
      o = e.mode || 0,
      l = (o & lt.IncludeAnonymous) > 0;
    for (let a = this.cursor(o | lt.IncludeAnonymous); ; ) {
      let u = !1;
      if (
        a.from <= s &&
        a.to >= i &&
        ((!l && a.type.isAnonymous) || n(a) !== !1)
      ) {
        if (a.firstChild()) continue;
        u = !0;
      }
      for (; u && r && (l || !a.type.isAnonymous) && r(a), !a.nextSibling(); ) {
        if (!a.parent()) return;
        u = !0;
      }
    }
  }
  prop(e) {
    return e.perNode
      ? this.props
        ? this.props[e.id]
        : void 0
      : this.type.prop(e);
  }
  get propValues() {
    let e = [];
    if (this.props) for (let n in this.props) e.push([+n, this.props[n]]);
    return e;
  }
  balance(e = {}) {
    return this.children.length <= 8
      ? this
      : K0(
          Wt.none,
          this.children,
          this.positions,
          0,
          this.children.length,
          0,
          this.length,
          (n, r, i) => new Pe(this.type, n, r, i, this.propValues),
          e.makeTree || ((n, r, i) => new Pe(Wt.none, n, r, i))
        );
  }
  static build(e) {
    return cP(e);
  }
}
Pe.empty = new Pe(Wt.none, [], [], 0);
class H0 {
  constructor(e, n) {
    (this.buffer = e), (this.index = n);
  }
  get id() {
    return this.buffer[this.index - 4];
  }
  get start() {
    return this.buffer[this.index - 3];
  }
  get end() {
    return this.buffer[this.index - 2];
  }
  get size() {
    return this.buffer[this.index - 1];
  }
  get pos() {
    return this.index;
  }
  next() {
    this.index -= 4;
  }
  fork() {
    return new H0(this.buffer, this.index);
  }
}
class Oi {
  constructor(e, n, r) {
    (this.buffer = e), (this.length = n), (this.set = r);
  }
  get type() {
    return Wt.none;
  }
  toString() {
    let e = [];
    for (let n = 0; n < this.buffer.length; )
      e.push(this.childString(n)), (n = this.buffer[n + 3]);
    return e.join(",");
  }
  childString(e) {
    let n = this.buffer[e],
      r = this.buffer[e + 3],
      i = this.set.types[n],
      s = i.name;
    if (
      (/\W/.test(s) && !i.isError && (s = JSON.stringify(s)), (e += 4), r == e)
    )
      return s;
    let o = [];
    for (; e < r; ) o.push(this.childString(e)), (e = this.buffer[e + 3]);
    return s + "(" + o.join(",") + ")";
  }
  findChild(e, n, r, i, s) {
    let { buffer: o } = this,
      l = -1;
    for (
      let a = e;
      a != n && !(Tk(s, i, o[a + 1], o[a + 2]) && ((l = a), r > 0));
      a = o[a + 3]
    );
    return l;
  }
  slice(e, n, r) {
    let i = this.buffer,
      s = new Uint16Array(n - e),
      o = 0;
    for (let l = e, a = 0; l < n; ) {
      (s[a++] = i[l++]), (s[a++] = i[l++] - r);
      let u = (s[a++] = i[l++] - r);
      (s[a++] = i[l++] - e), (o = Math.max(o, u));
    }
    return new Oi(s, o, this.set);
  }
}
function Tk(t, e, n, r) {
  switch (t) {
    case -2:
      return n < e;
    case -1:
      return r >= e && n < e;
    case 0:
      return n < e && r > e;
    case 1:
      return n <= e && r > e;
    case 2:
      return r > e;
    case 4:
      return !0;
  }
}
function aa(t, e, n, r) {
  for (
    var i;
    t.from == t.to ||
    (n < 1 ? t.from >= e : t.from > e) ||
    (n > -1 ? t.to <= e : t.to < e);

  ) {
    let o = !r && t instanceof _n && t.index < 0 ? null : t.parent;
    if (!o) return t;
    t = o;
  }
  let s = r ? 0 : lt.IgnoreOverlays;
  if (r)
    for (let o = t, l = o.parent; l; o = l, l = o.parent)
      o instanceof _n &&
        o.index < 0 &&
        ((i = l.enter(e, n, s)) === null || i === void 0 ? void 0 : i.from) !=
          o.from &&
        (t = l);
  for (;;) {
    let o = t.enter(e, n, s);
    if (!o) return t;
    t = o;
  }
}
class Pk {
  cursor(e = 0) {
    return new Tm(this, e);
  }
  getChild(e, n = null, r = null) {
    let i = Pv(this, e, n, r);
    return i.length ? i[0] : null;
  }
  getChildren(e, n = null, r = null) {
    return Pv(this, e, n, r);
  }
  resolve(e, n = 0) {
    return aa(this, e, n, !1);
  }
  resolveInner(e, n = 0) {
    return aa(this, e, n, !0);
  }
  matchContext(e) {
    return Mm(this, e);
  }
  enterUnfinishedNodesBefore(e) {
    let n = this.childBefore(e),
      r = this;
    for (; n; ) {
      let i = n.lastChild;
      if (!i || i.to != n.to) break;
      i.type.isError && i.from == i.to
        ? ((r = n), (n = i.prevSibling))
        : (n = i);
    }
    return r;
  }
  get node() {
    return this;
  }
  get next() {
    return this.parent;
  }
}
class _n extends Pk {
  constructor(e, n, r, i) {
    super(),
      (this._tree = e),
      (this.from = n),
      (this.index = r),
      (this._parent = i);
  }
  get type() {
    return this._tree.type;
  }
  get name() {
    return this._tree.type.name;
  }
  get to() {
    return this.from + this._tree.length;
  }
  nextChild(e, n, r, i, s = 0) {
    for (let o = this; ; ) {
      for (
        let { children: l, positions: a } = o._tree, u = n > 0 ? l.length : -1;
        e != u;
        e += n
      ) {
        let c = l[e],
          f = a[e] + o.from;
        if (Tk(i, r, f, f + c.length)) {
          if (c instanceof Oi) {
            if (s & lt.ExcludeBuffers) continue;
            let h = c.findChild(0, c.buffer.length, n, r - f, i);
            if (h > -1) return new li(new lP(o, c, e, f), null, h);
          } else if (s & lt.IncludeAnonymous || !c.type.isAnonymous || U0(c)) {
            let h;
            if (!(s & lt.IgnoreMounts) && (h = yf.get(c)) && !h.overlay)
              return new _n(h.tree, f, e, o);
            let d = new _n(c, f, e, o);
            return s & lt.IncludeAnonymous || !d.type.isAnonymous
              ? d
              : d.nextChild(n < 0 ? c.children.length - 1 : 0, n, r, i);
          }
        }
      }
      if (
        s & lt.IncludeAnonymous ||
        !o.type.isAnonymous ||
        (o.index >= 0
          ? (e = o.index + n)
          : (e = n < 0 ? -1 : o._parent._tree.children.length),
        (o = o._parent),
        !o)
      )
        return null;
    }
  }
  get firstChild() {
    return this.nextChild(0, 1, 0, 4);
  }
  get lastChild() {
    return this.nextChild(this._tree.children.length - 1, -1, 0, 4);
  }
  childAfter(e) {
    return this.nextChild(0, 1, e, 2);
  }
  childBefore(e) {
    return this.nextChild(this._tree.children.length - 1, -1, e, -2);
  }
  enter(e, n, r = 0) {
    let i;
    if (!(r & lt.IgnoreOverlays) && (i = yf.get(this._tree)) && i.overlay) {
      let s = e - this.from;
      for (let { from: o, to: l } of i.overlay)
        if ((n > 0 ? o <= s : o < s) && (n < 0 ? l >= s : l > s))
          return new _n(i.tree, i.overlay[0].from + this.from, -1, this);
    }
    return this.nextChild(0, 1, e, n, r);
  }
  nextSignificantParent() {
    let e = this;
    for (; e.type.isAnonymous && e._parent; ) e = e._parent;
    return e;
  }
  get parent() {
    return this._parent ? this._parent.nextSignificantParent() : null;
  }
  get nextSibling() {
    return this._parent && this.index >= 0
      ? this._parent.nextChild(this.index + 1, 1, 0, 4)
      : null;
  }
  get prevSibling() {
    return this._parent && this.index >= 0
      ? this._parent.nextChild(this.index - 1, -1, 0, 4)
      : null;
  }
  get tree() {
    return this._tree;
  }
  toTree() {
    return this._tree;
  }
  toString() {
    return this._tree.toString();
  }
}
function Pv(t, e, n, r) {
  let i = t.cursor(),
    s = [];
  if (!i.firstChild()) return s;
  if (n != null) {
    for (let o = !1; !o; ) if (((o = i.type.is(n)), !i.nextSibling())) return s;
  }
  for (;;) {
    if (r != null && i.type.is(r)) return s;
    if ((i.type.is(e) && s.push(i.node), !i.nextSibling()))
      return r == null ? s : [];
  }
}
function Mm(t, e, n = e.length - 1) {
  for (let r = t.parent; n >= 0; r = r.parent) {
    if (!r) return !1;
    if (!r.type.isAnonymous) {
      if (e[n] && e[n] != r.name) return !1;
      n--;
    }
  }
  return !0;
}
class lP {
  constructor(e, n, r, i) {
    (this.parent = e), (this.buffer = n), (this.index = r), (this.start = i);
  }
}
class li extends Pk {
  get name() {
    return this.type.name;
  }
  get from() {
    return this.context.start + this.context.buffer.buffer[this.index + 1];
  }
  get to() {
    return this.context.start + this.context.buffer.buffer[this.index + 2];
  }
  constructor(e, n, r) {
    super(),
      (this.context = e),
      (this._parent = n),
      (this.index = r),
      (this.type = e.buffer.set.types[e.buffer.buffer[r]]);
  }
  child(e, n, r) {
    let { buffer: i } = this.context,
      s = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        e,
        n - this.context.start,
        r
      );
    return s < 0 ? null : new li(this.context, this, s);
  }
  get firstChild() {
    return this.child(1, 0, 4);
  }
  get lastChild() {
    return this.child(-1, 0, 4);
  }
  childAfter(e) {
    return this.child(1, e, 2);
  }
  childBefore(e) {
    return this.child(-1, e, -2);
  }
  enter(e, n, r = 0) {
    if (r & lt.ExcludeBuffers) return null;
    let { buffer: i } = this.context,
      s = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        n > 0 ? 1 : -1,
        e - this.context.start,
        n
      );
    return s < 0 ? null : new li(this.context, this, s);
  }
  get parent() {
    return this._parent || this.context.parent.nextSignificantParent();
  }
  externalSibling(e) {
    return this._parent
      ? null
      : this.context.parent.nextChild(this.context.index + e, e, 0, 4);
  }
  get nextSibling() {
    let { buffer: e } = this.context,
      n = e.buffer[this.index + 3];
    return n <
      (this._parent ? e.buffer[this._parent.index + 3] : e.buffer.length)
      ? new li(this.context, this._parent, n)
      : this.externalSibling(1);
  }
  get prevSibling() {
    let { buffer: e } = this.context,
      n = this._parent ? this._parent.index + 4 : 0;
    return this.index == n
      ? this.externalSibling(-1)
      : new li(
          this.context,
          this._parent,
          e.findChild(n, this.index, -1, 0, 4)
        );
  }
  get tree() {
    return null;
  }
  toTree() {
    let e = [],
      n = [],
      { buffer: r } = this.context,
      i = this.index + 4,
      s = r.buffer[this.index + 3];
    if (s > i) {
      let o = r.buffer[this.index + 1];
      e.push(r.slice(i, s, o)), n.push(0);
    }
    return new Pe(this.type, e, n, this.to - this.from);
  }
  toString() {
    return this.context.buffer.childString(this.index);
  }
}
function Rk(t) {
  if (!t.length) return null;
  let e = 0,
    n = t[0];
  for (let s = 1; s < t.length; s++) {
    let o = t[s];
    (o.from > n.from || o.to < n.to) && ((n = o), (e = s));
  }
  let r = n instanceof _n && n.index < 0 ? null : n.parent,
    i = t.slice();
  return r ? (i[e] = r) : i.splice(e, 1), new aP(i, n);
}
class aP {
  constructor(e, n) {
    (this.heads = e), (this.node = n);
  }
  get next() {
    return Rk(this.heads);
  }
}
function uP(t, e, n) {
  let r = t.resolveInner(e, n),
    i = null;
  for (let s = r instanceof _n ? r : r.context.parent; s; s = s.parent)
    if (s.index < 0) {
      let o = s.parent;
      (i || (i = [r])).push(o.resolve(e, n)), (s = o);
    } else {
      let o = yf.get(s.tree);
      if (
        o &&
        o.overlay &&
        o.overlay[0].from <= e &&
        o.overlay[o.overlay.length - 1].to >= e
      ) {
        let l = new _n(o.tree, o.overlay[0].from + s.from, -1, s);
        (i || (i = [r])).push(aa(l, e, n, !1));
      }
    }
  return i ? Rk(i) : r;
}
class Tm {
  get name() {
    return this.type.name;
  }
  constructor(e, n = 0) {
    if (
      ((this.mode = n),
      (this.buffer = null),
      (this.stack = []),
      (this.index = 0),
      (this.bufferNode = null),
      e instanceof _n)
    )
      this.yieldNode(e);
    else {
      (this._tree = e.context.parent), (this.buffer = e.context);
      for (let r = e._parent; r; r = r._parent) this.stack.unshift(r.index);
      (this.bufferNode = e), this.yieldBuf(e.index);
    }
  }
  yieldNode(e) {
    return e
      ? ((this._tree = e),
        (this.type = e.type),
        (this.from = e.from),
        (this.to = e.to),
        !0)
      : !1;
  }
  yieldBuf(e, n) {
    this.index = e;
    let { start: r, buffer: i } = this.buffer;
    return (
      (this.type = n || i.set.types[i.buffer[e]]),
      (this.from = r + i.buffer[e + 1]),
      (this.to = r + i.buffer[e + 2]),
      !0
    );
  }
  yield(e) {
    return e
      ? e instanceof _n
        ? ((this.buffer = null), this.yieldNode(e))
        : ((this.buffer = e.context), this.yieldBuf(e.index, e.type))
      : !1;
  }
  toString() {
    return this.buffer
      ? this.buffer.buffer.childString(this.index)
      : this._tree.toString();
  }
  enterChild(e, n, r) {
    if (!this.buffer)
      return this.yield(
        this._tree.nextChild(
          e < 0 ? this._tree._tree.children.length - 1 : 0,
          e,
          n,
          r,
          this.mode
        )
      );
    let { buffer: i } = this.buffer,
      s = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        e,
        n - this.buffer.start,
        r
      );
    return s < 0 ? !1 : (this.stack.push(this.index), this.yieldBuf(s));
  }
  firstChild() {
    return this.enterChild(1, 0, 4);
  }
  lastChild() {
    return this.enterChild(-1, 0, 4);
  }
  childAfter(e) {
    return this.enterChild(1, e, 2);
  }
  childBefore(e) {
    return this.enterChild(-1, e, -2);
  }
  enter(e, n, r = this.mode) {
    return this.buffer
      ? r & lt.ExcludeBuffers
        ? !1
        : this.enterChild(1, e, n)
      : this.yield(this._tree.enter(e, n, r));
  }
  parent() {
    if (!this.buffer)
      return this.yieldNode(
        this.mode & lt.IncludeAnonymous ? this._tree._parent : this._tree.parent
      );
    if (this.stack.length) return this.yieldBuf(this.stack.pop());
    let e =
      this.mode & lt.IncludeAnonymous
        ? this.buffer.parent
        : this.buffer.parent.nextSignificantParent();
    return (this.buffer = null), this.yieldNode(e);
  }
  sibling(e) {
    if (!this.buffer)
      return this._tree._parent
        ? this.yield(
            this._tree.index < 0
              ? null
              : this._tree._parent.nextChild(
                  this._tree.index + e,
                  e,
                  0,
                  4,
                  this.mode
                )
          )
        : !1;
    let { buffer: n } = this.buffer,
      r = this.stack.length - 1;
    if (e < 0) {
      let i = r < 0 ? 0 : this.stack[r] + 4;
      if (this.index != i)
        return this.yieldBuf(n.findChild(i, this.index, -1, 0, 4));
    } else {
      let i = n.buffer[this.index + 3];
      if (i < (r < 0 ? n.buffer.length : n.buffer[this.stack[r] + 3]))
        return this.yieldBuf(i);
    }
    return r < 0
      ? this.yield(
          this.buffer.parent.nextChild(
            this.buffer.index + e,
            e,
            0,
            4,
            this.mode
          )
        )
      : !1;
  }
  nextSibling() {
    return this.sibling(1);
  }
  prevSibling() {
    return this.sibling(-1);
  }
  atLastNode(e) {
    let n,
      r,
      { buffer: i } = this;
    if (i) {
      if (e > 0) {
        if (this.index < i.buffer.buffer.length) return !1;
      } else
        for (let s = 0; s < this.index; s++)
          if (i.buffer.buffer[s + 3] < this.index) return !1;
      ({ index: n, parent: r } = i);
    } else ({ index: n, _parent: r } = this._tree);
    for (; r; { index: n, _parent: r } = r)
      if (n > -1)
        for (
          let s = n + e, o = e < 0 ? -1 : r._tree.children.length;
          s != o;
          s += e
        ) {
          let l = r._tree.children[s];
          if (
            this.mode & lt.IncludeAnonymous ||
            l instanceof Oi ||
            !l.type.isAnonymous ||
            U0(l)
          )
            return !1;
        }
    return !0;
  }
  move(e, n) {
    if (n && this.enterChild(e, 0, 4)) return !0;
    for (;;) {
      if (this.sibling(e)) return !0;
      if (this.atLastNode(e) || !this.parent()) return !1;
    }
  }
  next(e = !0) {
    return this.move(1, e);
  }
  prev(e = !0) {
    return this.move(-1, e);
  }
  moveTo(e, n = 0) {
    for (
      ;
      (this.from == this.to ||
        (n < 1 ? this.from >= e : this.from > e) ||
        (n > -1 ? this.to <= e : this.to < e)) &&
      this.parent();

    );
    for (; this.enterChild(1, e, n); );
    return this;
  }
  get node() {
    if (!this.buffer) return this._tree;
    let e = this.bufferNode,
      n = null,
      r = 0;
    if (e && e.context == this.buffer)
      e: for (let i = this.index, s = this.stack.length; s >= 0; ) {
        for (let o = e; o; o = o._parent)
          if (o.index == i) {
            if (i == this.index) return o;
            (n = o), (r = s + 1);
            break e;
          }
        i = this.stack[--s];
      }
    for (let i = r; i < this.stack.length; i++)
      n = new li(this.buffer, n, this.stack[i]);
    return (this.bufferNode = new li(this.buffer, n, this.index));
  }
  get tree() {
    return this.buffer ? null : this._tree._tree;
  }
  iterate(e, n) {
    for (let r = 0; ; ) {
      let i = !1;
      if (this.type.isAnonymous || e(this) !== !1) {
        if (this.firstChild()) {
          r++;
          continue;
        }
        this.type.isAnonymous || (i = !0);
      }
      for (
        ;
        i && n && n(this), (i = this.type.isAnonymous), !this.nextSibling();

      ) {
        if (!r) return;
        this.parent(), r--, (i = !0);
      }
    }
  }
  matchContext(e) {
    if (!this.buffer) return Mm(this.node, e);
    let { buffer: n } = this.buffer,
      { types: r } = n.set;
    for (let i = e.length - 1, s = this.stack.length - 1; i >= 0; s--) {
      if (s < 0) return Mm(this.node, e, i);
      let o = r[n.buffer[this.stack[s]]];
      if (!o.isAnonymous) {
        if (e[i] && e[i] != o.name) return !1;
        i--;
      }
    }
    return !0;
  }
}
function U0(t) {
  return t.children.some(
    (e) => e instanceof Oi || !e.type.isAnonymous || U0(e)
  );
}
function cP(t) {
  var e;
  let {
      buffer: n,
      nodeSet: r,
      maxBufferLength: i = iP,
      reused: s = [],
      minRepeatType: o = r.types.length,
    } = t,
    l = Array.isArray(n) ? new H0(n, n.length) : n,
    a = r.types,
    u = 0,
    c = 0;
  function f(x, S, k, _, M, O) {
    let { id: L, start: F, end: W, size: H } = l,
      Q = c;
    for (; H < 0; )
      if ((l.next(), H == -1)) {
        let z = s[L];
        k.push(z), _.push(F - x);
        return;
      } else if (H == -3) {
        u = L;
        return;
      } else if (H == -4) {
        c = L;
        return;
      } else throw new RangeError(`Unrecognized record size: ${H}`);
    let Ee = a[L],
      Le,
      T,
      j = F - x;
    if (W - F <= i && (T = w(l.pos - S, M))) {
      let z = new Uint16Array(T.size - T.skip),
        G = l.pos - T.size,
        se = z.length;
      for (; l.pos > G; ) se = g(T.start, z, se);
      (Le = new Oi(z, W - T.start, r)), (j = T.start - x);
    } else {
      let z = l.pos - H;
      l.next();
      let G = [],
        se = [],
        kt = L >= o ? L : -1,
        Ke = 0,
        Ut = W;
      for (; l.pos > z; )
        kt >= 0 && l.id == kt && l.size >= 0
          ? (l.end <= Ut - i &&
              (p(G, se, F, Ke, l.end, Ut, kt, Q),
              (Ke = G.length),
              (Ut = l.end)),
            l.next())
          : O > 2500
            ? h(F, z, G, se)
            : f(F, z, G, se, kt, O + 1);
      if (
        (kt >= 0 && Ke > 0 && Ke < G.length && p(G, se, F, Ke, F, Ut, kt, Q),
        G.reverse(),
        se.reverse(),
        kt > -1 && Ke > 0)
      ) {
        let me = d(Ee);
        Le = K0(Ee, G, se, 0, G.length, 0, W - F, me, me);
      } else Le = m(Ee, G, se, W - F, Q - W);
    }
    k.push(Le), _.push(j);
  }
  function h(x, S, k, _) {
    let M = [],
      O = 0,
      L = -1;
    for (; l.pos > S; ) {
      let { id: F, start: W, end: H, size: Q } = l;
      if (Q > 4) l.next();
      else {
        if (L > -1 && W < L) break;
        L < 0 && (L = H - i), M.push(F, W, H), O++, l.next();
      }
    }
    if (O) {
      let F = new Uint16Array(O * 4),
        W = M[M.length - 2];
      for (let H = M.length - 3, Q = 0; H >= 0; H -= 3)
        (F[Q++] = M[H]),
          (F[Q++] = M[H + 1] - W),
          (F[Q++] = M[H + 2] - W),
          (F[Q++] = Q);
      k.push(new Oi(F, M[2] - W, r)), _.push(W - x);
    }
  }
  function d(x) {
    return (S, k, _) => {
      let M = 0,
        O = S.length - 1,
        L,
        F;
      if (O >= 0 && (L = S[O]) instanceof Pe) {
        if (!O && L.type == x && L.length == _) return L;
        (F = L.prop(ee.lookAhead)) && (M = k[O] + L.length + F);
      }
      return m(x, S, k, _, M);
    };
  }
  function p(x, S, k, _, M, O, L, F) {
    let W = [],
      H = [];
    for (; x.length > _; ) W.push(x.pop()), H.push(S.pop() + k - M);
    x.push(m(r.types[L], W, H, O - M, F - O)), S.push(M - k);
  }
  function m(x, S, k, _, M = 0, O) {
    if (u) {
      let L = [ee.contextHash, u];
      O = O ? [L].concat(O) : [L];
    }
    if (M > 25) {
      let L = [ee.lookAhead, M];
      O = O ? [L].concat(O) : [L];
    }
    return new Pe(x, S, k, _, O);
  }
  function w(x, S) {
    let k = l.fork(),
      _ = 0,
      M = 0,
      O = 0,
      L = k.end - i,
      F = { size: 0, start: 0, skip: 0 };
    e: for (let W = k.pos - x; k.pos > W; ) {
      let H = k.size;
      if (k.id == S && H >= 0) {
        (F.size = _), (F.start = M), (F.skip = O), (O += 4), (_ += 4), k.next();
        continue;
      }
      let Q = k.pos - H;
      if (H < 0 || Q < W || k.start < L) break;
      let Ee = k.id >= o ? 4 : 0,
        Le = k.start;
      for (k.next(); k.pos > Q; ) {
        if (k.size < 0)
          if (k.size == -3) Ee += 4;
          else break e;
        else k.id >= o && (Ee += 4);
        k.next();
      }
      (M = Le), (_ += H), (O += Ee);
    }
    return (
      (S < 0 || _ == x) && ((F.size = _), (F.start = M), (F.skip = O)),
      F.size > 4 ? F : void 0
    );
  }
  function g(x, S, k) {
    let { id: _, start: M, end: O, size: L } = l;
    if ((l.next(), L >= 0 && _ < o)) {
      let F = k;
      if (L > 4) {
        let W = l.pos - (L - 4);
        for (; l.pos > W; ) k = g(x, S, k);
      }
      (S[--k] = F), (S[--k] = O - x), (S[--k] = M - x), (S[--k] = _);
    } else L == -3 ? (u = _) : L == -4 && (c = _);
    return k;
  }
  let y = [],
    v = [];
  for (; l.pos > 0; ) f(t.start || 0, t.bufferStart || 0, y, v, -1, 0);
  let b =
    (e = t.length) !== null && e !== void 0
      ? e
      : y.length
        ? v[0] + y[0].length
        : 0;
  return new Pe(a[t.topID], y.reverse(), v.reverse(), b);
}
const Rv = new WeakMap();
function Ac(t, e) {
  if (!t.isAnonymous || e instanceof Oi || e.type != t) return 1;
  let n = Rv.get(e);
  if (n == null) {
    n = 1;
    for (let r of e.children) {
      if (r.type != t || !(r instanceof Pe)) {
        n = 1;
        break;
      }
      n += Ac(t, r);
    }
    Rv.set(e, n);
  }
  return n;
}
function K0(t, e, n, r, i, s, o, l, a) {
  let u = 0;
  for (let p = r; p < i; p++) u += Ac(t, e[p]);
  let c = Math.ceil((u * 1.5) / 8),
    f = [],
    h = [];
  function d(p, m, w, g, y) {
    for (let v = w; v < g; ) {
      let b = v,
        x = m[v],
        S = Ac(t, p[v]);
      for (v++; v < g; v++) {
        let k = Ac(t, p[v]);
        if (S + k >= c) break;
        S += k;
      }
      if (v == b + 1) {
        if (S > c) {
          let k = p[b];
          d(k.children, k.positions, 0, k.children.length, m[b] + y);
          continue;
        }
        f.push(p[b]);
      } else {
        let k = m[v - 1] + p[v - 1].length - x;
        f.push(K0(t, p, m, b, v, x, k, null, a));
      }
      h.push(x + y - s);
    }
  }
  return d(e, n, r, i, 0), (l || a)(f, h, o);
}
class es {
  constructor(e, n, r, i, s = !1, o = !1) {
    (this.from = e),
      (this.to = n),
      (this.tree = r),
      (this.offset = i),
      (this.open = (s ? 1 : 0) | (o ? 2 : 0));
  }
  get openStart() {
    return (this.open & 1) > 0;
  }
  get openEnd() {
    return (this.open & 2) > 0;
  }
  static addTree(e, n = [], r = !1) {
    let i = [new es(0, e.length, e, 0, !1, r)];
    for (let s of n) s.to > e.length && i.push(s);
    return i;
  }
  static applyChanges(e, n, r = 128) {
    if (!n.length) return e;
    let i = [],
      s = 1,
      o = e.length ? e[0] : null;
    for (let l = 0, a = 0, u = 0; ; l++) {
      let c = l < n.length ? n[l] : null,
        f = c ? c.fromA : 1e9;
      if (f - a >= r)
        for (; o && o.from < f; ) {
          let h = o;
          if (a >= h.from || f <= h.to || u) {
            let d = Math.max(h.from, a) - u,
              p = Math.min(h.to, f) - u;
            h = d >= p ? null : new es(d, p, h.tree, h.offset + u, l > 0, !!c);
          }
          if ((h && i.push(h), o.to > f)) break;
          o = s < e.length ? e[s++] : null;
        }
      if (!c) break;
      (a = c.toA), (u = c.toA - c.toB);
    }
    return i;
  }
}
class Dk {
  startParse(e, n, r) {
    return (
      typeof e == "string" && (e = new fP(e)),
      (r = r
        ? r.length
          ? r.map((i) => new qd(i.from, i.to))
          : [new qd(0, 0)]
        : [new qd(0, e.length)]),
      this.createParse(e, n || [], r)
    );
  }
  parse(e, n, r) {
    let i = this.startParse(e, n, r);
    for (;;) {
      let s = i.advance();
      if (s) return s;
    }
  }
}
class fP {
  constructor(e) {
    this.string = e;
  }
  get length() {
    return this.string.length;
  }
  chunk(e) {
    return this.string.slice(e);
  }
  get lineChunks() {
    return !1;
  }
  read(e, n) {
    return this.string.slice(e, n);
  }
}
new ee({ perNode: !0 });
let ce = class Lk {
  lineAt(e) {
    if (e < 0 || e > this.length)
      throw new RangeError(
        `Invalid position ${e} in document of length ${this.length}`
      );
    return this.lineInner(e, !1, 1, 0);
  }
  line(e) {
    if (e < 1 || e > this.lines)
      throw new RangeError(
        `Invalid line number ${e} in ${this.lines}-line document`
      );
    return this.lineInner(e, !0, 1, 0);
  }
  replace(e, n, r) {
    [e, n] = Mo(this, e, n);
    let i = [];
    return (
      this.decompose(0, e, i, 2),
      r.length && r.decompose(0, r.length, i, 3),
      this.decompose(n, this.length, i, 1),
      ur.from(i, this.length - (n - e) + r.length)
    );
  }
  append(e) {
    return this.replace(this.length, this.length, e);
  }
  slice(e, n = this.length) {
    [e, n] = Mo(this, e, n);
    let r = [];
    return this.decompose(e, n, r, 0), ur.from(r, n - e);
  }
  eq(e) {
    if (e == this) return !0;
    if (e.length != this.length || e.lines != this.lines) return !1;
    let n = this.scanIdentical(e, 1),
      r = this.length - this.scanIdentical(e, -1),
      i = new Rl(this),
      s = new Rl(e);
    for (let o = n, l = n; ; ) {
      if (
        (i.next(o),
        s.next(o),
        (o = 0),
        i.lineBreak != s.lineBreak || i.done != s.done || i.value != s.value)
      )
        return !1;
      if (((l += i.value.length), i.done || l >= r)) return !0;
    }
  }
  iter(e = 1) {
    return new Rl(this, e);
  }
  iterRange(e, n = this.length) {
    return new Bk(this, e, n);
  }
  iterLines(e, n) {
    let r;
    if (e == null) r = this.iter();
    else {
      n == null && (n = this.lines + 1);
      let i = this.line(e).from;
      r = this.iterRange(
        i,
        Math.max(
          i,
          n == this.lines + 1 ? this.length : n <= 1 ? 0 : this.line(n - 1).to
        )
      );
    }
    return new Nk(r);
  }
  toString() {
    return this.sliceString(0);
  }
  toJSON() {
    let e = [];
    return this.flatten(e), e;
  }
  constructor() {}
  static of(e) {
    if (e.length == 0)
      throw new RangeError("A document must have at least one line");
    return e.length == 1 && !e[0]
      ? Lk.empty
      : e.length <= 32
        ? new $e(e)
        : ur.from($e.split(e, []));
  }
};
class $e extends ce {
  constructor(e, n = hP(e)) {
    super(), (this.text = e), (this.length = n);
  }
  get lines() {
    return this.text.length;
  }
  get children() {
    return null;
  }
  lineInner(e, n, r, i) {
    for (let s = 0; ; s++) {
      let o = this.text[s],
        l = i + o.length;
      if ((n ? r : l) >= e) return new dP(i, l, r, o);
      (i = l + 1), r++;
    }
  }
  decompose(e, n, r, i) {
    let s =
      e <= 0 && n >= this.length
        ? this
        : new $e(
            Dv(this.text, e, n),
            Math.min(n, this.length) - Math.max(0, e)
          );
    if (i & 1) {
      let o = r.pop(),
        l = Oc(s.text, o.text.slice(), 0, s.length);
      if (l.length <= 32) r.push(new $e(l, o.length + s.length));
      else {
        let a = l.length >> 1;
        r.push(new $e(l.slice(0, a)), new $e(l.slice(a)));
      }
    } else r.push(s);
  }
  replace(e, n, r) {
    if (!(r instanceof $e)) return super.replace(e, n, r);
    [e, n] = Mo(this, e, n);
    let i = Oc(this.text, Oc(r.text, Dv(this.text, 0, e)), n),
      s = this.length + r.length - (n - e);
    return i.length <= 32 ? new $e(i, s) : ur.from($e.split(i, []), s);
  }
  sliceString(
    e,
    n = this.length,
    r = `
`
  ) {
    [e, n] = Mo(this, e, n);
    let i = "";
    for (let s = 0, o = 0; s <= n && o < this.text.length; o++) {
      let l = this.text[o],
        a = s + l.length;
      s > e && o && (i += r),
        e < a && n > s && (i += l.slice(Math.max(0, e - s), n - s)),
        (s = a + 1);
    }
    return i;
  }
  flatten(e) {
    for (let n of this.text) e.push(n);
  }
  scanIdentical() {
    return 0;
  }
  static split(e, n) {
    let r = [],
      i = -1;
    for (let s of e)
      r.push(s),
        (i += s.length + 1),
        r.length == 32 && (n.push(new $e(r, i)), (r = []), (i = -1));
    return i > -1 && n.push(new $e(r, i)), n;
  }
}
class ur extends ce {
  constructor(e, n) {
    super(), (this.children = e), (this.length = n), (this.lines = 0);
    for (let r of e) this.lines += r.lines;
  }
  lineInner(e, n, r, i) {
    for (let s = 0; ; s++) {
      let o = this.children[s],
        l = i + o.length,
        a = r + o.lines - 1;
      if ((n ? a : l) >= e) return o.lineInner(e, n, r, i);
      (i = l + 1), (r = a + 1);
    }
  }
  decompose(e, n, r, i) {
    for (let s = 0, o = 0; o <= n && s < this.children.length; s++) {
      let l = this.children[s],
        a = o + l.length;
      if (e <= a && n >= o) {
        let u = i & ((o <= e ? 1 : 0) | (a >= n ? 2 : 0));
        o >= e && a <= n && !u ? r.push(l) : l.decompose(e - o, n - o, r, u);
      }
      o = a + 1;
    }
  }
  replace(e, n, r) {
    if ((([e, n] = Mo(this, e, n)), r.lines < this.lines))
      for (let i = 0, s = 0; i < this.children.length; i++) {
        let o = this.children[i],
          l = s + o.length;
        if (e >= s && n <= l) {
          let a = o.replace(e - s, n - s, r),
            u = this.lines - o.lines + a.lines;
          if (a.lines < u >> 4 && a.lines > u >> 6) {
            let c = this.children.slice();
            return (c[i] = a), new ur(c, this.length - (n - e) + r.length);
          }
          return super.replace(s, l, a);
        }
        s = l + 1;
      }
    return super.replace(e, n, r);
  }
  sliceString(
    e,
    n = this.length,
    r = `
`
  ) {
    [e, n] = Mo(this, e, n);
    let i = "";
    for (let s = 0, o = 0; s < this.children.length && o <= n; s++) {
      let l = this.children[s],
        a = o + l.length;
      o > e && s && (i += r),
        e < a && n > o && (i += l.sliceString(e - o, n - o, r)),
        (o = a + 1);
    }
    return i;
  }
  flatten(e) {
    for (let n of this.children) n.flatten(e);
  }
  scanIdentical(e, n) {
    if (!(e instanceof ur)) return 0;
    let r = 0,
      [i, s, o, l] =
        n > 0
          ? [0, 0, this.children.length, e.children.length]
          : [this.children.length - 1, e.children.length - 1, -1, -1];
    for (; ; i += n, s += n) {
      if (i == o || s == l) return r;
      let a = this.children[i],
        u = e.children[s];
      if (a != u) return r + a.scanIdentical(u, n);
      r += a.length + 1;
    }
  }
  static from(e, n = e.reduce((r, i) => r + i.length + 1, -1)) {
    let r = 0;
    for (let d of e) r += d.lines;
    if (r < 32) {
      let d = [];
      for (let p of e) p.flatten(d);
      return new $e(d, n);
    }
    let i = Math.max(32, r >> 5),
      s = i << 1,
      o = i >> 1,
      l = [],
      a = 0,
      u = -1,
      c = [];
    function f(d) {
      let p;
      if (d.lines > s && d instanceof ur) for (let m of d.children) f(m);
      else
        d.lines > o && (a > o || !a)
          ? (h(), l.push(d))
          : d instanceof $e &&
              a &&
              (p = c[c.length - 1]) instanceof $e &&
              d.lines + p.lines <= 32
            ? ((a += d.lines),
              (u += d.length + 1),
              (c[c.length - 1] = new $e(
                p.text.concat(d.text),
                p.length + 1 + d.length
              )))
            : (a + d.lines > i && h(),
              (a += d.lines),
              (u += d.length + 1),
              c.push(d));
    }
    function h() {
      a != 0 &&
        (l.push(c.length == 1 ? c[0] : ur.from(c, u)),
        (u = -1),
        (a = c.length = 0));
    }
    for (let d of e) f(d);
    return h(), l.length == 1 ? l[0] : new ur(l, n);
  }
}
ce.empty = new $e([""], 0);
function hP(t) {
  let e = -1;
  for (let n of t) e += n.length + 1;
  return e;
}
function Oc(t, e, n = 0, r = 1e9) {
  for (let i = 0, s = 0, o = !0; s < t.length && i <= r; s++) {
    let l = t[s],
      a = i + l.length;
    a >= n &&
      (a > r && (l = l.slice(0, r - i)),
      i < n && (l = l.slice(n - i)),
      o ? ((e[e.length - 1] += l), (o = !1)) : e.push(l)),
      (i = a + 1);
  }
  return e;
}
function Dv(t, e, n) {
  return Oc(t, [""], e, n);
}
class Rl {
  constructor(e, n = 1) {
    (this.dir = n),
      (this.done = !1),
      (this.lineBreak = !1),
      (this.value = ""),
      (this.nodes = [e]),
      (this.offsets = [
        n > 0 ? 1 : (e instanceof $e ? e.text.length : e.children.length) << 1,
      ]);
  }
  nextInner(e, n) {
    for (this.done = this.lineBreak = !1; ; ) {
      let r = this.nodes.length - 1,
        i = this.nodes[r],
        s = this.offsets[r],
        o = s >> 1,
        l = i instanceof $e ? i.text.length : i.children.length;
      if (o == (n > 0 ? l : 0)) {
        if (r == 0) return (this.done = !0), (this.value = ""), this;
        n > 0 && this.offsets[r - 1]++, this.nodes.pop(), this.offsets.pop();
      } else if ((s & 1) == (n > 0 ? 0 : 1)) {
        if (((this.offsets[r] += n), e == 0))
          return (
            (this.lineBreak = !0),
            (this.value = `
`),
            this
          );
        e--;
      } else if (i instanceof $e) {
        let a = i.text[o + (n < 0 ? -1 : 0)];
        if (((this.offsets[r] += n), a.length > Math.max(0, e)))
          return (
            (this.value =
              e == 0 ? a : n > 0 ? a.slice(e) : a.slice(0, a.length - e)),
            this
          );
        e -= a.length;
      } else {
        let a = i.children[o + (n < 0 ? -1 : 0)];
        e > a.length
          ? ((e -= a.length), (this.offsets[r] += n))
          : (n < 0 && this.offsets[r]--,
            this.nodes.push(a),
            this.offsets.push(
              n > 0
                ? 1
                : (a instanceof $e ? a.text.length : a.children.length) << 1
            ));
      }
    }
  }
  next(e = 0) {
    return (
      e < 0 && (this.nextInner(-e, -this.dir), (e = this.value.length)),
      this.nextInner(e, this.dir)
    );
  }
}
class Bk {
  constructor(e, n, r) {
    (this.value = ""),
      (this.done = !1),
      (this.cursor = new Rl(e, n > r ? -1 : 1)),
      (this.pos = n > r ? e.length : 0),
      (this.from = Math.min(n, r)),
      (this.to = Math.max(n, r));
  }
  nextInner(e, n) {
    if (n < 0 ? this.pos <= this.from : this.pos >= this.to)
      return (this.value = ""), (this.done = !0), this;
    e += Math.max(0, n < 0 ? this.pos - this.to : this.from - this.pos);
    let r = n < 0 ? this.pos - this.from : this.to - this.pos;
    e > r && (e = r), (r -= e);
    let { value: i } = this.cursor.next(e);
    return (
      (this.pos += (i.length + e) * n),
      (this.value =
        i.length <= r ? i : n < 0 ? i.slice(i.length - r) : i.slice(0, r)),
      (this.done = !this.value),
      this
    );
  }
  next(e = 0) {
    return (
      e < 0
        ? (e = Math.max(e, this.from - this.pos))
        : e > 0 && (e = Math.min(e, this.to - this.pos)),
      this.nextInner(e, this.cursor.dir)
    );
  }
  get lineBreak() {
    return this.cursor.lineBreak && this.value != "";
  }
}
class Nk {
  constructor(e) {
    (this.inner = e),
      (this.afterBreak = !0),
      (this.value = ""),
      (this.done = !1);
  }
  next(e = 0) {
    let { done: n, lineBreak: r, value: i } = this.inner.next(e);
    return (
      n && this.afterBreak
        ? ((this.value = ""), (this.afterBreak = !1))
        : n
          ? ((this.done = !0), (this.value = ""))
          : r
            ? this.afterBreak
              ? (this.value = "")
              : ((this.afterBreak = !0), this.next())
            : ((this.value = i), (this.afterBreak = !1)),
      this
    );
  }
  get lineBreak() {
    return !1;
  }
}
typeof Symbol < "u" &&
  ((ce.prototype[Symbol.iterator] = function () {
    return this.iter();
  }),
  (Rl.prototype[Symbol.iterator] =
    Bk.prototype[Symbol.iterator] =
    Nk.prototype[Symbol.iterator] =
      function () {
        return this;
      }));
class dP {
  constructor(e, n, r, i) {
    (this.from = e), (this.to = n), (this.number = r), (this.text = i);
  }
  get length() {
    return this.to - this.from;
  }
}
function Mo(t, e, n) {
  return (
    (e = Math.max(0, Math.min(t.length, e))),
    [e, Math.max(e, Math.min(t.length, n))]
  );
}
let oo =
  "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o"
    .split(",")
    .map((t) => (t ? parseInt(t, 36) : 1));
for (let t = 1; t < oo.length; t++) oo[t] += oo[t - 1];
function pP(t) {
  for (let e = 1; e < oo.length; e += 2) if (oo[e] > t) return oo[e - 1] <= t;
  return !1;
}
function Lv(t) {
  return t >= 127462 && t <= 127487;
}
const Bv = 8205;
function ft(t, e, n = !0, r = !0) {
  return (n ? Ik : mP)(t, e, r);
}
function Ik(t, e, n) {
  if (e == t.length) return e;
  e && $k(t.charCodeAt(e)) && Fk(t.charCodeAt(e - 1)) && e--;
  let r = at(t, e);
  for (e += vn(r); e < t.length; ) {
    let i = at(t, e);
    if (r == Bv || i == Bv || (n && pP(i))) (e += vn(i)), (r = i);
    else if (Lv(i)) {
      let s = 0,
        o = e - 2;
      for (; o >= 0 && Lv(at(t, o)); ) s++, (o -= 2);
      if (s % 2 == 0) break;
      e += 2;
    } else break;
  }
  return e;
}
function mP(t, e, n) {
  for (; e > 0; ) {
    let r = Ik(t, e - 2, n);
    if (r < e) return r;
    e--;
  }
  return 0;
}
function $k(t) {
  return t >= 56320 && t < 57344;
}
function Fk(t) {
  return t >= 55296 && t < 56320;
}
function at(t, e) {
  let n = t.charCodeAt(e);
  if (!Fk(n) || e + 1 == t.length) return n;
  let r = t.charCodeAt(e + 1);
  return $k(r) ? ((n - 55296) << 10) + (r - 56320) + 65536 : n;
}
function q0(t) {
  return t <= 65535
    ? String.fromCharCode(t)
    : ((t -= 65536),
      String.fromCharCode((t >> 10) + 55296, (t & 1023) + 56320));
}
function vn(t) {
  return t < 65536 ? 1 : 2;
}
const Pm = /\r\n?|\n/;
var Ot = (function (t) {
  return (
    (t[(t.Simple = 0)] = "Simple"),
    (t[(t.TrackDel = 1)] = "TrackDel"),
    (t[(t.TrackBefore = 2)] = "TrackBefore"),
    (t[(t.TrackAfter = 3)] = "TrackAfter"),
    t
  );
})(Ot || (Ot = {}));
class br {
  constructor(e) {
    this.sections = e;
  }
  get length() {
    let e = 0;
    for (let n = 0; n < this.sections.length; n += 2) e += this.sections[n];
    return e;
  }
  get newLength() {
    let e = 0;
    for (let n = 0; n < this.sections.length; n += 2) {
      let r = this.sections[n + 1];
      e += r < 0 ? this.sections[n] : r;
    }
    return e;
  }
  get empty() {
    return (
      this.sections.length == 0 ||
      (this.sections.length == 2 && this.sections[1] < 0)
    );
  }
  iterGaps(e) {
    for (let n = 0, r = 0, i = 0; n < this.sections.length; ) {
      let s = this.sections[n++],
        o = this.sections[n++];
      o < 0 ? (e(r, i, s), (i += s)) : (i += o), (r += s);
    }
  }
  iterChangedRanges(e, n = !1) {
    Rm(this, e, n);
  }
  get invertedDesc() {
    let e = [];
    for (let n = 0; n < this.sections.length; ) {
      let r = this.sections[n++],
        i = this.sections[n++];
      i < 0 ? e.push(r, i) : e.push(i, r);
    }
    return new br(e);
  }
  composeDesc(e) {
    return this.empty ? e : e.empty ? this : zk(this, e);
  }
  mapDesc(e, n = !1) {
    return e.empty ? this : Dm(this, e, n);
  }
  mapPos(e, n = -1, r = Ot.Simple) {
    let i = 0,
      s = 0;
    for (let o = 0; o < this.sections.length; ) {
      let l = this.sections[o++],
        a = this.sections[o++],
        u = i + l;
      if (a < 0) {
        if (u > e) return s + (e - i);
        s += l;
      } else {
        if (
          r != Ot.Simple &&
          u >= e &&
          ((r == Ot.TrackDel && i < e && u > e) ||
            (r == Ot.TrackBefore && i < e) ||
            (r == Ot.TrackAfter && u > e))
        )
          return null;
        if (u > e || (u == e && n < 0 && !l))
          return e == i || n < 0 ? s : s + a;
        s += a;
      }
      i = u;
    }
    if (e > i)
      throw new RangeError(
        `Position ${e} is out of range for changeset of length ${i}`
      );
    return s;
  }
  touchesRange(e, n = e) {
    for (let r = 0, i = 0; r < this.sections.length && i <= n; ) {
      let s = this.sections[r++],
        o = this.sections[r++],
        l = i + s;
      if (o >= 0 && i <= n && l >= e) return i < e && l > n ? "cover" : !0;
      i = l;
    }
    return !1;
  }
  toString() {
    let e = "";
    for (let n = 0; n < this.sections.length; ) {
      let r = this.sections[n++],
        i = this.sections[n++];
      e += (e ? " " : "") + r + (i >= 0 ? ":" + i : "");
    }
    return e;
  }
  toJSON() {
    return this.sections;
  }
  static fromJSON(e) {
    if (
      !Array.isArray(e) ||
      e.length % 2 ||
      e.some((n) => typeof n != "number")
    )
      throw new RangeError("Invalid JSON representation of ChangeDesc");
    return new br(e);
  }
  static create(e) {
    return new br(e);
  }
}
class Ye extends br {
  constructor(e, n) {
    super(e), (this.inserted = n);
  }
  apply(e) {
    if (this.length != e.length)
      throw new RangeError(
        "Applying change set to a document with the wrong length"
      );
    return (
      Rm(this, (n, r, i, s, o) => (e = e.replace(i, i + (r - n), o)), !1), e
    );
  }
  mapDesc(e, n = !1) {
    return Dm(this, e, n, !0);
  }
  invert(e) {
    let n = this.sections.slice(),
      r = [];
    for (let i = 0, s = 0; i < n.length; i += 2) {
      let o = n[i],
        l = n[i + 1];
      if (l >= 0) {
        (n[i] = l), (n[i + 1] = o);
        let a = i >> 1;
        for (; r.length < a; ) r.push(ce.empty);
        r.push(o ? e.slice(s, s + o) : ce.empty);
      }
      s += o;
    }
    return new Ye(n, r);
  }
  compose(e) {
    return this.empty ? e : e.empty ? this : zk(this, e, !0);
  }
  map(e, n = !1) {
    return e.empty ? this : Dm(this, e, n, !0);
  }
  iterChanges(e, n = !1) {
    Rm(this, e, n);
  }
  get desc() {
    return br.create(this.sections);
  }
  filter(e) {
    let n = [],
      r = [],
      i = [],
      s = new ua(this);
    e: for (let o = 0, l = 0; ; ) {
      let a = o == e.length ? 1e9 : e[o++];
      for (; l < a || (l == a && s.len == 0); ) {
        if (s.done) break e;
        let c = Math.min(s.len, a - l);
        vt(i, c, -1);
        let f = s.ins == -1 ? -1 : s.off == 0 ? s.ins : 0;
        vt(n, c, f), f > 0 && ai(r, n, s.text), s.forward(c), (l += c);
      }
      let u = e[o++];
      for (; l < u; ) {
        if (s.done) break e;
        let c = Math.min(s.len, u - l);
        vt(n, c, -1),
          vt(i, c, s.ins == -1 ? -1 : s.off == 0 ? s.ins : 0),
          s.forward(c),
          (l += c);
      }
    }
    return { changes: new Ye(n, r), filtered: br.create(i) };
  }
  toJSON() {
    let e = [];
    for (let n = 0; n < this.sections.length; n += 2) {
      let r = this.sections[n],
        i = this.sections[n + 1];
      i < 0
        ? e.push(r)
        : i == 0
          ? e.push([r])
          : e.push([r].concat(this.inserted[n >> 1].toJSON()));
    }
    return e;
  }
  static of(e, n, r) {
    let i = [],
      s = [],
      o = 0,
      l = null;
    function a(c = !1) {
      if (!c && !i.length) return;
      o < n && vt(i, n - o, -1);
      let f = new Ye(i, s);
      (l = l ? l.compose(f.map(l)) : f), (i = []), (s = []), (o = 0);
    }
    function u(c) {
      if (Array.isArray(c)) for (let f of c) u(f);
      else if (c instanceof Ye) {
        if (c.length != n)
          throw new RangeError(
            `Mismatched change set length (got ${c.length}, expected ${n})`
          );
        a(), (l = l ? l.compose(c.map(l)) : c);
      } else {
        let { from: f, to: h = f, insert: d } = c;
        if (f > h || f < 0 || h > n)
          throw new RangeError(
            `Invalid change range ${f} to ${h} (in doc of length ${n})`
          );
        let p = d
            ? typeof d == "string"
              ? ce.of(d.split(r || Pm))
              : d
            : ce.empty,
          m = p.length;
        if (f == h && m == 0) return;
        f < o && a(),
          f > o && vt(i, f - o, -1),
          vt(i, h - f, m),
          ai(s, i, p),
          (o = h);
      }
    }
    return u(e), a(!l), l;
  }
  static empty(e) {
    return new Ye(e ? [e, -1] : [], []);
  }
  static fromJSON(e) {
    if (!Array.isArray(e))
      throw new RangeError("Invalid JSON representation of ChangeSet");
    let n = [],
      r = [];
    for (let i = 0; i < e.length; i++) {
      let s = e[i];
      if (typeof s == "number") n.push(s, -1);
      else {
        if (
          !Array.isArray(s) ||
          typeof s[0] != "number" ||
          s.some((o, l) => l && typeof o != "string")
        )
          throw new RangeError("Invalid JSON representation of ChangeSet");
        if (s.length == 1) n.push(s[0], 0);
        else {
          for (; r.length < i; ) r.push(ce.empty);
          (r[i] = ce.of(s.slice(1))), n.push(s[0], r[i].length);
        }
      }
    }
    return new Ye(n, r);
  }
  static createSet(e, n) {
    return new Ye(e, n);
  }
}
function vt(t, e, n, r = !1) {
  if (e == 0 && n <= 0) return;
  let i = t.length - 2;
  i >= 0 && n <= 0 && n == t[i + 1]
    ? (t[i] += e)
    : e == 0 && t[i] == 0
      ? (t[i + 1] += n)
      : r
        ? ((t[i] += e), (t[i + 1] += n))
        : t.push(e, n);
}
function ai(t, e, n) {
  if (n.length == 0) return;
  let r = (e.length - 2) >> 1;
  if (r < t.length) t[t.length - 1] = t[t.length - 1].append(n);
  else {
    for (; t.length < r; ) t.push(ce.empty);
    t.push(n);
  }
}
function Rm(t, e, n) {
  let r = t.inserted;
  for (let i = 0, s = 0, o = 0; o < t.sections.length; ) {
    let l = t.sections[o++],
      a = t.sections[o++];
    if (a < 0) (i += l), (s += l);
    else {
      let u = i,
        c = s,
        f = ce.empty;
      for (
        ;
        (u += l),
          (c += a),
          a && r && (f = f.append(r[(o - 2) >> 1])),
          !(n || o == t.sections.length || t.sections[o + 1] < 0);

      )
        (l = t.sections[o++]), (a = t.sections[o++]);
      e(i, u, s, c, f), (i = u), (s = c);
    }
  }
}
function Dm(t, e, n, r = !1) {
  let i = [],
    s = r ? [] : null,
    o = new ua(t),
    l = new ua(e);
  for (let a = -1; ; )
    if (o.ins == -1 && l.ins == -1) {
      let u = Math.min(o.len, l.len);
      vt(i, u, -1), o.forward(u), l.forward(u);
    } else if (
      l.ins >= 0 &&
      (o.ins < 0 ||
        a == o.i ||
        (o.off == 0 && (l.len < o.len || (l.len == o.len && !n))))
    ) {
      let u = l.len;
      for (vt(i, l.ins, -1); u; ) {
        let c = Math.min(o.len, u);
        o.ins >= 0 &&
          a < o.i &&
          o.len <= c &&
          (vt(i, 0, o.ins), s && ai(s, i, o.text), (a = o.i)),
          o.forward(c),
          (u -= c);
      }
      l.next();
    } else if (o.ins >= 0) {
      let u = 0,
        c = o.len;
      for (; c; )
        if (l.ins == -1) {
          let f = Math.min(c, l.len);
          (u += f), (c -= f), l.forward(f);
        } else if (l.ins == 0 && l.len < c) (c -= l.len), l.next();
        else break;
      vt(i, u, a < o.i ? o.ins : 0),
        s && a < o.i && ai(s, i, o.text),
        (a = o.i),
        o.forward(o.len - c);
    } else {
      if (o.done && l.done) return s ? Ye.createSet(i, s) : br.create(i);
      throw new Error("Mismatched change set lengths");
    }
}
function zk(t, e, n = !1) {
  let r = [],
    i = n ? [] : null,
    s = new ua(t),
    o = new ua(e);
  for (let l = !1; ; ) {
    if (s.done && o.done) return i ? Ye.createSet(r, i) : br.create(r);
    if (s.ins == 0) vt(r, s.len, 0, l), s.next();
    else if (o.len == 0 && !o.done)
      vt(r, 0, o.ins, l), i && ai(i, r, o.text), o.next();
    else {
      if (s.done || o.done) throw new Error("Mismatched change set lengths");
      {
        let a = Math.min(s.len2, o.len),
          u = r.length;
        if (s.ins == -1) {
          let c = o.ins == -1 ? -1 : o.off ? 0 : o.ins;
          vt(r, a, c, l), i && c && ai(i, r, o.text);
        } else
          o.ins == -1
            ? (vt(r, s.off ? 0 : s.len, a, l), i && ai(i, r, s.textBit(a)))
            : (vt(r, s.off ? 0 : s.len, o.off ? 0 : o.ins, l),
              i && !o.off && ai(i, r, o.text));
        (l = (s.ins > a || (o.ins >= 0 && o.len > a)) && (l || r.length > u)),
          s.forward2(a),
          o.forward(a);
      }
    }
  }
}
class ua {
  constructor(e) {
    (this.set = e), (this.i = 0), this.next();
  }
  next() {
    let { sections: e } = this.set;
    this.i < e.length
      ? ((this.len = e[this.i++]), (this.ins = e[this.i++]))
      : ((this.len = 0), (this.ins = -2)),
      (this.off = 0);
  }
  get done() {
    return this.ins == -2;
  }
  get len2() {
    return this.ins < 0 ? this.len : this.ins;
  }
  get text() {
    let { inserted: e } = this.set,
      n = (this.i - 2) >> 1;
    return n >= e.length ? ce.empty : e[n];
  }
  textBit(e) {
    let { inserted: n } = this.set,
      r = (this.i - 2) >> 1;
    return r >= n.length && !e
      ? ce.empty
      : n[r].slice(this.off, e == null ? void 0 : this.off + e);
  }
  forward(e) {
    e == this.len ? this.next() : ((this.len -= e), (this.off += e));
  }
  forward2(e) {
    this.ins == -1
      ? this.forward(e)
      : e == this.ins
        ? this.next()
        : ((this.ins -= e), (this.off += e));
  }
}
class Yi {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.flags = r);
  }
  get anchor() {
    return this.flags & 32 ? this.to : this.from;
  }
  get head() {
    return this.flags & 32 ? this.from : this.to;
  }
  get empty() {
    return this.from == this.to;
  }
  get assoc() {
    return this.flags & 8 ? -1 : this.flags & 16 ? 1 : 0;
  }
  get bidiLevel() {
    let e = this.flags & 7;
    return e == 7 ? null : e;
  }
  get goalColumn() {
    let e = this.flags >> 6;
    return e == 16777215 ? void 0 : e;
  }
  map(e, n = -1) {
    let r, i;
    return (
      this.empty
        ? (r = i = e.mapPos(this.from, n))
        : ((r = e.mapPos(this.from, 1)), (i = e.mapPos(this.to, -1))),
      r == this.from && i == this.to ? this : new Yi(r, i, this.flags)
    );
  }
  extend(e, n = e) {
    if (e <= this.anchor && n >= this.anchor) return A.range(e, n);
    let r = Math.abs(e - this.anchor) > Math.abs(n - this.anchor) ? e : n;
    return A.range(this.anchor, r);
  }
  eq(e, n = !1) {
    return (
      this.anchor == e.anchor &&
      this.head == e.head &&
      (!n || !this.empty || this.assoc == e.assoc)
    );
  }
  toJSON() {
    return { anchor: this.anchor, head: this.head };
  }
  static fromJSON(e) {
    if (!e || typeof e.anchor != "number" || typeof e.head != "number")
      throw new RangeError("Invalid JSON representation for SelectionRange");
    return A.range(e.anchor, e.head);
  }
  static create(e, n, r) {
    return new Yi(e, n, r);
  }
}
class A {
  constructor(e, n) {
    (this.ranges = e), (this.mainIndex = n);
  }
  map(e, n = -1) {
    return e.empty
      ? this
      : A.create(
          this.ranges.map((r) => r.map(e, n)),
          this.mainIndex
        );
  }
  eq(e, n = !1) {
    if (this.ranges.length != e.ranges.length || this.mainIndex != e.mainIndex)
      return !1;
    for (let r = 0; r < this.ranges.length; r++)
      if (!this.ranges[r].eq(e.ranges[r], n)) return !1;
    return !0;
  }
  get main() {
    return this.ranges[this.mainIndex];
  }
  asSingle() {
    return this.ranges.length == 1 ? this : new A([this.main], 0);
  }
  addRange(e, n = !0) {
    return A.create([e].concat(this.ranges), n ? 0 : this.mainIndex + 1);
  }
  replaceRange(e, n = this.mainIndex) {
    let r = this.ranges.slice();
    return (r[n] = e), A.create(r, this.mainIndex);
  }
  toJSON() {
    return { ranges: this.ranges.map((e) => e.toJSON()), main: this.mainIndex };
  }
  static fromJSON(e) {
    if (
      !e ||
      !Array.isArray(e.ranges) ||
      typeof e.main != "number" ||
      e.main >= e.ranges.length
    )
      throw new RangeError("Invalid JSON representation for EditorSelection");
    return new A(
      e.ranges.map((n) => Yi.fromJSON(n)),
      e.main
    );
  }
  static single(e, n = e) {
    return new A([A.range(e, n)], 0);
  }
  static create(e, n = 0) {
    if (e.length == 0)
      throw new RangeError("A selection needs at least one range");
    for (let r = 0, i = 0; i < e.length; i++) {
      let s = e[i];
      if (s.empty ? s.from <= r : s.from < r) return A.normalized(e.slice(), n);
      r = s.to;
    }
    return new A(e, n);
  }
  static cursor(e, n = 0, r, i) {
    return Yi.create(
      e,
      e,
      (n == 0 ? 0 : n < 0 ? 8 : 16) |
        (r == null ? 7 : Math.min(6, r)) |
        ((i ?? 16777215) << 6)
    );
  }
  static range(e, n, r, i) {
    let s = ((r ?? 16777215) << 6) | (i == null ? 7 : Math.min(6, i));
    return n < e
      ? Yi.create(n, e, 48 | s)
      : Yi.create(e, n, (n > e ? 8 : 0) | s);
  }
  static normalized(e, n = 0) {
    let r = e[n];
    e.sort((i, s) => i.from - s.from), (n = e.indexOf(r));
    for (let i = 1; i < e.length; i++) {
      let s = e[i],
        o = e[i - 1];
      if (s.empty ? s.from <= o.to : s.from < o.to) {
        let l = o.from,
          a = Math.max(s.to, o.to);
        i <= n && n--,
          e.splice(--i, 2, s.anchor > s.head ? A.range(a, l) : A.range(l, a));
      }
    }
    return new A(e, n);
  }
}
function jk(t, e) {
  for (let n of t.ranges)
    if (n.to > e) throw new RangeError("Selection points outside of document");
}
let G0 = 0;
class $ {
  constructor(e, n, r, i, s) {
    (this.combine = e),
      (this.compareInput = n),
      (this.compare = r),
      (this.isStatic = i),
      (this.id = G0++),
      (this.default = e([])),
      (this.extensions = typeof s == "function" ? s(this) : s);
  }
  get reader() {
    return this;
  }
  static define(e = {}) {
    return new $(
      e.combine || ((n) => n),
      e.compareInput || ((n, r) => n === r),
      e.compare || (e.combine ? (n, r) => n === r : Y0),
      !!e.static,
      e.enables
    );
  }
  of(e) {
    return new Ec([], this, 0, e);
  }
  compute(e, n) {
    if (this.isStatic) throw new Error("Can't compute a static facet");
    return new Ec(e, this, 1, n);
  }
  computeN(e, n) {
    if (this.isStatic) throw new Error("Can't compute a static facet");
    return new Ec(e, this, 2, n);
  }
  from(e, n) {
    return n || (n = (r) => r), this.compute([e], (r) => n(r.field(e)));
  }
}
function Y0(t, e) {
  return t == e || (t.length == e.length && t.every((n, r) => n === e[r]));
}
class Ec {
  constructor(e, n, r, i) {
    (this.dependencies = e),
      (this.facet = n),
      (this.type = r),
      (this.value = i),
      (this.id = G0++);
  }
  dynamicSlot(e) {
    var n;
    let r = this.value,
      i = this.facet.compareInput,
      s = this.id,
      o = e[s] >> 1,
      l = this.type == 2,
      a = !1,
      u = !1,
      c = [];
    for (let f of this.dependencies)
      f == "doc"
        ? (a = !0)
        : f == "selection"
          ? (u = !0)
          : ((n = e[f.id]) !== null && n !== void 0 ? n : 1) & 1 ||
            c.push(e[f.id]);
    return {
      create(f) {
        return (f.values[o] = r(f)), 1;
      },
      update(f, h) {
        if (
          (a && h.docChanged) ||
          (u && (h.docChanged || h.selection)) ||
          Lm(f, c)
        ) {
          let d = r(f);
          if (l ? !Nv(d, f.values[o], i) : !i(d, f.values[o]))
            return (f.values[o] = d), 1;
        }
        return 0;
      },
      reconfigure: (f, h) => {
        let d,
          p = h.config.address[s];
        if (p != null) {
          let m = wf(h, p);
          if (
            this.dependencies.every((w) =>
              w instanceof $
                ? h.facet(w) === f.facet(w)
                : w instanceof nt
                  ? h.field(w, !1) == f.field(w, !1)
                  : !0
            ) ||
            (l ? Nv((d = r(f)), m, i) : i((d = r(f)), m))
          )
            return (f.values[o] = m), 0;
        } else d = r(f);
        return (f.values[o] = d), 1;
      },
    };
  }
}
function Nv(t, e, n) {
  if (t.length != e.length) return !1;
  for (let r = 0; r < t.length; r++) if (!n(t[r], e[r])) return !1;
  return !0;
}
function Lm(t, e) {
  let n = !1;
  for (let r of e) Dl(t, r) & 1 && (n = !0);
  return n;
}
function gP(t, e, n) {
  let r = n.map((a) => t[a.id]),
    i = n.map((a) => a.type),
    s = r.filter((a) => !(a & 1)),
    o = t[e.id] >> 1;
  function l(a) {
    let u = [];
    for (let c = 0; c < r.length; c++) {
      let f = wf(a, r[c]);
      if (i[c] == 2) for (let h of f) u.push(h);
      else u.push(f);
    }
    return e.combine(u);
  }
  return {
    create(a) {
      for (let u of r) Dl(a, u);
      return (a.values[o] = l(a)), 1;
    },
    update(a, u) {
      if (!Lm(a, s)) return 0;
      let c = l(a);
      return e.compare(c, a.values[o]) ? 0 : ((a.values[o] = c), 1);
    },
    reconfigure(a, u) {
      let c = Lm(a, r),
        f = u.config.facets[e.id],
        h = u.facet(e);
      if (f && !c && Y0(n, f)) return (a.values[o] = h), 0;
      let d = l(a);
      return e.compare(d, h) ? ((a.values[o] = h), 0) : ((a.values[o] = d), 1);
    },
  };
}
const Iv = $.define({ static: !0 });
class nt {
  constructor(e, n, r, i, s) {
    (this.id = e),
      (this.createF = n),
      (this.updateF = r),
      (this.compareF = i),
      (this.spec = s),
      (this.provides = void 0);
  }
  static define(e) {
    let n = new nt(
      G0++,
      e.create,
      e.update,
      e.compare || ((r, i) => r === i),
      e
    );
    return e.provide && (n.provides = e.provide(n)), n;
  }
  create(e) {
    let n = e.facet(Iv).find((r) => r.field == this);
    return ((n == null ? void 0 : n.create) || this.createF)(e);
  }
  slot(e) {
    let n = e[this.id] >> 1;
    return {
      create: (r) => ((r.values[n] = this.create(r)), 1),
      update: (r, i) => {
        let s = r.values[n],
          o = this.updateF(s, i);
        return this.compareF(s, o) ? 0 : ((r.values[n] = o), 1);
      },
      reconfigure: (r, i) =>
        i.config.address[this.id] != null
          ? ((r.values[n] = i.field(this)), 0)
          : ((r.values[n] = this.create(r)), 1),
    };
  }
  init(e) {
    return [this, Iv.of({ field: this, create: e })];
  }
  get extension() {
    return this;
  }
}
const Hi = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };
function sl(t) {
  return (e) => new Vk(e, t);
}
const ks = {
  highest: sl(Hi.highest),
  high: sl(Hi.high),
  default: sl(Hi.default),
  low: sl(Hi.low),
  lowest: sl(Hi.lowest),
};
class Vk {
  constructor(e, n) {
    (this.inner = e), (this.prec = n);
  }
}
class Ah {
  of(e) {
    return new Bm(this, e);
  }
  reconfigure(e) {
    return Ah.reconfigure.of({ compartment: this, extension: e });
  }
  get(e) {
    return e.config.compartments.get(this);
  }
}
class Bm {
  constructor(e, n) {
    (this.compartment = e), (this.inner = n);
  }
}
class vf {
  constructor(e, n, r, i, s, o) {
    for (
      this.base = e,
        this.compartments = n,
        this.dynamicSlots = r,
        this.address = i,
        this.staticValues = s,
        this.facets = o,
        this.statusTemplate = [];
      this.statusTemplate.length < r.length;

    )
      this.statusTemplate.push(0);
  }
  staticFacet(e) {
    let n = this.address[e.id];
    return n == null ? e.default : this.staticValues[n >> 1];
  }
  static resolve(e, n, r) {
    let i = [],
      s = Object.create(null),
      o = new Map();
    for (let h of yP(e, n, o))
      h instanceof nt
        ? i.push(h)
        : (s[h.facet.id] || (s[h.facet.id] = [])).push(h);
    let l = Object.create(null),
      a = [],
      u = [];
    for (let h of i) (l[h.id] = u.length << 1), u.push((d) => h.slot(d));
    let c = r == null ? void 0 : r.config.facets;
    for (let h in s) {
      let d = s[h],
        p = d[0].facet,
        m = (c && c[h]) || [];
      if (d.every((w) => w.type == 0))
        if (((l[p.id] = (a.length << 1) | 1), Y0(m, d))) a.push(r.facet(p));
        else {
          let w = p.combine(d.map((g) => g.value));
          a.push(r && p.compare(w, r.facet(p)) ? r.facet(p) : w);
        }
      else {
        for (let w of d)
          w.type == 0
            ? ((l[w.id] = (a.length << 1) | 1), a.push(w.value))
            : ((l[w.id] = u.length << 1), u.push((g) => w.dynamicSlot(g)));
        (l[p.id] = u.length << 1), u.push((w) => gP(w, p, d));
      }
    }
    let f = u.map((h) => h(l));
    return new vf(e, o, f, l, a, s);
  }
}
function yP(t, e, n) {
  let r = [[], [], [], [], []],
    i = new Map();
  function s(o, l) {
    let a = i.get(o);
    if (a != null) {
      if (a <= l) return;
      let u = r[a].indexOf(o);
      u > -1 && r[a].splice(u, 1), o instanceof Bm && n.delete(o.compartment);
    }
    if ((i.set(o, l), Array.isArray(o))) for (let u of o) s(u, l);
    else if (o instanceof Bm) {
      if (n.has(o.compartment))
        throw new RangeError("Duplicate use of compartment in extensions");
      let u = e.get(o.compartment) || o.inner;
      n.set(o.compartment, u), s(u, l);
    } else if (o instanceof Vk) s(o.inner, o.prec);
    else if (o instanceof nt) r[l].push(o), o.provides && s(o.provides, l);
    else if (o instanceof Ec)
      r[l].push(o), o.facet.extensions && s(o.facet.extensions, Hi.default);
    else {
      let u = o.extension;
      if (!u)
        throw new Error(
          `Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`
        );
      s(u, l);
    }
  }
  return s(t, Hi.default), r.reduce((o, l) => o.concat(l));
}
function Dl(t, e) {
  if (e & 1) return 2;
  let n = e >> 1,
    r = t.status[n];
  if (r == 4) throw new Error("Cyclic dependency between fields and/or facets");
  if (r & 2) return r;
  t.status[n] = 4;
  let i = t.computeSlot(t, t.config.dynamicSlots[n]);
  return (t.status[n] = 2 | i);
}
function wf(t, e) {
  return e & 1 ? t.config.staticValues[e >> 1] : t.values[e >> 1];
}
const Wk = $.define(),
  Nm = $.define({ combine: (t) => t.some((e) => e), static: !0 }),
  Hk = $.define({ combine: (t) => (t.length ? t[0] : void 0), static: !0 }),
  Uk = $.define(),
  Kk = $.define(),
  qk = $.define(),
  Gk = $.define({ combine: (t) => (t.length ? t[0] : !1) });
class Kr {
  constructor(e, n) {
    (this.type = e), (this.value = n);
  }
  static define() {
    return new vP();
  }
}
class vP {
  of(e) {
    return new Kr(this, e);
  }
}
class wP {
  constructor(e) {
    this.map = e;
  }
  of(e) {
    return new Y(this, e);
  }
}
class Y {
  constructor(e, n) {
    (this.type = e), (this.value = n);
  }
  map(e) {
    let n = this.type.map(this.value, e);
    return n === void 0 ? void 0 : n == this.value ? this : new Y(this.type, n);
  }
  is(e) {
    return this.type == e;
  }
  static define(e = {}) {
    return new wP(e.map || ((n) => n));
  }
  static mapEffects(e, n) {
    if (!e.length) return e;
    let r = [];
    for (let i of e) {
      let s = i.map(n);
      s && r.push(s);
    }
    return r;
  }
}
Y.reconfigure = Y.define();
Y.appendConfig = Y.define();
class Je {
  constructor(e, n, r, i, s, o) {
    (this.startState = e),
      (this.changes = n),
      (this.selection = r),
      (this.effects = i),
      (this.annotations = s),
      (this.scrollIntoView = o),
      (this._doc = null),
      (this._state = null),
      r && jk(r, n.newLength),
      s.some((l) => l.type == Je.time) ||
        (this.annotations = s.concat(Je.time.of(Date.now())));
  }
  static create(e, n, r, i, s, o) {
    return new Je(e, n, r, i, s, o);
  }
  get newDoc() {
    return this._doc || (this._doc = this.changes.apply(this.startState.doc));
  }
  get newSelection() {
    return this.selection || this.startState.selection.map(this.changes);
  }
  get state() {
    return this._state || this.startState.applyTransaction(this), this._state;
  }
  annotation(e) {
    for (let n of this.annotations) if (n.type == e) return n.value;
  }
  get docChanged() {
    return !this.changes.empty;
  }
  get reconfigured() {
    return this.startState.config != this.state.config;
  }
  isUserEvent(e) {
    let n = this.annotation(Je.userEvent);
    return !!(
      n &&
      (n == e ||
        (n.length > e.length &&
          n.slice(0, e.length) == e &&
          n[e.length] == "."))
    );
  }
}
Je.time = Kr.define();
Je.userEvent = Kr.define();
Je.addToHistory = Kr.define();
Je.remote = Kr.define();
function bP(t, e) {
  let n = [];
  for (let r = 0, i = 0; ; ) {
    let s, o;
    if (r < t.length && (i == e.length || e[i] >= t[r]))
      (s = t[r++]), (o = t[r++]);
    else if (i < e.length) (s = e[i++]), (o = e[i++]);
    else return n;
    !n.length || n[n.length - 1] < s
      ? n.push(s, o)
      : n[n.length - 1] < o && (n[n.length - 1] = o);
  }
}
function Yk(t, e, n) {
  var r;
  let i, s, o;
  return (
    n
      ? ((i = e.changes),
        (s = Ye.empty(e.changes.length)),
        (o = t.changes.compose(e.changes)))
      : ((i = e.changes.map(t.changes)),
        (s = t.changes.mapDesc(e.changes, !0)),
        (o = t.changes.compose(i))),
    {
      changes: o,
      selection: e.selection
        ? e.selection.map(s)
        : (r = t.selection) === null || r === void 0
          ? void 0
          : r.map(i),
      effects: Y.mapEffects(t.effects, i).concat(Y.mapEffects(e.effects, s)),
      annotations: t.annotations.length
        ? t.annotations.concat(e.annotations)
        : e.annotations,
      scrollIntoView: t.scrollIntoView || e.scrollIntoView,
    }
  );
}
function Im(t, e, n) {
  let r = e.selection,
    i = lo(e.annotations);
  return (
    e.userEvent && (i = i.concat(Je.userEvent.of(e.userEvent))),
    {
      changes:
        e.changes instanceof Ye
          ? e.changes
          : Ye.of(e.changes || [], n, t.facet(Hk)),
      selection: r && (r instanceof A ? r : A.single(r.anchor, r.head)),
      effects: lo(e.effects),
      annotations: i,
      scrollIntoView: !!e.scrollIntoView,
    }
  );
}
function Xk(t, e, n) {
  let r = Im(t, e.length ? e[0] : {}, t.doc.length);
  e.length && e[0].filter === !1 && (n = !1);
  for (let s = 1; s < e.length; s++) {
    e[s].filter === !1 && (n = !1);
    let o = !!e[s].sequential;
    r = Yk(r, Im(t, e[s], o ? r.changes.newLength : t.doc.length), o);
  }
  let i = Je.create(
    t,
    r.changes,
    r.selection,
    r.effects,
    r.annotations,
    r.scrollIntoView
  );
  return SP(n ? xP(i) : i);
}
function xP(t) {
  let e = t.startState,
    n = !0;
  for (let i of e.facet(Uk)) {
    let s = i(t);
    if (s === !1) {
      n = !1;
      break;
    }
    Array.isArray(s) && (n = n === !0 ? s : bP(n, s));
  }
  if (n !== !0) {
    let i, s;
    if (n === !1) (s = t.changes.invertedDesc), (i = Ye.empty(e.doc.length));
    else {
      let o = t.changes.filter(n);
      (i = o.changes), (s = o.filtered.mapDesc(o.changes).invertedDesc);
    }
    t = Je.create(
      e,
      i,
      t.selection && t.selection.map(s),
      Y.mapEffects(t.effects, s),
      t.annotations,
      t.scrollIntoView
    );
  }
  let r = e.facet(Kk);
  for (let i = r.length - 1; i >= 0; i--) {
    let s = r[i](t);
    s instanceof Je
      ? (t = s)
      : Array.isArray(s) && s.length == 1 && s[0] instanceof Je
        ? (t = s[0])
        : (t = Xk(e, lo(s), !1));
  }
  return t;
}
function SP(t) {
  let e = t.startState,
    n = e.facet(qk),
    r = t;
  for (let i = n.length - 1; i >= 0; i--) {
    let s = n[i](t);
    s &&
      Object.keys(s).length &&
      (r = Yk(r, Im(e, s, t.changes.newLength), !0));
  }
  return r == t
    ? t
    : Je.create(
        e,
        t.changes,
        t.selection,
        r.effects,
        r.annotations,
        r.scrollIntoView
      );
}
const kP = [];
function lo(t) {
  return t == null ? kP : Array.isArray(t) ? t : [t];
}
var Oe = (function (t) {
  return (
    (t[(t.Word = 0)] = "Word"),
    (t[(t.Space = 1)] = "Space"),
    (t[(t.Other = 2)] = "Other"),
    t
  );
})(Oe || (Oe = {}));
const CP =
  /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
let $m;
try {
  $m = new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
} catch {}
function _P(t) {
  if ($m) return $m.test(t);
  for (let e = 0; e < t.length; e++) {
    let n = t[e];
    if (
      /\w/.test(n) ||
      (n > "" && (n.toUpperCase() != n.toLowerCase() || CP.test(n)))
    )
      return !0;
  }
  return !1;
}
function AP(t) {
  return (e) => {
    if (!/\S/.test(e)) return Oe.Space;
    if (_P(e)) return Oe.Word;
    for (let n = 0; n < t.length; n++) if (e.indexOf(t[n]) > -1) return Oe.Word;
    return Oe.Other;
  };
}
class Z {
  constructor(e, n, r, i, s, o) {
    (this.config = e),
      (this.doc = n),
      (this.selection = r),
      (this.values = i),
      (this.status = e.statusTemplate.slice()),
      (this.computeSlot = s),
      o && (o._state = this);
    for (let l = 0; l < this.config.dynamicSlots.length; l++) Dl(this, l << 1);
    this.computeSlot = null;
  }
  field(e, n = !0) {
    let r = this.config.address[e.id];
    if (r == null) {
      if (n) throw new RangeError("Field is not present in this state");
      return;
    }
    return Dl(this, r), wf(this, r);
  }
  update(...e) {
    return Xk(this, e, !0);
  }
  applyTransaction(e) {
    let n = this.config,
      { base: r, compartments: i } = n;
    for (let l of e.effects)
      l.is(Ah.reconfigure)
        ? (n &&
            ((i = new Map()),
            n.compartments.forEach((a, u) => i.set(u, a)),
            (n = null)),
          i.set(l.value.compartment, l.value.extension))
        : l.is(Y.reconfigure)
          ? ((n = null), (r = l.value))
          : l.is(Y.appendConfig) && ((n = null), (r = lo(r).concat(l.value)));
    let s;
    n
      ? (s = e.startState.values.slice())
      : ((n = vf.resolve(r, i, this)),
        (s = new Z(
          n,
          this.doc,
          this.selection,
          n.dynamicSlots.map(() => null),
          (a, u) => u.reconfigure(a, this),
          null
        ).values));
    let o = e.startState.facet(Nm) ? e.newSelection : e.newSelection.asSingle();
    new Z(n, e.newDoc, o, s, (l, a) => a.update(l, e), e);
  }
  replaceSelection(e) {
    return (
      typeof e == "string" && (e = this.toText(e)),
      this.changeByRange((n) => ({
        changes: { from: n.from, to: n.to, insert: e },
        range: A.cursor(n.from + e.length),
      }))
    );
  }
  changeByRange(e) {
    let n = this.selection,
      r = e(n.ranges[0]),
      i = this.changes(r.changes),
      s = [r.range],
      o = lo(r.effects);
    for (let l = 1; l < n.ranges.length; l++) {
      let a = e(n.ranges[l]),
        u = this.changes(a.changes),
        c = u.map(i);
      for (let h = 0; h < l; h++) s[h] = s[h].map(c);
      let f = i.mapDesc(u, !0);
      s.push(a.range.map(f)),
        (i = i.compose(c)),
        (o = Y.mapEffects(o, c).concat(Y.mapEffects(lo(a.effects), f)));
    }
    return { changes: i, selection: A.create(s, n.mainIndex), effects: o };
  }
  changes(e = []) {
    return e instanceof Ye
      ? e
      : Ye.of(e, this.doc.length, this.facet(Z.lineSeparator));
  }
  toText(e) {
    return ce.of(e.split(this.facet(Z.lineSeparator) || Pm));
  }
  sliceDoc(e = 0, n = this.doc.length) {
    return this.doc.sliceString(e, n, this.lineBreak);
  }
  facet(e) {
    let n = this.config.address[e.id];
    return n == null ? e.default : (Dl(this, n), wf(this, n));
  }
  toJSON(e) {
    let n = { doc: this.sliceDoc(), selection: this.selection.toJSON() };
    if (e)
      for (let r in e) {
        let i = e[r];
        i instanceof nt &&
          this.config.address[i.id] != null &&
          (n[r] = i.spec.toJSON(this.field(e[r]), this));
      }
    return n;
  }
  static fromJSON(e, n = {}, r) {
    if (!e || typeof e.doc != "string")
      throw new RangeError("Invalid JSON representation for EditorState");
    let i = [];
    if (r) {
      for (let s in r)
        if (Object.prototype.hasOwnProperty.call(e, s)) {
          let o = r[s],
            l = e[s];
          i.push(o.init((a) => o.spec.fromJSON(l, a)));
        }
    }
    return Z.create({
      doc: e.doc,
      selection: A.fromJSON(e.selection),
      extensions: n.extensions ? i.concat([n.extensions]) : i,
    });
  }
  static create(e = {}) {
    let n = vf.resolve(e.extensions || [], new Map()),
      r =
        e.doc instanceof ce
          ? e.doc
          : ce.of((e.doc || "").split(n.staticFacet(Z.lineSeparator) || Pm)),
      i = e.selection
        ? e.selection instanceof A
          ? e.selection
          : A.single(e.selection.anchor, e.selection.head)
        : A.single(0);
    return (
      jk(i, r.length),
      n.staticFacet(Nm) || (i = i.asSingle()),
      new Z(
        n,
        r,
        i,
        n.dynamicSlots.map(() => null),
        (s, o) => o.create(s),
        null
      )
    );
  }
  get tabSize() {
    return this.facet(Z.tabSize);
  }
  get lineBreak() {
    return (
      this.facet(Z.lineSeparator) ||
      `
`
    );
  }
  get readOnly() {
    return this.facet(Gk);
  }
  phrase(e, ...n) {
    for (let r of this.facet(Z.phrases))
      if (Object.prototype.hasOwnProperty.call(r, e)) {
        e = r[e];
        break;
      }
    return (
      n.length &&
        (e = e.replace(/\$(\$|\d*)/g, (r, i) => {
          if (i == "$") return "$";
          let s = +(i || 1);
          return !s || s > n.length ? r : n[s - 1];
        })),
      e
    );
  }
  languageDataAt(e, n, r = -1) {
    let i = [];
    for (let s of this.facet(Wk))
      for (let o of s(this, n, r))
        Object.prototype.hasOwnProperty.call(o, e) && i.push(o[e]);
    return i;
  }
  charCategorizer(e) {
    return AP(this.languageDataAt("wordChars", e).join(""));
  }
  wordAt(e) {
    let { text: n, from: r, length: i } = this.doc.lineAt(e),
      s = this.charCategorizer(e),
      o = e - r,
      l = e - r;
    for (; o > 0; ) {
      let a = ft(n, o, !1);
      if (s(n.slice(a, o)) != Oe.Word) break;
      o = a;
    }
    for (; l < i; ) {
      let a = ft(n, l);
      if (s(n.slice(l, a)) != Oe.Word) break;
      l = a;
    }
    return o == l ? null : A.range(o + r, l + r);
  }
}
Z.allowMultipleSelections = Nm;
Z.tabSize = $.define({ combine: (t) => (t.length ? t[0] : 4) });
Z.lineSeparator = Hk;
Z.readOnly = Gk;
Z.phrases = $.define({
  compare(t, e) {
    let n = Object.keys(t),
      r = Object.keys(e);
    return n.length == r.length && n.every((i) => t[i] == e[i]);
  },
});
Z.languageData = Wk;
Z.changeFilter = Uk;
Z.transactionFilter = Kk;
Z.transactionExtender = qk;
Ah.reconfigure = Y.define();
function Sr(t, e, n = {}) {
  let r = {};
  for (let i of t)
    for (let s of Object.keys(i)) {
      let o = i[s],
        l = r[s];
      if (l === void 0) r[s] = o;
      else if (!(l === o || o === void 0))
        if (Object.hasOwnProperty.call(n, s)) r[s] = n[s](l, o);
        else throw new Error("Config merge conflict for field " + s);
    }
  for (let i in e) r[i] === void 0 && (r[i] = e[i]);
  return r;
}
class cs {
  eq(e) {
    return this == e;
  }
  range(e, n = e) {
    return ca.create(e, n, this);
  }
}
cs.prototype.startSide = cs.prototype.endSide = 0;
cs.prototype.point = !1;
cs.prototype.mapMode = Ot.TrackDel;
class ca {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.value = r);
  }
  static create(e, n, r) {
    return new ca(e, n, r);
  }
}
function Fm(t, e) {
  return t.from - e.from || t.value.startSide - e.value.startSide;
}
class X0 {
  constructor(e, n, r, i) {
    (this.from = e), (this.to = n), (this.value = r), (this.maxPoint = i);
  }
  get length() {
    return this.to[this.to.length - 1];
  }
  findIndex(e, n, r, i = 0) {
    let s = r ? this.to : this.from;
    for (let o = i, l = s.length; ; ) {
      if (o == l) return o;
      let a = (o + l) >> 1,
        u =
          s[a] - e || (r ? this.value[a].endSide : this.value[a].startSide) - n;
      if (a == o) return u >= 0 ? o : l;
      u >= 0 ? (l = a) : (o = a + 1);
    }
  }
  between(e, n, r, i) {
    for (
      let s = this.findIndex(n, -1e9, !0), o = this.findIndex(r, 1e9, !1, s);
      s < o;
      s++
    )
      if (i(this.from[s] + e, this.to[s] + e, this.value[s]) === !1) return !1;
  }
  map(e, n) {
    let r = [],
      i = [],
      s = [],
      o = -1,
      l = -1;
    for (let a = 0; a < this.value.length; a++) {
      let u = this.value[a],
        c = this.from[a] + e,
        f = this.to[a] + e,
        h,
        d;
      if (c == f) {
        let p = n.mapPos(c, u.startSide, u.mapMode);
        if (
          p == null ||
          ((h = d = p),
          u.startSide != u.endSide && ((d = n.mapPos(c, u.endSide)), d < h))
        )
          continue;
      } else if (
        ((h = n.mapPos(c, u.startSide)),
        (d = n.mapPos(f, u.endSide)),
        h > d || (h == d && u.startSide > 0 && u.endSide <= 0))
      )
        continue;
      (d - h || u.endSide - u.startSide) < 0 ||
        (o < 0 && (o = h),
        u.point && (l = Math.max(l, d - h)),
        r.push(u),
        i.push(h - o),
        s.push(d - o));
    }
    return { mapped: r.length ? new X0(i, s, r, l) : null, pos: o };
  }
}
class re {
  constructor(e, n, r, i) {
    (this.chunkPos = e),
      (this.chunk = n),
      (this.nextLayer = r),
      (this.maxPoint = i);
  }
  static create(e, n, r, i) {
    return new re(e, n, r, i);
  }
  get length() {
    let e = this.chunk.length - 1;
    return e < 0 ? 0 : Math.max(this.chunkEnd(e), this.nextLayer.length);
  }
  get size() {
    if (this.isEmpty) return 0;
    let e = this.nextLayer.size;
    for (let n of this.chunk) e += n.value.length;
    return e;
  }
  chunkEnd(e) {
    return this.chunkPos[e] + this.chunk[e].length;
  }
  update(e) {
    let {
        add: n = [],
        sort: r = !1,
        filterFrom: i = 0,
        filterTo: s = this.length,
      } = e,
      o = e.filter;
    if (n.length == 0 && !o) return this;
    if ((r && (n = n.slice().sort(Fm)), this.isEmpty))
      return n.length ? re.of(n) : this;
    let l = new Qk(this, null, -1).goto(0),
      a = 0,
      u = [],
      c = new Fr();
    for (; l.value || a < n.length; )
      if (
        a < n.length &&
        (l.from - n[a].from || l.startSide - n[a].value.startSide) >= 0
      ) {
        let f = n[a++];
        c.addInner(f.from, f.to, f.value) || u.push(f);
      } else
        l.rangeIndex == 1 &&
        l.chunkIndex < this.chunk.length &&
        (a == n.length || this.chunkEnd(l.chunkIndex) < n[a].from) &&
        (!o ||
          i > this.chunkEnd(l.chunkIndex) ||
          s < this.chunkPos[l.chunkIndex]) &&
        c.addChunk(this.chunkPos[l.chunkIndex], this.chunk[l.chunkIndex])
          ? l.nextChunk()
          : ((!o || i > l.to || s < l.from || o(l.from, l.to, l.value)) &&
              (c.addInner(l.from, l.to, l.value) ||
                u.push(ca.create(l.from, l.to, l.value))),
            l.next());
    return c.finishInner(
      this.nextLayer.isEmpty && !u.length
        ? re.empty
        : this.nextLayer.update({
            add: u,
            filter: o,
            filterFrom: i,
            filterTo: s,
          })
    );
  }
  map(e) {
    if (e.empty || this.isEmpty) return this;
    let n = [],
      r = [],
      i = -1;
    for (let o = 0; o < this.chunk.length; o++) {
      let l = this.chunkPos[o],
        a = this.chunk[o],
        u = e.touchesRange(l, l + a.length);
      if (u === !1)
        (i = Math.max(i, a.maxPoint)), n.push(a), r.push(e.mapPos(l));
      else if (u === !0) {
        let { mapped: c, pos: f } = a.map(l, e);
        c && ((i = Math.max(i, c.maxPoint)), n.push(c), r.push(f));
      }
    }
    let s = this.nextLayer.map(e);
    return n.length == 0 ? s : new re(r, n, s || re.empty, i);
  }
  between(e, n, r) {
    if (!this.isEmpty) {
      for (let i = 0; i < this.chunk.length; i++) {
        let s = this.chunkPos[i],
          o = this.chunk[i];
        if (n >= s && e <= s + o.length && o.between(s, e - s, n - s, r) === !1)
          return;
      }
      this.nextLayer.between(e, n, r);
    }
  }
  iter(e = 0) {
    return fa.from([this]).goto(e);
  }
  get isEmpty() {
    return this.nextLayer == this;
  }
  static iter(e, n = 0) {
    return fa.from(e).goto(n);
  }
  static compare(e, n, r, i, s = -1) {
    let o = e.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= s)),
      l = n.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= s)),
      a = $v(o, l, r),
      u = new ol(o, a, s),
      c = new ol(l, a, s);
    r.iterGaps((f, h, d) => Fv(u, f, c, h, d, i)),
      r.empty && r.length == 0 && Fv(u, 0, c, 0, 0, i);
  }
  static eq(e, n, r = 0, i) {
    i == null && (i = 999999999);
    let s = e.filter((c) => !c.isEmpty && n.indexOf(c) < 0),
      o = n.filter((c) => !c.isEmpty && e.indexOf(c) < 0);
    if (s.length != o.length) return !1;
    if (!s.length) return !0;
    let l = $v(s, o),
      a = new ol(s, l, 0).goto(r),
      u = new ol(o, l, 0).goto(r);
    for (;;) {
      if (
        a.to != u.to ||
        !zm(a.active, u.active) ||
        (a.point && (!u.point || !a.point.eq(u.point)))
      )
        return !1;
      if (a.to > i) return !0;
      a.next(), u.next();
    }
  }
  static spans(e, n, r, i, s = -1) {
    let o = new ol(e, null, s).goto(n),
      l = n,
      a = o.openStart;
    for (;;) {
      let u = Math.min(o.to, r);
      if (o.point) {
        let c = o.activeForPoint(o.to),
          f =
            o.pointFrom < n
              ? c.length + 1
              : o.point.startSide < 0
                ? c.length
                : Math.min(c.length, a);
        i.point(l, u, o.point, c, f, o.pointRank),
          (a = Math.min(o.openEnd(u), c.length));
      } else u > l && (i.span(l, u, o.active, a), (a = o.openEnd(u)));
      if (o.to > r) return a + (o.point && o.to > r ? 1 : 0);
      (l = o.to), o.next();
    }
  }
  static of(e, n = !1) {
    let r = new Fr();
    for (let i of e instanceof ca ? [e] : n ? OP(e) : e)
      r.add(i.from, i.to, i.value);
    return r.finish();
  }
  static join(e) {
    if (!e.length) return re.empty;
    let n = e[e.length - 1];
    for (let r = e.length - 2; r >= 0; r--)
      for (let i = e[r]; i != re.empty; i = i.nextLayer)
        n = new re(i.chunkPos, i.chunk, n, Math.max(i.maxPoint, n.maxPoint));
    return n;
  }
}
re.empty = new re([], [], null, -1);
function OP(t) {
  if (t.length > 1)
    for (let e = t[0], n = 1; n < t.length; n++) {
      let r = t[n];
      if (Fm(e, r) > 0) return t.slice().sort(Fm);
      e = r;
    }
  return t;
}
re.empty.nextLayer = re.empty;
class Fr {
  finishChunk(e) {
    this.chunks.push(new X0(this.from, this.to, this.value, this.maxPoint)),
      this.chunkPos.push(this.chunkStart),
      (this.chunkStart = -1),
      (this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint)),
      (this.maxPoint = -1),
      e && ((this.from = []), (this.to = []), (this.value = []));
  }
  constructor() {
    (this.chunks = []),
      (this.chunkPos = []),
      (this.chunkStart = -1),
      (this.last = null),
      (this.lastFrom = -1e9),
      (this.lastTo = -1e9),
      (this.from = []),
      (this.to = []),
      (this.value = []),
      (this.maxPoint = -1),
      (this.setMaxPoint = -1),
      (this.nextLayer = null);
  }
  add(e, n, r) {
    this.addInner(e, n, r) ||
      (this.nextLayer || (this.nextLayer = new Fr())).add(e, n, r);
  }
  addInner(e, n, r) {
    let i = e - this.lastTo || r.startSide - this.last.endSide;
    if (i <= 0 && (e - this.lastFrom || r.startSide - this.last.startSide) < 0)
      throw new Error(
        "Ranges must be added sorted by `from` position and `startSide`"
      );
    return i < 0
      ? !1
      : (this.from.length == 250 && this.finishChunk(!0),
        this.chunkStart < 0 && (this.chunkStart = e),
        this.from.push(e - this.chunkStart),
        this.to.push(n - this.chunkStart),
        (this.last = r),
        (this.lastFrom = e),
        (this.lastTo = n),
        this.value.push(r),
        r.point && (this.maxPoint = Math.max(this.maxPoint, n - e)),
        !0);
  }
  addChunk(e, n) {
    if ((e - this.lastTo || n.value[0].startSide - this.last.endSide) < 0)
      return !1;
    this.from.length && this.finishChunk(!0),
      (this.setMaxPoint = Math.max(this.setMaxPoint, n.maxPoint)),
      this.chunks.push(n),
      this.chunkPos.push(e);
    let r = n.value.length - 1;
    return (
      (this.last = n.value[r]),
      (this.lastFrom = n.from[r] + e),
      (this.lastTo = n.to[r] + e),
      !0
    );
  }
  finish() {
    return this.finishInner(re.empty);
  }
  finishInner(e) {
    if ((this.from.length && this.finishChunk(!1), this.chunks.length == 0))
      return e;
    let n = re.create(
      this.chunkPos,
      this.chunks,
      this.nextLayer ? this.nextLayer.finishInner(e) : e,
      this.setMaxPoint
    );
    return (this.from = null), n;
  }
}
function $v(t, e, n) {
  let r = new Map();
  for (let s of t)
    for (let o = 0; o < s.chunk.length; o++)
      s.chunk[o].maxPoint <= 0 && r.set(s.chunk[o], s.chunkPos[o]);
  let i = new Set();
  for (let s of e)
    for (let o = 0; o < s.chunk.length; o++) {
      let l = r.get(s.chunk[o]);
      l != null &&
        (n ? n.mapPos(l) : l) == s.chunkPos[o] &&
        !(n != null && n.touchesRange(l, l + s.chunk[o].length)) &&
        i.add(s.chunk[o]);
    }
  return i;
}
class Qk {
  constructor(e, n, r, i = 0) {
    (this.layer = e), (this.skip = n), (this.minPoint = r), (this.rank = i);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  get endSide() {
    return this.value ? this.value.endSide : 0;
  }
  goto(e, n = -1e9) {
    return (
      (this.chunkIndex = this.rangeIndex = 0), this.gotoInner(e, n, !1), this
    );
  }
  gotoInner(e, n, r) {
    for (; this.chunkIndex < this.layer.chunk.length; ) {
      let i = this.layer.chunk[this.chunkIndex];
      if (
        !(
          (this.skip && this.skip.has(i)) ||
          this.layer.chunkEnd(this.chunkIndex) < e ||
          i.maxPoint < this.minPoint
        )
      )
        break;
      this.chunkIndex++, (r = !1);
    }
    if (this.chunkIndex < this.layer.chunk.length) {
      let i = this.layer.chunk[this.chunkIndex].findIndex(
        e - this.layer.chunkPos[this.chunkIndex],
        n,
        !0
      );
      (!r || this.rangeIndex < i) && this.setRangeIndex(i);
    }
    this.next();
  }
  forward(e, n) {
    (this.to - e || this.endSide - n) < 0 && this.gotoInner(e, n, !0);
  }
  next() {
    for (;;)
      if (this.chunkIndex == this.layer.chunk.length) {
        (this.from = this.to = 1e9), (this.value = null);
        break;
      } else {
        let e = this.layer.chunkPos[this.chunkIndex],
          n = this.layer.chunk[this.chunkIndex],
          r = e + n.from[this.rangeIndex];
        if (
          ((this.from = r),
          (this.to = e + n.to[this.rangeIndex]),
          (this.value = n.value[this.rangeIndex]),
          this.setRangeIndex(this.rangeIndex + 1),
          this.minPoint < 0 ||
            (this.value.point && this.to - this.from >= this.minPoint))
        )
          break;
      }
  }
  setRangeIndex(e) {
    if (e == this.layer.chunk[this.chunkIndex].value.length) {
      if ((this.chunkIndex++, this.skip))
        for (
          ;
          this.chunkIndex < this.layer.chunk.length &&
          this.skip.has(this.layer.chunk[this.chunkIndex]);

        )
          this.chunkIndex++;
      this.rangeIndex = 0;
    } else this.rangeIndex = e;
  }
  nextChunk() {
    this.chunkIndex++, (this.rangeIndex = 0), this.next();
  }
  compare(e) {
    return (
      this.from - e.from ||
      this.startSide - e.startSide ||
      this.rank - e.rank ||
      this.to - e.to ||
      this.endSide - e.endSide
    );
  }
}
class fa {
  constructor(e) {
    this.heap = e;
  }
  static from(e, n = null, r = -1) {
    let i = [];
    for (let s = 0; s < e.length; s++)
      for (let o = e[s]; !o.isEmpty; o = o.nextLayer)
        o.maxPoint >= r && i.push(new Qk(o, n, r, s));
    return i.length == 1 ? i[0] : new fa(i);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  goto(e, n = -1e9) {
    for (let r of this.heap) r.goto(e, n);
    for (let r = this.heap.length >> 1; r >= 0; r--) Gd(this.heap, r);
    return this.next(), this;
  }
  forward(e, n) {
    for (let r of this.heap) r.forward(e, n);
    for (let r = this.heap.length >> 1; r >= 0; r--) Gd(this.heap, r);
    (this.to - e || this.value.endSide - n) < 0 && this.next();
  }
  next() {
    if (this.heap.length == 0)
      (this.from = this.to = 1e9), (this.value = null), (this.rank = -1);
    else {
      let e = this.heap[0];
      (this.from = e.from),
        (this.to = e.to),
        (this.value = e.value),
        (this.rank = e.rank),
        e.value && e.next(),
        Gd(this.heap, 0);
    }
  }
}
function Gd(t, e) {
  for (let n = t[e]; ; ) {
    let r = (e << 1) + 1;
    if (r >= t.length) break;
    let i = t[r];
    if (
      (r + 1 < t.length && i.compare(t[r + 1]) >= 0 && ((i = t[r + 1]), r++),
      n.compare(i) < 0)
    )
      break;
    (t[r] = n), (t[e] = i), (e = r);
  }
}
class ol {
  constructor(e, n, r) {
    (this.minPoint = r),
      (this.active = []),
      (this.activeTo = []),
      (this.activeRank = []),
      (this.minActive = -1),
      (this.point = null),
      (this.pointFrom = 0),
      (this.pointRank = 0),
      (this.to = -1e9),
      (this.endSide = 0),
      (this.openStart = -1),
      (this.cursor = fa.from(e, n, r));
  }
  goto(e, n = -1e9) {
    return (
      this.cursor.goto(e, n),
      (this.active.length = this.activeTo.length = this.activeRank.length = 0),
      (this.minActive = -1),
      (this.to = e),
      (this.endSide = n),
      (this.openStart = -1),
      this.next(),
      this
    );
  }
  forward(e, n) {
    for (
      ;
      this.minActive > -1 &&
      (this.activeTo[this.minActive] - e ||
        this.active[this.minActive].endSide - n) < 0;

    )
      this.removeActive(this.minActive);
    this.cursor.forward(e, n);
  }
  removeActive(e) {
    $u(this.active, e),
      $u(this.activeTo, e),
      $u(this.activeRank, e),
      (this.minActive = zv(this.active, this.activeTo));
  }
  addActive(e) {
    let n = 0,
      { value: r, to: i, rank: s } = this.cursor;
    for (
      ;
      n < this.activeRank.length &&
      (s - this.activeRank[n] || i - this.activeTo[n]) > 0;

    )
      n++;
    Fu(this.active, n, r),
      Fu(this.activeTo, n, i),
      Fu(this.activeRank, n, s),
      e && Fu(e, n, this.cursor.from),
      (this.minActive = zv(this.active, this.activeTo));
  }
  next() {
    let e = this.to,
      n = this.point;
    this.point = null;
    let r = this.openStart < 0 ? [] : null;
    for (;;) {
      let i = this.minActive;
      if (
        i > -1 &&
        (this.activeTo[i] - this.cursor.from ||
          this.active[i].endSide - this.cursor.startSide) < 0
      ) {
        if (this.activeTo[i] > e) {
          (this.to = this.activeTo[i]), (this.endSide = this.active[i].endSide);
          break;
        }
        this.removeActive(i), r && $u(r, i);
      } else if (this.cursor.value)
        if (this.cursor.from > e) {
          (this.to = this.cursor.from), (this.endSide = this.cursor.startSide);
          break;
        } else {
          let s = this.cursor.value;
          if (!s.point) this.addActive(r), this.cursor.next();
          else if (
            n &&
            this.cursor.to == this.to &&
            this.cursor.from < this.cursor.to
          )
            this.cursor.next();
          else {
            (this.point = s),
              (this.pointFrom = this.cursor.from),
              (this.pointRank = this.cursor.rank),
              (this.to = this.cursor.to),
              (this.endSide = s.endSide),
              this.cursor.next(),
              this.forward(this.to, this.endSide);
            break;
          }
        }
      else {
        this.to = this.endSide = 1e9;
        break;
      }
    }
    if (r) {
      this.openStart = 0;
      for (let i = r.length - 1; i >= 0 && r[i] < e; i--) this.openStart++;
    }
  }
  activeForPoint(e) {
    if (!this.active.length) return this.active;
    let n = [];
    for (
      let r = this.active.length - 1;
      r >= 0 && !(this.activeRank[r] < this.pointRank);
      r--
    )
      (this.activeTo[r] > e ||
        (this.activeTo[r] == e &&
          this.active[r].endSide >= this.point.endSide)) &&
        n.push(this.active[r]);
    return n.reverse();
  }
  openEnd(e) {
    let n = 0;
    for (let r = this.activeTo.length - 1; r >= 0 && this.activeTo[r] > e; r--)
      n++;
    return n;
  }
}
function Fv(t, e, n, r, i, s) {
  t.goto(e), n.goto(r);
  let o = r + i,
    l = r,
    a = r - e;
  for (;;) {
    let u = t.to + a - n.to || t.endSide - n.endSide,
      c = u < 0 ? t.to + a : n.to,
      f = Math.min(c, o);
    if (
      (t.point || n.point
        ? (t.point &&
            n.point &&
            (t.point == n.point || t.point.eq(n.point)) &&
            zm(t.activeForPoint(t.to), n.activeForPoint(n.to))) ||
          s.comparePoint(l, f, t.point, n.point)
        : f > l &&
          !zm(t.active, n.active) &&
          s.compareRange(l, f, t.active, n.active),
      c > o)
    )
      break;
    (l = c), u <= 0 && t.next(), u >= 0 && n.next();
  }
}
function zm(t, e) {
  if (t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++)
    if (t[n] != e[n] && !t[n].eq(e[n])) return !1;
  return !0;
}
function $u(t, e) {
  for (let n = e, r = t.length - 1; n < r; n++) t[n] = t[n + 1];
  t.pop();
}
function Fu(t, e, n) {
  for (let r = t.length - 1; r >= e; r--) t[r + 1] = t[r];
  t[e] = n;
}
function zv(t, e) {
  let n = -1,
    r = 1e9;
  for (let i = 0; i < e.length; i++)
    (e[i] - r || t[i].endSide - t[n].endSide) < 0 && ((n = i), (r = e[i]));
  return n;
}
function Wo(t, e, n = t.length) {
  let r = 0;
  for (let i = 0; i < n; )
    t.charCodeAt(i) == 9 ? ((r += e - (r % e)), i++) : (r++, (i = ft(t, i)));
  return r;
}
function jm(t, e, n, r) {
  for (let i = 0, s = 0; ; ) {
    if (s >= e) return i;
    if (i == t.length) break;
    (s += t.charCodeAt(i) == 9 ? n - (s % n) : 1), (i = ft(t, i));
  }
  return r === !0 ? -1 : t.length;
}
const Vm = "",
  jv = typeof Symbol > "u" ? "__" + Vm : Symbol.for(Vm),
  Wm =
    typeof Symbol > "u"
      ? "__styleSet" + Math.floor(Math.random() * 1e8)
      : Symbol("styleSet"),
  Vv = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : {};
class Ei {
  constructor(e, n) {
    this.rules = [];
    let { finish: r } = n || {};
    function i(o) {
      return /^@/.test(o) ? [o] : o.split(/,\s*/);
    }
    function s(o, l, a, u) {
      let c = [],
        f = /^@(\w+)\b/.exec(o[0]),
        h = f && f[1] == "keyframes";
      if (f && l == null) return a.push(o[0] + ";");
      for (let d in l) {
        let p = l[d];
        if (/&/.test(d))
          s(
            d
              .split(/,\s*/)
              .map((m) => o.map((w) => m.replace(/&/, w)))
              .reduce((m, w) => m.concat(w)),
            p,
            a
          );
        else if (p && typeof p == "object") {
          if (!f)
            throw new RangeError(
              "The value of a property (" + d + ") should be a primitive value."
            );
          s(i(d), p, c, h);
        } else
          p != null &&
            c.push(
              d
                .replace(/_.*/, "")
                .replace(/[A-Z]/g, (m) => "-" + m.toLowerCase()) +
                ": " +
                p +
                ";"
            );
      }
      (c.length || h) &&
        a.push(
          (r && !f && !u ? o.map(r) : o).join(", ") + " {" + c.join(" ") + "}"
        );
    }
    for (let o in e) s(i(o), e[o], this.rules);
  }
  getRules() {
    return this.rules.join(`
`);
  }
  static newName() {
    let e = Vv[jv] || 1;
    return (Vv[jv] = e + 1), Vm + e.toString(36);
  }
  static mount(e, n, r) {
    let i = e[Wm],
      s = r && r.nonce;
    i ? s && i.setNonce(s) : (i = new EP(e, s)),
      i.mount(Array.isArray(n) ? n : [n], e);
  }
}
let Wv = new Map();
class EP {
  constructor(e, n) {
    let r = e.ownerDocument || e,
      i = r.defaultView;
    if (!e.head && e.adoptedStyleSheets && i.CSSStyleSheet) {
      let s = Wv.get(r);
      if (s) return (e[Wm] = s);
      (this.sheet = new i.CSSStyleSheet()), Wv.set(r, this);
    } else
      (this.styleTag = r.createElement("style")),
        n && this.styleTag.setAttribute("nonce", n);
    (this.modules = []), (e[Wm] = this);
  }
  mount(e, n) {
    let r = this.sheet,
      i = 0,
      s = 0;
    for (let o = 0; o < e.length; o++) {
      let l = e[o],
        a = this.modules.indexOf(l);
      if (
        (a < s && a > -1 && (this.modules.splice(a, 1), s--, (a = -1)), a == -1)
      ) {
        if ((this.modules.splice(s++, 0, l), r))
          for (let u = 0; u < l.rules.length; u++)
            r.insertRule(l.rules[u], i++);
      } else {
        for (; s < a; ) i += this.modules[s++].rules.length;
        (i += l.rules.length), s++;
      }
    }
    if (r)
      n.adoptedStyleSheets.indexOf(this.sheet) < 0 &&
        (n.adoptedStyleSheets = [this.sheet, ...n.adoptedStyleSheets]);
    else {
      let o = "";
      for (let a = 0; a < this.modules.length; a++)
        o +=
          this.modules[a].getRules() +
          `
`;
      this.styleTag.textContent = o;
      let l = n.head || n;
      this.styleTag.parentNode != l &&
        l.insertBefore(this.styleTag, l.firstChild);
    }
  }
  setNonce(e) {
    this.styleTag &&
      this.styleTag.getAttribute("nonce") != e &&
      this.styleTag.setAttribute("nonce", e);
  }
}
var Mi = {
    8: "Backspace",
    9: "Tab",
    10: "Enter",
    12: "NumLock",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    44: "PrintScreen",
    45: "Insert",
    46: "Delete",
    59: ";",
    61: "=",
    91: "Meta",
    92: "Meta",
    106: "*",
    107: "+",
    108: ",",
    109: "-",
    110: ".",
    111: "/",
    144: "NumLock",
    145: "ScrollLock",
    160: "Shift",
    161: "Shift",
    162: "Control",
    163: "Control",
    164: "Alt",
    165: "Alt",
    173: "-",
    186: ";",
    187: "=",
    188: ",",
    189: "-",
    190: ".",
    191: "/",
    192: "`",
    219: "[",
    220: "\\",
    221: "]",
    222: "'",
  },
  ha = {
    48: ")",
    49: "!",
    50: "@",
    51: "#",
    52: "$",
    53: "%",
    54: "^",
    55: "&",
    56: "*",
    57: "(",
    59: ":",
    61: "+",
    173: "_",
    186: ":",
    187: "+",
    188: "<",
    189: "_",
    190: ">",
    191: "?",
    192: "~",
    219: "{",
    220: "|",
    221: "}",
    222: '"',
  },
  MP = typeof navigator < "u" && /Mac/.test(navigator.platform),
  TP =
    typeof navigator < "u" &&
    /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
for (var ut = 0; ut < 10; ut++) Mi[48 + ut] = Mi[96 + ut] = String(ut);
for (var ut = 1; ut <= 24; ut++) Mi[ut + 111] = "F" + ut;
for (var ut = 65; ut <= 90; ut++)
  (Mi[ut] = String.fromCharCode(ut + 32)), (ha[ut] = String.fromCharCode(ut));
for (var Yd in Mi) ha.hasOwnProperty(Yd) || (ha[Yd] = Mi[Yd]);
function PP(t) {
  var e =
      (MP && t.metaKey && t.shiftKey && !t.ctrlKey && !t.altKey) ||
      (TP && t.shiftKey && t.key && t.key.length == 1) ||
      t.key == "Unidentified",
    n =
      (!e && t.key) ||
      (t.shiftKey ? ha : Mi)[t.keyCode] ||
      t.key ||
      "Unidentified";
  return (
    n == "Esc" && (n = "Escape"),
    n == "Del" && (n = "Delete"),
    n == "Left" && (n = "ArrowLeft"),
    n == "Up" && (n = "ArrowUp"),
    n == "Right" && (n = "ArrowRight"),
    n == "Down" && (n = "ArrowDown"),
    n
  );
}
function bf(t) {
  let e;
  return (
    t.nodeType == 11 ? (e = t.getSelection ? t : t.ownerDocument) : (e = t),
    e.getSelection()
  );
}
function Hm(t, e) {
  return e ? t == e || t.contains(e.nodeType != 1 ? e.parentNode : e) : !1;
}
function RP(t) {
  let e = t.activeElement;
  for (; e && e.shadowRoot; ) e = e.shadowRoot.activeElement;
  return e;
}
function Mc(t, e) {
  if (!e.anchorNode) return !1;
  try {
    return Hm(t, e.anchorNode);
  } catch {
    return !1;
  }
}
function da(t) {
  return t.nodeType == 3
    ? hs(t, 0, t.nodeValue.length).getClientRects()
    : t.nodeType == 1
      ? t.getClientRects()
      : [];
}
function Ll(t, e, n, r) {
  return n ? Hv(t, e, n, r, -1) || Hv(t, e, n, r, 1) : !1;
}
function fs(t) {
  for (var e = 0; ; e++) if (((t = t.previousSibling), !t)) return e;
}
function xf(t) {
  return (
    t.nodeType == 1 &&
    /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)
  );
}
function Hv(t, e, n, r, i) {
  for (;;) {
    if (t == n && e == r) return !0;
    if (e == (i < 0 ? 0 : zr(t))) {
      if (t.nodeName == "DIV") return !1;
      let s = t.parentNode;
      if (!s || s.nodeType != 1) return !1;
      (e = fs(t) + (i < 0 ? 0 : 1)), (t = s);
    } else if (t.nodeType == 1) {
      if (
        ((t = t.childNodes[e + (i < 0 ? -1 : 0)]),
        t.nodeType == 1 && t.contentEditable == "false")
      )
        return !1;
      e = i < 0 ? zr(t) : 0;
    } else return !1;
  }
}
function zr(t) {
  return t.nodeType == 3 ? t.nodeValue.length : t.childNodes.length;
}
function Q0(t, e) {
  let n = e ? t.left : t.right;
  return { left: n, right: n, top: t.top, bottom: t.bottom };
}
function DP(t) {
  let e = t.visualViewport;
  return e
    ? { left: 0, right: e.width, top: 0, bottom: e.height }
    : { left: 0, right: t.innerWidth, top: 0, bottom: t.innerHeight };
}
function Jk(t, e) {
  let n = e.width / t.offsetWidth,
    r = e.height / t.offsetHeight;
  return (
    ((n > 0.995 && n < 1.005) ||
      !isFinite(n) ||
      Math.abs(e.width - t.offsetWidth) < 1) &&
      (n = 1),
    ((r > 0.995 && r < 1.005) ||
      !isFinite(r) ||
      Math.abs(e.height - t.offsetHeight) < 1) &&
      (r = 1),
    { scaleX: n, scaleY: r }
  );
}
function LP(t, e, n, r, i, s, o, l) {
  let a = t.ownerDocument,
    u = a.defaultView || window;
  for (let c = t, f = !1; c && !f; )
    if (c.nodeType == 1) {
      let h,
        d = c == a.body,
        p = 1,
        m = 1;
      if (d) h = DP(u);
      else {
        if (
          (/^(fixed|sticky)$/.test(getComputedStyle(c).position) && (f = !0),
          c.scrollHeight <= c.clientHeight && c.scrollWidth <= c.clientWidth)
        ) {
          c = c.assignedSlot || c.parentNode;
          continue;
        }
        let y = c.getBoundingClientRect();
        ({ scaleX: p, scaleY: m } = Jk(c, y)),
          (h = {
            left: y.left,
            right: y.left + c.clientWidth * p,
            top: y.top,
            bottom: y.top + c.clientHeight * m,
          });
      }
      let w = 0,
        g = 0;
      if (i == "nearest")
        e.top < h.top
          ? ((g = -(h.top - e.top + o)),
            n > 0 &&
              e.bottom > h.bottom + g &&
              (g = e.bottom - h.bottom + g + o))
          : e.bottom > h.bottom &&
            ((g = e.bottom - h.bottom + o),
            n < 0 && e.top - g < h.top && (g = -(h.top + g - e.top + o)));
      else {
        let y = e.bottom - e.top,
          v = h.bottom - h.top;
        g =
          (i == "center" && y <= v
            ? e.top + y / 2 - v / 2
            : i == "start" || (i == "center" && n < 0)
              ? e.top - o
              : e.bottom - v + o) - h.top;
      }
      if (
        (r == "nearest"
          ? e.left < h.left
            ? ((w = -(h.left - e.left + s)),
              n > 0 && e.right > h.right + w && (w = e.right - h.right + w + s))
            : e.right > h.right &&
              ((w = e.right - h.right + s),
              n < 0 && e.left < h.left + w && (w = -(h.left + w - e.left + s)))
          : (w =
              (r == "center"
                ? e.left + (e.right - e.left) / 2 - (h.right - h.left) / 2
                : (r == "start") == l
                  ? e.left - s
                  : e.right - (h.right - h.left) + s) - h.left),
        w || g)
      )
        if (d) u.scrollBy(w, g);
        else {
          let y = 0,
            v = 0;
          if (g) {
            let b = c.scrollTop;
            (c.scrollTop += g / m), (v = (c.scrollTop - b) * m);
          }
          if (w) {
            let b = c.scrollLeft;
            (c.scrollLeft += w / p), (y = (c.scrollLeft - b) * p);
          }
          (e = {
            left: e.left - y,
            top: e.top - v,
            right: e.right - y,
            bottom: e.bottom - v,
          }),
            y && Math.abs(y - w) < 1 && (r = "nearest"),
            v && Math.abs(v - g) < 1 && (i = "nearest");
        }
      if (d) break;
      c = c.assignedSlot || c.parentNode;
    } else if (c.nodeType == 11) c = c.host;
    else break;
}
function BP(t) {
  let e = t.ownerDocument;
  for (let n = t.parentNode; n && n != e.body; )
    if (n.nodeType == 1) {
      if (n.scrollHeight > n.clientHeight || n.scrollWidth > n.clientWidth)
        return n;
      n = n.assignedSlot || n.parentNode;
    } else if (n.nodeType == 11) n = n.host;
    else break;
  return null;
}
class NP {
  constructor() {
    (this.anchorNode = null),
      (this.anchorOffset = 0),
      (this.focusNode = null),
      (this.focusOffset = 0);
  }
  eq(e) {
    return (
      this.anchorNode == e.anchorNode &&
      this.anchorOffset == e.anchorOffset &&
      this.focusNode == e.focusNode &&
      this.focusOffset == e.focusOffset
    );
  }
  setRange(e) {
    let { anchorNode: n, focusNode: r } = e;
    this.set(
      n,
      Math.min(e.anchorOffset, n ? zr(n) : 0),
      r,
      Math.min(e.focusOffset, r ? zr(r) : 0)
    );
  }
  set(e, n, r, i) {
    (this.anchorNode = e),
      (this.anchorOffset = n),
      (this.focusNode = r),
      (this.focusOffset = i);
  }
}
let Os = null;
function Zk(t) {
  if (t.setActive) return t.setActive();
  if (Os) return t.focus(Os);
  let e = [];
  for (
    let n = t;
    n && (e.push(n, n.scrollTop, n.scrollLeft), n != n.ownerDocument);
    n = n.parentNode
  );
  if (
    (t.focus(
      Os == null
        ? {
            get preventScroll() {
              return (Os = { preventScroll: !0 }), !0;
            },
          }
        : void 0
    ),
    !Os)
  ) {
    Os = !1;
    for (let n = 0; n < e.length; ) {
      let r = e[n++],
        i = e[n++],
        s = e[n++];
      r.scrollTop != i && (r.scrollTop = i),
        r.scrollLeft != s && (r.scrollLeft = s);
    }
  }
}
let Uv;
function hs(t, e, n = e) {
  let r = Uv || (Uv = document.createRange());
  return r.setEnd(t, n), r.setStart(t, e), r;
}
function ao(t, e, n, r) {
  let i = { key: e, code: e, keyCode: n, which: n, cancelable: !0 };
  r &&
    ({
      altKey: i.altKey,
      ctrlKey: i.ctrlKey,
      shiftKey: i.shiftKey,
      metaKey: i.metaKey,
    } = r);
  let s = new KeyboardEvent("keydown", i);
  (s.synthetic = !0), t.dispatchEvent(s);
  let o = new KeyboardEvent("keyup", i);
  return (
    (o.synthetic = !0),
    t.dispatchEvent(o),
    s.defaultPrevented || o.defaultPrevented
  );
}
function IP(t) {
  for (; t; ) {
    if (t && (t.nodeType == 9 || (t.nodeType == 11 && t.host))) return t;
    t = t.assignedSlot || t.parentNode;
  }
  return null;
}
function eC(t) {
  for (; t.attributes.length; ) t.removeAttributeNode(t.attributes[0]);
}
function $P(t, e) {
  let n = e.focusNode,
    r = e.focusOffset;
  if (!n || e.anchorNode != n || e.anchorOffset != r) return !1;
  for (r = Math.min(r, zr(n)); ; )
    if (r) {
      if (n.nodeType != 1) return !1;
      let i = n.childNodes[r - 1];
      i.contentEditable == "false" ? r-- : ((n = i), (r = zr(n)));
    } else {
      if (n == t) return !0;
      (r = fs(n)), (n = n.parentNode);
    }
}
function tC(t) {
  return t.scrollTop > Math.max(1, t.scrollHeight - t.clientHeight - 4);
}
function nC(t, e) {
  for (let n = t, r = e; ; ) {
    if (n.nodeType == 3 && r > 0) return { node: n, offset: r };
    if (n.nodeType == 1 && r > 0) {
      if (n.contentEditable == "false") return null;
      (n = n.childNodes[r - 1]), (r = zr(n));
    } else if (n.parentNode && !xf(n)) (r = fs(n)), (n = n.parentNode);
    else return null;
  }
}
function rC(t, e) {
  for (let n = t, r = e; ; ) {
    if (n.nodeType == 3 && r < n.nodeValue.length)
      return { node: n, offset: r };
    if (n.nodeType == 1 && r < n.childNodes.length) {
      if (n.contentEditable == "false") return null;
      (n = n.childNodes[r]), (r = 0);
    } else if (n.parentNode && !xf(n)) (r = fs(n) + 1), (n = n.parentNode);
    else return null;
  }
}
class bt {
  constructor(e, n, r = !0) {
    (this.node = e), (this.offset = n), (this.precise = r);
  }
  static before(e, n) {
    return new bt(e.parentNode, fs(e), n);
  }
  static after(e, n) {
    return new bt(e.parentNode, fs(e) + 1, n);
  }
}
const J0 = [];
class ye {
  constructor() {
    (this.parent = null), (this.dom = null), (this.flags = 2);
  }
  get overrideDOMText() {
    return null;
  }
  get posAtStart() {
    return this.parent ? this.parent.posBefore(this) : 0;
  }
  get posAtEnd() {
    return this.posAtStart + this.length;
  }
  posBefore(e) {
    let n = this.posAtStart;
    for (let r of this.children) {
      if (r == e) return n;
      n += r.length + r.breakAfter;
    }
    throw new RangeError("Invalid child in posBefore");
  }
  posAfter(e) {
    return this.posBefore(e) + e.length;
  }
  sync(e, n) {
    if (this.flags & 2) {
      let r = this.dom,
        i = null,
        s;
      for (let o of this.children) {
        if (o.flags & 7) {
          if (!o.dom && (s = i ? i.nextSibling : r.firstChild)) {
            let l = ye.get(s);
            (!l || (!l.parent && l.canReuseDOM(o))) && o.reuseDOM(s);
          }
          o.sync(e, n), (o.flags &= -8);
        }
        if (
          ((s = i ? i.nextSibling : r.firstChild),
          n && !n.written && n.node == r && s != o.dom && (n.written = !0),
          o.dom.parentNode == r)
        )
          for (; s && s != o.dom; ) s = Kv(s);
        else r.insertBefore(o.dom, s);
        i = o.dom;
      }
      for (
        s = i ? i.nextSibling : r.firstChild,
          s && n && n.node == r && (n.written = !0);
        s;

      )
        s = Kv(s);
    } else if (this.flags & 1)
      for (let r of this.children)
        r.flags & 7 && (r.sync(e, n), (r.flags &= -8));
  }
  reuseDOM(e) {}
  localPosFromDOM(e, n) {
    let r;
    if (e == this.dom) r = this.dom.childNodes[n];
    else {
      let i = zr(e) == 0 ? 0 : n == 0 ? -1 : 1;
      for (;;) {
        let s = e.parentNode;
        if (s == this.dom) break;
        i == 0 &&
          s.firstChild != s.lastChild &&
          (e == s.firstChild ? (i = -1) : (i = 1)),
          (e = s);
      }
      i < 0 ? (r = e) : (r = e.nextSibling);
    }
    if (r == this.dom.firstChild) return 0;
    for (; r && !ye.get(r); ) r = r.nextSibling;
    if (!r) return this.length;
    for (let i = 0, s = 0; ; i++) {
      let o = this.children[i];
      if (o.dom == r) return s;
      s += o.length + o.breakAfter;
    }
  }
  domBoundsAround(e, n, r = 0) {
    let i = -1,
      s = -1,
      o = -1,
      l = -1;
    for (let a = 0, u = r, c = r; a < this.children.length; a++) {
      let f = this.children[a],
        h = u + f.length;
      if (u < e && h > n) return f.domBoundsAround(e, n, u);
      if (
        (h >= e && i == -1 && ((i = a), (s = u)),
        u > n && f.dom.parentNode == this.dom)
      ) {
        (o = a), (l = c);
        break;
      }
      (c = h), (u = h + f.breakAfter);
    }
    return {
      from: s,
      to: l < 0 ? r + this.length : l,
      startDOM:
        (i ? this.children[i - 1].dom.nextSibling : null) ||
        this.dom.firstChild,
      endDOM: o < this.children.length && o >= 0 ? this.children[o].dom : null,
    };
  }
  markDirty(e = !1) {
    (this.flags |= 2), this.markParentsDirty(e);
  }
  markParentsDirty(e) {
    for (let n = this.parent; n; n = n.parent) {
      if ((e && (n.flags |= 2), n.flags & 1)) return;
      (n.flags |= 1), (e = !1);
    }
  }
  setParent(e) {
    this.parent != e &&
      ((this.parent = e), this.flags & 7 && this.markParentsDirty(!0));
  }
  setDOM(e) {
    this.dom != e &&
      (this.dom && (this.dom.cmView = null), (this.dom = e), (e.cmView = this));
  }
  get rootView() {
    for (let e = this; ; ) {
      let n = e.parent;
      if (!n) return e;
      e = n;
    }
  }
  replaceChildren(e, n, r = J0) {
    this.markDirty();
    for (let i = e; i < n; i++) {
      let s = this.children[i];
      s.parent == this && r.indexOf(s) < 0 && s.destroy();
    }
    this.children.splice(e, n - e, ...r);
    for (let i = 0; i < r.length; i++) r[i].setParent(this);
  }
  ignoreMutation(e) {
    return !1;
  }
  ignoreEvent(e) {
    return !1;
  }
  childCursor(e = this.length) {
    return new iC(this.children, e, this.children.length);
  }
  childPos(e, n = 1) {
    return this.childCursor().findPos(e, n);
  }
  toString() {
    let e = this.constructor.name.replace("View", "");
    return (
      e +
      (this.children.length
        ? "(" + this.children.join() + ")"
        : this.length
          ? "[" + (e == "Text" ? this.text : this.length) + "]"
          : "") +
      (this.breakAfter ? "#" : "")
    );
  }
  static get(e) {
    return e.cmView;
  }
  get isEditable() {
    return !0;
  }
  get isWidget() {
    return !1;
  }
  get isHidden() {
    return !1;
  }
  merge(e, n, r, i, s, o) {
    return !1;
  }
  become(e) {
    return !1;
  }
  canReuseDOM(e) {
    return e.constructor == this.constructor && !((this.flags | e.flags) & 8);
  }
  getSide() {
    return 0;
  }
  destroy() {
    for (let e of this.children) e.parent == this && e.destroy();
    this.parent = null;
  }
}
ye.prototype.breakAfter = 0;
function Kv(t) {
  let e = t.nextSibling;
  return t.parentNode.removeChild(t), e;
}
class iC {
  constructor(e, n, r) {
    (this.children = e), (this.pos = n), (this.i = r), (this.off = 0);
  }
  findPos(e, n = 1) {
    for (;;) {
      if (
        e > this.pos ||
        (e == this.pos &&
          (n > 0 || this.i == 0 || this.children[this.i - 1].breakAfter))
      )
        return (this.off = e - this.pos), this;
      let r = this.children[--this.i];
      this.pos -= r.length + r.breakAfter;
    }
  }
}
function sC(t, e, n, r, i, s, o, l, a) {
  let { children: u } = t,
    c = u.length ? u[e] : null,
    f = s.length ? s[s.length - 1] : null,
    h = f ? f.breakAfter : o;
  if (
    !(
      e == r &&
      c &&
      !o &&
      !h &&
      s.length < 2 &&
      c.merge(n, i, s.length ? f : null, n == 0, l, a)
    )
  ) {
    if (r < u.length) {
      let d = u[r];
      d && (i < d.length || (d.breakAfter && f != null && f.breakAfter))
        ? (e == r && ((d = d.split(i)), (i = 0)),
          !h && f && d.merge(0, i, f, !0, 0, a)
            ? (s[s.length - 1] = d)
            : ((i || (d.children.length && !d.children[0].length)) &&
                d.merge(0, i, null, !1, 0, a),
              s.push(d)))
        : d != null && d.breakAfter && (f ? (f.breakAfter = 1) : (o = 1)),
        r++;
    }
    for (
      c &&
      ((c.breakAfter = o),
      n > 0 &&
        (!o && s.length && c.merge(n, c.length, s[0], !1, l, 0)
          ? (c.breakAfter = s.shift().breakAfter)
          : (n < c.length ||
              (c.children.length &&
                c.children[c.children.length - 1].length == 0)) &&
            c.merge(n, c.length, null, !1, l, 0),
        e++));
      e < r && s.length;

    )
      if (u[r - 1].become(s[s.length - 1]))
        r--, s.pop(), (a = s.length ? 0 : l);
      else if (u[e].become(s[0])) e++, s.shift(), (l = s.length ? 0 : a);
      else break;
    !s.length &&
      e &&
      r < u.length &&
      !u[e - 1].breakAfter &&
      u[r].merge(0, 0, u[e - 1], !1, l, a) &&
      e--,
      (e < r || s.length) && t.replaceChildren(e, r, s);
  }
}
function oC(t, e, n, r, i, s) {
  let o = t.childCursor(),
    { i: l, off: a } = o.findPos(n, 1),
    { i: u, off: c } = o.findPos(e, -1),
    f = e - n;
  for (let h of r) f += h.length;
  (t.length += f), sC(t, u, c, l, a, r, 0, i, s);
}
let Xt =
    typeof navigator < "u"
      ? navigator
      : { userAgent: "", vendor: "", platform: "" },
  Um = typeof document < "u" ? document : { documentElement: { style: {} } };
const Km = /Edge\/(\d+)/.exec(Xt.userAgent),
  lC = /MSIE \d/.test(Xt.userAgent),
  qm = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xt.userAgent),
  Oh = !!(lC || qm || Km),
  qv = !Oh && /gecko\/(\d+)/i.test(Xt.userAgent),
  Xd = !Oh && /Chrome\/(\d+)/.exec(Xt.userAgent),
  Gv = "webkitFontSmoothing" in Um.documentElement.style,
  aC = !Oh && /Apple Computer/.test(Xt.vendor),
  Yv = aC && (/Mobile\/\w+/.test(Xt.userAgent) || Xt.maxTouchPoints > 2);
var I = {
  mac: Yv || /Mac/.test(Xt.platform),
  windows: /Win/.test(Xt.platform),
  linux: /Linux|X11/.test(Xt.platform),
  ie: Oh,
  ie_version: lC ? Um.documentMode || 6 : qm ? +qm[1] : Km ? +Km[1] : 0,
  gecko: qv,
  gecko_version: qv ? +(/Firefox\/(\d+)/.exec(Xt.userAgent) || [0, 0])[1] : 0,
  chrome: !!Xd,
  chrome_version: Xd ? +Xd[1] : 0,
  ios: Yv,
  android: /Android\b/.test(Xt.userAgent),
  webkit: Gv,
  safari: aC,
  webkit_version: Gv
    ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1]
    : 0,
  tabSize:
    Um.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size",
};
const FP = 256;
class Kn extends ye {
  constructor(e) {
    super(), (this.text = e);
  }
  get length() {
    return this.text.length;
  }
  createDOM(e) {
    this.setDOM(e || document.createTextNode(this.text));
  }
  sync(e, n) {
    this.dom || this.createDOM(),
      this.dom.nodeValue != this.text &&
        (n && n.node == this.dom && (n.written = !0),
        (this.dom.nodeValue = this.text));
  }
  reuseDOM(e) {
    e.nodeType == 3 && this.createDOM(e);
  }
  merge(e, n, r) {
    return this.flags & 8 ||
      (r &&
        (!(r instanceof Kn) ||
          this.length - (n - e) + r.length > FP ||
          r.flags & 8))
      ? !1
      : ((this.text =
          this.text.slice(0, e) + (r ? r.text : "") + this.text.slice(n)),
        this.markDirty(),
        !0);
  }
  split(e) {
    let n = new Kn(this.text.slice(e));
    return (
      (this.text = this.text.slice(0, e)),
      this.markDirty(),
      (n.flags |= this.flags & 8),
      n
    );
  }
  localPosFromDOM(e, n) {
    return e == this.dom ? n : n ? this.text.length : 0;
  }
  domAtPos(e) {
    return new bt(this.dom, e);
  }
  domBoundsAround(e, n, r) {
    return {
      from: r,
      to: r + this.length,
      startDOM: this.dom,
      endDOM: this.dom.nextSibling,
    };
  }
  coordsAt(e, n) {
    return zP(this.dom, e, n);
  }
}
class jr extends ye {
  constructor(e, n = [], r = 0) {
    super(), (this.mark = e), (this.children = n), (this.length = r);
    for (let i of n) i.setParent(this);
  }
  setAttrs(e) {
    if (
      (eC(e),
      this.mark.class && (e.className = this.mark.class),
      this.mark.attrs)
    )
      for (let n in this.mark.attrs) e.setAttribute(n, this.mark.attrs[n]);
    return e;
  }
  canReuseDOM(e) {
    return super.canReuseDOM(e) && !((this.flags | e.flags) & 8);
  }
  reuseDOM(e) {
    e.nodeName == this.mark.tagName.toUpperCase() &&
      (this.setDOM(e), (this.flags |= 6));
  }
  sync(e, n) {
    this.dom
      ? this.flags & 4 && this.setAttrs(this.dom)
      : this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),
      super.sync(e, n);
  }
  merge(e, n, r, i, s, o) {
    return r &&
      (!(r instanceof jr && r.mark.eq(this.mark)) ||
        (e && s <= 0) ||
        (n < this.length && o <= 0))
      ? !1
      : (oC(this, e, n, r ? r.children.slice() : [], s - 1, o - 1),
        this.markDirty(),
        !0);
  }
  split(e) {
    let n = [],
      r = 0,
      i = -1,
      s = 0;
    for (let l of this.children) {
      let a = r + l.length;
      a > e && n.push(r < e ? l.split(e - r) : l),
        i < 0 && r >= e && (i = s),
        (r = a),
        s++;
    }
    let o = this.length - e;
    return (
      (this.length = e),
      i > -1 && ((this.children.length = i), this.markDirty()),
      new jr(this.mark, n, o)
    );
  }
  domAtPos(e) {
    return uC(this, e);
  }
  coordsAt(e, n) {
    return fC(this, e, n);
  }
}
function zP(t, e, n) {
  let r = t.nodeValue.length;
  e > r && (e = r);
  let i = e,
    s = e,
    o = 0;
  (e == 0 && n < 0) || (e == r && n >= 0)
    ? I.chrome || I.gecko || (e ? (i--, (o = 1)) : s < r && (s++, (o = -1)))
    : n < 0
      ? i--
      : s < r && s++;
  let l = hs(t, i, s).getClientRects();
  if (!l.length) return null;
  let a = l[(o ? o < 0 : n >= 0) ? 0 : l.length - 1];
  return (
    I.safari &&
      !o &&
      a.width == 0 &&
      (a = Array.prototype.find.call(l, (u) => u.width) || a),
    o ? Q0(a, o < 0) : a || null
  );
}
class ui extends ye {
  static create(e, n, r) {
    return new ui(e, n, r);
  }
  constructor(e, n, r) {
    super(),
      (this.widget = e),
      (this.length = n),
      (this.side = r),
      (this.prevWidget = null);
  }
  split(e) {
    let n = ui.create(this.widget, this.length - e, this.side);
    return (this.length -= e), n;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) &&
      (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom),
      (this.prevWidget = null),
      this.setDOM(this.widget.toDOM(e)),
      this.widget.editable || (this.dom.contentEditable = "false"));
  }
  getSide() {
    return this.side;
  }
  merge(e, n, r, i, s, o) {
    return r &&
      (!(r instanceof ui) ||
        !this.widget.compare(r.widget) ||
        (e > 0 && s <= 0) ||
        (n < this.length && o <= 0))
      ? !1
      : ((this.length = e + (r ? r.length : 0) + (this.length - n)), !0);
  }
  become(e) {
    return e instanceof ui &&
      e.side == this.side &&
      this.widget.constructor == e.widget.constructor
      ? (this.widget.compare(e.widget) || this.markDirty(!0),
        this.dom && !this.prevWidget && (this.prevWidget = this.widget),
        (this.widget = e.widget),
        (this.length = e.length),
        !0)
      : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get overrideDOMText() {
    if (this.length == 0) return ce.empty;
    let e = this;
    for (; e.parent; ) e = e.parent;
    let { view: n } = e,
      r = n && n.state.doc,
      i = this.posAtStart;
    return r ? r.slice(i, i + this.length) : ce.empty;
  }
  domAtPos(e) {
    return (this.length ? e == 0 : this.side > 0)
      ? bt.before(this.dom)
      : bt.after(this.dom, e == this.length);
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e, n) {
    let r = this.widget.coordsAt(this.dom, e, n);
    if (r) return r;
    let i = this.dom.getClientRects(),
      s = null;
    if (!i.length) return null;
    let o = this.side ? this.side < 0 : e > 0;
    for (
      let l = o ? i.length - 1 : 0;
      (s = i[l]), !(e > 0 ? l == 0 : l == i.length - 1 || s.top < s.bottom);
      l += o ? -1 : 1
    );
    return Q0(s, !o);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  get isHidden() {
    return this.widget.isHidden;
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
}
class To extends ye {
  constructor(e) {
    super(), (this.side = e);
  }
  get length() {
    return 0;
  }
  merge() {
    return !1;
  }
  become(e) {
    return e instanceof To && e.side == this.side;
  }
  split() {
    return new To(this.side);
  }
  sync() {
    if (!this.dom) {
      let e = document.createElement("img");
      (e.className = "cm-widgetBuffer"),
        e.setAttribute("aria-hidden", "true"),
        this.setDOM(e);
    }
  }
  getSide() {
    return this.side;
  }
  domAtPos(e) {
    return this.side > 0 ? bt.before(this.dom) : bt.after(this.dom);
  }
  localPosFromDOM() {
    return 0;
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e) {
    return this.dom.getBoundingClientRect();
  }
  get overrideDOMText() {
    return ce.empty;
  }
  get isHidden() {
    return !0;
  }
}
Kn.prototype.children = ui.prototype.children = To.prototype.children = J0;
function uC(t, e) {
  let n = t.dom,
    { children: r } = t,
    i = 0;
  for (let s = 0; i < r.length; i++) {
    let o = r[i],
      l = s + o.length;
    if (!(l == s && o.getSide() <= 0)) {
      if (e > s && e < l && o.dom.parentNode == n) return o.domAtPos(e - s);
      if (e <= s) break;
      s = l;
    }
  }
  for (let s = i; s > 0; s--) {
    let o = r[s - 1];
    if (o.dom.parentNode == n) return o.domAtPos(o.length);
  }
  for (let s = i; s < r.length; s++) {
    let o = r[s];
    if (o.dom.parentNode == n) return o.domAtPos(0);
  }
  return new bt(n, 0);
}
function cC(t, e, n) {
  let r,
    { children: i } = t;
  n > 0 &&
  e instanceof jr &&
  i.length &&
  (r = i[i.length - 1]) instanceof jr &&
  r.mark.eq(e.mark)
    ? cC(r, e.children[0], n - 1)
    : (i.push(e), e.setParent(t)),
    (t.length += e.length);
}
function fC(t, e, n) {
  let r = null,
    i = -1,
    s = null,
    o = -1;
  function l(u, c) {
    for (let f = 0, h = 0; f < u.children.length && h <= c; f++) {
      let d = u.children[f],
        p = h + d.length;
      p >= c &&
        (d.children.length
          ? l(d, c - h)
          : (!s || (s.isHidden && n > 0)) &&
              (p > c || (h == p && d.getSide() > 0))
            ? ((s = d), (o = c - h))
            : (h < c || (h == p && d.getSide() < 0 && !d.isHidden)) &&
              ((r = d), (i = c - h))),
        (h = p);
    }
  }
  l(t, e);
  let a = (n < 0 ? r : s) || r || s;
  return a ? a.coordsAt(Math.max(0, a == r ? i : o), n) : jP(t);
}
function jP(t) {
  let e = t.dom.lastChild;
  if (!e) return t.dom.getBoundingClientRect();
  let n = da(e);
  return n[n.length - 1] || null;
}
function Gm(t, e) {
  for (let n in t)
    n == "class" && e.class
      ? (e.class += " " + t.class)
      : n == "style" && e.style
        ? (e.style += ";" + t.style)
        : (e[n] = t[n]);
  return e;
}
const Xv = Object.create(null);
function Z0(t, e, n) {
  if (t == e) return !0;
  t || (t = Xv), e || (e = Xv);
  let r = Object.keys(t),
    i = Object.keys(e);
  if (
    r.length - (n && r.indexOf(n) > -1 ? 1 : 0) !=
    i.length - (n && i.indexOf(n) > -1 ? 1 : 0)
  )
    return !1;
  for (let s of r)
    if (s != n && (i.indexOf(s) == -1 || t[s] !== e[s])) return !1;
  return !0;
}
function Ym(t, e, n) {
  let r = !1;
  if (e)
    for (let i in e)
      (n && i in n) ||
        ((r = !0),
        i == "style" ? (t.style.cssText = "") : t.removeAttribute(i));
  if (n)
    for (let i in n)
      (e && e[i] == n[i]) ||
        ((r = !0),
        i == "style" ? (t.style.cssText = n[i]) : t.setAttribute(i, n[i]));
  return r;
}
function VP(t) {
  let e = Object.create(null);
  for (let n = 0; n < t.attributes.length; n++) {
    let r = t.attributes[n];
    e[r.name] = r.value;
  }
  return e;
}
class qe extends ye {
  constructor() {
    super(...arguments),
      (this.children = []),
      (this.length = 0),
      (this.prevAttrs = void 0),
      (this.attrs = null),
      (this.breakAfter = 0);
  }
  merge(e, n, r, i, s, o) {
    if (r) {
      if (!(r instanceof qe)) return !1;
      this.dom || r.transferDOM(this);
    }
    return (
      i && this.setDeco(r ? r.attrs : null),
      oC(this, e, n, r ? r.children.slice() : [], s, o),
      !0
    );
  }
  split(e) {
    let n = new qe();
    if (((n.breakAfter = this.breakAfter), this.length == 0)) return n;
    let { i: r, off: i } = this.childPos(e);
    i &&
      (n.append(this.children[r].split(i), 0),
      this.children[r].merge(i, this.children[r].length, null, !1, 0, 0),
      r++);
    for (let s = r; s < this.children.length; s++)
      n.append(this.children[s], 0);
    for (; r > 0 && this.children[r - 1].length == 0; )
      this.children[--r].destroy();
    return (this.children.length = r), this.markDirty(), (this.length = e), n;
  }
  transferDOM(e) {
    this.dom &&
      (this.markDirty(),
      e.setDOM(this.dom),
      (e.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs),
      (this.prevAttrs = void 0),
      (this.dom = null));
  }
  setDeco(e) {
    Z0(this.attrs, e) ||
      (this.dom && ((this.prevAttrs = this.attrs), this.markDirty()),
      (this.attrs = e));
  }
  append(e, n) {
    cC(this, e, n);
  }
  addLineDeco(e) {
    let n = e.spec.attributes,
      r = e.spec.class;
    n && (this.attrs = Gm(n, this.attrs || {})),
      r && (this.attrs = Gm({ class: r }, this.attrs || {}));
  }
  domAtPos(e) {
    return uC(this, e);
  }
  reuseDOM(e) {
    e.nodeName == "DIV" && (this.setDOM(e), (this.flags |= 6));
  }
  sync(e, n) {
    var r;
    this.dom
      ? this.flags & 4 &&
        (eC(this.dom),
        (this.dom.className = "cm-line"),
        (this.prevAttrs = this.attrs ? null : void 0))
      : (this.setDOM(document.createElement("div")),
        (this.dom.className = "cm-line"),
        (this.prevAttrs = this.attrs ? null : void 0)),
      this.prevAttrs !== void 0 &&
        (Ym(this.dom, this.prevAttrs, this.attrs),
        this.dom.classList.add("cm-line"),
        (this.prevAttrs = void 0)),
      super.sync(e, n);
    let i = this.dom.lastChild;
    for (; i && ye.get(i) instanceof jr; ) i = i.lastChild;
    if (
      !i ||
      !this.length ||
      (i.nodeName != "BR" &&
        ((r = ye.get(i)) === null || r === void 0 ? void 0 : r.isEditable) ==
          !1 &&
        (!I.ios || !this.children.some((s) => s instanceof Kn)))
    ) {
      let s = document.createElement("BR");
      (s.cmIgnore = !0), this.dom.appendChild(s);
    }
  }
  measureTextSize() {
    if (this.children.length == 0 || this.length > 20) return null;
    let e = 0,
      n;
    for (let r of this.children) {
      if (!(r instanceof Kn) || /[^ -~]/.test(r.text)) return null;
      let i = da(r.dom);
      if (i.length != 1) return null;
      (e += i[0].width), (n = i[0].height);
    }
    return e
      ? {
          lineHeight: this.dom.getBoundingClientRect().height,
          charWidth: e / this.length,
          textHeight: n,
        }
      : null;
  }
  coordsAt(e, n) {
    let r = fC(this, e, n);
    if (!this.children.length && r && this.parent) {
      let { heightOracle: i } = this.parent.view.viewState,
        s = r.bottom - r.top;
      if (Math.abs(s - i.lineHeight) < 2 && i.textHeight < s) {
        let o = (s - i.textHeight) / 2;
        return {
          top: r.top + o,
          bottom: r.bottom - o,
          left: r.left,
          right: r.left,
        };
      }
    }
    return r;
  }
  become(e) {
    return !1;
  }
  covers() {
    return !0;
  }
  static find(e, n) {
    for (let r = 0, i = 0; r < e.children.length; r++) {
      let s = e.children[r],
        o = i + s.length;
      if (o >= n) {
        if (s instanceof qe) return s;
        if (o > n) break;
      }
      i = o + s.breakAfter;
    }
    return null;
  }
}
class bi extends ye {
  constructor(e, n, r) {
    super(),
      (this.widget = e),
      (this.length = n),
      (this.deco = r),
      (this.breakAfter = 0),
      (this.prevWidget = null);
  }
  merge(e, n, r, i, s, o) {
    return r &&
      (!(r instanceof bi) ||
        !this.widget.compare(r.widget) ||
        (e > 0 && s <= 0) ||
        (n < this.length && o <= 0))
      ? !1
      : ((this.length = e + (r ? r.length : 0) + (this.length - n)), !0);
  }
  domAtPos(e) {
    return e == 0 ? bt.before(this.dom) : bt.after(this.dom, e == this.length);
  }
  split(e) {
    let n = this.length - e;
    this.length = e;
    let r = new bi(this.widget, n, this.deco);
    return (r.breakAfter = this.breakAfter), r;
  }
  get children() {
    return J0;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) &&
      (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom),
      (this.prevWidget = null),
      this.setDOM(this.widget.toDOM(e)),
      this.widget.editable || (this.dom.contentEditable = "false"));
  }
  get overrideDOMText() {
    return this.parent
      ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd)
      : ce.empty;
  }
  domBoundsAround() {
    return null;
  }
  become(e) {
    return e instanceof bi && e.widget.constructor == this.widget.constructor
      ? (e.widget.compare(this.widget) || this.markDirty(!0),
        this.dom && !this.prevWidget && (this.prevWidget = this.widget),
        (this.widget = e.widget),
        (this.length = e.length),
        (this.deco = e.deco),
        (this.breakAfter = e.breakAfter),
        !0)
      : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  coordsAt(e, n) {
    return this.widget.coordsAt(this.dom, e, n);
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
  covers(e) {
    let { startSide: n, endSide: r } = this.deco;
    return n == r ? !1 : e < 0 ? n < 0 : r > 0;
  }
}
class Ii {
  eq(e) {
    return !1;
  }
  updateDOM(e, n) {
    return !1;
  }
  compare(e) {
    return this == e || (this.constructor == e.constructor && this.eq(e));
  }
  get estimatedHeight() {
    return -1;
  }
  get lineBreaks() {
    return 0;
  }
  ignoreEvent(e) {
    return !0;
  }
  coordsAt(e, n, r) {
    return null;
  }
  get isHidden() {
    return !1;
  }
  get editable() {
    return !1;
  }
  destroy(e) {}
}
var Mt = (function (t) {
  return (
    (t[(t.Text = 0)] = "Text"),
    (t[(t.WidgetBefore = 1)] = "WidgetBefore"),
    (t[(t.WidgetAfter = 2)] = "WidgetAfter"),
    (t[(t.WidgetRange = 3)] = "WidgetRange"),
    t
  );
})(Mt || (Mt = {}));
class U extends cs {
  constructor(e, n, r, i) {
    super(),
      (this.startSide = e),
      (this.endSide = n),
      (this.widget = r),
      (this.spec = i);
  }
  get heightRelevant() {
    return !1;
  }
  static mark(e) {
    return new tu(e);
  }
  static widget(e) {
    let n = Math.max(-1e4, Math.min(1e4, e.side || 0)),
      r = !!e.block;
    return (
      (n += r && !e.inlineOrder ? (n > 0 ? 3e8 : -4e8) : n > 0 ? 1e8 : -1e8),
      new Ti(e, n, n, r, e.widget || null, !1)
    );
  }
  static replace(e) {
    let n = !!e.block,
      r,
      i;
    if (e.isBlockGap) (r = -5e8), (i = 4e8);
    else {
      let { start: s, end: o } = hC(e, n);
      (r = (s ? (n ? -3e8 : -1) : 5e8) - 1),
        (i = (o ? (n ? 2e8 : 1) : -6e8) + 1);
    }
    return new Ti(e, r, i, n, e.widget || null, !0);
  }
  static line(e) {
    return new nu(e);
  }
  static set(e, n = !1) {
    return re.of(e, n);
  }
  hasHeight() {
    return this.widget ? this.widget.estimatedHeight > -1 : !1;
  }
}
U.none = re.empty;
class tu extends U {
  constructor(e) {
    let { start: n, end: r } = hC(e);
    super(n ? -1 : 5e8, r ? 1 : -6e8, null, e),
      (this.tagName = e.tagName || "span"),
      (this.class = e.class || ""),
      (this.attrs = e.attributes || null);
  }
  eq(e) {
    var n, r;
    return (
      this == e ||
      (e instanceof tu &&
        this.tagName == e.tagName &&
        (this.class ||
          ((n = this.attrs) === null || n === void 0 ? void 0 : n.class)) ==
          (e.class ||
            ((r = e.attrs) === null || r === void 0 ? void 0 : r.class)) &&
        Z0(this.attrs, e.attrs, "class"))
    );
  }
  range(e, n = e) {
    if (e >= n) throw new RangeError("Mark decorations may not be empty");
    return super.range(e, n);
  }
}
tu.prototype.point = !1;
class nu extends U {
  constructor(e) {
    super(-2e8, -2e8, null, e);
  }
  eq(e) {
    return (
      e instanceof nu &&
      this.spec.class == e.spec.class &&
      Z0(this.spec.attributes, e.spec.attributes)
    );
  }
  range(e, n = e) {
    if (n != e)
      throw new RangeError("Line decoration ranges must be zero-length");
    return super.range(e, n);
  }
}
nu.prototype.mapMode = Ot.TrackBefore;
nu.prototype.point = !0;
class Ti extends U {
  constructor(e, n, r, i, s, o) {
    super(n, r, s, e),
      (this.block = i),
      (this.isReplace = o),
      (this.mapMode = i
        ? n <= 0
          ? Ot.TrackBefore
          : Ot.TrackAfter
        : Ot.TrackDel);
  }
  get type() {
    return this.startSide != this.endSide
      ? Mt.WidgetRange
      : this.startSide <= 0
        ? Mt.WidgetBefore
        : Mt.WidgetAfter;
  }
  get heightRelevant() {
    return (
      this.block ||
      (!!this.widget &&
        (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0))
    );
  }
  eq(e) {
    return (
      e instanceof Ti &&
      WP(this.widget, e.widget) &&
      this.block == e.block &&
      this.startSide == e.startSide &&
      this.endSide == e.endSide
    );
  }
  range(e, n = e) {
    if (
      this.isReplace &&
      (e > n || (e == n && this.startSide > 0 && this.endSide <= 0))
    )
      throw new RangeError("Invalid range for replacement decoration");
    if (!this.isReplace && n != e)
      throw new RangeError(
        "Widget decorations can only have zero-length ranges"
      );
    return super.range(e, n);
  }
}
Ti.prototype.point = !0;
function hC(t, e = !1) {
  let { inclusiveStart: n, inclusiveEnd: r } = t;
  return (
    n == null && (n = t.inclusive),
    r == null && (r = t.inclusive),
    { start: n ?? e, end: r ?? e }
  );
}
function WP(t, e) {
  return t == e || !!(t && e && t.compare(e));
}
function Xm(t, e, n, r = 0) {
  let i = n.length - 1;
  i >= 0 && n[i] + r >= t ? (n[i] = Math.max(n[i], e)) : n.push(t, e);
}
class Bl {
  constructor(e, n, r, i) {
    (this.doc = e),
      (this.pos = n),
      (this.end = r),
      (this.disallowBlockEffectsFor = i),
      (this.content = []),
      (this.curLine = null),
      (this.breakAtStart = 0),
      (this.pendingBuffer = 0),
      (this.bufferMarks = []),
      (this.atCursorPos = !0),
      (this.openStart = -1),
      (this.openEnd = -1),
      (this.text = ""),
      (this.textOff = 0),
      (this.cursor = e.iter()),
      (this.skip = n);
  }
  posCovered() {
    if (this.content.length == 0)
      return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
    let e = this.content[this.content.length - 1];
    return !(e.breakAfter || (e instanceof bi && e.deco.endSide < 0));
  }
  getLine() {
    return (
      this.curLine ||
        (this.content.push((this.curLine = new qe())), (this.atCursorPos = !0)),
      this.curLine
    );
  }
  flushBuffer(e = this.bufferMarks) {
    this.pendingBuffer &&
      (this.curLine.append(zu(new To(-1), e), e.length),
      (this.pendingBuffer = 0));
  }
  addBlockWidget(e) {
    this.flushBuffer(), (this.curLine = null), this.content.push(e);
  }
  finish(e) {
    this.pendingBuffer && e <= this.bufferMarks.length
      ? this.flushBuffer()
      : (this.pendingBuffer = 0),
      !this.posCovered() &&
        !(
          e &&
          this.content.length &&
          this.content[this.content.length - 1] instanceof bi
        ) &&
        this.getLine();
  }
  buildText(e, n, r) {
    for (; e > 0; ) {
      if (this.textOff == this.text.length) {
        let { value: s, lineBreak: o, done: l } = this.cursor.next(this.skip);
        if (((this.skip = 0), l))
          throw new Error("Ran out of text content when drawing inline views");
        if (o) {
          this.posCovered() || this.getLine(),
            this.content.length
              ? (this.content[this.content.length - 1].breakAfter = 1)
              : (this.breakAtStart = 1),
            this.flushBuffer(),
            (this.curLine = null),
            (this.atCursorPos = !0),
            e--;
          continue;
        } else (this.text = s), (this.textOff = 0);
      }
      let i = Math.min(this.text.length - this.textOff, e, 512);
      this.flushBuffer(n.slice(n.length - r)),
        this.getLine().append(
          zu(new Kn(this.text.slice(this.textOff, this.textOff + i)), n),
          r
        ),
        (this.atCursorPos = !0),
        (this.textOff += i),
        (e -= i),
        (r = 0);
    }
  }
  span(e, n, r, i) {
    this.buildText(n - e, r, i),
      (this.pos = n),
      this.openStart < 0 && (this.openStart = i);
  }
  point(e, n, r, i, s, o) {
    if (this.disallowBlockEffectsFor[o] && r instanceof Ti) {
      if (r.block)
        throw new RangeError(
          "Block decorations may not be specified via plugins"
        );
      if (n > this.doc.lineAt(this.pos).to)
        throw new RangeError(
          "Decorations that replace line breaks may not be specified via plugins"
        );
    }
    let l = n - e;
    if (r instanceof Ti)
      if (r.block)
        r.startSide > 0 && !this.posCovered() && this.getLine(),
          this.addBlockWidget(new bi(r.widget || Po.block, l, r));
      else {
        let a = ui.create(r.widget || Po.inline, l, l ? 0 : r.startSide),
          u =
            this.atCursorPos &&
            !a.isEditable &&
            s <= i.length &&
            (e < n || r.startSide > 0),
          c = !a.isEditable && (e < n || s > i.length || r.startSide <= 0),
          f = this.getLine();
        this.pendingBuffer == 2 &&
          !u &&
          !a.isEditable &&
          (this.pendingBuffer = 0),
          this.flushBuffer(i),
          u &&
            (f.append(zu(new To(1), i), s),
            (s = i.length + Math.max(0, s - i.length))),
          f.append(zu(a, i), s),
          (this.atCursorPos = c),
          (this.pendingBuffer = c ? (e < n || s > i.length ? 1 : 2) : 0),
          this.pendingBuffer && (this.bufferMarks = i.slice());
      }
    else
      this.doc.lineAt(this.pos).from == this.pos &&
        this.getLine().addLineDeco(r);
    l &&
      (this.textOff + l <= this.text.length
        ? (this.textOff += l)
        : ((this.skip += l - (this.text.length - this.textOff)),
          (this.text = ""),
          (this.textOff = 0)),
      (this.pos = n)),
      this.openStart < 0 && (this.openStart = s);
  }
  static build(e, n, r, i, s) {
    let o = new Bl(e, n, r, s);
    return (
      (o.openEnd = re.spans(i, n, r, o)),
      o.openStart < 0 && (o.openStart = o.openEnd),
      o.finish(o.openEnd),
      o
    );
  }
}
function zu(t, e) {
  for (let n of e) t = new jr(n, [t], t.length);
  return t;
}
class Po extends Ii {
  constructor(e) {
    super(), (this.tag = e);
  }
  eq(e) {
    return e.tag == this.tag;
  }
  toDOM() {
    return document.createElement(this.tag);
  }
  updateDOM(e) {
    return e.nodeName.toLowerCase() == this.tag;
  }
  get isHidden() {
    return !0;
  }
}
Po.inline = new Po("span");
Po.block = new Po("div");
var Ce = (function (t) {
  return (t[(t.LTR = 0)] = "LTR"), (t[(t.RTL = 1)] = "RTL"), t;
})(Ce || (Ce = {}));
const ds = Ce.LTR,
  ey = Ce.RTL;
function dC(t) {
  let e = [];
  for (let n = 0; n < t.length; n++) e.push(1 << +t[n]);
  return e;
}
const HP = dC(
    "88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"
  ),
  UP = dC(
    "4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"
  ),
  Qm = Object.create(null),
  Qn = [];
for (let t of ["()", "[]", "{}"]) {
  let e = t.charCodeAt(0),
    n = t.charCodeAt(1);
  (Qm[e] = n), (Qm[n] = -e);
}
function pC(t) {
  return t <= 247
    ? HP[t]
    : 1424 <= t && t <= 1524
      ? 2
      : 1536 <= t && t <= 1785
        ? UP[t - 1536]
        : 1774 <= t && t <= 2220
          ? 4
          : 8192 <= t && t <= 8204
            ? 256
            : 64336 <= t && t <= 65023
              ? 4
              : 1;
}
const KP = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;
class ci {
  get dir() {
    return this.level % 2 ? ey : ds;
  }
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.level = r);
  }
  side(e, n) {
    return (this.dir == n) == e ? this.to : this.from;
  }
  forward(e, n) {
    return e == (this.dir == n);
  }
  static find(e, n, r, i) {
    let s = -1;
    for (let o = 0; o < e.length; o++) {
      let l = e[o];
      if (l.from <= n && l.to >= n) {
        if (l.level == r) return o;
        (s < 0 ||
          (i != 0 ? (i < 0 ? l.from < n : l.to > n) : e[s].level > l.level)) &&
          (s = o);
      }
    }
    if (s < 0) throw new RangeError("Index out of range");
    return s;
  }
}
function mC(t, e) {
  if (t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++) {
    let r = t[n],
      i = e[n];
    if (
      r.from != i.from ||
      r.to != i.to ||
      r.direction != i.direction ||
      !mC(r.inner, i.inner)
    )
      return !1;
  }
  return !0;
}
const ge = [];
function qP(t, e, n, r, i) {
  for (let s = 0; s <= r.length; s++) {
    let o = s ? r[s - 1].to : e,
      l = s < r.length ? r[s].from : n,
      a = s ? 256 : i;
    for (let u = o, c = a, f = a; u < l; u++) {
      let h = pC(t.charCodeAt(u));
      h == 512 ? (h = c) : h == 8 && f == 4 && (h = 16),
        (ge[u] = h == 4 ? 2 : h),
        h & 7 && (f = h),
        (c = h);
    }
    for (let u = o, c = a, f = a; u < l; u++) {
      let h = ge[u];
      if (h == 128)
        u < l - 1 && c == ge[u + 1] && c & 24 ? (h = ge[u] = c) : (ge[u] = 256);
      else if (h == 64) {
        let d = u + 1;
        for (; d < l && ge[d] == 64; ) d++;
        let p = (u && c == 8) || (d < n && ge[d] == 8) ? (f == 1 ? 1 : 8) : 256;
        for (let m = u; m < d; m++) ge[m] = p;
        u = d - 1;
      } else h == 8 && f == 1 && (ge[u] = 1);
      (c = h), h & 7 && (f = h);
    }
  }
}
function GP(t, e, n, r, i) {
  let s = i == 1 ? 2 : 1;
  for (let o = 0, l = 0, a = 0; o <= r.length; o++) {
    let u = o ? r[o - 1].to : e,
      c = o < r.length ? r[o].from : n;
    for (let f = u, h, d, p; f < c; f++)
      if ((d = Qm[(h = t.charCodeAt(f))]))
        if (d < 0) {
          for (let m = l - 3; m >= 0; m -= 3)
            if (Qn[m + 1] == -d) {
              let w = Qn[m + 2],
                g = w & 2 ? i : w & 4 ? (w & 1 ? s : i) : 0;
              g && (ge[f] = ge[Qn[m]] = g), (l = m);
              break;
            }
        } else {
          if (Qn.length == 189) break;
          (Qn[l++] = f), (Qn[l++] = h), (Qn[l++] = a);
        }
      else if ((p = ge[f]) == 2 || p == 1) {
        let m = p == i;
        a = m ? 0 : 1;
        for (let w = l - 3; w >= 0; w -= 3) {
          let g = Qn[w + 2];
          if (g & 2) break;
          if (m) Qn[w + 2] |= 2;
          else {
            if (g & 4) break;
            Qn[w + 2] |= 4;
          }
        }
      }
  }
}
function YP(t, e, n, r) {
  for (let i = 0, s = r; i <= n.length; i++) {
    let o = i ? n[i - 1].to : t,
      l = i < n.length ? n[i].from : e;
    for (let a = o; a < l; ) {
      let u = ge[a];
      if (u == 256) {
        let c = a + 1;
        for (;;)
          if (c == l) {
            if (i == n.length) break;
            (c = n[i++].to), (l = i < n.length ? n[i].from : e);
          } else if (ge[c] == 256) c++;
          else break;
        let f = s == 1,
          h = (c < e ? ge[c] : r) == 1,
          d = f == h ? (f ? 1 : 2) : r;
        for (let p = c, m = i, w = m ? n[m - 1].to : t; p > a; )
          p == w && ((p = n[--m].from), (w = m ? n[m - 1].to : t)),
            (ge[--p] = d);
        a = c;
      } else (s = u), a++;
    }
  }
}
function Jm(t, e, n, r, i, s, o) {
  let l = r % 2 ? 2 : 1;
  if (r % 2 == i % 2)
    for (let a = e, u = 0; a < n; ) {
      let c = !0,
        f = !1;
      if (u == s.length || a < s[u].from) {
        let m = ge[a];
        m != l && ((c = !1), (f = m == 16));
      }
      let h = !c && l == 1 ? [] : null,
        d = c ? r : r + 1,
        p = a;
      e: for (;;)
        if (u < s.length && p == s[u].from) {
          if (f) break e;
          let m = s[u];
          if (!c)
            for (let w = m.to, g = u + 1; ; ) {
              if (w == n) break e;
              if (g < s.length && s[g].from == w) w = s[g++].to;
              else {
                if (ge[w] == l) break e;
                break;
              }
            }
          if ((u++, h)) h.push(m);
          else {
            m.from > a && o.push(new ci(a, m.from, d));
            let w = (m.direction == ds) != !(d % 2);
            Zm(t, w ? r + 1 : r, i, m.inner, m.from, m.to, o), (a = m.to);
          }
          p = m.to;
        } else {
          if (p == n || (c ? ge[p] != l : ge[p] == l)) break;
          p++;
        }
      h ? Jm(t, a, p, r + 1, i, h, o) : a < p && o.push(new ci(a, p, d)),
        (a = p);
    }
  else
    for (let a = n, u = s.length; a > e; ) {
      let c = !0,
        f = !1;
      if (!u || a > s[u - 1].to) {
        let m = ge[a - 1];
        m != l && ((c = !1), (f = m == 16));
      }
      let h = !c && l == 1 ? [] : null,
        d = c ? r : r + 1,
        p = a;
      e: for (;;)
        if (u && p == s[u - 1].to) {
          if (f) break e;
          let m = s[--u];
          if (!c)
            for (let w = m.from, g = u; ; ) {
              if (w == e) break e;
              if (g && s[g - 1].to == w) w = s[--g].from;
              else {
                if (ge[w - 1] == l) break e;
                break;
              }
            }
          if (h) h.push(m);
          else {
            m.to < a && o.push(new ci(m.to, a, d));
            let w = (m.direction == ds) != !(d % 2);
            Zm(t, w ? r + 1 : r, i, m.inner, m.from, m.to, o), (a = m.from);
          }
          p = m.from;
        } else {
          if (p == e || (c ? ge[p - 1] != l : ge[p - 1] == l)) break;
          p--;
        }
      h ? Jm(t, p, a, r + 1, i, h, o) : p < a && o.push(new ci(p, a, d)),
        (a = p);
    }
}
function Zm(t, e, n, r, i, s, o) {
  let l = e % 2 ? 2 : 1;
  qP(t, i, s, r, l), GP(t, i, s, r, l), YP(i, s, r, l), Jm(t, i, s, e, n, r, o);
}
function XP(t, e, n) {
  if (!t) return [new ci(0, 0, e == ey ? 1 : 0)];
  if (e == ds && !n.length && !KP.test(t)) return gC(t.length);
  if (n.length) for (; t.length > ge.length; ) ge[ge.length] = 256;
  let r = [],
    i = e == ds ? 0 : 1;
  return Zm(t, i, i, n, 0, t.length, r), r;
}
function gC(t) {
  return [new ci(0, t, 0)];
}
let yC = "";
function QP(t, e, n, r, i) {
  var s;
  let o = r.head - t.from,
    l = ci.find(
      e,
      o,
      (s = r.bidiLevel) !== null && s !== void 0 ? s : -1,
      r.assoc
    ),
    a = e[l],
    u = a.side(i, n);
  if (o == u) {
    let h = (l += i ? 1 : -1);
    if (h < 0 || h >= e.length) return null;
    (a = e[(l = h)]), (o = a.side(!i, n)), (u = a.side(i, n));
  }
  let c = ft(t.text, o, a.forward(i, n));
  (c < a.from || c > a.to) && (c = u),
    (yC = t.text.slice(Math.min(o, c), Math.max(o, c)));
  let f = l == (i ? e.length - 1 : 0) ? null : e[l + (i ? 1 : -1)];
  return f && c == u && f.level + (i ? 0 : 1) < a.level
    ? A.cursor(f.side(!i, n) + t.from, f.forward(i, n) ? 1 : -1, f.level)
    : A.cursor(c + t.from, a.forward(i, n) ? -1 : 1, a.level);
}
function JP(t, e, n) {
  for (let r = e; r < n; r++) {
    let i = pC(t.charCodeAt(r));
    if (i == 1) return ds;
    if (i == 2 || i == 4) return ey;
  }
  return ds;
}
const vC = $.define(),
  wC = $.define(),
  bC = $.define(),
  xC = $.define(),
  eg = $.define(),
  SC = $.define(),
  kC = $.define(),
  CC = $.define({ combine: (t) => t.some((e) => e) }),
  _C = $.define({ combine: (t) => t.some((e) => e) }),
  AC = $.define();
class uo {
  constructor(e, n = "nearest", r = "nearest", i = 5, s = 5, o = !1) {
    (this.range = e),
      (this.y = n),
      (this.x = r),
      (this.yMargin = i),
      (this.xMargin = s),
      (this.isSnapshot = o);
  }
  map(e) {
    return e.empty
      ? this
      : new uo(
          this.range.map(e),
          this.y,
          this.x,
          this.yMargin,
          this.xMargin,
          this.isSnapshot
        );
  }
  clip(e) {
    return this.range.to <= e.doc.length
      ? this
      : new uo(
          A.cursor(e.doc.length),
          this.y,
          this.x,
          this.yMargin,
          this.xMargin,
          this.isSnapshot
        );
  }
}
const ju = Y.define({ map: (t, e) => t.map(e) });
function It(t, e, n) {
  let r = t.facet(xC);
  r.length
    ? r[0](e)
    : window.onerror
      ? window.onerror(String(e), n, void 0, void 0, e)
      : n
        ? console.error(n + ":", e)
        : console.error(e);
}
const Eh = $.define({ combine: (t) => (t.length ? t[0] : !0) });
let ZP = 0;
const gl = $.define();
class je {
  constructor(e, n, r, i, s) {
    (this.id = e),
      (this.create = n),
      (this.domEventHandlers = r),
      (this.domEventObservers = i),
      (this.extension = s(this));
  }
  static define(e, n) {
    const {
      eventHandlers: r,
      eventObservers: i,
      provide: s,
      decorations: o,
    } = n || {};
    return new je(ZP++, e, r, i, (l) => {
      let a = [gl.of(l)];
      return (
        o &&
          a.push(
            pa.of((u) => {
              let c = u.plugin(l);
              return c ? o(c) : U.none;
            })
          ),
        s && a.push(s(l)),
        a
      );
    });
  }
  static fromClass(e, n) {
    return je.define((r) => new e(r), n);
  }
}
class Qd {
  constructor(e) {
    (this.spec = e), (this.mustUpdate = null), (this.value = null);
  }
  update(e) {
    if (this.value) {
      if (this.mustUpdate) {
        let n = this.mustUpdate;
        if (((this.mustUpdate = null), this.value.update))
          try {
            this.value.update(n);
          } catch (r) {
            if (
              (It(n.state, r, "CodeMirror plugin crashed"), this.value.destroy)
            )
              try {
                this.value.destroy();
              } catch {}
            this.deactivate();
          }
      }
    } else if (this.spec)
      try {
        this.value = this.spec.create(e);
      } catch (n) {
        It(e.state, n, "CodeMirror plugin crashed"), this.deactivate();
      }
    return this;
  }
  destroy(e) {
    var n;
    if (!((n = this.value) === null || n === void 0) && n.destroy)
      try {
        this.value.destroy();
      } catch (r) {
        It(e.state, r, "CodeMirror plugin crashed");
      }
  }
  deactivate() {
    this.spec = this.value = null;
  }
}
const OC = $.define(),
  ty = $.define(),
  pa = $.define(),
  EC = $.define(),
  ny = $.define(),
  MC = $.define();
function Qv(t, e) {
  let n = t.state.facet(MC);
  if (!n.length) return n;
  let r = n.map((s) => (s instanceof Function ? s(t) : s)),
    i = [];
  return (
    re.spans(r, e.from, e.to, {
      point() {},
      span(s, o, l, a) {
        let u = s - e.from,
          c = o - e.from,
          f = i;
        for (let h = l.length - 1; h >= 0; h--, a--) {
          let d = l[h].spec.bidiIsolate,
            p;
          if (
            (d == null && (d = JP(e.text, u, c)),
            a > 0 &&
              f.length &&
              (p = f[f.length - 1]).to == u &&
              p.direction == d)
          )
            (p.to = c), (f = p.inner);
          else {
            let m = { from: u, to: c, direction: d, inner: [] };
            f.push(m), (f = m.inner);
          }
        }
      },
    }),
    i
  );
}
const TC = $.define();
function PC(t) {
  let e = 0,
    n = 0,
    r = 0,
    i = 0;
  for (let s of t.state.facet(TC)) {
    let o = s(t);
    o &&
      (o.left != null && (e = Math.max(e, o.left)),
      o.right != null && (n = Math.max(n, o.right)),
      o.top != null && (r = Math.max(r, o.top)),
      o.bottom != null && (i = Math.max(i, o.bottom)));
  }
  return { left: e, right: n, top: r, bottom: i };
}
const yl = $.define();
class An {
  constructor(e, n, r, i) {
    (this.fromA = e), (this.toA = n), (this.fromB = r), (this.toB = i);
  }
  join(e) {
    return new An(
      Math.min(this.fromA, e.fromA),
      Math.max(this.toA, e.toA),
      Math.min(this.fromB, e.fromB),
      Math.max(this.toB, e.toB)
    );
  }
  addToSet(e) {
    let n = e.length,
      r = this;
    for (; n > 0; n--) {
      let i = e[n - 1];
      if (!(i.fromA > r.toA)) {
        if (i.toA < r.fromA) break;
        (r = r.join(i)), e.splice(n - 1, 1);
      }
    }
    return e.splice(n, 0, r), e;
  }
  static extendWithRanges(e, n) {
    if (n.length == 0) return e;
    let r = [];
    for (let i = 0, s = 0, o = 0, l = 0; ; i++) {
      let a = i == e.length ? null : e[i],
        u = o - l,
        c = a ? a.fromB : 1e9;
      for (; s < n.length && n[s] < c; ) {
        let f = n[s],
          h = n[s + 1],
          d = Math.max(l, f),
          p = Math.min(c, h);
        if ((d <= p && new An(d + u, p + u, d, p).addToSet(r), h > c)) break;
        s += 2;
      }
      if (!a) return r;
      new An(a.fromA, a.toA, a.fromB, a.toB).addToSet(r),
        (o = a.toA),
        (l = a.toB);
    }
  }
}
class Sf {
  constructor(e, n, r) {
    (this.view = e),
      (this.state = n),
      (this.transactions = r),
      (this.flags = 0),
      (this.startState = e.state),
      (this.changes = Ye.empty(this.startState.doc.length));
    for (let s of r) this.changes = this.changes.compose(s.changes);
    let i = [];
    this.changes.iterChangedRanges((s, o, l, a) => i.push(new An(s, o, l, a))),
      (this.changedRanges = i);
  }
  static create(e, n, r) {
    return new Sf(e, n, r);
  }
  get viewportChanged() {
    return (this.flags & 4) > 0;
  }
  get heightChanged() {
    return (this.flags & 2) > 0;
  }
  get geometryChanged() {
    return this.docChanged || (this.flags & 10) > 0;
  }
  get focusChanged() {
    return (this.flags & 1) > 0;
  }
  get docChanged() {
    return !this.changes.empty;
  }
  get selectionSet() {
    return this.transactions.some((e) => e.selection);
  }
  get empty() {
    return this.flags == 0 && this.transactions.length == 0;
  }
}
class Jv extends ye {
  get length() {
    return this.view.state.doc.length;
  }
  constructor(e) {
    super(),
      (this.view = e),
      (this.decorations = []),
      (this.dynamicDecorationMap = []),
      (this.domChanged = null),
      (this.hasComposition = null),
      (this.markedForComposition = new Set()),
      (this.lastCompositionAfterCursor = !1),
      (this.minWidth = 0),
      (this.minWidthFrom = 0),
      (this.minWidthTo = 0),
      (this.impreciseAnchor = null),
      (this.impreciseHead = null),
      (this.forceSelection = !1),
      (this.lastUpdate = Date.now()),
      this.setDOM(e.contentDOM),
      (this.children = [new qe()]),
      this.children[0].setParent(this),
      this.updateDeco(),
      this.updateInner([new An(0, 0, 0, e.state.doc.length)], 0, null);
  }
  update(e) {
    var n;
    let r = e.changedRanges;
    this.minWidth > 0 &&
      r.length &&
      (r.every(
        ({ fromA: u, toA: c }) => c < this.minWidthFrom || u > this.minWidthTo
      )
        ? ((this.minWidthFrom = e.changes.mapPos(this.minWidthFrom, 1)),
          (this.minWidthTo = e.changes.mapPos(this.minWidthTo, 1)))
        : (this.minWidth = this.minWidthFrom = this.minWidthTo = 0));
    let i = -1;
    this.view.inputState.composing >= 0 &&
      (!((n = this.domChanged) === null || n === void 0) && n.newSel
        ? (i = this.domChanged.newSel.head)
        : !oR(e.changes, this.hasComposition) &&
          !e.selectionSet &&
          (i = e.state.selection.main.head));
    let s = i > -1 ? tR(this.view, e.changes, i) : null;
    if (((this.domChanged = null), this.hasComposition)) {
      this.markedForComposition.clear();
      let { from: u, to: c } = this.hasComposition;
      r = new An(
        u,
        c,
        e.changes.mapPos(u, -1),
        e.changes.mapPos(c, 1)
      ).addToSet(r.slice());
    }
    (this.hasComposition = s ? { from: s.range.fromB, to: s.range.toB } : null),
      (I.ie || I.chrome) &&
        !s &&
        e &&
        e.state.doc.lines != e.startState.doc.lines &&
        (this.forceSelection = !0);
    let o = this.decorations,
      l = this.updateDeco(),
      a = iR(o, l, e.changes);
    return (
      (r = An.extendWithRanges(r, a)),
      !(this.flags & 7) && r.length == 0
        ? !1
        : (this.updateInner(r, e.startState.doc.length, s),
          e.transactions.length && (this.lastUpdate = Date.now()),
          !0)
    );
  }
  updateInner(e, n, r) {
    (this.view.viewState.mustMeasureContent = !0), this.updateChildren(e, n, r);
    let { observer: i } = this.view;
    i.ignore(() => {
      (this.dom.style.height =
        this.view.viewState.contentHeight / this.view.scaleY + "px"),
        (this.dom.style.flexBasis = this.minWidth ? this.minWidth + "px" : "");
      let o =
        I.chrome || I.ios
          ? { node: i.selectionRange.focusNode, written: !1 }
          : void 0;
      this.sync(this.view, o),
        (this.flags &= -8),
        o &&
          (o.written || i.selectionRange.focusNode != o.node) &&
          (this.forceSelection = !0),
        (this.dom.style.height = "");
    }),
      this.markedForComposition.forEach((o) => (o.flags &= -9));
    let s = [];
    if (
      this.view.viewport.from ||
      this.view.viewport.to < this.view.state.doc.length
    )
      for (let o of this.children)
        o instanceof bi && o.widget instanceof Zv && s.push(o.dom);
    i.updateGaps(s);
  }
  updateChildren(e, n, r) {
    let i = r ? r.range.addToSet(e.slice()) : e,
      s = this.childCursor(n);
    for (let o = i.length - 1; ; o--) {
      let l = o >= 0 ? i[o] : null;
      if (!l) break;
      let { fromA: a, toA: u, fromB: c, toB: f } = l,
        h,
        d,
        p,
        m;
      if (r && r.range.fromB < f && r.range.toB > c) {
        let b = Bl.build(
            this.view.state.doc,
            c,
            r.range.fromB,
            this.decorations,
            this.dynamicDecorationMap
          ),
          x = Bl.build(
            this.view.state.doc,
            r.range.toB,
            f,
            this.decorations,
            this.dynamicDecorationMap
          );
        (d = b.breakAtStart), (p = b.openStart), (m = x.openEnd);
        let S = this.compositionView(r);
        x.breakAtStart
          ? (S.breakAfter = 1)
          : x.content.length &&
            S.merge(S.length, S.length, x.content[0], !1, x.openStart, 0) &&
            ((S.breakAfter = x.content[0].breakAfter), x.content.shift()),
          b.content.length &&
            S.merge(0, 0, b.content[b.content.length - 1], !0, 0, b.openEnd) &&
            b.content.pop(),
          (h = b.content.concat(S).concat(x.content));
      } else
        ({
          content: h,
          breakAtStart: d,
          openStart: p,
          openEnd: m,
        } = Bl.build(
          this.view.state.doc,
          c,
          f,
          this.decorations,
          this.dynamicDecorationMap
        ));
      let { i: w, off: g } = s.findPos(u, 1),
        { i: y, off: v } = s.findPos(a, -1);
      sC(this, y, v, w, g, h, d, p, m);
    }
    r && this.fixCompositionDOM(r);
  }
  compositionView(e) {
    let n = new Kn(e.text.nodeValue);
    n.flags |= 8;
    for (let { deco: i } of e.marks) n = new jr(i, [n], n.length);
    let r = new qe();
    return r.append(n, 0), r;
  }
  fixCompositionDOM(e) {
    let n = (s, o) => {
        (o.flags |= 8 | (o.children.some((a) => a.flags & 7) ? 1 : 0)),
          this.markedForComposition.add(o);
        let l = ye.get(s);
        l && l != o && (l.dom = null), o.setDOM(s);
      },
      r = this.childPos(e.range.fromB, 1),
      i = this.children[r.i];
    n(e.line, i);
    for (let s = e.marks.length - 1; s >= -1; s--)
      (r = i.childPos(r.off, 1)),
        (i = i.children[r.i]),
        n(s >= 0 ? e.marks[s].node : e.text, i);
  }
  updateSelection(e = !1, n = !1) {
    (e || !this.view.observer.selectionRange.focusNode) &&
      this.view.observer.readSelectionRange();
    let r = this.view.root.activeElement,
      i = r == this.dom,
      s =
        !i &&
        Mc(this.dom, this.view.observer.selectionRange) &&
        !(r && this.dom.contains(r));
    if (!(i || n || s)) return;
    let o = this.forceSelection;
    this.forceSelection = !1;
    let l = this.view.state.selection.main,
      a = this.moveToLine(this.domAtPos(l.anchor)),
      u = l.empty ? a : this.moveToLine(this.domAtPos(l.head));
    if (I.gecko && l.empty && !this.hasComposition && eR(a)) {
      let f = document.createTextNode("");
      this.view.observer.ignore(() =>
        a.node.insertBefore(f, a.node.childNodes[a.offset] || null)
      ),
        (a = u = new bt(f, 0)),
        (o = !0);
    }
    let c = this.view.observer.selectionRange;
    (o ||
      !c.focusNode ||
      ((!Ll(a.node, a.offset, c.anchorNode, c.anchorOffset) ||
        !Ll(u.node, u.offset, c.focusNode, c.focusOffset)) &&
        !this.suppressWidgetCursorChange(c, l))) &&
      (this.view.observer.ignore(() => {
        I.android &&
          I.chrome &&
          this.dom.contains(c.focusNode) &&
          sR(c.focusNode, this.dom) &&
          (this.dom.blur(), this.dom.focus({ preventScroll: !0 }));
        let f = bf(this.view.root);
        if (f)
          if (l.empty) {
            if (I.gecko) {
              let h = nR(a.node, a.offset);
              if (h && h != 3) {
                let d = (h == 1 ? nC : rC)(a.node, a.offset);
                d && (a = new bt(d.node, d.offset));
              }
            }
            f.collapse(a.node, a.offset),
              l.bidiLevel != null &&
                f.caretBidiLevel !== void 0 &&
                (f.caretBidiLevel = l.bidiLevel);
          } else if (f.extend) {
            f.collapse(a.node, a.offset);
            try {
              f.extend(u.node, u.offset);
            } catch {}
          } else {
            let h = document.createRange();
            l.anchor > l.head && ([a, u] = [u, a]),
              h.setEnd(u.node, u.offset),
              h.setStart(a.node, a.offset),
              f.removeAllRanges(),
              f.addRange(h);
          }
        s &&
          this.view.root.activeElement == this.dom &&
          (this.dom.blur(), r && r.focus());
      }),
      this.view.observer.setSelectionRange(a, u)),
      (this.impreciseAnchor = a.precise
        ? null
        : new bt(c.anchorNode, c.anchorOffset)),
      (this.impreciseHead = u.precise
        ? null
        : new bt(c.focusNode, c.focusOffset));
  }
  suppressWidgetCursorChange(e, n) {
    return (
      this.hasComposition &&
      n.empty &&
      Ll(e.focusNode, e.focusOffset, e.anchorNode, e.anchorOffset) &&
      this.posFromDOM(e.focusNode, e.focusOffset) == n.head
    );
  }
  enforceCursorAssoc() {
    if (this.hasComposition) return;
    let { view: e } = this,
      n = e.state.selection.main,
      r = bf(e.root),
      { anchorNode: i, anchorOffset: s } = e.observer.selectionRange;
    if (!r || !n.empty || !n.assoc || !r.modify) return;
    let o = qe.find(this, n.head);
    if (!o) return;
    let l = o.posAtStart;
    if (n.head == l || n.head == l + o.length) return;
    let a = this.coordsAt(n.head, -1),
      u = this.coordsAt(n.head, 1);
    if (!a || !u || a.bottom > u.top) return;
    let c = this.domAtPos(n.head + n.assoc);
    r.collapse(c.node, c.offset),
      r.modify("move", n.assoc < 0 ? "forward" : "backward", "lineboundary"),
      e.observer.readSelectionRange();
    let f = e.observer.selectionRange;
    e.docView.posFromDOM(f.anchorNode, f.anchorOffset) != n.from &&
      r.collapse(i, s);
  }
  moveToLine(e) {
    let n = this.dom,
      r;
    if (e.node != n) return e;
    for (let i = e.offset; !r && i < n.childNodes.length; i++) {
      let s = ye.get(n.childNodes[i]);
      s instanceof qe && (r = s.domAtPos(0));
    }
    for (let i = e.offset - 1; !r && i >= 0; i--) {
      let s = ye.get(n.childNodes[i]);
      s instanceof qe && (r = s.domAtPos(s.length));
    }
    return r ? new bt(r.node, r.offset, !0) : e;
  }
  nearest(e) {
    for (let n = e; n; ) {
      let r = ye.get(n);
      if (r && r.rootView == this) return r;
      n = n.parentNode;
    }
    return null;
  }
  posFromDOM(e, n) {
    let r = this.nearest(e);
    if (!r)
      throw new RangeError(
        "Trying to find position for a DOM position outside of the document"
      );
    return r.localPosFromDOM(e, n) + r.posAtStart;
  }
  domAtPos(e) {
    let { i: n, off: r } = this.childCursor().findPos(e, -1);
    for (; n < this.children.length - 1; ) {
      let i = this.children[n];
      if (r < i.length || i instanceof qe) break;
      n++, (r = 0);
    }
    return this.children[n].domAtPos(r);
  }
  coordsAt(e, n) {
    let r = null,
      i = 0;
    for (let s = this.length, o = this.children.length - 1; o >= 0; o--) {
      let l = this.children[o],
        a = s - l.breakAfter,
        u = a - l.length;
      if (a < e) break;
      u <= e &&
        (u < e || l.covers(-1)) &&
        (a > e || l.covers(1)) &&
        (!r || (l instanceof qe && !(r instanceof qe && n >= 0))) &&
        ((r = l), (i = u)),
        (s = u);
    }
    return r ? r.coordsAt(e - i, n) : null;
  }
  coordsForChar(e) {
    let { i: n, off: r } = this.childPos(e, 1),
      i = this.children[n];
    if (!(i instanceof qe)) return null;
    for (; i.children.length; ) {
      let { i: l, off: a } = i.childPos(r, 1);
      for (; ; l++) {
        if (l == i.children.length) return null;
        if ((i = i.children[l]).length) break;
      }
      r = a;
    }
    if (!(i instanceof Kn)) return null;
    let s = ft(i.text, r);
    if (s == r) return null;
    let o = hs(i.dom, r, s).getClientRects();
    for (let l = 0; l < o.length; l++) {
      let a = o[l];
      if (l == o.length - 1 || (a.top < a.bottom && a.left < a.right)) return a;
    }
    return null;
  }
  measureVisibleLineHeights(e) {
    let n = [],
      { from: r, to: i } = e,
      s = this.view.contentDOM.clientWidth,
      o = s > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1,
      l = -1,
      a = this.view.textDirection == Ce.LTR;
    for (let u = 0, c = 0; c < this.children.length; c++) {
      let f = this.children[c],
        h = u + f.length;
      if (h > i) break;
      if (u >= r) {
        let d = f.dom.getBoundingClientRect();
        if ((n.push(d.height), o)) {
          let p = f.dom.lastChild,
            m = p ? da(p) : [];
          if (m.length) {
            let w = m[m.length - 1],
              g = a ? w.right - d.left : d.right - w.left;
            g > l &&
              ((l = g),
              (this.minWidth = s),
              (this.minWidthFrom = u),
              (this.minWidthTo = h));
          }
        }
      }
      u = h + f.breakAfter;
    }
    return n;
  }
  textDirectionAt(e) {
    let { i: n } = this.childPos(e, 1);
    return getComputedStyle(this.children[n].dom).direction == "rtl"
      ? Ce.RTL
      : Ce.LTR;
  }
  measureTextSize() {
    for (let s of this.children)
      if (s instanceof qe) {
        let o = s.measureTextSize();
        if (o) return o;
      }
    let e = document.createElement("div"),
      n,
      r,
      i;
    return (
      (e.className = "cm-line"),
      (e.style.width = "99999px"),
      (e.style.position = "absolute"),
      (e.textContent = "abc def ghi jkl mno pqr stu"),
      this.view.observer.ignore(() => {
        this.dom.appendChild(e);
        let s = da(e.firstChild)[0];
        (n = e.getBoundingClientRect().height),
          (r = s ? s.width / 27 : 7),
          (i = s ? s.height : n),
          e.remove();
      }),
      { lineHeight: n, charWidth: r, textHeight: i }
    );
  }
  childCursor(e = this.length) {
    let n = this.children.length;
    return n && (e -= this.children[--n].length), new iC(this.children, e, n);
  }
  computeBlockGapDeco() {
    let e = [],
      n = this.view.viewState;
    for (let r = 0, i = 0; ; i++) {
      let s = i == n.viewports.length ? null : n.viewports[i],
        o = s ? s.from - 1 : this.length;
      if (o > r) {
        let l =
          (n.lineBlockAt(o).bottom - n.lineBlockAt(r).top) / this.view.scaleY;
        e.push(
          U.replace({
            widget: new Zv(l),
            block: !0,
            inclusive: !0,
            isBlockGap: !0,
          }).range(r, o)
        );
      }
      if (!s) break;
      r = s.to + 1;
    }
    return U.set(e);
  }
  updateDeco() {
    let e = 0,
      n = this.view.state
        .facet(pa)
        .map((s) =>
          (this.dynamicDecorationMap[e++] = typeof s == "function")
            ? s(this.view)
            : s
        ),
      r = !1,
      i = this.view.state.facet(EC).map((s, o) => {
        let l = typeof s == "function";
        return l && (r = !0), l ? s(this.view) : s;
      });
    for (
      i.length && ((this.dynamicDecorationMap[e++] = r), n.push(re.join(i))),
        this.decorations = [
          ...n,
          this.computeBlockGapDeco(),
          this.view.viewState.lineGapDeco,
        ];
      e < this.decorations.length;

    )
      this.dynamicDecorationMap[e++] = !1;
    return this.decorations;
  }
  scrollIntoView(e) {
    if (e.isSnapshot) {
      let u = this.view.viewState.lineBlockAt(e.range.head);
      (this.view.scrollDOM.scrollTop = u.top - e.yMargin),
        (this.view.scrollDOM.scrollLeft = e.xMargin);
      return;
    }
    for (let u of this.view.state.facet(AC))
      try {
        if (u(this.view, e.range, e)) return !0;
      } catch (c) {
        It(this.view.state, c, "scroll handler");
      }
    let { range: n } = e,
      r = this.coordsAt(n.head, n.empty ? n.assoc : n.head > n.anchor ? -1 : 1),
      i;
    if (!r) return;
    !n.empty &&
      (i = this.coordsAt(n.anchor, n.anchor > n.head ? -1 : 1)) &&
      (r = {
        left: Math.min(r.left, i.left),
        top: Math.min(r.top, i.top),
        right: Math.max(r.right, i.right),
        bottom: Math.max(r.bottom, i.bottom),
      });
    let s = PC(this.view),
      o = {
        left: r.left - s.left,
        top: r.top - s.top,
        right: r.right + s.right,
        bottom: r.bottom + s.bottom,
      },
      { offsetWidth: l, offsetHeight: a } = this.view.scrollDOM;
    LP(
      this.view.scrollDOM,
      o,
      n.head < n.anchor ? -1 : 1,
      e.x,
      e.y,
      Math.max(Math.min(e.xMargin, l), -l),
      Math.max(Math.min(e.yMargin, a), -a),
      this.view.textDirection == Ce.LTR
    );
  }
}
function eR(t) {
  return (
    t.node.nodeType == 1 &&
    t.node.firstChild &&
    (t.offset == 0 ||
      t.node.childNodes[t.offset - 1].contentEditable == "false") &&
    (t.offset == t.node.childNodes.length ||
      t.node.childNodes[t.offset].contentEditable == "false")
  );
}
class Zv extends Ii {
  constructor(e) {
    super(), (this.height = e);
  }
  toDOM() {
    let e = document.createElement("div");
    return (e.className = "cm-gap"), this.updateDOM(e), e;
  }
  eq(e) {
    return e.height == this.height;
  }
  updateDOM(e) {
    return (e.style.height = this.height + "px"), !0;
  }
  get editable() {
    return !0;
  }
  get estimatedHeight() {
    return this.height;
  }
  ignoreEvent() {
    return !1;
  }
}
function RC(t, e) {
  let n = t.observer.selectionRange;
  if (!n.focusNode) return null;
  let r = nC(n.focusNode, n.focusOffset),
    i = rC(n.focusNode, n.focusOffset),
    s = r || i;
  if (i && r && i.node != r.node) {
    let l = ye.get(i.node);
    if (!l || (l instanceof Kn && l.text != i.node.nodeValue)) s = i;
    else if (t.docView.lastCompositionAfterCursor) {
      let a = ye.get(r.node);
      !a || (a instanceof Kn && a.text != r.node.nodeValue) || (s = i);
    }
  }
  if (((t.docView.lastCompositionAfterCursor = s != r), !s)) return null;
  let o = e - s.offset;
  return { from: o, to: o + s.node.nodeValue.length, node: s.node };
}
function tR(t, e, n) {
  let r = RC(t, n);
  if (!r) return null;
  let { node: i, from: s, to: o } = r,
    l = i.nodeValue;
  if (/[\n\r]/.test(l) || t.state.doc.sliceString(r.from, r.to) != l)
    return null;
  let a = e.invertedDesc,
    u = new An(a.mapPos(s), a.mapPos(o), s, o),
    c = [];
  for (let f = i.parentNode; ; f = f.parentNode) {
    let h = ye.get(f);
    if (h instanceof jr) c.push({ node: f, deco: h.mark });
    else {
      if (
        h instanceof qe ||
        (f.nodeName == "DIV" && f.parentNode == t.contentDOM)
      )
        return { range: u, text: i, marks: c, line: f };
      if (f != t.contentDOM)
        c.push({
          node: f,
          deco: new tu({
            inclusive: !0,
            attributes: VP(f),
            tagName: f.tagName.toLowerCase(),
          }),
        });
      else return null;
    }
  }
}
function nR(t, e) {
  return t.nodeType != 1
    ? 0
    : (e && t.childNodes[e - 1].contentEditable == "false" ? 1 : 0) |
        (e < t.childNodes.length && t.childNodes[e].contentEditable == "false"
          ? 2
          : 0);
}
let rR = class {
  constructor() {
    this.changes = [];
  }
  compareRange(e, n) {
    Xm(e, n, this.changes);
  }
  comparePoint(e, n) {
    Xm(e, n, this.changes);
  }
};
function iR(t, e, n) {
  let r = new rR();
  return re.compare(t, e, n, r), r.changes;
}
function sR(t, e) {
  for (let n = t; n && n != e; n = n.assignedSlot || n.parentNode)
    if (n.nodeType == 1 && n.contentEditable == "false") return !0;
  return !1;
}
function oR(t, e) {
  let n = !1;
  return (
    e &&
      t.iterChangedRanges((r, i) => {
        r < e.to && i > e.from && (n = !0);
      }),
    n
  );
}
function lR(t, e, n = 1) {
  let r = t.charCategorizer(e),
    i = t.doc.lineAt(e),
    s = e - i.from;
  if (i.length == 0) return A.cursor(e);
  s == 0 ? (n = 1) : s == i.length && (n = -1);
  let o = s,
    l = s;
  n < 0 ? (o = ft(i.text, s, !1)) : (l = ft(i.text, s));
  let a = r(i.text.slice(o, l));
  for (; o > 0; ) {
    let u = ft(i.text, o, !1);
    if (r(i.text.slice(u, o)) != a) break;
    o = u;
  }
  for (; l < i.length; ) {
    let u = ft(i.text, l);
    if (r(i.text.slice(l, u)) != a) break;
    l = u;
  }
  return A.range(o + i.from, l + i.from);
}
function aR(t, e) {
  return e.left > t ? e.left - t : Math.max(0, t - e.right);
}
function uR(t, e) {
  return e.top > t ? e.top - t : Math.max(0, t - e.bottom);
}
function Jd(t, e) {
  return t.top < e.bottom - 1 && t.bottom > e.top + 1;
}
function ew(t, e) {
  return e < t.top
    ? { top: e, left: t.left, right: t.right, bottom: t.bottom }
    : t;
}
function tw(t, e) {
  return e > t.bottom
    ? { top: t.top, left: t.left, right: t.right, bottom: e }
    : t;
}
function tg(t, e, n) {
  let r,
    i,
    s,
    o,
    l = !1,
    a,
    u,
    c,
    f;
  for (let p = t.firstChild; p; p = p.nextSibling) {
    let m = da(p);
    for (let w = 0; w < m.length; w++) {
      let g = m[w];
      i && Jd(i, g) && (g = ew(tw(g, i.bottom), i.top));
      let y = aR(e, g),
        v = uR(n, g);
      if (y == 0 && v == 0) return p.nodeType == 3 ? nw(p, e, n) : tg(p, e, n);
      if (!r || o > v || (o == v && s > y)) {
        (r = p), (i = g), (s = y), (o = v);
        let b = v ? (n < g.top ? -1 : 1) : y ? (e < g.left ? -1 : 1) : 0;
        l = !b || (b > 0 ? w < m.length - 1 : w > 0);
      }
      y == 0
        ? n > g.bottom && (!c || c.bottom < g.bottom)
          ? ((a = p), (c = g))
          : n < g.top && (!f || f.top > g.top) && ((u = p), (f = g))
        : c && Jd(c, g)
          ? (c = tw(c, g.bottom))
          : f && Jd(f, g) && (f = ew(f, g.top));
    }
  }
  if (
    (c && c.bottom >= n
      ? ((r = a), (i = c))
      : f && f.top <= n && ((r = u), (i = f)),
    !r)
  )
    return { node: t, offset: 0 };
  let h = Math.max(i.left, Math.min(i.right, e));
  if (r.nodeType == 3) return nw(r, h, n);
  if (l && r.contentEditable != "false") return tg(r, h, n);
  let d =
    Array.prototype.indexOf.call(t.childNodes, r) +
    (e >= (i.left + i.right) / 2 ? 1 : 0);
  return { node: t, offset: d };
}
function nw(t, e, n) {
  let r = t.nodeValue.length,
    i = -1,
    s = 1e9,
    o = 0;
  for (let l = 0; l < r; l++) {
    let a = hs(t, l, l + 1).getClientRects();
    for (let u = 0; u < a.length; u++) {
      let c = a[u];
      if (c.top == c.bottom) continue;
      o || (o = e - c.left);
      let f = (c.top > n ? c.top - n : n - c.bottom) - 1;
      if (c.left - 1 <= e && c.right + 1 >= e && f < s) {
        let h = e >= (c.left + c.right) / 2,
          d = h;
        if (
          ((I.chrome || I.gecko) &&
            hs(t, l).getBoundingClientRect().left == c.right &&
            (d = !h),
          f <= 0)
        )
          return { node: t, offset: l + (d ? 1 : 0) };
        (i = l + (d ? 1 : 0)), (s = f);
      }
    }
  }
  return { node: t, offset: i > -1 ? i : o > 0 ? t.nodeValue.length : 0 };
}
function DC(t, e, n, r = -1) {
  var i, s;
  let o = t.contentDOM.getBoundingClientRect(),
    l = o.top + t.viewState.paddingTop,
    a,
    { docHeight: u } = t.viewState,
    { x: c, y: f } = e,
    h = f - l;
  if (h < 0) return 0;
  if (h > u) return t.state.doc.length;
  for (
    let b = t.viewState.heightOracle.textHeight / 2, x = !1;
    (a = t.elementAtHeight(h)), a.type != Mt.Text;

  )
    for (; (h = r > 0 ? a.bottom + b : a.top - b), !(h >= 0 && h <= u); ) {
      if (x) return n ? null : 0;
      (x = !0), (r = -r);
    }
  f = l + h;
  let d = a.from;
  if (d < t.viewport.from)
    return t.viewport.from == 0 ? 0 : n ? null : rw(t, o, a, c, f);
  if (d > t.viewport.to)
    return t.viewport.to == t.state.doc.length
      ? t.state.doc.length
      : n
        ? null
        : rw(t, o, a, c, f);
  let p = t.dom.ownerDocument,
    m = t.root.elementFromPoint ? t.root : p,
    w = m.elementFromPoint(c, f);
  w && !t.contentDOM.contains(w) && (w = null),
    w ||
      ((c = Math.max(o.left + 1, Math.min(o.right - 1, c))),
      (w = m.elementFromPoint(c, f)),
      w && !t.contentDOM.contains(w) && (w = null));
  let g,
    y = -1;
  if (
    w &&
    ((i = t.docView.nearest(w)) === null || i === void 0
      ? void 0
      : i.isEditable) != !1
  ) {
    if (p.caretPositionFromPoint) {
      let b = p.caretPositionFromPoint(c, f);
      b && ({ offsetNode: g, offset: y } = b);
    } else if (p.caretRangeFromPoint) {
      let b = p.caretRangeFromPoint(c, f);
      b &&
        (({ startContainer: g, startOffset: y } = b),
        (!t.contentDOM.contains(g) ||
          (I.safari && cR(g, y, c)) ||
          (I.chrome && fR(g, y, c))) &&
          (g = void 0));
    }
  }
  if (!g || !t.docView.dom.contains(g)) {
    let b = qe.find(t.docView, d);
    if (!b) return h > a.top + a.height / 2 ? a.to : a.from;
    ({ node: g, offset: y } = tg(b.dom, c, f));
  }
  let v = t.docView.nearest(g);
  if (!v) return null;
  if (
    v.isWidget &&
    ((s = v.dom) === null || s === void 0 ? void 0 : s.nodeType) == 1
  ) {
    let b = v.dom.getBoundingClientRect();
    return e.y < b.top || (e.y <= b.bottom && e.x <= (b.left + b.right) / 2)
      ? v.posAtStart
      : v.posAtEnd;
  } else return v.localPosFromDOM(g, y) + v.posAtStart;
}
function rw(t, e, n, r, i) {
  let s = Math.round((r - e.left) * t.defaultCharacterWidth);
  if (t.lineWrapping && n.height > t.defaultLineHeight * 1.5) {
    let l = t.viewState.heightOracle.textHeight,
      a = Math.floor((i - n.top - (t.defaultLineHeight - l) * 0.5) / l);
    s += a * t.viewState.heightOracle.lineLength;
  }
  let o = t.state.sliceDoc(n.from, n.to);
  return n.from + jm(o, s, t.state.tabSize);
}
function cR(t, e, n) {
  let r;
  if (t.nodeType != 3 || e != (r = t.nodeValue.length)) return !1;
  for (let i = t.nextSibling; i; i = i.nextSibling)
    if (i.nodeType != 1 || i.nodeName != "BR") return !1;
  return hs(t, r - 1, r).getBoundingClientRect().left > n;
}
function fR(t, e, n) {
  if (e != 0) return !1;
  for (let i = t; ; ) {
    let s = i.parentNode;
    if (!s || s.nodeType != 1 || s.firstChild != i) return !1;
    if (s.classList.contains("cm-line")) break;
    i = s;
  }
  let r =
    t.nodeType == 1
      ? t.getBoundingClientRect()
      : hs(t, 0, Math.max(t.nodeValue.length, 1)).getBoundingClientRect();
  return n - r.left > 5;
}
function ng(t, e) {
  let n = t.lineBlockAt(e);
  if (Array.isArray(n.type)) {
    for (let r of n.type)
      if (r.to > e || (r.to == e && (r.to == n.to || r.type == Mt.Text)))
        return r;
  }
  return n;
}
function hR(t, e, n, r) {
  let i = ng(t, e.head),
    s =
      !r || i.type != Mt.Text || !(t.lineWrapping || i.widgetLineBreaks)
        ? null
        : t.coordsAtPos(e.assoc < 0 && e.head > i.from ? e.head - 1 : e.head);
  if (s) {
    let o = t.dom.getBoundingClientRect(),
      l = t.textDirectionAt(i.from),
      a = t.posAtCoords({
        x: n == (l == Ce.LTR) ? o.right - 1 : o.left + 1,
        y: (s.top + s.bottom) / 2,
      });
    if (a != null) return A.cursor(a, n ? -1 : 1);
  }
  return A.cursor(n ? i.to : i.from, n ? -1 : 1);
}
function iw(t, e, n, r) {
  let i = t.state.doc.lineAt(e.head),
    s = t.bidiSpans(i),
    o = t.textDirectionAt(i.from);
  for (let l = e, a = null; ; ) {
    let u = QP(i, s, o, l, n),
      c = yC;
    if (!u) {
      if (i.number == (n ? t.state.doc.lines : 1)) return l;
      (c = `
`),
        (i = t.state.doc.line(i.number + (n ? 1 : -1))),
        (s = t.bidiSpans(i)),
        (u = t.visualLineSide(i, !n));
    }
    if (a) {
      if (!a(c)) return l;
    } else {
      if (!r) return u;
      a = r(c);
    }
    l = u;
  }
}
function dR(t, e, n) {
  let r = t.state.charCategorizer(e),
    i = r(n);
  return (s) => {
    let o = r(s);
    return i == Oe.Space && (i = o), i == o;
  };
}
function pR(t, e, n, r) {
  let i = e.head,
    s = n ? 1 : -1;
  if (i == (n ? t.state.doc.length : 0)) return A.cursor(i, e.assoc);
  let o = e.goalColumn,
    l,
    a = t.contentDOM.getBoundingClientRect(),
    u = t.coordsAtPos(i, e.assoc || -1),
    c = t.documentTop;
  if (u) o == null && (o = u.left - a.left), (l = s < 0 ? u.top : u.bottom);
  else {
    let d = t.viewState.lineBlockAt(i);
    o == null &&
      (o = Math.min(a.right - a.left, t.defaultCharacterWidth * (i - d.from))),
      (l = (s < 0 ? d.top : d.bottom) + c);
  }
  let f = a.left + o,
    h = r ?? t.viewState.heightOracle.textHeight >> 1;
  for (let d = 0; ; d += 10) {
    let p = l + (h + d) * s,
      m = DC(t, { x: f, y: p }, !1, s);
    if (p < a.top || p > a.bottom || (s < 0 ? m < i : m > i)) {
      let w = t.docView.coordsForChar(m),
        g = !w || p < w.top ? -1 : 1;
      return A.cursor(m, g, void 0, o);
    }
  }
}
function Tc(t, e, n) {
  for (;;) {
    let r = 0;
    for (let i of t)
      i.between(e - 1, e + 1, (s, o, l) => {
        if (e > s && e < o) {
          let a = r || n || (e - s < o - e ? -1 : 1);
          (e = a < 0 ? s : o), (r = a);
        }
      });
    if (!r) return e;
  }
}
function Zd(t, e, n) {
  let r = Tc(
    t.state.facet(ny).map((i) => i(t)),
    n.from,
    e.head > n.from ? -1 : 1
  );
  return r == n.from ? n : A.cursor(r, r < n.from ? 1 : -1);
}
class mR {
  setSelectionOrigin(e) {
    (this.lastSelectionOrigin = e), (this.lastSelectionTime = Date.now());
  }
  constructor(e) {
    (this.view = e),
      (this.lastKeyCode = 0),
      (this.lastKeyTime = 0),
      (this.lastTouchTime = 0),
      (this.lastFocusTime = 0),
      (this.lastScrollTop = 0),
      (this.lastScrollLeft = 0),
      (this.pendingIOSKey = void 0),
      (this.lastSelectionOrigin = null),
      (this.lastSelectionTime = 0),
      (this.lastEscPress = 0),
      (this.lastContextMenu = 0),
      (this.scrollHandlers = []),
      (this.handlers = Object.create(null)),
      (this.composing = -1),
      (this.compositionFirstChange = null),
      (this.compositionEndedAt = 0),
      (this.compositionPendingKey = !1),
      (this.compositionPendingChange = !1),
      (this.mouseSelection = null),
      (this.draggedContent = null),
      (this.handleEvent = this.handleEvent.bind(this)),
      (this.notifiedFocused = e.hasFocus),
      I.safari && e.contentDOM.addEventListener("input", () => null),
      I.gecko && PR(e.contentDOM.ownerDocument);
  }
  handleEvent(e) {
    !kR(this.view, e) ||
      this.ignoreDuringComposition(e) ||
      (e.type == "keydown" && this.keydown(e)) ||
      this.runHandlers(e.type, e);
  }
  runHandlers(e, n) {
    let r = this.handlers[e];
    if (r) {
      for (let i of r.observers) i(this.view, n);
      for (let i of r.handlers) {
        if (n.defaultPrevented) break;
        if (i(this.view, n)) {
          n.preventDefault();
          break;
        }
      }
    }
  }
  ensureHandlers(e) {
    let n = gR(e),
      r = this.handlers,
      i = this.view.contentDOM;
    for (let s in n)
      if (s != "scroll") {
        let o = !n[s].handlers.length,
          l = r[s];
        l &&
          o != !l.handlers.length &&
          (i.removeEventListener(s, this.handleEvent), (l = null)),
          l || i.addEventListener(s, this.handleEvent, { passive: o });
      }
    for (let s in r)
      s != "scroll" && !n[s] && i.removeEventListener(s, this.handleEvent);
    this.handlers = n;
  }
  keydown(e) {
    if (
      ((this.lastKeyCode = e.keyCode),
      (this.lastKeyTime = Date.now()),
      e.keyCode == 9 && Date.now() < this.lastEscPress + 2e3)
    )
      return !0;
    if (
      (e.keyCode != 27 &&
        BC.indexOf(e.keyCode) < 0 &&
        (this.view.inputState.lastEscPress = 0),
      I.android &&
        I.chrome &&
        !e.synthetic &&
        (e.keyCode == 13 || e.keyCode == 8))
    )
      return this.view.observer.delayAndroidKey(e.key, e.keyCode), !0;
    let n;
    return I.ios &&
      !e.synthetic &&
      !e.altKey &&
      !e.metaKey &&
      (((n = LC.find((r) => r.keyCode == e.keyCode)) && !e.ctrlKey) ||
        (yR.indexOf(e.key) > -1 && e.ctrlKey && !e.shiftKey))
      ? ((this.pendingIOSKey = n || e),
        setTimeout(() => this.flushIOSKey(), 250),
        !0)
      : (e.keyCode != 229 && this.view.observer.forceFlush(), !1);
  }
  flushIOSKey(e) {
    let n = this.pendingIOSKey;
    return !n ||
      (n.key == "Enter" &&
        e &&
        e.from < e.to &&
        /^\S+$/.test(e.insert.toString()))
      ? !1
      : ((this.pendingIOSKey = void 0),
        ao(
          this.view.contentDOM,
          n.key,
          n.keyCode,
          n instanceof KeyboardEvent ? n : void 0
        ));
  }
  ignoreDuringComposition(e) {
    return /^key/.test(e.type)
      ? this.composing > 0
        ? !0
        : I.safari &&
            !I.ios &&
            this.compositionPendingKey &&
            Date.now() - this.compositionEndedAt < 100
          ? ((this.compositionPendingKey = !1), !0)
          : !1
      : !1;
  }
  startMouseSelection(e) {
    this.mouseSelection && this.mouseSelection.destroy(),
      (this.mouseSelection = e);
  }
  update(e) {
    this.mouseSelection && this.mouseSelection.update(e),
      this.draggedContent &&
        e.docChanged &&
        (this.draggedContent = this.draggedContent.map(e.changes)),
      e.transactions.length && (this.lastKeyCode = this.lastSelectionTime = 0);
  }
  destroy() {
    this.mouseSelection && this.mouseSelection.destroy();
  }
}
function sw(t, e) {
  return (n, r) => {
    try {
      return e.call(t, r, n);
    } catch (i) {
      It(n.state, i);
    }
  };
}
function gR(t) {
  let e = Object.create(null);
  function n(r) {
    return e[r] || (e[r] = { observers: [], handlers: [] });
  }
  for (let r of t) {
    let i = r.spec;
    if (i && i.domEventHandlers)
      for (let s in i.domEventHandlers) {
        let o = i.domEventHandlers[s];
        o && n(s).handlers.push(sw(r.value, o));
      }
    if (i && i.domEventObservers)
      for (let s in i.domEventObservers) {
        let o = i.domEventObservers[s];
        o && n(s).observers.push(sw(r.value, o));
      }
  }
  for (let r in qn) n(r).handlers.push(qn[r]);
  for (let r in Mn) n(r).observers.push(Mn[r]);
  return e;
}
const LC = [
    { key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" },
    { key: "Enter", keyCode: 13, inputType: "insertParagraph" },
    { key: "Enter", keyCode: 13, inputType: "insertLineBreak" },
    { key: "Delete", keyCode: 46, inputType: "deleteContentForward" },
  ],
  yR = "dthko",
  BC = [16, 17, 18, 20, 91, 92, 224, 225],
  Vu = 6;
function Wu(t) {
  return Math.max(0, t) * 0.7 + 8;
}
function vR(t, e) {
  return Math.max(
    Math.abs(t.clientX - e.clientX),
    Math.abs(t.clientY - e.clientY)
  );
}
class wR {
  constructor(e, n, r, i) {
    (this.view = e),
      (this.startEvent = n),
      (this.style = r),
      (this.mustSelect = i),
      (this.scrollSpeed = { x: 0, y: 0 }),
      (this.scrolling = -1),
      (this.lastEvent = n),
      (this.scrollParent = BP(e.contentDOM)),
      (this.atoms = e.state.facet(ny).map((o) => o(e)));
    let s = e.contentDOM.ownerDocument;
    s.addEventListener("mousemove", (this.move = this.move.bind(this))),
      s.addEventListener("mouseup", (this.up = this.up.bind(this))),
      (this.extend = n.shiftKey),
      (this.multiple = e.state.facet(Z.allowMultipleSelections) && bR(e, n)),
      (this.dragging = SR(e, n) && FC(n) == 1 ? null : !1);
  }
  start(e) {
    this.dragging === !1 && this.select(e);
  }
  move(e) {
    var n;
    if (e.buttons == 0) return this.destroy();
    if (this.dragging || (this.dragging == null && vR(this.startEvent, e) < 10))
      return;
    this.select((this.lastEvent = e));
    let r = 0,
      i = 0,
      s = ((n = this.scrollParent) === null || n === void 0
        ? void 0
        : n.getBoundingClientRect()) || {
        left: 0,
        top: 0,
        right: this.view.win.innerWidth,
        bottom: this.view.win.innerHeight,
      },
      o = PC(this.view);
    e.clientX - o.left <= s.left + Vu
      ? (r = -Wu(s.left - e.clientX))
      : e.clientX + o.right >= s.right - Vu && (r = Wu(e.clientX - s.right)),
      e.clientY - o.top <= s.top + Vu
        ? (i = -Wu(s.top - e.clientY))
        : e.clientY + o.bottom >= s.bottom - Vu &&
          (i = Wu(e.clientY - s.bottom)),
      this.setScrollSpeed(r, i);
  }
  up(e) {
    this.dragging == null && this.select(this.lastEvent),
      this.dragging || e.preventDefault(),
      this.destroy();
  }
  destroy() {
    this.setScrollSpeed(0, 0);
    let e = this.view.contentDOM.ownerDocument;
    e.removeEventListener("mousemove", this.move),
      e.removeEventListener("mouseup", this.up),
      (this.view.inputState.mouseSelection =
        this.view.inputState.draggedContent =
          null);
  }
  setScrollSpeed(e, n) {
    (this.scrollSpeed = { x: e, y: n }),
      e || n
        ? this.scrolling < 0 &&
          (this.scrolling = setInterval(() => this.scroll(), 50))
        : this.scrolling > -1 &&
          (clearInterval(this.scrolling), (this.scrolling = -1));
  }
  scroll() {
    this.scrollParent
      ? ((this.scrollParent.scrollLeft += this.scrollSpeed.x),
        (this.scrollParent.scrollTop += this.scrollSpeed.y))
      : this.view.win.scrollBy(this.scrollSpeed.x, this.scrollSpeed.y),
      this.dragging === !1 && this.select(this.lastEvent);
  }
  skipAtoms(e) {
    let n = null;
    for (let r = 0; r < e.ranges.length; r++) {
      let i = e.ranges[r],
        s = null;
      if (i.empty) {
        let o = Tc(this.atoms, i.from, 0);
        o != i.from && (s = A.cursor(o, -1));
      } else {
        let o = Tc(this.atoms, i.from, -1),
          l = Tc(this.atoms, i.to, 1);
        (o != i.from || l != i.to) &&
          (s = A.range(i.from == i.anchor ? o : l, i.from == i.head ? o : l));
      }
      s && (n || (n = e.ranges.slice()), (n[r] = s));
    }
    return n ? A.create(n, e.mainIndex) : e;
  }
  select(e) {
    let { view: n } = this,
      r = this.skipAtoms(this.style.get(e, this.extend, this.multiple));
    (this.mustSelect || !r.eq(n.state.selection, this.dragging === !1)) &&
      this.view.dispatch({ selection: r, userEvent: "select.pointer" }),
      (this.mustSelect = !1);
  }
  update(e) {
    this.style.update(e) && setTimeout(() => this.select(this.lastEvent), 20);
  }
}
function bR(t, e) {
  let n = t.state.facet(vC);
  return n.length ? n[0](e) : I.mac ? e.metaKey : e.ctrlKey;
}
function xR(t, e) {
  let n = t.state.facet(wC);
  return n.length ? n[0](e) : I.mac ? !e.altKey : !e.ctrlKey;
}
function SR(t, e) {
  let { main: n } = t.state.selection;
  if (n.empty) return !1;
  let r = bf(t.root);
  if (!r || r.rangeCount == 0) return !0;
  let i = r.getRangeAt(0).getClientRects();
  for (let s = 0; s < i.length; s++) {
    let o = i[s];
    if (
      o.left <= e.clientX &&
      o.right >= e.clientX &&
      o.top <= e.clientY &&
      o.bottom >= e.clientY
    )
      return !0;
  }
  return !1;
}
function kR(t, e) {
  if (!e.bubbles) return !0;
  if (e.defaultPrevented) return !1;
  for (let n = e.target, r; n != t.contentDOM; n = n.parentNode)
    if (!n || n.nodeType == 11 || ((r = ye.get(n)) && r.ignoreEvent(e)))
      return !1;
  return !0;
}
const qn = Object.create(null),
  Mn = Object.create(null),
  NC = (I.ie && I.ie_version < 15) || (I.ios && I.webkit_version < 604);
function CR(t) {
  let e = t.dom.parentNode;
  if (!e) return;
  let n = e.appendChild(document.createElement("textarea"));
  (n.style.cssText = "position: fixed; left: -10000px; top: 10px"),
    n.focus(),
    setTimeout(() => {
      t.focus(), n.remove(), IC(t, n.value);
    }, 50);
}
function IC(t, e) {
  let { state: n } = t,
    r,
    i = 1,
    s = n.toText(e),
    o = s.lines == n.selection.ranges.length;
  if (
    rg != null &&
    n.selection.ranges.every((a) => a.empty) &&
    rg == s.toString()
  ) {
    let a = -1;
    r = n.changeByRange((u) => {
      let c = n.doc.lineAt(u.from);
      if (c.from == a) return { range: u };
      a = c.from;
      let f = n.toText((o ? s.line(i++).text : e) + n.lineBreak);
      return {
        changes: { from: c.from, insert: f },
        range: A.cursor(u.from + f.length),
      };
    });
  } else
    o
      ? (r = n.changeByRange((a) => {
          let u = s.line(i++);
          return {
            changes: { from: a.from, to: a.to, insert: u.text },
            range: A.cursor(a.from + u.length),
          };
        }))
      : (r = n.replaceSelection(s));
  t.dispatch(r, { userEvent: "input.paste", scrollIntoView: !0 });
}
Mn.scroll = (t) => {
  (t.inputState.lastScrollTop = t.scrollDOM.scrollTop),
    (t.inputState.lastScrollLeft = t.scrollDOM.scrollLeft);
};
qn.keydown = (t, e) => (
  t.inputState.setSelectionOrigin("select"),
  e.keyCode == 27 && (t.inputState.lastEscPress = Date.now()),
  !1
);
Mn.touchstart = (t, e) => {
  (t.inputState.lastTouchTime = Date.now()),
    t.inputState.setSelectionOrigin("select.pointer");
};
Mn.touchmove = (t) => {
  t.inputState.setSelectionOrigin("select.pointer");
};
qn.mousedown = (t, e) => {
  if ((t.observer.flush(), t.inputState.lastTouchTime > Date.now() - 2e3))
    return !1;
  let n = null;
  for (let r of t.state.facet(bC)) if (((n = r(t, e)), n)) break;
  if ((!n && e.button == 0 && (n = OR(t, e)), n)) {
    let r = !t.hasFocus;
    t.inputState.startMouseSelection(new wR(t, e, n, r)),
      r && t.observer.ignore(() => Zk(t.contentDOM));
    let i = t.inputState.mouseSelection;
    if (i) return i.start(e), i.dragging === !1;
  }
  return !1;
};
function ow(t, e, n, r) {
  if (r == 1) return A.cursor(e, n);
  if (r == 2) return lR(t.state, e, n);
  {
    let i = qe.find(t.docView, e),
      s = t.state.doc.lineAt(i ? i.posAtEnd : e),
      o = i ? i.posAtStart : s.from,
      l = i ? i.posAtEnd : s.to;
    return l < t.state.doc.length && l == s.to && l++, A.range(o, l);
  }
}
let $C = (t, e) => t >= e.top && t <= e.bottom,
  lw = (t, e, n) => $C(e, n) && t >= n.left && t <= n.right;
function _R(t, e, n, r) {
  let i = qe.find(t.docView, e);
  if (!i) return 1;
  let s = e - i.posAtStart;
  if (s == 0) return 1;
  if (s == i.length) return -1;
  let o = i.coordsAt(s, -1);
  if (o && lw(n, r, o)) return -1;
  let l = i.coordsAt(s, 1);
  return l && lw(n, r, l) ? 1 : o && $C(r, o) ? -1 : 1;
}
function aw(t, e) {
  let n = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1);
  return { pos: n, bias: _R(t, n, e.clientX, e.clientY) };
}
const AR = I.ie && I.ie_version <= 11;
let uw = null,
  cw = 0,
  fw = 0;
function FC(t) {
  if (!AR) return t.detail;
  let e = uw,
    n = fw;
  return (
    (uw = t),
    (fw = Date.now()),
    (cw =
      !e ||
      (n > Date.now() - 400 &&
        Math.abs(e.clientX - t.clientX) < 2 &&
        Math.abs(e.clientY - t.clientY) < 2)
        ? (cw + 1) % 3
        : 1)
  );
}
function OR(t, e) {
  let n = aw(t, e),
    r = FC(e),
    i = t.state.selection;
  return {
    update(s) {
      s.docChanged &&
        ((n.pos = s.changes.mapPos(n.pos)), (i = i.map(s.changes)));
    },
    get(s, o, l) {
      let a = aw(t, s),
        u,
        c = ow(t, a.pos, a.bias, r);
      if (n.pos != a.pos && !o) {
        let f = ow(t, n.pos, n.bias, r),
          h = Math.min(f.from, c.from),
          d = Math.max(f.to, c.to);
        c = h < c.from ? A.range(h, d) : A.range(d, h);
      }
      return o
        ? i.replaceRange(i.main.extend(c.from, c.to))
        : l && r == 1 && i.ranges.length > 1 && (u = ER(i, a.pos))
          ? u
          : l
            ? i.addRange(c)
            : A.create([c]);
    },
  };
}
function ER(t, e) {
  for (let n = 0; n < t.ranges.length; n++) {
    let { from: r, to: i } = t.ranges[n];
    if (r <= e && i >= e)
      return A.create(
        t.ranges.slice(0, n).concat(t.ranges.slice(n + 1)),
        t.mainIndex == n ? 0 : t.mainIndex - (t.mainIndex > n ? 1 : 0)
      );
  }
  return null;
}
qn.dragstart = (t, e) => {
  let {
    selection: { main: n },
  } = t.state;
  if (e.target.draggable) {
    let i = t.docView.nearest(e.target);
    if (i && i.isWidget) {
      let s = i.posAtStart,
        o = s + i.length;
      (s >= n.to || o <= n.from) && (n = A.range(s, o));
    }
  }
  let { inputState: r } = t;
  return (
    r.mouseSelection && (r.mouseSelection.dragging = !0),
    (r.draggedContent = n),
    e.dataTransfer &&
      (e.dataTransfer.setData("Text", t.state.sliceDoc(n.from, n.to)),
      (e.dataTransfer.effectAllowed = "copyMove")),
    !1
  );
};
qn.dragend = (t) => ((t.inputState.draggedContent = null), !1);
function hw(t, e, n, r) {
  if (!n) return;
  let i = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1),
    { draggedContent: s } = t.inputState,
    o = r && s && xR(t, e) ? { from: s.from, to: s.to } : null,
    l = { from: i, insert: n },
    a = t.state.changes(o ? [o, l] : l);
  t.focus(),
    t.dispatch({
      changes: a,
      selection: { anchor: a.mapPos(i, -1), head: a.mapPos(i, 1) },
      userEvent: o ? "move.drop" : "input.drop",
    }),
    (t.inputState.draggedContent = null);
}
qn.drop = (t, e) => {
  if (!e.dataTransfer) return !1;
  if (t.state.readOnly) return !0;
  let n = e.dataTransfer.files;
  if (n && n.length) {
    let r = Array(n.length),
      i = 0,
      s = () => {
        ++i == n.length &&
          hw(t, e, r.filter((o) => o != null).join(t.state.lineBreak), !1);
      };
    for (let o = 0; o < n.length; o++) {
      let l = new FileReader();
      (l.onerror = s),
        (l.onload = () => {
          /[\x00-\x08\x0e-\x1f]{2}/.test(l.result) || (r[o] = l.result), s();
        }),
        l.readAsText(n[o]);
    }
    return !0;
  } else {
    let r = e.dataTransfer.getData("Text");
    if (r) return hw(t, e, r, !0), !0;
  }
  return !1;
};
qn.paste = (t, e) => {
  if (t.state.readOnly) return !0;
  t.observer.flush();
  let n = NC ? null : e.clipboardData;
  return n
    ? (IC(t, n.getData("text/plain") || n.getData("text/uri-list")), !0)
    : (CR(t), !1);
};
function MR(t, e) {
  let n = t.dom.parentNode;
  if (!n) return;
  let r = n.appendChild(document.createElement("textarea"));
  (r.style.cssText = "position: fixed; left: -10000px; top: 10px"),
    (r.value = e),
    r.focus(),
    (r.selectionEnd = e.length),
    (r.selectionStart = 0),
    setTimeout(() => {
      r.remove(), t.focus();
    }, 50);
}
function TR(t) {
  let e = [],
    n = [],
    r = !1;
  for (let i of t.selection.ranges)
    i.empty || (e.push(t.sliceDoc(i.from, i.to)), n.push(i));
  if (!e.length) {
    let i = -1;
    for (let { from: s } of t.selection.ranges) {
      let o = t.doc.lineAt(s);
      o.number > i &&
        (e.push(o.text),
        n.push({ from: o.from, to: Math.min(t.doc.length, o.to + 1) })),
        (i = o.number);
    }
    r = !0;
  }
  return { text: e.join(t.lineBreak), ranges: n, linewise: r };
}
let rg = null;
qn.copy = qn.cut = (t, e) => {
  let { text: n, ranges: r, linewise: i } = TR(t.state);
  if (!n && !i) return !1;
  (rg = i ? n : null),
    e.type == "cut" &&
      !t.state.readOnly &&
      t.dispatch({ changes: r, scrollIntoView: !0, userEvent: "delete.cut" });
  let s = NC ? null : e.clipboardData;
  return s ? (s.clearData(), s.setData("text/plain", n), !0) : (MR(t, n), !1);
};
const zC = Kr.define();
function jC(t, e) {
  let n = [];
  for (let r of t.facet(kC)) {
    let i = r(t, e);
    i && n.push(i);
  }
  return n ? t.update({ effects: n, annotations: zC.of(!0) }) : null;
}
function VC(t) {
  setTimeout(() => {
    let e = t.hasFocus;
    if (e != t.inputState.notifiedFocused) {
      let n = jC(t.state, e);
      n ? t.dispatch(n) : t.update([]);
    }
  }, 10);
}
Mn.focus = (t) => {
  (t.inputState.lastFocusTime = Date.now()),
    !t.scrollDOM.scrollTop &&
      (t.inputState.lastScrollTop || t.inputState.lastScrollLeft) &&
      ((t.scrollDOM.scrollTop = t.inputState.lastScrollTop),
      (t.scrollDOM.scrollLeft = t.inputState.lastScrollLeft)),
    VC(t);
};
Mn.blur = (t) => {
  t.observer.clearSelectionRange(), VC(t);
};
Mn.compositionstart = Mn.compositionupdate = (t) => {
  t.inputState.compositionFirstChange == null &&
    (t.inputState.compositionFirstChange = !0),
    t.inputState.composing < 0 && (t.inputState.composing = 0);
};
Mn.compositionend = (t) => {
  (t.inputState.composing = -1),
    (t.inputState.compositionEndedAt = Date.now()),
    (t.inputState.compositionPendingKey = !0),
    (t.inputState.compositionPendingChange =
      t.observer.pendingRecords().length > 0),
    (t.inputState.compositionFirstChange = null),
    I.chrome && I.android
      ? t.observer.flushSoon()
      : t.inputState.compositionPendingChange
        ? Promise.resolve().then(() => t.observer.flush())
        : setTimeout(() => {
            t.inputState.composing < 0 &&
              t.docView.hasComposition &&
              t.update([]);
          }, 50);
};
Mn.contextmenu = (t) => {
  t.inputState.lastContextMenu = Date.now();
};
qn.beforeinput = (t, e) => {
  var n;
  let r;
  if (
    I.chrome &&
    I.android &&
    (r = LC.find((i) => i.inputType == e.inputType)) &&
    (t.observer.delayAndroidKey(r.key, r.keyCode),
    r.key == "Backspace" || r.key == "Delete")
  ) {
    let i =
      ((n = window.visualViewport) === null || n === void 0
        ? void 0
        : n.height) || 0;
    setTimeout(() => {
      var s;
      (((s = window.visualViewport) === null || s === void 0
        ? void 0
        : s.height) || 0) >
        i + 10 &&
        t.hasFocus &&
        (t.contentDOM.blur(), t.focus());
    }, 100);
  }
  return (
    I.ios && e.inputType == "deleteContentForward" && t.observer.flushSoon(),
    I.safari &&
      e.inputType == "insertText" &&
      t.inputState.composing >= 0 &&
      setTimeout(() => Mn.compositionend(t, e), 20),
    !1
  );
};
const dw = new Set();
function PR(t) {
  dw.has(t) ||
    (dw.add(t),
    t.addEventListener("copy", () => {}),
    t.addEventListener("cut", () => {}));
}
const pw = ["pre-wrap", "normal", "pre-line", "break-spaces"];
class RR {
  constructor(e) {
    (this.lineWrapping = e),
      (this.doc = ce.empty),
      (this.heightSamples = {}),
      (this.lineHeight = 14),
      (this.charWidth = 7),
      (this.textHeight = 14),
      (this.lineLength = 30),
      (this.heightChanged = !1);
  }
  heightForGap(e, n) {
    let r = this.doc.lineAt(n).number - this.doc.lineAt(e).number + 1;
    return (
      this.lineWrapping &&
        (r += Math.max(
          0,
          Math.ceil((n - e - r * this.lineLength * 0.5) / this.lineLength)
        )),
      this.lineHeight * r
    );
  }
  heightForLine(e) {
    return this.lineWrapping
      ? (1 +
          Math.max(
            0,
            Math.ceil((e - this.lineLength) / (this.lineLength - 5))
          )) *
          this.lineHeight
      : this.lineHeight;
  }
  setDoc(e) {
    return (this.doc = e), this;
  }
  mustRefreshForWrapping(e) {
    return pw.indexOf(e) > -1 != this.lineWrapping;
  }
  mustRefreshForHeights(e) {
    let n = !1;
    for (let r = 0; r < e.length; r++) {
      let i = e[r];
      i < 0
        ? r++
        : this.heightSamples[Math.floor(i * 10)] ||
          ((n = !0), (this.heightSamples[Math.floor(i * 10)] = !0));
    }
    return n;
  }
  refresh(e, n, r, i, s, o) {
    let l = pw.indexOf(e) > -1,
      a =
        Math.round(n) != Math.round(this.lineHeight) || this.lineWrapping != l;
    if (
      ((this.lineWrapping = l),
      (this.lineHeight = n),
      (this.charWidth = r),
      (this.textHeight = i),
      (this.lineLength = s),
      a)
    ) {
      this.heightSamples = {};
      for (let u = 0; u < o.length; u++) {
        let c = o[u];
        c < 0 ? u++ : (this.heightSamples[Math.floor(c * 10)] = !0);
      }
    }
    return a;
  }
}
class DR {
  constructor(e, n) {
    (this.from = e), (this.heights = n), (this.index = 0);
  }
  get more() {
    return this.index < this.heights.length;
  }
}
class cr {
  constructor(e, n, r, i, s) {
    (this.from = e),
      (this.length = n),
      (this.top = r),
      (this.height = i),
      (this._content = s);
  }
  get type() {
    return typeof this._content == "number"
      ? Mt.Text
      : Array.isArray(this._content)
        ? this._content
        : this._content.type;
  }
  get to() {
    return this.from + this.length;
  }
  get bottom() {
    return this.top + this.height;
  }
  get widget() {
    return this._content instanceof Ti ? this._content.widget : null;
  }
  get widgetLineBreaks() {
    return typeof this._content == "number" ? this._content : 0;
  }
  join(e) {
    let n = (Array.isArray(this._content) ? this._content : [this]).concat(
      Array.isArray(e._content) ? e._content : [e]
    );
    return new cr(
      this.from,
      this.length + e.length,
      this.top,
      this.height + e.height,
      n
    );
  }
}
var Se = (function (t) {
  return (
    (t[(t.ByPos = 0)] = "ByPos"),
    (t[(t.ByHeight = 1)] = "ByHeight"),
    (t[(t.ByPosNoHeight = 2)] = "ByPosNoHeight"),
    t
  );
})(Se || (Se = {}));
const Pc = 0.001;
class Tt {
  constructor(e, n, r = 2) {
    (this.length = e), (this.height = n), (this.flags = r);
  }
  get outdated() {
    return (this.flags & 2) > 0;
  }
  set outdated(e) {
    this.flags = (e ? 2 : 0) | (this.flags & -3);
  }
  setHeight(e, n) {
    this.height != n &&
      (Math.abs(this.height - n) > Pc && (e.heightChanged = !0),
      (this.height = n));
  }
  replace(e, n, r) {
    return Tt.of(r);
  }
  decomposeLeft(e, n) {
    n.push(this);
  }
  decomposeRight(e, n) {
    n.push(this);
  }
  applyChanges(e, n, r, i) {
    let s = this,
      o = r.doc;
    for (let l = i.length - 1; l >= 0; l--) {
      let { fromA: a, toA: u, fromB: c, toB: f } = i[l],
        h = s.lineAt(a, Se.ByPosNoHeight, r.setDoc(n), 0, 0),
        d = h.to >= u ? h : s.lineAt(u, Se.ByPosNoHeight, r, 0, 0);
      for (f += d.to - u, u = d.to; l > 0 && h.from <= i[l - 1].toA; )
        (a = i[l - 1].fromA),
          (c = i[l - 1].fromB),
          l--,
          a < h.from && (h = s.lineAt(a, Se.ByPosNoHeight, r, 0, 0));
      (c += h.from - a), (a = h.from);
      let p = ry.build(r.setDoc(o), e, c, f);
      s = s.replace(a, u, p);
    }
    return s.updateHeight(r, 0);
  }
  static empty() {
    return new Yt(0, 0);
  }
  static of(e) {
    if (e.length == 1) return e[0];
    let n = 0,
      r = e.length,
      i = 0,
      s = 0;
    for (;;)
      if (n == r)
        if (i > s * 2) {
          let l = e[n - 1];
          l.break
            ? e.splice(--n, 1, l.left, null, l.right)
            : e.splice(--n, 1, l.left, l.right),
            (r += 1 + l.break),
            (i -= l.size);
        } else if (s > i * 2) {
          let l = e[r];
          l.break
            ? e.splice(r, 1, l.left, null, l.right)
            : e.splice(r, 1, l.left, l.right),
            (r += 2 + l.break),
            (s -= l.size);
        } else break;
      else if (i < s) {
        let l = e[n++];
        l && (i += l.size);
      } else {
        let l = e[--r];
        l && (s += l.size);
      }
    let o = 0;
    return (
      e[n - 1] == null ? ((o = 1), n--) : e[n] == null && ((o = 1), r++),
      new LR(Tt.of(e.slice(0, n)), o, Tt.of(e.slice(r)))
    );
  }
}
Tt.prototype.size = 1;
class WC extends Tt {
  constructor(e, n, r) {
    super(e, n), (this.deco = r);
  }
  blockAt(e, n, r, i) {
    return new cr(i, this.length, r, this.height, this.deco || 0);
  }
  lineAt(e, n, r, i, s) {
    return this.blockAt(0, r, i, s);
  }
  forEachLine(e, n, r, i, s, o) {
    e <= s + this.length && n >= s && o(this.blockAt(0, r, i, s));
  }
  updateHeight(e, n = 0, r = !1, i) {
    return (
      i && i.from <= n && i.more && this.setHeight(e, i.heights[i.index++]),
      (this.outdated = !1),
      this
    );
  }
  toString() {
    return `block(${this.length})`;
  }
}
class Yt extends WC {
  constructor(e, n) {
    super(e, n, null),
      (this.collapsed = 0),
      (this.widgetHeight = 0),
      (this.breaks = 0);
  }
  blockAt(e, n, r, i) {
    return new cr(i, this.length, r, this.height, this.breaks);
  }
  replace(e, n, r) {
    let i = r[0];
    return r.length == 1 &&
      (i instanceof Yt || (i instanceof st && i.flags & 4)) &&
      Math.abs(this.length - i.length) < 10
      ? (i instanceof st
          ? (i = new Yt(i.length, this.height))
          : (i.height = this.height),
        this.outdated || (i.outdated = !1),
        i)
      : Tt.of(r);
  }
  updateHeight(e, n = 0, r = !1, i) {
    return (
      i && i.from <= n && i.more
        ? this.setHeight(e, i.heights[i.index++])
        : (r || this.outdated) &&
          this.setHeight(
            e,
            Math.max(
              this.widgetHeight,
              e.heightForLine(this.length - this.collapsed)
            ) +
              this.breaks * e.lineHeight
          ),
      (this.outdated = !1),
      this
    );
  }
  toString() {
    return `line(${this.length}${this.collapsed ? -this.collapsed : ""}${this.widgetHeight ? ":" + this.widgetHeight : ""})`;
  }
}
class st extends Tt {
  constructor(e) {
    super(e, 0);
  }
  heightMetrics(e, n) {
    let r = e.doc.lineAt(n).number,
      i = e.doc.lineAt(n + this.length).number,
      s = i - r + 1,
      o,
      l = 0;
    if (e.lineWrapping) {
      let a = Math.min(this.height, e.lineHeight * s);
      (o = a / s),
        this.length > s + 1 && (l = (this.height - a) / (this.length - s - 1));
    } else o = this.height / s;
    return { firstLine: r, lastLine: i, perLine: o, perChar: l };
  }
  blockAt(e, n, r, i) {
    let {
      firstLine: s,
      lastLine: o,
      perLine: l,
      perChar: a,
    } = this.heightMetrics(n, i);
    if (n.lineWrapping) {
      let u =
          i +
          (e < n.lineHeight
            ? 0
            : Math.round(
                Math.max(0, Math.min(1, (e - r) / this.height)) * this.length
              )),
        c = n.doc.lineAt(u),
        f = l + c.length * a,
        h = Math.max(r, e - f / 2);
      return new cr(c.from, c.length, h, f, 0);
    } else {
      let u = Math.max(0, Math.min(o - s, Math.floor((e - r) / l))),
        { from: c, length: f } = n.doc.line(s + u);
      return new cr(c, f, r + l * u, l, 0);
    }
  }
  lineAt(e, n, r, i, s) {
    if (n == Se.ByHeight) return this.blockAt(e, r, i, s);
    if (n == Se.ByPosNoHeight) {
      let { from: d, to: p } = r.doc.lineAt(e);
      return new cr(d, p - d, 0, 0, 0);
    }
    let { firstLine: o, perLine: l, perChar: a } = this.heightMetrics(r, s),
      u = r.doc.lineAt(e),
      c = l + u.length * a,
      f = u.number - o,
      h = i + l * f + a * (u.from - s - f);
    return new cr(
      u.from,
      u.length,
      Math.max(i, Math.min(h, i + this.height - c)),
      c,
      0
    );
  }
  forEachLine(e, n, r, i, s, o) {
    (e = Math.max(e, s)), (n = Math.min(n, s + this.length));
    let { firstLine: l, perLine: a, perChar: u } = this.heightMetrics(r, s);
    for (let c = e, f = i; c <= n; ) {
      let h = r.doc.lineAt(c);
      if (c == e) {
        let p = h.number - l;
        f += a * p + u * (e - s - p);
      }
      let d = a + u * h.length;
      o(new cr(h.from, h.length, f, d, 0)), (f += d), (c = h.to + 1);
    }
  }
  replace(e, n, r) {
    let i = this.length - n;
    if (i > 0) {
      let s = r[r.length - 1];
      s instanceof st
        ? (r[r.length - 1] = new st(s.length + i))
        : r.push(null, new st(i - 1));
    }
    if (e > 0) {
      let s = r[0];
      s instanceof st
        ? (r[0] = new st(e + s.length))
        : r.unshift(new st(e - 1), null);
    }
    return Tt.of(r);
  }
  decomposeLeft(e, n) {
    n.push(new st(e - 1), null);
  }
  decomposeRight(e, n) {
    n.push(null, new st(this.length - e - 1));
  }
  updateHeight(e, n = 0, r = !1, i) {
    let s = n + this.length;
    if (i && i.from <= n + this.length && i.more) {
      let o = [],
        l = Math.max(n, i.from),
        a = -1;
      for (
        i.from > n && o.push(new st(i.from - n - 1).updateHeight(e, n));
        l <= s && i.more;

      ) {
        let c = e.doc.lineAt(l).length;
        o.length && o.push(null);
        let f = i.heights[i.index++];
        a == -1 ? (a = f) : Math.abs(f - a) >= Pc && (a = -2);
        let h = new Yt(c, f);
        (h.outdated = !1), o.push(h), (l += c + 1);
      }
      l <= s && o.push(null, new st(s - l).updateHeight(e, l));
      let u = Tt.of(o);
      return (
        (a < 0 ||
          Math.abs(u.height - this.height) >= Pc ||
          Math.abs(a - this.heightMetrics(e, n).perLine) >= Pc) &&
          (e.heightChanged = !0),
        u
      );
    } else
      (r || this.outdated) &&
        (this.setHeight(e, e.heightForGap(n, n + this.length)),
        (this.outdated = !1));
    return this;
  }
  toString() {
    return `gap(${this.length})`;
  }
}
class LR extends Tt {
  constructor(e, n, r) {
    super(
      e.length + n + r.length,
      e.height + r.height,
      n | (e.outdated || r.outdated ? 2 : 0)
    ),
      (this.left = e),
      (this.right = r),
      (this.size = e.size + r.size);
  }
  get break() {
    return this.flags & 1;
  }
  blockAt(e, n, r, i) {
    let s = r + this.left.height;
    return e < s
      ? this.left.blockAt(e, n, r, i)
      : this.right.blockAt(e, n, s, i + this.left.length + this.break);
  }
  lineAt(e, n, r, i, s) {
    let o = i + this.left.height,
      l = s + this.left.length + this.break,
      a = n == Se.ByHeight ? e < o : e < l,
      u = a
        ? this.left.lineAt(e, n, r, i, s)
        : this.right.lineAt(e, n, r, o, l);
    if (this.break || (a ? u.to < l : u.from > l)) return u;
    let c = n == Se.ByPosNoHeight ? Se.ByPosNoHeight : Se.ByPos;
    return a
      ? u.join(this.right.lineAt(l, c, r, o, l))
      : this.left.lineAt(l, c, r, i, s).join(u);
  }
  forEachLine(e, n, r, i, s, o) {
    let l = i + this.left.height,
      a = s + this.left.length + this.break;
    if (this.break)
      e < a && this.left.forEachLine(e, n, r, i, s, o),
        n >= a && this.right.forEachLine(e, n, r, l, a, o);
    else {
      let u = this.lineAt(a, Se.ByPos, r, i, s);
      e < u.from && this.left.forEachLine(e, u.from - 1, r, i, s, o),
        u.to >= e && u.from <= n && o(u),
        n > u.to && this.right.forEachLine(u.to + 1, n, r, l, a, o);
    }
  }
  replace(e, n, r) {
    let i = this.left.length + this.break;
    if (n < i) return this.balanced(this.left.replace(e, n, r), this.right);
    if (e > this.left.length)
      return this.balanced(this.left, this.right.replace(e - i, n - i, r));
    let s = [];
    e > 0 && this.decomposeLeft(e, s);
    let o = s.length;
    for (let l of r) s.push(l);
    if ((e > 0 && mw(s, o - 1), n < this.length)) {
      let l = s.length;
      this.decomposeRight(n, s), mw(s, l);
    }
    return Tt.of(s);
  }
  decomposeLeft(e, n) {
    let r = this.left.length;
    if (e <= r) return this.left.decomposeLeft(e, n);
    n.push(this.left),
      this.break && (r++, e >= r && n.push(null)),
      e > r && this.right.decomposeLeft(e - r, n);
  }
  decomposeRight(e, n) {
    let r = this.left.length,
      i = r + this.break;
    if (e >= i) return this.right.decomposeRight(e - i, n);
    e < r && this.left.decomposeRight(e, n),
      this.break && e < i && n.push(null),
      n.push(this.right);
  }
  balanced(e, n) {
    return e.size > 2 * n.size || n.size > 2 * e.size
      ? Tt.of(this.break ? [e, null, n] : [e, n])
      : ((this.left = e),
        (this.right = n),
        (this.height = e.height + n.height),
        (this.outdated = e.outdated || n.outdated),
        (this.size = e.size + n.size),
        (this.length = e.length + this.break + n.length),
        this);
  }
  updateHeight(e, n = 0, r = !1, i) {
    let { left: s, right: o } = this,
      l = n + s.length + this.break,
      a = null;
    return (
      i && i.from <= n + s.length && i.more
        ? (a = s = s.updateHeight(e, n, r, i))
        : s.updateHeight(e, n, r),
      i && i.from <= l + o.length && i.more
        ? (a = o = o.updateHeight(e, l, r, i))
        : o.updateHeight(e, l, r),
      a
        ? this.balanced(s, o)
        : ((this.height = this.left.height + this.right.height),
          (this.outdated = !1),
          this)
    );
  }
  toString() {
    return this.left + (this.break ? " " : "-") + this.right;
  }
}
function mw(t, e) {
  let n, r;
  t[e] == null &&
    (n = t[e - 1]) instanceof st &&
    (r = t[e + 1]) instanceof st &&
    t.splice(e - 1, 3, new st(n.length + 1 + r.length));
}
const BR = 5;
class ry {
  constructor(e, n) {
    (this.pos = e),
      (this.oracle = n),
      (this.nodes = []),
      (this.lineStart = -1),
      (this.lineEnd = -1),
      (this.covering = null),
      (this.writtenTo = e);
  }
  get isCovered() {
    return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
  }
  span(e, n) {
    if (this.lineStart > -1) {
      let r = Math.min(n, this.lineEnd),
        i = this.nodes[this.nodes.length - 1];
      i instanceof Yt
        ? (i.length += r - this.pos)
        : (r > this.pos || !this.isCovered) &&
          this.nodes.push(new Yt(r - this.pos, -1)),
        (this.writtenTo = r),
        n > r &&
          (this.nodes.push(null), this.writtenTo++, (this.lineStart = -1));
    }
    this.pos = n;
  }
  point(e, n, r) {
    if (e < n || r.heightRelevant) {
      let i = r.widget ? r.widget.estimatedHeight : 0,
        s = r.widget ? r.widget.lineBreaks : 0;
      i < 0 && (i = this.oracle.lineHeight);
      let o = n - e;
      r.block
        ? this.addBlock(new WC(o, i, r))
        : (o || s || i >= BR) && this.addLineDeco(i, s, o);
    } else n > e && this.span(e, n);
    this.lineEnd > -1 &&
      this.lineEnd < this.pos &&
      (this.lineEnd = this.oracle.doc.lineAt(this.pos).to);
  }
  enterLine() {
    if (this.lineStart > -1) return;
    let { from: e, to: n } = this.oracle.doc.lineAt(this.pos);
    (this.lineStart = e),
      (this.lineEnd = n),
      this.writtenTo < e &&
        ((this.writtenTo < e - 1 ||
          this.nodes[this.nodes.length - 1] == null) &&
          this.nodes.push(this.blankContent(this.writtenTo, e - 1)),
        this.nodes.push(null)),
      this.pos > e && this.nodes.push(new Yt(this.pos - e, -1)),
      (this.writtenTo = this.pos);
  }
  blankContent(e, n) {
    let r = new st(n - e);
    return this.oracle.doc.lineAt(e).to == n && (r.flags |= 4), r;
  }
  ensureLine() {
    this.enterLine();
    let e = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
    if (e instanceof Yt) return e;
    let n = new Yt(0, -1);
    return this.nodes.push(n), n;
  }
  addBlock(e) {
    this.enterLine();
    let n = e.deco;
    n && n.startSide > 0 && !this.isCovered && this.ensureLine(),
      this.nodes.push(e),
      (this.writtenTo = this.pos = this.pos + e.length),
      n && n.endSide > 0 && (this.covering = e);
  }
  addLineDeco(e, n, r) {
    let i = this.ensureLine();
    (i.length += r),
      (i.collapsed += r),
      (i.widgetHeight = Math.max(i.widgetHeight, e)),
      (i.breaks += n),
      (this.writtenTo = this.pos = this.pos + r);
  }
  finish(e) {
    let n = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
    this.lineStart > -1 && !(n instanceof Yt) && !this.isCovered
      ? this.nodes.push(new Yt(0, -1))
      : (this.writtenTo < this.pos || n == null) &&
        this.nodes.push(this.blankContent(this.writtenTo, this.pos));
    let r = e;
    for (let i of this.nodes)
      i instanceof Yt && i.updateHeight(this.oracle, r),
        (r += i ? i.length : 1);
    return this.nodes;
  }
  static build(e, n, r, i) {
    let s = new ry(r, e);
    return re.spans(n, r, i, s, 0), s.finish(r);
  }
}
function NR(t, e, n) {
  let r = new IR();
  return re.compare(t, e, n, r, 0), r.changes;
}
class IR {
  constructor() {
    this.changes = [];
  }
  compareRange() {}
  comparePoint(e, n, r, i) {
    (e < n || (r && r.heightRelevant) || (i && i.heightRelevant)) &&
      Xm(e, n, this.changes, 5);
  }
}
function $R(t, e) {
  let n = t.getBoundingClientRect(),
    r = t.ownerDocument,
    i = r.defaultView || window,
    s = Math.max(0, n.left),
    o = Math.min(i.innerWidth, n.right),
    l = Math.max(0, n.top),
    a = Math.min(i.innerHeight, n.bottom);
  for (let u = t.parentNode; u && u != r.body; )
    if (u.nodeType == 1) {
      let c = u,
        f = window.getComputedStyle(c);
      if (
        (c.scrollHeight > c.clientHeight || c.scrollWidth > c.clientWidth) &&
        f.overflow != "visible"
      ) {
        let h = c.getBoundingClientRect();
        (s = Math.max(s, h.left)),
          (o = Math.min(o, h.right)),
          (l = Math.max(l, h.top)),
          (a = u == t.parentNode ? h.bottom : Math.min(a, h.bottom));
      }
      u =
        f.position == "absolute" || f.position == "fixed"
          ? c.offsetParent
          : c.parentNode;
    } else if (u.nodeType == 11) u = u.host;
    else break;
  return {
    left: s - n.left,
    right: Math.max(s, o) - n.left,
    top: l - (n.top + e),
    bottom: Math.max(l, a) - (n.top + e),
  };
}
function FR(t, e) {
  let n = t.getBoundingClientRect();
  return {
    left: 0,
    right: n.right - n.left,
    top: e,
    bottom: n.bottom - (n.top + e),
  };
}
class ep {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.size = r);
  }
  static same(e, n) {
    if (e.length != n.length) return !1;
    for (let r = 0; r < e.length; r++) {
      let i = e[r],
        s = n[r];
      if (i.from != s.from || i.to != s.to || i.size != s.size) return !1;
    }
    return !0;
  }
  draw(e, n) {
    return U.replace({
      widget: new zR(this.size * (n ? e.scaleY : e.scaleX), n),
    }).range(this.from, this.to);
  }
}
class zR extends Ii {
  constructor(e, n) {
    super(), (this.size = e), (this.vertical = n);
  }
  eq(e) {
    return e.size == this.size && e.vertical == this.vertical;
  }
  toDOM() {
    let e = document.createElement("div");
    return (
      this.vertical
        ? (e.style.height = this.size + "px")
        : ((e.style.width = this.size + "px"),
          (e.style.height = "2px"),
          (e.style.display = "inline-block")),
      e
    );
  }
  get estimatedHeight() {
    return this.vertical ? this.size : -1;
  }
}
class gw {
  constructor(e) {
    (this.state = e),
      (this.pixelViewport = {
        left: 0,
        right: window.innerWidth,
        top: 0,
        bottom: 0,
      }),
      (this.inView = !0),
      (this.paddingTop = 0),
      (this.paddingBottom = 0),
      (this.contentDOMWidth = 0),
      (this.contentDOMHeight = 0),
      (this.editorHeight = 0),
      (this.editorWidth = 0),
      (this.scrollTop = 0),
      (this.scrolledToBottom = !1),
      (this.scaleX = 1),
      (this.scaleY = 1),
      (this.scrollAnchorPos = 0),
      (this.scrollAnchorHeight = -1),
      (this.scaler = yw),
      (this.scrollTarget = null),
      (this.printing = !1),
      (this.mustMeasureContent = !0),
      (this.defaultTextDirection = Ce.LTR),
      (this.visibleRanges = []),
      (this.mustEnforceCursorAssoc = !1);
    let n = e
      .facet(ty)
      .some((r) => typeof r != "function" && r.class == "cm-lineWrapping");
    (this.heightOracle = new RR(n)),
      (this.stateDeco = e.facet(pa).filter((r) => typeof r != "function")),
      (this.heightMap = Tt.empty().applyChanges(
        this.stateDeco,
        ce.empty,
        this.heightOracle.setDoc(e.doc),
        [new An(0, 0, 0, e.doc.length)]
      )),
      (this.viewport = this.getViewport(0, null)),
      this.updateViewportLines(),
      this.updateForViewport(),
      (this.lineGaps = this.ensureLineGaps([])),
      (this.lineGapDeco = U.set(this.lineGaps.map((r) => r.draw(this, !1)))),
      this.computeVisibleRanges();
  }
  updateForViewport() {
    let e = [this.viewport],
      { main: n } = this.state.selection;
    for (let r = 0; r <= 1; r++) {
      let i = r ? n.head : n.anchor;
      if (!e.some(({ from: s, to: o }) => i >= s && i <= o)) {
        let { from: s, to: o } = this.lineBlockAt(i);
        e.push(new Hu(s, o));
      }
    }
    (this.viewports = e.sort((r, i) => r.from - i.from)),
      (this.scaler =
        this.heightMap.height <= 7e6
          ? yw
          : new WR(this.heightOracle, this.heightMap, this.viewports));
  }
  updateViewportLines() {
    (this.viewportLines = []),
      this.heightMap.forEachLine(
        this.viewport.from,
        this.viewport.to,
        this.heightOracle.setDoc(this.state.doc),
        0,
        0,
        (e) => {
          this.viewportLines.push(
            this.scaler.scale == 1 ? e : vl(e, this.scaler)
          );
        }
      );
  }
  update(e, n = null) {
    this.state = e.state;
    let r = this.stateDeco;
    this.stateDeco = this.state.facet(pa).filter((c) => typeof c != "function");
    let i = e.changedRanges,
      s = An.extendWithRanges(
        i,
        NR(r, this.stateDeco, e ? e.changes : Ye.empty(this.state.doc.length))
      ),
      o = this.heightMap.height,
      l = this.scrolledToBottom ? null : this.scrollAnchorAt(this.scrollTop);
    (this.heightMap = this.heightMap.applyChanges(
      this.stateDeco,
      e.startState.doc,
      this.heightOracle.setDoc(this.state.doc),
      s
    )),
      this.heightMap.height != o && (e.flags |= 2),
      l
        ? ((this.scrollAnchorPos = e.changes.mapPos(l.from, -1)),
          (this.scrollAnchorHeight = l.top))
        : ((this.scrollAnchorPos = -1),
          (this.scrollAnchorHeight = this.heightMap.height));
    let a = s.length
      ? this.mapViewport(this.viewport, e.changes)
      : this.viewport;
    ((n && (n.range.head < a.from || n.range.head > a.to)) ||
      !this.viewportIsAppropriate(a)) &&
      (a = this.getViewport(0, n));
    let u =
      !e.changes.empty ||
      e.flags & 2 ||
      a.from != this.viewport.from ||
      a.to != this.viewport.to;
    (this.viewport = a),
      this.updateForViewport(),
      u && this.updateViewportLines(),
      (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) &&
        this.updateLineGaps(
          this.ensureLineGaps(this.mapLineGaps(this.lineGaps, e.changes))
        ),
      (e.flags |= this.computeVisibleRanges()),
      n && (this.scrollTarget = n),
      !this.mustEnforceCursorAssoc &&
        e.selectionSet &&
        e.view.lineWrapping &&
        e.state.selection.main.empty &&
        e.state.selection.main.assoc &&
        !e.state.facet(_C) &&
        (this.mustEnforceCursorAssoc = !0);
  }
  measure(e) {
    let n = e.contentDOM,
      r = window.getComputedStyle(n),
      i = this.heightOracle,
      s = r.whiteSpace;
    this.defaultTextDirection = r.direction == "rtl" ? Ce.RTL : Ce.LTR;
    let o = this.heightOracle.mustRefreshForWrapping(s),
      l = n.getBoundingClientRect(),
      a = o || this.mustMeasureContent || this.contentDOMHeight != l.height;
    (this.contentDOMHeight = l.height), (this.mustMeasureContent = !1);
    let u = 0,
      c = 0;
    if (l.width && l.height) {
      let { scaleX: b, scaleY: x } = Jk(n, l);
      ((b > 0.005 && Math.abs(this.scaleX - b) > 0.005) ||
        (x > 0.005 && Math.abs(this.scaleY - x) > 0.005)) &&
        ((this.scaleX = b), (this.scaleY = x), (u |= 8), (o = a = !0));
    }
    let f = (parseInt(r.paddingTop) || 0) * this.scaleY,
      h = (parseInt(r.paddingBottom) || 0) * this.scaleY;
    (this.paddingTop != f || this.paddingBottom != h) &&
      ((this.paddingTop = f), (this.paddingBottom = h), (u |= 10)),
      this.editorWidth != e.scrollDOM.clientWidth &&
        (i.lineWrapping && (a = !0),
        (this.editorWidth = e.scrollDOM.clientWidth),
        (u |= 8));
    let d = e.scrollDOM.scrollTop * this.scaleY;
    this.scrollTop != d &&
      ((this.scrollAnchorHeight = -1), (this.scrollTop = d)),
      (this.scrolledToBottom = tC(e.scrollDOM));
    let p = (this.printing ? FR : $R)(n, this.paddingTop),
      m = p.top - this.pixelViewport.top,
      w = p.bottom - this.pixelViewport.bottom;
    this.pixelViewport = p;
    let g =
      this.pixelViewport.bottom > this.pixelViewport.top &&
      this.pixelViewport.right > this.pixelViewport.left;
    if (
      (g != this.inView && ((this.inView = g), g && (a = !0)),
      !this.inView && !this.scrollTarget)
    )
      return 0;
    let y = l.width;
    if (
      ((this.contentDOMWidth != y ||
        this.editorHeight != e.scrollDOM.clientHeight) &&
        ((this.contentDOMWidth = l.width),
        (this.editorHeight = e.scrollDOM.clientHeight),
        (u |= 8)),
      a)
    ) {
      let b = e.docView.measureVisibleLineHeights(this.viewport);
      if (
        (i.mustRefreshForHeights(b) && (o = !0),
        o ||
          (i.lineWrapping && Math.abs(y - this.contentDOMWidth) > i.charWidth))
      ) {
        let {
          lineHeight: x,
          charWidth: S,
          textHeight: k,
        } = e.docView.measureTextSize();
        (o = x > 0 && i.refresh(s, x, S, k, y / S, b)),
          o && ((e.docView.minWidth = 0), (u |= 8));
      }
      m > 0 && w > 0
        ? (c = Math.max(m, w))
        : m < 0 && w < 0 && (c = Math.min(m, w)),
        (i.heightChanged = !1);
      for (let x of this.viewports) {
        let S =
          x.from == this.viewport.from
            ? b
            : e.docView.measureVisibleLineHeights(x);
        this.heightMap = (
          o
            ? Tt.empty().applyChanges(
                this.stateDeco,
                ce.empty,
                this.heightOracle,
                [new An(0, 0, 0, e.state.doc.length)]
              )
            : this.heightMap
        ).updateHeight(i, 0, o, new DR(x.from, S));
      }
      i.heightChanged && (u |= 2);
    }
    let v =
      !this.viewportIsAppropriate(this.viewport, c) ||
      (this.scrollTarget &&
        (this.scrollTarget.range.head < this.viewport.from ||
          this.scrollTarget.range.head > this.viewport.to));
    return (
      v && (this.viewport = this.getViewport(c, this.scrollTarget)),
      this.updateForViewport(),
      (u & 2 || v) && this.updateViewportLines(),
      (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) &&
        this.updateLineGaps(this.ensureLineGaps(o ? [] : this.lineGaps, e)),
      (u |= this.computeVisibleRanges()),
      this.mustEnforceCursorAssoc &&
        ((this.mustEnforceCursorAssoc = !1), e.docView.enforceCursorAssoc()),
      u
    );
  }
  get visibleTop() {
    return this.scaler.fromDOM(this.pixelViewport.top);
  }
  get visibleBottom() {
    return this.scaler.fromDOM(this.pixelViewport.bottom);
  }
  getViewport(e, n) {
    let r = 0.5 - Math.max(-0.5, Math.min(0.5, e / 1e3 / 2)),
      i = this.heightMap,
      s = this.heightOracle,
      { visibleTop: o, visibleBottom: l } = this,
      a = new Hu(
        i.lineAt(o - r * 1e3, Se.ByHeight, s, 0, 0).from,
        i.lineAt(l + (1 - r) * 1e3, Se.ByHeight, s, 0, 0).to
      );
    if (n) {
      let { head: u } = n.range;
      if (u < a.from || u > a.to) {
        let c = Math.min(
            this.editorHeight,
            this.pixelViewport.bottom - this.pixelViewport.top
          ),
          f = i.lineAt(u, Se.ByPos, s, 0, 0),
          h;
        n.y == "center"
          ? (h = (f.top + f.bottom) / 2 - c / 2)
          : n.y == "start" || (n.y == "nearest" && u < a.from)
            ? (h = f.top)
            : (h = f.bottom - c),
          (a = new Hu(
            i.lineAt(h - 1e3 / 2, Se.ByHeight, s, 0, 0).from,
            i.lineAt(h + c + 1e3 / 2, Se.ByHeight, s, 0, 0).to
          ));
      }
    }
    return a;
  }
  mapViewport(e, n) {
    let r = n.mapPos(e.from, -1),
      i = n.mapPos(e.to, 1);
    return new Hu(
      this.heightMap.lineAt(r, Se.ByPos, this.heightOracle, 0, 0).from,
      this.heightMap.lineAt(i, Se.ByPos, this.heightOracle, 0, 0).to
    );
  }
  viewportIsAppropriate({ from: e, to: n }, r = 0) {
    if (!this.inView) return !0;
    let { top: i } = this.heightMap.lineAt(
        e,
        Se.ByPos,
        this.heightOracle,
        0,
        0
      ),
      { bottom: s } = this.heightMap.lineAt(
        n,
        Se.ByPos,
        this.heightOracle,
        0,
        0
      ),
      { visibleTop: o, visibleBottom: l } = this;
    return (
      (e == 0 || i <= o - Math.max(10, Math.min(-r, 250))) &&
      (n == this.state.doc.length || s >= l + Math.max(10, Math.min(r, 250))) &&
      i > o - 2 * 1e3 &&
      s < l + 2 * 1e3
    );
  }
  mapLineGaps(e, n) {
    if (!e.length || n.empty) return e;
    let r = [];
    for (let i of e)
      n.touchesRange(i.from, i.to) ||
        r.push(new ep(n.mapPos(i.from), n.mapPos(i.to), i.size));
    return r;
  }
  ensureLineGaps(e, n) {
    let r = this.heightOracle.lineWrapping,
      i = r ? 1e4 : 2e3,
      s = i >> 1,
      o = i << 1;
    if (this.defaultTextDirection != Ce.LTR && !r) return [];
    let l = [],
      a = (u, c, f, h) => {
        if (c - u < s) return;
        let d = this.state.selection.main,
          p = [d.from];
        d.empty || p.push(d.to);
        for (let w of p)
          if (w > u && w < c) {
            a(u, w - 10, f, h), a(w + 10, c, f, h);
            return;
          }
        let m = VR(
          e,
          (w) =>
            w.from >= f.from &&
            w.to <= f.to &&
            Math.abs(w.from - u) < s &&
            Math.abs(w.to - c) < s &&
            !p.some((g) => w.from < g && w.to > g)
        );
        if (!m) {
          if (
            c < f.to &&
            n &&
            r &&
            n.visibleRanges.some((w) => w.from <= c && w.to >= c)
          ) {
            let w = n.moveToLineBoundary(A.cursor(c), !1, !0).head;
            w > u && (c = w);
          }
          m = new ep(u, c, this.gapSize(f, u, c, h));
        }
        l.push(m);
      };
    for (let u of this.viewportLines) {
      if (u.length < o) continue;
      let c = jR(u.from, u.to, this.stateDeco);
      if (c.total < o) continue;
      let f = this.scrollTarget ? this.scrollTarget.range.head : null,
        h,
        d;
      if (r) {
        let p =
            (i / this.heightOracle.lineLength) * this.heightOracle.lineHeight,
          m,
          w;
        if (f != null) {
          let g = Ku(c, f),
            y = ((this.visibleBottom - this.visibleTop) / 2 + p) / u.height;
          (m = g - y), (w = g + y);
        } else
          (m = (this.visibleTop - u.top - p) / u.height),
            (w = (this.visibleBottom - u.top + p) / u.height);
        (h = Uu(c, m)), (d = Uu(c, w));
      } else {
        let p = c.total * this.heightOracle.charWidth,
          m = i * this.heightOracle.charWidth,
          w,
          g;
        if (f != null) {
          let y = Ku(c, f),
            v =
              ((this.pixelViewport.right - this.pixelViewport.left) / 2 + m) /
              p;
          (w = y - v), (g = y + v);
        } else
          (w = (this.pixelViewport.left - m) / p),
            (g = (this.pixelViewport.right + m) / p);
        (h = Uu(c, w)), (d = Uu(c, g));
      }
      h > u.from && a(u.from, h, u, c), d < u.to && a(d, u.to, u, c);
    }
    return l;
  }
  gapSize(e, n, r, i) {
    let s = Ku(i, r) - Ku(i, n);
    return this.heightOracle.lineWrapping
      ? e.height * s
      : i.total * this.heightOracle.charWidth * s;
  }
  updateLineGaps(e) {
    ep.same(e, this.lineGaps) ||
      ((this.lineGaps = e),
      (this.lineGapDeco = U.set(
        e.map((n) => n.draw(this, this.heightOracle.lineWrapping))
      )));
  }
  computeVisibleRanges() {
    let e = this.stateDeco;
    this.lineGaps.length && (e = e.concat(this.lineGapDeco));
    let n = [];
    re.spans(
      e,
      this.viewport.from,
      this.viewport.to,
      {
        span(i, s) {
          n.push({ from: i, to: s });
        },
        point() {},
      },
      20
    );
    let r =
      n.length != this.visibleRanges.length ||
      this.visibleRanges.some((i, s) => i.from != n[s].from || i.to != n[s].to);
    return (this.visibleRanges = n), r ? 4 : 0;
  }
  lineBlockAt(e) {
    return (
      (e >= this.viewport.from &&
        e <= this.viewport.to &&
        this.viewportLines.find((n) => n.from <= e && n.to >= e)) ||
      vl(
        this.heightMap.lineAt(e, Se.ByPos, this.heightOracle, 0, 0),
        this.scaler
      )
    );
  }
  lineBlockAtHeight(e) {
    return vl(
      this.heightMap.lineAt(
        this.scaler.fromDOM(e),
        Se.ByHeight,
        this.heightOracle,
        0,
        0
      ),
      this.scaler
    );
  }
  scrollAnchorAt(e) {
    let n = this.lineBlockAtHeight(e + 8);
    return n.from >= this.viewport.from || this.viewportLines[0].top - e > 200
      ? n
      : this.viewportLines[0];
  }
  elementAtHeight(e) {
    return vl(
      this.heightMap.blockAt(this.scaler.fromDOM(e), this.heightOracle, 0, 0),
      this.scaler
    );
  }
  get docHeight() {
    return this.scaler.toDOM(this.heightMap.height);
  }
  get contentHeight() {
    return this.docHeight + this.paddingTop + this.paddingBottom;
  }
}
let Hu = class {
  constructor(e, n) {
    (this.from = e), (this.to = n);
  }
};
function jR(t, e, n) {
  let r = [],
    i = t,
    s = 0;
  return (
    re.spans(
      n,
      t,
      e,
      {
        span() {},
        point(o, l) {
          o > i && (r.push({ from: i, to: o }), (s += o - i)), (i = l);
        },
      },
      20
    ),
    i < e && (r.push({ from: i, to: e }), (s += e - i)),
    { total: s, ranges: r }
  );
}
function Uu({ total: t, ranges: e }, n) {
  if (n <= 0) return e[0].from;
  if (n >= 1) return e[e.length - 1].to;
  let r = Math.floor(t * n);
  for (let i = 0; ; i++) {
    let { from: s, to: o } = e[i],
      l = o - s;
    if (r <= l) return s + r;
    r -= l;
  }
}
function Ku(t, e) {
  let n = 0;
  for (let { from: r, to: i } of t.ranges) {
    if (e <= i) {
      n += e - r;
      break;
    }
    n += i - r;
  }
  return n / t.total;
}
function VR(t, e) {
  for (let n of t) if (e(n)) return n;
}
const yw = {
  toDOM(t) {
    return t;
  },
  fromDOM(t) {
    return t;
  },
  scale: 1,
};
class WR {
  constructor(e, n, r) {
    let i = 0,
      s = 0,
      o = 0;
    (this.viewports = r.map(({ from: l, to: a }) => {
      let u = n.lineAt(l, Se.ByPos, e, 0, 0).top,
        c = n.lineAt(a, Se.ByPos, e, 0, 0).bottom;
      return (
        (i += c - u),
        { from: l, to: a, top: u, bottom: c, domTop: 0, domBottom: 0 }
      );
    })),
      (this.scale = (7e6 - i) / (n.height - i));
    for (let l of this.viewports)
      (l.domTop = o + (l.top - s) * this.scale),
        (o = l.domBottom = l.domTop + (l.bottom - l.top)),
        (s = l.bottom);
  }
  toDOM(e) {
    for (let n = 0, r = 0, i = 0; ; n++) {
      let s = n < this.viewports.length ? this.viewports[n] : null;
      if (!s || e < s.top) return i + (e - r) * this.scale;
      if (e <= s.bottom) return s.domTop + (e - s.top);
      (r = s.bottom), (i = s.domBottom);
    }
  }
  fromDOM(e) {
    for (let n = 0, r = 0, i = 0; ; n++) {
      let s = n < this.viewports.length ? this.viewports[n] : null;
      if (!s || e < s.domTop) return r + (e - i) / this.scale;
      if (e <= s.domBottom) return s.top + (e - s.domTop);
      (r = s.bottom), (i = s.domBottom);
    }
  }
}
function vl(t, e) {
  if (e.scale == 1) return t;
  let n = e.toDOM(t.top),
    r = e.toDOM(t.bottom);
  return new cr(
    t.from,
    t.length,
    n,
    r - n,
    Array.isArray(t._content) ? t._content.map((i) => vl(i, e)) : t._content
  );
}
const qu = $.define({ combine: (t) => t.join(" ") }),
  ig = $.define({ combine: (t) => t.indexOf(!0) > -1 }),
  sg = Ei.newName(),
  HC = Ei.newName(),
  UC = Ei.newName(),
  KC = { "&light": "." + HC, "&dark": "." + UC };
function og(t, e, n) {
  return new Ei(e, {
    finish(r) {
      return /&/.test(r)
        ? r.replace(/&\w*/, (i) => {
            if (i == "&") return t;
            if (!n || !n[i]) throw new RangeError(`Unsupported selector: ${i}`);
            return n[i];
          })
        : t + " " + r;
    },
  });
}
const HR = og(
    "." + sg,
    {
      "&": {
        position: "relative !important",
        boxSizing: "border-box",
        "&.cm-focused": { outline: "1px dotted #212121" },
        display: "flex !important",
        flexDirection: "column",
      },
      ".cm-scroller": {
        display: "flex !important",
        alignItems: "flex-start !important",
        fontFamily: "monospace",
        lineHeight: 1.4,
        height: "100%",
        overflowX: "auto",
        position: "relative",
        zIndex: 0,
      },
      ".cm-content": {
        margin: 0,
        flexGrow: 2,
        flexShrink: 0,
        display: "block",
        whiteSpace: "pre",
        wordWrap: "normal",
        boxSizing: "border-box",
        minHeight: "100%",
        padding: "4px 0",
        outline: "none",
        "&[contenteditable=true]": {
          WebkitUserModify: "read-write-plaintext-only",
        },
      },
      ".cm-lineWrapping": {
        whiteSpace_fallback: "pre-wrap",
        whiteSpace: "break-spaces",
        wordBreak: "break-word",
        overflowWrap: "anywhere",
        flexShrink: 1,
      },
      "&light .cm-content": { caretColor: "black" },
      "&dark .cm-content": { caretColor: "white" },
      ".cm-line": { display: "block", padding: "0 2px 0 6px" },
      ".cm-layer": {
        position: "absolute",
        left: 0,
        top: 0,
        contain: "size style",
        "& > *": { position: "absolute" },
      },
      "&light .cm-selectionBackground": { background: "#d9d9d9" },
      "&dark .cm-selectionBackground": { background: "#222" },
      "&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":
        { background: "#d7d4f0" },
      "&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":
        { background: "#233" },
      ".cm-cursorLayer": { pointerEvents: "none" },
      "&.cm-focused > .cm-scroller > .cm-cursorLayer": {
        animation: "steps(1) cm-blink 1.2s infinite",
      },
      "@keyframes cm-blink": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
      "@keyframes cm-blink2": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
      ".cm-cursor, .cm-dropCursor": {
        borderLeft: "1.2px solid black",
        marginLeft: "-0.6px",
        pointerEvents: "none",
      },
      ".cm-cursor": { display: "none" },
      "&dark .cm-cursor": { borderLeftColor: "#444" },
      ".cm-dropCursor": { position: "absolute" },
      "&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor": {
        display: "block",
      },
      ".cm-iso": { unicodeBidi: "isolate" },
      ".cm-announced": { position: "fixed", top: "-10000px" },
      "@media print": { ".cm-announced": { display: "none" } },
      "&light .cm-activeLine": { backgroundColor: "#cceeff44" },
      "&dark .cm-activeLine": { backgroundColor: "#99eeff33" },
      "&light .cm-specialChar": { color: "red" },
      "&dark .cm-specialChar": { color: "#f78" },
      ".cm-gutters": {
        flexShrink: 0,
        display: "flex",
        height: "100%",
        boxSizing: "border-box",
        insetInlineStart: 0,
        zIndex: 200,
      },
      "&light .cm-gutters": {
        backgroundColor: "#f5f5f5",
        color: "#6c6c6c",
        borderRight: "1px solid #ddd",
      },
      "&dark .cm-gutters": { backgroundColor: "#333338", color: "#ccc" },
      ".cm-gutter": {
        display: "flex !important",
        flexDirection: "column",
        flexShrink: 0,
        boxSizing: "border-box",
        minHeight: "100%",
        overflow: "hidden",
      },
      ".cm-gutterElement": { boxSizing: "border-box" },
      ".cm-lineNumbers .cm-gutterElement": {
        padding: "0 3px 0 5px",
        minWidth: "20px",
        textAlign: "right",
        whiteSpace: "nowrap",
      },
      "&light .cm-activeLineGutter": { backgroundColor: "#e2f2ff" },
      "&dark .cm-activeLineGutter": { backgroundColor: "#222227" },
      ".cm-panels": {
        boxSizing: "border-box",
        position: "sticky",
        left: 0,
        right: 0,
      },
      "&light .cm-panels": { backgroundColor: "#f5f5f5", color: "black" },
      "&light .cm-panels-top": { borderBottom: "1px solid #ddd" },
      "&light .cm-panels-bottom": { borderTop: "1px solid #ddd" },
      "&dark .cm-panels": { backgroundColor: "#333338", color: "white" },
      ".cm-tab": {
        display: "inline-block",
        overflow: "hidden",
        verticalAlign: "bottom",
      },
      ".cm-widgetBuffer": {
        verticalAlign: "text-top",
        height: "1em",
        width: 0,
        display: "inline",
      },
      ".cm-placeholder": {
        color: "#888",
        display: "inline-block",
        verticalAlign: "top",
      },
      ".cm-highlightSpace:before": {
        content: "attr(data-display)",
        position: "absolute",
        pointerEvents: "none",
        color: "#888",
      },
      ".cm-highlightTab": {
        backgroundImage: `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,
        backgroundSize: "auto 100%",
        backgroundPosition: "right 90%",
        backgroundRepeat: "no-repeat",
      },
      ".cm-trailingSpace": { backgroundColor: "#ff332255" },
      ".cm-button": {
        verticalAlign: "middle",
        color: "inherit",
        fontSize: "70%",
        padding: ".2em 1em",
        borderRadius: "1px",
      },
      "&light .cm-button": {
        backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
        border: "1px solid #888",
        "&:active": { backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)" },
      },
      "&dark .cm-button": {
        backgroundImage: "linear-gradient(#393939, #111)",
        border: "1px solid #888",
        "&:active": { backgroundImage: "linear-gradient(#111, #333)" },
      },
      ".cm-textfield": {
        verticalAlign: "middle",
        color: "inherit",
        fontSize: "70%",
        border: "1px solid silver",
        padding: ".2em .5em",
      },
      "&light .cm-textfield": { backgroundColor: "white" },
      "&dark .cm-textfield": {
        border: "1px solid #555",
        backgroundColor: "inherit",
      },
    },
    KC
  ),
  wl = "";
class UR {
  constructor(e, n) {
    (this.points = e),
      (this.text = ""),
      (this.lineSeparator = n.facet(Z.lineSeparator));
  }
  append(e) {
    this.text += e;
  }
  lineBreak() {
    this.text += wl;
  }
  readRange(e, n) {
    if (!e) return this;
    let r = e.parentNode;
    for (let i = e; ; ) {
      this.findPointBefore(r, i);
      let s = this.text.length;
      this.readNode(i);
      let o = i.nextSibling;
      if (o == n) break;
      let l = ye.get(i),
        a = ye.get(o);
      (l && a
        ? l.breakAfter
        : (l ? l.breakAfter : xf(i)) ||
          (xf(o) &&
            (i.nodeName != "BR" || i.cmIgnore) &&
            this.text.length > s)) && this.lineBreak(),
        (i = o);
    }
    return this.findPointBefore(r, n), this;
  }
  readTextNode(e) {
    let n = e.nodeValue;
    for (let r of this.points)
      r.node == e && (r.pos = this.text.length + Math.min(r.offset, n.length));
    for (let r = 0, i = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
      let s = -1,
        o = 1,
        l;
      if (
        (this.lineSeparator
          ? ((s = n.indexOf(this.lineSeparator, r)),
            (o = this.lineSeparator.length))
          : (l = i.exec(n)) && ((s = l.index), (o = l[0].length)),
        this.append(n.slice(r, s < 0 ? n.length : s)),
        s < 0)
      )
        break;
      if ((this.lineBreak(), o > 1))
        for (let a of this.points)
          a.node == e && a.pos > this.text.length && (a.pos -= o - 1);
      r = s + o;
    }
  }
  readNode(e) {
    if (e.cmIgnore) return;
    let n = ye.get(e),
      r = n && n.overrideDOMText;
    if (r != null) {
      this.findPointInside(e, r.length);
      for (let i = r.iter(); !i.next().done; )
        i.lineBreak ? this.lineBreak() : this.append(i.value);
    } else
      e.nodeType == 3
        ? this.readTextNode(e)
        : e.nodeName == "BR"
          ? e.nextSibling && this.lineBreak()
          : e.nodeType == 1 && this.readRange(e.firstChild, null);
  }
  findPointBefore(e, n) {
    for (let r of this.points)
      r.node == e && e.childNodes[r.offset] == n && (r.pos = this.text.length);
  }
  findPointInside(e, n) {
    for (let r of this.points)
      (e.nodeType == 3 ? r.node == e : e.contains(r.node)) &&
        (r.pos = this.text.length + (KR(e, r.node, r.offset) ? n : 0));
  }
}
function KR(t, e, n) {
  for (;;) {
    if (!e || n < zr(e)) return !1;
    if (e == t) return !0;
    (n = fs(e) + 1), (e = e.parentNode);
  }
}
class vw {
  constructor(e, n) {
    (this.node = e), (this.offset = n), (this.pos = -1);
  }
}
class qR {
  constructor(e, n, r, i) {
    (this.typeOver = i), (this.bounds = null), (this.text = "");
    let { impreciseHead: s, impreciseAnchor: o } = e.docView;
    if (e.state.readOnly && n > -1) this.newSel = null;
    else if (n > -1 && (this.bounds = e.docView.domBoundsAround(n, r, 0))) {
      let l = s || o ? [] : XR(e),
        a = new UR(l, e.state);
      a.readRange(this.bounds.startDOM, this.bounds.endDOM),
        (this.text = a.text),
        (this.newSel = QR(l, this.bounds.from));
    } else {
      let l = e.observer.selectionRange,
        a =
          (s && s.node == l.focusNode && s.offset == l.focusOffset) ||
          !Hm(e.contentDOM, l.focusNode)
            ? e.state.selection.main.head
            : e.docView.posFromDOM(l.focusNode, l.focusOffset),
        u =
          (o && o.node == l.anchorNode && o.offset == l.anchorOffset) ||
          !Hm(e.contentDOM, l.anchorNode)
            ? e.state.selection.main.anchor
            : e.docView.posFromDOM(l.anchorNode, l.anchorOffset),
        c = e.viewport;
      if (
        (I.ios || I.chrome) &&
        e.state.selection.main.empty &&
        a != u &&
        (c.from > 0 || c.to < e.state.doc.length)
      ) {
        let f = Math.min(a, u),
          h = Math.max(a, u),
          d = c.from - f,
          p = c.to - h;
        (d == 0 || d == 1 || f == 0) &&
          (p == 0 || p == -1 || h == e.state.doc.length) &&
          ((a = 0), (u = e.state.doc.length));
      }
      this.newSel = A.single(u, a);
    }
  }
}
function qC(t, e) {
  let n,
    { newSel: r } = e,
    i = t.state.selection.main,
    s =
      t.inputState.lastKeyTime > Date.now() - 100
        ? t.inputState.lastKeyCode
        : -1;
  if (e.bounds) {
    let { from: o, to: l } = e.bounds,
      a = i.from,
      u = null;
    (s === 8 || (I.android && e.text.length < l - o)) &&
      ((a = i.to), (u = "end"));
    let c = YR(t.state.doc.sliceString(o, l, wl), e.text, a - o, u);
    c &&
      (I.chrome &&
        s == 13 &&
        c.toB == c.from + 2 &&
        e.text.slice(c.from, c.toB) == wl + wl &&
        c.toB--,
      (n = {
        from: o + c.from,
        to: o + c.toA,
        insert: ce.of(e.text.slice(c.from, c.toB).split(wl)),
      }));
  } else
    r && ((!t.hasFocus && t.state.facet(Eh)) || r.main.eq(i)) && (r = null);
  if (!n && !r) return !1;
  if (
    (!n && e.typeOver && !i.empty && r && r.main.empty
      ? (n = {
          from: i.from,
          to: i.to,
          insert: t.state.doc.slice(i.from, i.to),
        })
      : n &&
          n.from >= i.from &&
          n.to <= i.to &&
          (n.from != i.from || n.to != i.to) &&
          i.to - i.from - (n.to - n.from) <= 4
        ? (n = {
            from: i.from,
            to: i.to,
            insert: t.state.doc
              .slice(i.from, n.from)
              .append(n.insert)
              .append(t.state.doc.slice(n.to, i.to)),
          })
        : (I.mac || I.android) &&
            n &&
            n.from == n.to &&
            n.from == i.head - 1 &&
            /^\. ?$/.test(n.insert.toString()) &&
            t.contentDOM.getAttribute("autocorrect") == "off"
          ? (r &&
              n.insert.length == 2 &&
              (r = A.single(r.main.anchor - 1, r.main.head - 1)),
            (n = { from: i.from, to: i.to, insert: ce.of([" "]) }))
          : I.chrome &&
            n &&
            n.from == n.to &&
            n.from == i.head &&
            n.insert.toString() ==
              `
 ` &&
            t.lineWrapping &&
            (r && (r = A.single(r.main.anchor - 1, r.main.head - 1)),
            (n = { from: i.from, to: i.to, insert: ce.of([" "]) })),
    n)
  ) {
    if (
      (I.ios && t.inputState.flushIOSKey(n)) ||
      (I.android &&
        ((n.to == i.to &&
          (n.from == i.from ||
            (n.from == i.from - 1 &&
              t.state.sliceDoc(n.from, i.from) == " ")) &&
          n.insert.length == 1 &&
          n.insert.lines == 2 &&
          ao(t.contentDOM, "Enter", 13)) ||
          (((n.from == i.from - 1 && n.to == i.to && n.insert.length == 0) ||
            (s == 8 && n.insert.length < n.to - n.from && n.to > i.head)) &&
            ao(t.contentDOM, "Backspace", 8)) ||
          (n.from == i.from &&
            n.to == i.to + 1 &&
            n.insert.length == 0 &&
            ao(t.contentDOM, "Delete", 46))))
    )
      return !0;
    let o = n.insert.toString();
    t.inputState.composing >= 0 && t.inputState.composing++;
    let l,
      a = () => l || (l = GR(t, n, r));
    return (
      t.state.facet(SC).some((u) => u(t, n.from, n.to, o, a)) ||
        t.dispatch(a()),
      !0
    );
  } else if (r && !r.main.eq(i)) {
    let o = !1,
      l = "select";
    return (
      t.inputState.lastSelectionTime > Date.now() - 50 &&
        (t.inputState.lastSelectionOrigin == "select" && (o = !0),
        (l = t.inputState.lastSelectionOrigin)),
      t.dispatch({ selection: r, scrollIntoView: o, userEvent: l }),
      !0
    );
  } else return !1;
}
function GR(t, e, n) {
  let r,
    i = t.state,
    s = i.selection.main;
  if (
    e.from >= s.from &&
    e.to <= s.to &&
    e.to - e.from >= (s.to - s.from) / 3 &&
    (!n || (n.main.empty && n.main.from == e.from + e.insert.length)) &&
    t.inputState.composing < 0
  ) {
    let l = s.from < e.from ? i.sliceDoc(s.from, e.from) : "",
      a = s.to > e.to ? i.sliceDoc(e.to, s.to) : "";
    r = i.replaceSelection(
      t.state.toText(l + e.insert.sliceString(0, void 0, t.state.lineBreak) + a)
    );
  } else {
    let l = i.changes(e),
      a = n && n.main.to <= l.newLength ? n.main : void 0;
    if (
      i.selection.ranges.length > 1 &&
      t.inputState.composing >= 0 &&
      e.to <= s.to &&
      e.to >= s.to - 10
    ) {
      let u = t.state.sliceDoc(e.from, e.to),
        c,
        f = n && RC(t, n.main.head);
      if (f) {
        let p = e.insert.length - (e.to - e.from);
        c = { from: f.from, to: f.to - p };
      } else c = t.state.doc.lineAt(s.head);
      let h = s.to - e.to,
        d = s.to - s.from;
      r = i.changeByRange((p) => {
        if (p.from == s.from && p.to == s.to)
          return { changes: l, range: a || p.map(l) };
        let m = p.to - h,
          w = m - u.length;
        if (
          p.to - p.from != d ||
          t.state.sliceDoc(w, m) != u ||
          (p.to >= c.from && p.from <= c.to)
        )
          return { range: p };
        let g = i.changes({ from: w, to: m, insert: e.insert }),
          y = p.to - s.to;
        return {
          changes: g,
          range: a
            ? A.range(Math.max(0, a.anchor + y), Math.max(0, a.head + y))
            : p.map(g),
        };
      });
    } else r = { changes: l, selection: a && i.selection.replaceRange(a) };
  }
  let o = "input.type";
  return (
    (t.composing ||
      (t.inputState.compositionPendingChange &&
        t.inputState.compositionEndedAt > Date.now() - 50)) &&
      ((t.inputState.compositionPendingChange = !1),
      (o += ".compose"),
      t.inputState.compositionFirstChange &&
        ((o += ".start"), (t.inputState.compositionFirstChange = !1))),
    i.update(r, { userEvent: o, scrollIntoView: !0 })
  );
}
function YR(t, e, n, r) {
  let i = Math.min(t.length, e.length),
    s = 0;
  for (; s < i && t.charCodeAt(s) == e.charCodeAt(s); ) s++;
  if (s == i && t.length == e.length) return null;
  let o = t.length,
    l = e.length;
  for (; o > 0 && l > 0 && t.charCodeAt(o - 1) == e.charCodeAt(l - 1); )
    o--, l--;
  if (r == "end") {
    let a = Math.max(0, s - Math.min(o, l));
    n -= o + a - s;
  }
  if (o < s && t.length < e.length) {
    let a = n <= s && n >= o ? s - n : 0;
    (s -= a), (l = s + (l - o)), (o = s);
  } else if (l < s) {
    let a = n <= s && n >= l ? s - n : 0;
    (s -= a), (o = s + (o - l)), (l = s);
  }
  return { from: s, toA: o, toB: l };
}
function XR(t) {
  let e = [];
  if (t.root.activeElement != t.contentDOM) return e;
  let {
    anchorNode: n,
    anchorOffset: r,
    focusNode: i,
    focusOffset: s,
  } = t.observer.selectionRange;
  return (
    n && (e.push(new vw(n, r)), (i != n || s != r) && e.push(new vw(i, s))), e
  );
}
function QR(t, e) {
  if (t.length == 0) return null;
  let n = t[0].pos,
    r = t.length == 2 ? t[1].pos : n;
  return n > -1 && r > -1 ? A.single(n + e, r + e) : null;
}
const JR = {
    childList: !0,
    characterData: !0,
    subtree: !0,
    attributes: !0,
    characterDataOldValue: !0,
  },
  tp = I.ie && I.ie_version <= 11;
class ZR {
  constructor(e) {
    (this.view = e),
      (this.active = !1),
      (this.selectionRange = new NP()),
      (this.selectionChanged = !1),
      (this.delayedFlush = -1),
      (this.resizeTimeout = -1),
      (this.queue = []),
      (this.delayedAndroidKey = null),
      (this.flushingAndroidKey = -1),
      (this.lastChange = 0),
      (this.scrollTargets = []),
      (this.intersection = null),
      (this.resizeScroll = null),
      (this.intersecting = !1),
      (this.gapIntersection = null),
      (this.gaps = []),
      (this.printQuery = null),
      (this.parentCheck = -1),
      (this.dom = e.contentDOM),
      (this.observer = new MutationObserver((n) => {
        for (let r of n) this.queue.push(r);
        ((I.ie && I.ie_version <= 11) || (I.ios && e.composing)) &&
        n.some(
          (r) =>
            (r.type == "childList" && r.removedNodes.length) ||
            (r.type == "characterData" &&
              r.oldValue.length > r.target.nodeValue.length)
        )
          ? this.flushSoon()
          : this.flush();
      })),
      tp &&
        (this.onCharData = (n) => {
          this.queue.push({
            target: n.target,
            type: "characterData",
            oldValue: n.prevValue,
          }),
            this.flushSoon();
        }),
      (this.onSelectionChange = this.onSelectionChange.bind(this)),
      (this.onResize = this.onResize.bind(this)),
      (this.onPrint = this.onPrint.bind(this)),
      (this.onScroll = this.onScroll.bind(this)),
      window.matchMedia && (this.printQuery = window.matchMedia("print")),
      typeof ResizeObserver == "function" &&
        ((this.resizeScroll = new ResizeObserver(() => {
          var n;
          ((n = this.view.docView) === null || n === void 0
            ? void 0
            : n.lastUpdate) <
            Date.now() - 75 && this.onResize();
        })),
        this.resizeScroll.observe(e.scrollDOM)),
      this.addWindowListeners((this.win = e.win)),
      this.start(),
      typeof IntersectionObserver == "function" &&
        ((this.intersection = new IntersectionObserver(
          (n) => {
            this.parentCheck < 0 &&
              (this.parentCheck = setTimeout(
                this.listenForScroll.bind(this),
                1e3
              )),
              n.length > 0 &&
                n[n.length - 1].intersectionRatio > 0 != this.intersecting &&
                ((this.intersecting = !this.intersecting),
                this.intersecting != this.view.inView &&
                  this.onScrollChanged(document.createEvent("Event")));
          },
          { threshold: [0, 0.001] }
        )),
        this.intersection.observe(this.dom),
        (this.gapIntersection = new IntersectionObserver((n) => {
          n.length > 0 &&
            n[n.length - 1].intersectionRatio > 0 &&
            this.onScrollChanged(document.createEvent("Event"));
        }, {}))),
      this.listenForScroll(),
      this.readSelectionRange();
  }
  onScrollChanged(e) {
    this.view.inputState.runHandlers("scroll", e),
      this.intersecting && this.view.measure();
  }
  onScroll(e) {
    this.intersecting && this.flush(!1), this.onScrollChanged(e);
  }
  onResize() {
    this.resizeTimeout < 0 &&
      (this.resizeTimeout = setTimeout(() => {
        (this.resizeTimeout = -1), this.view.requestMeasure();
      }, 50));
  }
  onPrint(e) {
    (e.type == "change" && !e.matches) ||
      ((this.view.viewState.printing = !0),
      this.view.measure(),
      setTimeout(() => {
        (this.view.viewState.printing = !1), this.view.requestMeasure();
      }, 500));
  }
  updateGaps(e) {
    if (
      this.gapIntersection &&
      (e.length != this.gaps.length || this.gaps.some((n, r) => n != e[r]))
    ) {
      this.gapIntersection.disconnect();
      for (let n of e) this.gapIntersection.observe(n);
      this.gaps = e;
    }
  }
  onSelectionChange(e) {
    let n = this.selectionChanged;
    if (!this.readSelectionRange() || this.delayedAndroidKey) return;
    let { view: r } = this,
      i = this.selectionRange;
    if (r.state.facet(Eh) ? r.root.activeElement != this.dom : !Mc(r.dom, i))
      return;
    let s = i.anchorNode && r.docView.nearest(i.anchorNode);
    if (s && s.ignoreEvent(e)) {
      n || (this.selectionChanged = !1);
      return;
    }
    ((I.ie && I.ie_version <= 11) || (I.android && I.chrome)) &&
    !r.state.selection.main.empty &&
    i.focusNode &&
    Ll(i.focusNode, i.focusOffset, i.anchorNode, i.anchorOffset)
      ? this.flushSoon()
      : this.flush(!1);
  }
  readSelectionRange() {
    let { view: e } = this,
      n = bf(e.root);
    if (!n) return !1;
    let r =
      (I.safari &&
        e.root.nodeType == 11 &&
        RP(this.dom.ownerDocument) == this.dom &&
        e4(this.view, n)) ||
      n;
    if (!r || this.selectionRange.eq(r)) return !1;
    let i = Mc(this.dom, r);
    return i &&
      !this.selectionChanged &&
      e.inputState.lastFocusTime > Date.now() - 200 &&
      e.inputState.lastTouchTime < Date.now() - 300 &&
      $P(this.dom, r)
      ? ((this.view.inputState.lastFocusTime = 0),
        e.docView.updateSelection(),
        !1)
      : (this.selectionRange.setRange(r),
        i && (this.selectionChanged = !0),
        !0);
  }
  setSelectionRange(e, n) {
    this.selectionRange.set(e.node, e.offset, n.node, n.offset),
      (this.selectionChanged = !1);
  }
  clearSelectionRange() {
    this.selectionRange.set(null, 0, null, 0);
  }
  listenForScroll() {
    this.parentCheck = -1;
    let e = 0,
      n = null;
    for (let r = this.dom; r; )
      if (r.nodeType == 1)
        !n && e < this.scrollTargets.length && this.scrollTargets[e] == r
          ? e++
          : n || (n = this.scrollTargets.slice(0, e)),
          n && n.push(r),
          (r = r.assignedSlot || r.parentNode);
      else if (r.nodeType == 11) r = r.host;
      else break;
    if (
      (e < this.scrollTargets.length &&
        !n &&
        (n = this.scrollTargets.slice(0, e)),
      n)
    ) {
      for (let r of this.scrollTargets)
        r.removeEventListener("scroll", this.onScroll);
      for (let r of (this.scrollTargets = n))
        r.addEventListener("scroll", this.onScroll);
    }
  }
  ignore(e) {
    if (!this.active) return e();
    try {
      return this.stop(), e();
    } finally {
      this.start(), this.clear();
    }
  }
  start() {
    this.active ||
      (this.observer.observe(this.dom, JR),
      tp &&
        this.dom.addEventListener("DOMCharacterDataModified", this.onCharData),
      (this.active = !0));
  }
  stop() {
    this.active &&
      ((this.active = !1),
      this.observer.disconnect(),
      tp &&
        this.dom.removeEventListener(
          "DOMCharacterDataModified",
          this.onCharData
        ));
  }
  clear() {
    this.processRecords(),
      (this.queue.length = 0),
      (this.selectionChanged = !1);
  }
  delayAndroidKey(e, n) {
    var r;
    if (!this.delayedAndroidKey) {
      let i = () => {
        let s = this.delayedAndroidKey;
        s &&
          (this.clearDelayedAndroidKey(),
          (this.view.inputState.lastKeyCode = s.keyCode),
          (this.view.inputState.lastKeyTime = Date.now()),
          !this.flush() && s.force && ao(this.dom, s.key, s.keyCode));
      };
      this.flushingAndroidKey = this.view.win.requestAnimationFrame(i);
    }
    (!this.delayedAndroidKey || e == "Enter") &&
      (this.delayedAndroidKey = {
        key: e,
        keyCode: n,
        force:
          this.lastChange < Date.now() - 50 ||
          !!(
            !((r = this.delayedAndroidKey) === null || r === void 0) && r.force
          ),
      });
  }
  clearDelayedAndroidKey() {
    this.win.cancelAnimationFrame(this.flushingAndroidKey),
      (this.delayedAndroidKey = null),
      (this.flushingAndroidKey = -1);
  }
  flushSoon() {
    this.delayedFlush < 0 &&
      (this.delayedFlush = this.view.win.requestAnimationFrame(() => {
        (this.delayedFlush = -1), this.flush();
      }));
  }
  forceFlush() {
    this.delayedFlush >= 0 &&
      (this.view.win.cancelAnimationFrame(this.delayedFlush),
      (this.delayedFlush = -1)),
      this.flush();
  }
  pendingRecords() {
    for (let e of this.observer.takeRecords()) this.queue.push(e);
    return this.queue;
  }
  processRecords() {
    let e = this.pendingRecords();
    e.length && (this.queue = []);
    let n = -1,
      r = -1,
      i = !1;
    for (let s of e) {
      let o = this.readMutation(s);
      o &&
        (o.typeOver && (i = !0),
        n == -1
          ? ({ from: n, to: r } = o)
          : ((n = Math.min(o.from, n)), (r = Math.max(o.to, r))));
    }
    return { from: n, to: r, typeOver: i };
  }
  readChange() {
    let { from: e, to: n, typeOver: r } = this.processRecords(),
      i = this.selectionChanged && Mc(this.dom, this.selectionRange);
    if (e < 0 && !i) return null;
    e > -1 && (this.lastChange = Date.now()),
      (this.view.inputState.lastFocusTime = 0),
      (this.selectionChanged = !1);
    let s = new qR(this.view, e, n, r);
    return (
      (this.view.docView.domChanged = {
        newSel: s.newSel ? s.newSel.main : null,
      }),
      s
    );
  }
  flush(e = !0) {
    if (this.delayedFlush >= 0 || this.delayedAndroidKey) return !1;
    e && this.readSelectionRange();
    let n = this.readChange();
    if (!n) return this.view.requestMeasure(), !1;
    let r = this.view.state,
      i = qC(this.view, n);
    return this.view.state == r && this.view.update([]), i;
  }
  readMutation(e) {
    let n = this.view.docView.nearest(e.target);
    if (!n || n.ignoreMutation(e)) return null;
    if (
      (n.markDirty(e.type == "attributes"),
      e.type == "attributes" && (n.flags |= 4),
      e.type == "childList")
    ) {
      let r = ww(n, e.previousSibling || e.target.previousSibling, -1),
        i = ww(n, e.nextSibling || e.target.nextSibling, 1);
      return {
        from: r ? n.posAfter(r) : n.posAtStart,
        to: i ? n.posBefore(i) : n.posAtEnd,
        typeOver: !1,
      };
    } else
      return e.type == "characterData"
        ? {
            from: n.posAtStart,
            to: n.posAtEnd,
            typeOver: e.target.nodeValue == e.oldValue,
          }
        : null;
  }
  setWindow(e) {
    e != this.win &&
      (this.removeWindowListeners(this.win),
      (this.win = e),
      this.addWindowListeners(this.win));
  }
  addWindowListeners(e) {
    e.addEventListener("resize", this.onResize),
      this.printQuery
        ? this.printQuery.addEventListener("change", this.onPrint)
        : e.addEventListener("beforeprint", this.onPrint),
      e.addEventListener("scroll", this.onScroll),
      e.document.addEventListener("selectionchange", this.onSelectionChange);
  }
  removeWindowListeners(e) {
    e.removeEventListener("scroll", this.onScroll),
      e.removeEventListener("resize", this.onResize),
      this.printQuery
        ? this.printQuery.removeEventListener("change", this.onPrint)
        : e.removeEventListener("beforeprint", this.onPrint),
      e.document.removeEventListener("selectionchange", this.onSelectionChange);
  }
  destroy() {
    var e, n, r;
    this.stop(),
      (e = this.intersection) === null || e === void 0 || e.disconnect(),
      (n = this.gapIntersection) === null || n === void 0 || n.disconnect(),
      (r = this.resizeScroll) === null || r === void 0 || r.disconnect();
    for (let i of this.scrollTargets)
      i.removeEventListener("scroll", this.onScroll);
    this.removeWindowListeners(this.win),
      clearTimeout(this.parentCheck),
      clearTimeout(this.resizeTimeout),
      this.win.cancelAnimationFrame(this.delayedFlush),
      this.win.cancelAnimationFrame(this.flushingAndroidKey);
  }
}
function ww(t, e, n) {
  for (; e; ) {
    let r = ye.get(e);
    if (r && r.parent == t) return r;
    let i = e.parentNode;
    e = i != t.dom ? i : n > 0 ? e.nextSibling : e.previousSibling;
  }
  return null;
}
function bw(t, e) {
  let n = e.startContainer,
    r = e.startOffset,
    i = e.endContainer,
    s = e.endOffset,
    o = t.docView.domAtPos(t.state.selection.main.anchor);
  return (
    Ll(o.node, o.offset, i, s) && ([n, r, i, s] = [i, s, n, r]),
    { anchorNode: n, anchorOffset: r, focusNode: i, focusOffset: s }
  );
}
function e4(t, e) {
  if (e.getComposedRanges) {
    let i = e.getComposedRanges(t.root)[0];
    if (i) return bw(t, i);
  }
  let n = null;
  function r(i) {
    i.preventDefault(),
      i.stopImmediatePropagation(),
      (n = i.getTargetRanges()[0]);
  }
  return (
    t.contentDOM.addEventListener("beforeinput", r, !0),
    t.dom.ownerDocument.execCommand("indent"),
    t.contentDOM.removeEventListener("beforeinput", r, !0),
    n ? bw(t, n) : null
  );
}
class B {
  get state() {
    return this.viewState.state;
  }
  get viewport() {
    return this.viewState.viewport;
  }
  get visibleRanges() {
    return this.viewState.visibleRanges;
  }
  get inView() {
    return this.viewState.inView;
  }
  get composing() {
    return this.inputState.composing > 0;
  }
  get compositionStarted() {
    return this.inputState.composing >= 0;
  }
  get root() {
    return this._root;
  }
  get win() {
    return this.dom.ownerDocument.defaultView || window;
  }
  constructor(e = {}) {
    (this.plugins = []),
      (this.pluginMap = new Map()),
      (this.editorAttrs = {}),
      (this.contentAttrs = {}),
      (this.bidiCache = []),
      (this.destroyed = !1),
      (this.updateState = 2),
      (this.measureScheduled = -1),
      (this.measureRequests = []),
      (this.contentDOM = document.createElement("div")),
      (this.scrollDOM = document.createElement("div")),
      (this.scrollDOM.tabIndex = -1),
      (this.scrollDOM.className = "cm-scroller"),
      this.scrollDOM.appendChild(this.contentDOM),
      (this.announceDOM = document.createElement("div")),
      (this.announceDOM.className = "cm-announced"),
      this.announceDOM.setAttribute("aria-live", "polite"),
      (this.dom = document.createElement("div")),
      this.dom.appendChild(this.announceDOM),
      this.dom.appendChild(this.scrollDOM),
      e.parent && e.parent.appendChild(this.dom);
    let { dispatch: n } = e;
    (this.dispatchTransactions =
      e.dispatchTransactions ||
      (n && ((r) => r.forEach((i) => n(i, this)))) ||
      ((r) => this.update(r))),
      (this.dispatch = this.dispatch.bind(this)),
      (this._root = e.root || IP(e.parent) || document),
      (this.viewState = new gw(e.state || Z.create(e))),
      e.scrollTo &&
        e.scrollTo.is(ju) &&
        (this.viewState.scrollTarget = e.scrollTo.value.clip(
          this.viewState.state
        )),
      (this.plugins = this.state.facet(gl).map((r) => new Qd(r)));
    for (let r of this.plugins) r.update(this);
    (this.observer = new ZR(this)),
      (this.inputState = new mR(this)),
      this.inputState.ensureHandlers(this.plugins),
      (this.docView = new Jv(this)),
      this.mountStyles(),
      this.updateAttrs(),
      (this.updateState = 0),
      this.requestMeasure();
  }
  dispatch(...e) {
    let n =
      e.length == 1 && e[0] instanceof Je
        ? e
        : e.length == 1 && Array.isArray(e[0])
          ? e[0]
          : [this.state.update(...e)];
    this.dispatchTransactions(n, this);
  }
  update(e) {
    if (this.updateState != 0)
      throw new Error(
        "Calls to EditorView.update are not allowed while an update is in progress"
      );
    let n = !1,
      r = !1,
      i,
      s = this.state;
    for (let h of e) {
      if (h.startState != s)
        throw new RangeError(
          "Trying to update state with a transaction that doesn't start from the previous state."
        );
      s = h.state;
    }
    if (this.destroyed) {
      this.viewState.state = s;
      return;
    }
    let o = this.hasFocus,
      l = 0,
      a = null;
    e.some((h) => h.annotation(zC))
      ? ((this.inputState.notifiedFocused = o), (l = 1))
      : o != this.inputState.notifiedFocused &&
        ((this.inputState.notifiedFocused = o), (a = jC(s, o)), a || (l = 1));
    let u = this.observer.delayedAndroidKey,
      c = null;
    if (
      (u
        ? (this.observer.clearDelayedAndroidKey(),
          (c = this.observer.readChange()),
          ((c && !this.state.doc.eq(s.doc)) ||
            !this.state.selection.eq(s.selection)) &&
            (c = null))
        : this.observer.clear(),
      s.facet(Z.phrases) != this.state.facet(Z.phrases))
    )
      return this.setState(s);
    (i = Sf.create(this, s, e)), (i.flags |= l);
    let f = this.viewState.scrollTarget;
    try {
      this.updateState = 2;
      for (let h of e) {
        if ((f && (f = f.map(h.changes)), h.scrollIntoView)) {
          let { main: d } = h.state.selection;
          f = new uo(
            d.empty ? d : A.cursor(d.head, d.head > d.anchor ? -1 : 1)
          );
        }
        for (let d of h.effects) d.is(ju) && (f = d.value.clip(this.state));
      }
      this.viewState.update(i, f),
        (this.bidiCache = kf.update(this.bidiCache, i.changes)),
        i.empty || (this.updatePlugins(i), this.inputState.update(i)),
        (n = this.docView.update(i)),
        this.state.facet(yl) != this.styleModules && this.mountStyles(),
        (r = this.updateAttrs()),
        this.showAnnouncements(e),
        this.docView.updateSelection(
          n,
          e.some((h) => h.isUserEvent("select.pointer"))
        );
    } finally {
      this.updateState = 0;
    }
    if (
      (i.startState.facet(qu) != i.state.facet(qu) &&
        (this.viewState.mustMeasureContent = !0),
      (n ||
        r ||
        f ||
        this.viewState.mustEnforceCursorAssoc ||
        this.viewState.mustMeasureContent) &&
        this.requestMeasure(),
      n && this.docViewUpdate(),
      !i.empty)
    )
      for (let h of this.state.facet(eg))
        try {
          h(i);
        } catch (d) {
          It(this.state, d, "update listener");
        }
    (a || c) &&
      Promise.resolve().then(() => {
        a && this.state == a.startState && this.dispatch(a),
          c && !qC(this, c) && u.force && ao(this.contentDOM, u.key, u.keyCode);
      });
  }
  setState(e) {
    if (this.updateState != 0)
      throw new Error(
        "Calls to EditorView.setState are not allowed while an update is in progress"
      );
    if (this.destroyed) {
      this.viewState.state = e;
      return;
    }
    this.updateState = 2;
    let n = this.hasFocus;
    try {
      for (let r of this.plugins) r.destroy(this);
      (this.viewState = new gw(e)),
        (this.plugins = e.facet(gl).map((r) => new Qd(r))),
        this.pluginMap.clear();
      for (let r of this.plugins) r.update(this);
      this.docView.destroy(),
        (this.docView = new Jv(this)),
        this.inputState.ensureHandlers(this.plugins),
        this.mountStyles(),
        this.updateAttrs(),
        (this.bidiCache = []);
    } finally {
      this.updateState = 0;
    }
    n && this.focus(), this.requestMeasure();
  }
  updatePlugins(e) {
    let n = e.startState.facet(gl),
      r = e.state.facet(gl);
    if (n != r) {
      let i = [];
      for (let s of r) {
        let o = n.indexOf(s);
        if (o < 0) i.push(new Qd(s));
        else {
          let l = this.plugins[o];
          (l.mustUpdate = e), i.push(l);
        }
      }
      for (let s of this.plugins) s.mustUpdate != e && s.destroy(this);
      (this.plugins = i), this.pluginMap.clear();
    } else for (let i of this.plugins) i.mustUpdate = e;
    for (let i = 0; i < this.plugins.length; i++) this.plugins[i].update(this);
    n != r && this.inputState.ensureHandlers(this.plugins);
  }
  docViewUpdate() {
    for (let e of this.plugins) {
      let n = e.value;
      if (n && n.docViewUpdate)
        try {
          n.docViewUpdate(this);
        } catch (r) {
          It(this.state, r, "doc view update listener");
        }
    }
  }
  measure(e = !0) {
    if (this.destroyed) return;
    if (
      (this.measureScheduled > -1 &&
        this.win.cancelAnimationFrame(this.measureScheduled),
      this.observer.delayedAndroidKey)
    ) {
      (this.measureScheduled = -1), this.requestMeasure();
      return;
    }
    (this.measureScheduled = 0), e && this.observer.forceFlush();
    let n = null,
      r = this.scrollDOM,
      i = r.scrollTop * this.scaleY,
      { scrollAnchorPos: s, scrollAnchorHeight: o } = this.viewState;
    Math.abs(i - this.viewState.scrollTop) > 1 && (o = -1),
      (this.viewState.scrollAnchorHeight = -1);
    try {
      for (let l = 0; ; l++) {
        if (o < 0)
          if (tC(r)) (s = -1), (o = this.viewState.heightMap.height);
          else {
            let d = this.viewState.scrollAnchorAt(i);
            (s = d.from), (o = d.top);
          }
        this.updateState = 1;
        let a = this.viewState.measure(this);
        if (
          !a &&
          !this.measureRequests.length &&
          this.viewState.scrollTarget == null
        )
          break;
        if (l > 5) {
          console.warn(
            this.measureRequests.length
              ? "Measure loop restarted more than 5 times"
              : "Viewport failed to stabilize"
          );
          break;
        }
        let u = [];
        a & 4 || ([this.measureRequests, u] = [u, this.measureRequests]);
        let c = u.map((d) => {
            try {
              return d.read(this);
            } catch (p) {
              return It(this.state, p), xw;
            }
          }),
          f = Sf.create(this, this.state, []),
          h = !1;
        (f.flags |= a),
          n ? (n.flags |= a) : (n = f),
          (this.updateState = 2),
          f.empty ||
            (this.updatePlugins(f),
            this.inputState.update(f),
            this.updateAttrs(),
            (h = this.docView.update(f)),
            h && this.docViewUpdate());
        for (let d = 0; d < u.length; d++)
          if (c[d] != xw)
            try {
              let p = u[d];
              p.write && p.write(c[d], this);
            } catch (p) {
              It(this.state, p);
            }
        if (
          (h && this.docView.updateSelection(!0),
          !f.viewportChanged && this.measureRequests.length == 0)
        ) {
          if (this.viewState.editorHeight)
            if (this.viewState.scrollTarget) {
              this.docView.scrollIntoView(this.viewState.scrollTarget),
                (this.viewState.scrollTarget = null),
                (o = -1);
              continue;
            } else {
              let p =
                (s < 0
                  ? this.viewState.heightMap.height
                  : this.viewState.lineBlockAt(s).top) - o;
              if (p > 1 || p < -1) {
                (i = i + p), (r.scrollTop = i / this.scaleY), (o = -1);
                continue;
              }
            }
          break;
        }
      }
    } finally {
      (this.updateState = 0), (this.measureScheduled = -1);
    }
    if (n && !n.empty) for (let l of this.state.facet(eg)) l(n);
  }
  get themeClasses() {
    return (
      sg + " " + (this.state.facet(ig) ? UC : HC) + " " + this.state.facet(qu)
    );
  }
  updateAttrs() {
    let e = Sw(this, OC, {
        class:
          "cm-editor" +
          (this.hasFocus ? " cm-focused " : " ") +
          this.themeClasses,
      }),
      n = {
        spellcheck: "false",
        autocorrect: "off",
        autocapitalize: "off",
        translate: "no",
        contenteditable: this.state.facet(Eh) ? "true" : "false",
        class: "cm-content",
        style: `${I.tabSize}: ${this.state.tabSize}`,
        role: "textbox",
        "aria-multiline": "true",
      };
    this.state.readOnly && (n["aria-readonly"] = "true"), Sw(this, ty, n);
    let r = this.observer.ignore(() => {
      let i = Ym(this.contentDOM, this.contentAttrs, n),
        s = Ym(this.dom, this.editorAttrs, e);
      return i || s;
    });
    return (this.editorAttrs = e), (this.contentAttrs = n), r;
  }
  showAnnouncements(e) {
    let n = !0;
    for (let r of e)
      for (let i of r.effects)
        if (i.is(B.announce)) {
          n && (this.announceDOM.textContent = ""), (n = !1);
          let s = this.announceDOM.appendChild(document.createElement("div"));
          s.textContent = i.value;
        }
  }
  mountStyles() {
    this.styleModules = this.state.facet(yl);
    let e = this.state.facet(B.cspNonce);
    Ei.mount(
      this.root,
      this.styleModules.concat(HR).reverse(),
      e ? { nonce: e } : void 0
    );
  }
  readMeasured() {
    if (this.updateState == 2)
      throw new Error(
        "Reading the editor layout isn't allowed during an update"
      );
    this.updateState == 0 && this.measureScheduled > -1 && this.measure(!1);
  }
  requestMeasure(e) {
    if (
      (this.measureScheduled < 0 &&
        (this.measureScheduled = this.win.requestAnimationFrame(() =>
          this.measure()
        )),
      e)
    ) {
      if (this.measureRequests.indexOf(e) > -1) return;
      if (e.key != null) {
        for (let n = 0; n < this.measureRequests.length; n++)
          if (this.measureRequests[n].key === e.key) {
            this.measureRequests[n] = e;
            return;
          }
      }
      this.measureRequests.push(e);
    }
  }
  plugin(e) {
    let n = this.pluginMap.get(e);
    return (
      (n === void 0 || (n && n.spec != e)) &&
        this.pluginMap.set(
          e,
          (n = this.plugins.find((r) => r.spec == e) || null)
        ),
      n && n.update(this).value
    );
  }
  get documentTop() {
    return (
      this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop
    );
  }
  get documentPadding() {
    return {
      top: this.viewState.paddingTop,
      bottom: this.viewState.paddingBottom,
    };
  }
  get scaleX() {
    return this.viewState.scaleX;
  }
  get scaleY() {
    return this.viewState.scaleY;
  }
  elementAtHeight(e) {
    return this.readMeasured(), this.viewState.elementAtHeight(e);
  }
  lineBlockAtHeight(e) {
    return this.readMeasured(), this.viewState.lineBlockAtHeight(e);
  }
  get viewportLineBlocks() {
    return this.viewState.viewportLines;
  }
  lineBlockAt(e) {
    return this.viewState.lineBlockAt(e);
  }
  get contentHeight() {
    return this.viewState.contentHeight;
  }
  moveByChar(e, n, r) {
    return Zd(this, e, iw(this, e, n, r));
  }
  moveByGroup(e, n) {
    return Zd(
      this,
      e,
      iw(this, e, n, (r) => dR(this, e.head, r))
    );
  }
  visualLineSide(e, n) {
    let r = this.bidiSpans(e),
      i = this.textDirectionAt(e.from),
      s = r[n ? r.length - 1 : 0];
    return A.cursor(s.side(n, i) + e.from, s.forward(!n, i) ? 1 : -1);
  }
  moveToLineBoundary(e, n, r = !0) {
    return hR(this, e, n, r);
  }
  moveVertically(e, n, r) {
    return Zd(this, e, pR(this, e, n, r));
  }
  domAtPos(e) {
    return this.docView.domAtPos(e);
  }
  posAtDOM(e, n = 0) {
    return this.docView.posFromDOM(e, n);
  }
  posAtCoords(e, n = !0) {
    return this.readMeasured(), DC(this, e, n);
  }
  coordsAtPos(e, n = 1) {
    this.readMeasured();
    let r = this.docView.coordsAt(e, n);
    if (!r || r.left == r.right) return r;
    let i = this.state.doc.lineAt(e),
      s = this.bidiSpans(i),
      o = s[ci.find(s, e - i.from, -1, n)];
    return Q0(r, (o.dir == Ce.LTR) == n > 0);
  }
  coordsForChar(e) {
    return this.readMeasured(), this.docView.coordsForChar(e);
  }
  get defaultCharacterWidth() {
    return this.viewState.heightOracle.charWidth;
  }
  get defaultLineHeight() {
    return this.viewState.heightOracle.lineHeight;
  }
  get textDirection() {
    return this.viewState.defaultTextDirection;
  }
  textDirectionAt(e) {
    return !this.state.facet(CC) ||
      e < this.viewport.from ||
      e > this.viewport.to
      ? this.textDirection
      : (this.readMeasured(), this.docView.textDirectionAt(e));
  }
  get lineWrapping() {
    return this.viewState.heightOracle.lineWrapping;
  }
  bidiSpans(e) {
    if (e.length > t4) return gC(e.length);
    let n = this.textDirectionAt(e.from),
      r;
    for (let s of this.bidiCache)
      if (
        s.from == e.from &&
        s.dir == n &&
        (s.fresh || mC(s.isolates, (r = Qv(this, e))))
      )
        return s.order;
    r || (r = Qv(this, e));
    let i = XP(e.text, n, r);
    return this.bidiCache.push(new kf(e.from, e.to, n, r, !0, i)), i;
  }
  get hasFocus() {
    var e;
    return (
      (this.dom.ownerDocument.hasFocus() ||
        (I.safari &&
          ((e = this.inputState) === null || e === void 0
            ? void 0
            : e.lastContextMenu) >
            Date.now() - 3e4)) &&
      this.root.activeElement == this.contentDOM
    );
  }
  focus() {
    this.observer.ignore(() => {
      Zk(this.contentDOM), this.docView.updateSelection();
    });
  }
  setRoot(e) {
    this._root != e &&
      ((this._root = e),
      this.observer.setWindow(
        (e.nodeType == 9 ? e : e.ownerDocument).defaultView || window
      ),
      this.mountStyles());
  }
  destroy() {
    for (let e of this.plugins) e.destroy(this);
    (this.plugins = []),
      this.inputState.destroy(),
      this.docView.destroy(),
      this.dom.remove(),
      this.observer.destroy(),
      this.measureScheduled > -1 &&
        this.win.cancelAnimationFrame(this.measureScheduled),
      (this.destroyed = !0);
  }
  static scrollIntoView(e, n = {}) {
    return ju.of(
      new uo(
        typeof e == "number" ? A.cursor(e) : e,
        n.y,
        n.x,
        n.yMargin,
        n.xMargin
      )
    );
  }
  scrollSnapshot() {
    let { scrollTop: e, scrollLeft: n } = this.scrollDOM,
      r = this.viewState.scrollAnchorAt(e);
    return ju.of(new uo(A.cursor(r.from), "start", "start", r.top - e, n, !0));
  }
  static domEventHandlers(e) {
    return je.define(() => ({}), { eventHandlers: e });
  }
  static domEventObservers(e) {
    return je.define(() => ({}), { eventObservers: e });
  }
  static theme(e, n) {
    let r = Ei.newName(),
      i = [qu.of(r), yl.of(og(`.${r}`, e))];
    return n && n.dark && i.push(ig.of(!0)), i;
  }
  static baseTheme(e) {
    return ks.lowest(yl.of(og("." + sg, e, KC)));
  }
  static findFromDOM(e) {
    var n;
    let r = e.querySelector(".cm-content"),
      i = (r && ye.get(r)) || ye.get(e);
    return (
      ((n = i == null ? void 0 : i.rootView) === null || n === void 0
        ? void 0
        : n.view) || null
    );
  }
}
B.styleModule = yl;
B.inputHandler = SC;
B.scrollHandler = AC;
B.focusChangeEffect = kC;
B.perLineTextDirection = CC;
B.exceptionSink = xC;
B.updateListener = eg;
B.editable = Eh;
B.mouseSelectionStyle = bC;
B.dragMovesSelection = wC;
B.clickAddsSelectionRange = vC;
B.decorations = pa;
B.outerDecorations = EC;
B.atomicRanges = ny;
B.bidiIsolatedRanges = MC;
B.scrollMargins = TC;
B.darkTheme = ig;
B.cspNonce = $.define({ combine: (t) => (t.length ? t[0] : "") });
B.contentAttributes = ty;
B.editorAttributes = OC;
B.lineWrapping = B.contentAttributes.of({ class: "cm-lineWrapping" });
B.announce = Y.define();
const t4 = 4096,
  xw = {};
class kf {
  constructor(e, n, r, i, s, o) {
    (this.from = e),
      (this.to = n),
      (this.dir = r),
      (this.isolates = i),
      (this.fresh = s),
      (this.order = o);
  }
  static update(e, n) {
    if (n.empty && !e.some((s) => s.fresh)) return e;
    let r = [],
      i = e.length ? e[e.length - 1].dir : Ce.LTR;
    for (let s = Math.max(0, e.length - 10); s < e.length; s++) {
      let o = e[s];
      o.dir == i &&
        !n.touchesRange(o.from, o.to) &&
        r.push(
          new kf(
            n.mapPos(o.from, 1),
            n.mapPos(o.to, -1),
            o.dir,
            o.isolates,
            !1,
            o.order
          )
        );
    }
    return r;
  }
}
function Sw(t, e, n) {
  for (let r = t.state.facet(e), i = r.length - 1; i >= 0; i--) {
    let s = r[i],
      o = typeof s == "function" ? s(t) : s;
    o && Gm(o, n);
  }
  return n;
}
const n4 = I.mac ? "mac" : I.windows ? "win" : I.linux ? "linux" : "key";
function r4(t, e) {
  const n = t.split(/-(?!$)/);
  let r = n[n.length - 1];
  r == "Space" && (r = " ");
  let i, s, o, l;
  for (let a = 0; a < n.length - 1; ++a) {
    const u = n[a];
    if (/^(cmd|meta|m)$/i.test(u)) l = !0;
    else if (/^a(lt)?$/i.test(u)) i = !0;
    else if (/^(c|ctrl|control)$/i.test(u)) s = !0;
    else if (/^s(hift)?$/i.test(u)) o = !0;
    else if (/^mod$/i.test(u)) e == "mac" ? (l = !0) : (s = !0);
    else throw new Error("Unrecognized modifier name: " + u);
  }
  return (
    i && (r = "Alt-" + r),
    s && (r = "Ctrl-" + r),
    l && (r = "Meta-" + r),
    o && (r = "Shift-" + r),
    r
  );
}
function Gu(t, e, n) {
  return (
    e.altKey && (t = "Alt-" + t),
    e.ctrlKey && (t = "Ctrl-" + t),
    e.metaKey && (t = "Meta-" + t),
    n !== !1 && e.shiftKey && (t = "Shift-" + t),
    t
  );
}
const i4 = ks.default(
    B.domEventHandlers({
      keydown(t, e) {
        return YC(GC(e.state), t, e, "editor");
      },
    })
  ),
  iy = $.define({ enables: i4 }),
  kw = new WeakMap();
function GC(t) {
  let e = t.facet(iy),
    n = kw.get(e);
  return n || kw.set(e, (n = l4(e.reduce((r, i) => r.concat(i), [])))), n;
}
function s4(t, e, n) {
  return YC(GC(t.state), e, t, n);
}
let ni = null;
const o4 = 4e3;
function l4(t, e = n4) {
  let n = Object.create(null),
    r = Object.create(null),
    i = (o, l) => {
      let a = r[o];
      if (a == null) r[o] = l;
      else if (a != l)
        throw new Error(
          "Key binding " +
            o +
            " is used both as a regular binding and as a multi-stroke prefix"
        );
    },
    s = (o, l, a, u, c) => {
      var f, h;
      let d = n[o] || (n[o] = Object.create(null)),
        p = l.split(/ (?!$)/).map((g) => r4(g, e));
      for (let g = 1; g < p.length; g++) {
        let y = p.slice(0, g).join(" ");
        i(y, !0),
          d[y] ||
            (d[y] = {
              preventDefault: !0,
              stopPropagation: !1,
              run: [
                (v) => {
                  let b = (ni = { view: v, prefix: y, scope: o });
                  return (
                    setTimeout(() => {
                      ni == b && (ni = null);
                    }, o4),
                    !0
                  );
                },
              ],
            });
      }
      let m = p.join(" ");
      i(m, !1);
      let w =
        d[m] ||
        (d[m] = {
          preventDefault: !1,
          stopPropagation: !1,
          run:
            ((h = (f = d._any) === null || f === void 0 ? void 0 : f.run) ===
              null || h === void 0
              ? void 0
              : h.slice()) || [],
        });
      a && w.run.push(a),
        u && (w.preventDefault = !0),
        c && (w.stopPropagation = !0);
    };
  for (let o of t) {
    let l = o.scope ? o.scope.split(" ") : ["editor"];
    if (o.any)
      for (let u of l) {
        let c = n[u] || (n[u] = Object.create(null));
        c._any ||
          (c._any = { preventDefault: !1, stopPropagation: !1, run: [] });
        for (let f in c) c[f].run.push(o.any);
      }
    let a = o[e] || o.key;
    if (a)
      for (let u of l)
        s(u, a, o.run, o.preventDefault, o.stopPropagation),
          o.shift &&
            s(u, "Shift-" + a, o.shift, o.preventDefault, o.stopPropagation);
  }
  return n;
}
function YC(t, e, n, r) {
  let i = PP(e),
    s = at(i, 0),
    o = vn(s) == i.length && i != " ",
    l = "",
    a = !1,
    u = !1,
    c = !1;
  ni &&
    ni.view == n &&
    ni.scope == r &&
    ((l = ni.prefix + " "),
    BC.indexOf(e.keyCode) < 0 && ((u = !0), (ni = null)));
  let f = new Set(),
    h = (w) => {
      if (w) {
        for (let g of w.run)
          if (!f.has(g) && (f.add(g), g(n, e)))
            return w.stopPropagation && (c = !0), !0;
        w.preventDefault && (w.stopPropagation && (c = !0), (u = !0));
      }
      return !1;
    },
    d = t[r],
    p,
    m;
  return (
    d &&
      (h(d[l + Gu(i, e, !o)])
        ? (a = !0)
        : o &&
            (e.altKey || e.metaKey || e.ctrlKey) &&
            !(I.windows && e.ctrlKey && e.altKey) &&
            (p = Mi[e.keyCode]) &&
            p != i
          ? (h(d[l + Gu(p, e, !0)]) ||
              (e.shiftKey &&
                (m = ha[e.keyCode]) != i &&
                m != p &&
                h(d[l + Gu(m, e, !1)]))) &&
            (a = !0)
          : o && e.shiftKey && h(d[l + Gu(i, e, !0)]) && (a = !0),
      !a && h(d._any) && (a = !0)),
    u && (a = !0),
    a && c && e.stopPropagation(),
    a
  );
}
class ru {
  constructor(e, n, r, i, s) {
    (this.className = e),
      (this.left = n),
      (this.top = r),
      (this.width = i),
      (this.height = s);
  }
  draw() {
    let e = document.createElement("div");
    return (e.className = this.className), this.adjust(e), e;
  }
  update(e, n) {
    return n.className != this.className ? !1 : (this.adjust(e), !0);
  }
  adjust(e) {
    (e.style.left = this.left + "px"),
      (e.style.top = this.top + "px"),
      this.width != null && (e.style.width = this.width + "px"),
      (e.style.height = this.height + "px");
  }
  eq(e) {
    return (
      this.left == e.left &&
      this.top == e.top &&
      this.width == e.width &&
      this.height == e.height &&
      this.className == e.className
    );
  }
  static forRange(e, n, r) {
    if (r.empty) {
      let i = e.coordsAtPos(r.head, r.assoc || 1);
      if (!i) return [];
      let s = XC(e);
      return [
        new ru(n, i.left - s.left, i.top - s.top, null, i.bottom - i.top),
      ];
    } else return a4(e, n, r);
  }
}
function XC(t) {
  let e = t.scrollDOM.getBoundingClientRect();
  return {
    left:
      (t.textDirection == Ce.LTR
        ? e.left
        : e.right - t.scrollDOM.clientWidth * t.scaleX) -
      t.scrollDOM.scrollLeft * t.scaleX,
    top: e.top - t.scrollDOM.scrollTop * t.scaleY,
  };
}
function Cw(t, e, n) {
  let r = A.cursor(e);
  return {
    from: Math.max(n.from, t.moveToLineBoundary(r, !1, !0).from),
    to: Math.min(n.to, t.moveToLineBoundary(r, !0, !0).from),
    type: Mt.Text,
  };
}
function a4(t, e, n) {
  if (n.to <= t.viewport.from || n.from >= t.viewport.to) return [];
  let r = Math.max(n.from, t.viewport.from),
    i = Math.min(n.to, t.viewport.to),
    s = t.textDirection == Ce.LTR,
    o = t.contentDOM,
    l = o.getBoundingClientRect(),
    a = XC(t),
    u = o.querySelector(".cm-line"),
    c = u && window.getComputedStyle(u),
    f =
      l.left +
      (c ? parseInt(c.paddingLeft) + Math.min(0, parseInt(c.textIndent)) : 0),
    h = l.right - (c ? parseInt(c.paddingRight) : 0),
    d = ng(t, r),
    p = ng(t, i),
    m = d.type == Mt.Text ? d : null,
    w = p.type == Mt.Text ? p : null;
  if (
    (m && (t.lineWrapping || d.widgetLineBreaks) && (m = Cw(t, r, m)),
    w && (t.lineWrapping || p.widgetLineBreaks) && (w = Cw(t, i, w)),
    m && w && m.from == w.from)
  )
    return y(v(n.from, n.to, m));
  {
    let x = m ? v(n.from, null, m) : b(d, !1),
      S = w ? v(null, n.to, w) : b(p, !0),
      k = [];
    return (
      (m || d).to < (w || p).from - (m && w ? 1 : 0) ||
      (d.widgetLineBreaks > 1 && x.bottom + t.defaultLineHeight / 2 < S.top)
        ? k.push(g(f, x.bottom, h, S.top))
        : x.bottom < S.top &&
          t.elementAtHeight((x.bottom + S.top) / 2).type == Mt.Text &&
          (x.bottom = S.top = (x.bottom + S.top) / 2),
      y(x).concat(k).concat(y(S))
    );
  }
  function g(x, S, k, _) {
    return new ru(e, x - a.left, S - a.top - 0.01, k - x, _ - S + 0.01);
  }
  function y({ top: x, bottom: S, horizontal: k }) {
    let _ = [];
    for (let M = 0; M < k.length; M += 2) _.push(g(k[M], x, k[M + 1], S));
    return _;
  }
  function v(x, S, k) {
    let _ = 1e9,
      M = -1e9,
      O = [];
    function L(H, Q, Ee, Le, T) {
      let j = t.coordsAtPos(H, H == k.to ? -2 : 2),
        z = t.coordsAtPos(Ee, Ee == k.from ? 2 : -2);
      !j ||
        !z ||
        ((_ = Math.min(j.top, z.top, _)),
        (M = Math.max(j.bottom, z.bottom, M)),
        T == Ce.LTR
          ? O.push(s && Q ? f : j.left, s && Le ? h : z.right)
          : O.push(!s && Le ? f : z.left, !s && Q ? h : j.right));
    }
    let F = x ?? k.from,
      W = S ?? k.to;
    for (let H of t.visibleRanges)
      if (H.to > F && H.from < W)
        for (let Q = Math.max(H.from, F), Ee = Math.min(H.to, W); ; ) {
          let Le = t.state.doc.lineAt(Q);
          for (let T of t.bidiSpans(Le)) {
            let j = T.from + Le.from,
              z = T.to + Le.from;
            if (j >= Ee) break;
            z > Q &&
              L(
                Math.max(j, Q),
                x == null && j <= F,
                Math.min(z, Ee),
                S == null && z >= W,
                T.dir
              );
          }
          if (((Q = Le.to + 1), Q >= Ee)) break;
        }
    return (
      O.length == 0 && L(F, x == null, W, S == null, t.textDirection),
      { top: _, bottom: M, horizontal: O }
    );
  }
  function b(x, S) {
    let k = l.top + (S ? x.top : x.bottom);
    return { top: k, bottom: k, horizontal: [] };
  }
}
function u4(t, e) {
  return t.constructor == e.constructor && t.eq(e);
}
class c4 {
  constructor(e, n) {
    (this.view = e),
      (this.layer = n),
      (this.drawn = []),
      (this.scaleX = 1),
      (this.scaleY = 1),
      (this.measureReq = {
        read: this.measure.bind(this),
        write: this.draw.bind(this),
      }),
      (this.dom = e.scrollDOM.appendChild(document.createElement("div"))),
      this.dom.classList.add("cm-layer"),
      n.above && this.dom.classList.add("cm-layer-above"),
      n.class && this.dom.classList.add(n.class),
      this.scale(),
      this.dom.setAttribute("aria-hidden", "true"),
      this.setOrder(e.state),
      e.requestMeasure(this.measureReq),
      n.mount && n.mount(this.dom, e);
  }
  update(e) {
    e.startState.facet(Rc) != e.state.facet(Rc) && this.setOrder(e.state),
      (this.layer.update(e, this.dom) || e.geometryChanged) &&
        (this.scale(), e.view.requestMeasure(this.measureReq));
  }
  docViewUpdate(e) {
    this.layer.updateOnDocViewUpdate !== !1 &&
      e.requestMeasure(this.measureReq);
  }
  setOrder(e) {
    let n = 0,
      r = e.facet(Rc);
    for (; n < r.length && r[n] != this.layer; ) n++;
    this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - n);
  }
  measure() {
    return this.layer.markers(this.view);
  }
  scale() {
    let { scaleX: e, scaleY: n } = this.view;
    (e != this.scaleX || n != this.scaleY) &&
      ((this.scaleX = e),
      (this.scaleY = n),
      (this.dom.style.transform = `scale(${1 / e}, ${1 / n})`));
  }
  draw(e) {
    if (
      e.length != this.drawn.length ||
      e.some((n, r) => !u4(n, this.drawn[r]))
    ) {
      let n = this.dom.firstChild,
        r = 0;
      for (let i of e)
        i.update &&
        n &&
        i.constructor &&
        this.drawn[r].constructor &&
        i.update(n, this.drawn[r])
          ? ((n = n.nextSibling), r++)
          : this.dom.insertBefore(i.draw(), n);
      for (; n; ) {
        let i = n.nextSibling;
        n.remove(), (n = i);
      }
      this.drawn = e;
    }
  }
  destroy() {
    this.layer.destroy && this.layer.destroy(this.dom, this.view),
      this.dom.remove();
  }
}
const Rc = $.define();
function QC(t) {
  return [je.define((e) => new c4(e, t)), Rc.of(t)];
}
const JC = !I.ios,
  ma = $.define({
    combine(t) {
      return Sr(
        t,
        { cursorBlinkRate: 1200, drawRangeCursor: !0 },
        {
          cursorBlinkRate: (e, n) => Math.min(e, n),
          drawRangeCursor: (e, n) => e || n,
        }
      );
    },
  });
function f4(t = {}) {
  return [ma.of(t), h4, d4, p4, _C.of(!0)];
}
function ZC(t) {
  return t.startState.facet(ma) != t.state.facet(ma);
}
const h4 = QC({
  above: !0,
  markers(t) {
    let { state: e } = t,
      n = e.facet(ma),
      r = [];
    for (let i of e.selection.ranges) {
      let s = i == e.selection.main;
      if (i.empty ? !s || JC : n.drawRangeCursor) {
        let o = s
            ? "cm-cursor cm-cursor-primary"
            : "cm-cursor cm-cursor-secondary",
          l = i.empty ? i : A.cursor(i.head, i.head > i.anchor ? -1 : 1);
        for (let a of ru.forRange(t, o, l)) r.push(a);
      }
    }
    return r;
  },
  update(t, e) {
    t.transactions.some((r) => r.selection) &&
      (e.style.animationName =
        e.style.animationName == "cm-blink" ? "cm-blink2" : "cm-blink");
    let n = ZC(t);
    return n && _w(t.state, e), t.docChanged || t.selectionSet || n;
  },
  mount(t, e) {
    _w(e.state, t);
  },
  class: "cm-cursorLayer",
});
function _w(t, e) {
  e.style.animationDuration = t.facet(ma).cursorBlinkRate + "ms";
}
const d4 = QC({
    above: !1,
    markers(t) {
      return t.state.selection.ranges
        .map((e) =>
          e.empty ? [] : ru.forRange(t, "cm-selectionBackground", e)
        )
        .reduce((e, n) => e.concat(n));
    },
    update(t, e) {
      return t.docChanged || t.selectionSet || t.viewportChanged || ZC(t);
    },
    class: "cm-selectionLayer",
  }),
  lg = {
    ".cm-line": {
      "& ::selection": { backgroundColor: "transparent !important" },
      "&::selection": { backgroundColor: "transparent !important" },
    },
  };
JC &&
  ((lg[".cm-line"].caretColor = "transparent !important"),
  (lg[".cm-content"] = { caretColor: "transparent !important" }));
const p4 = ks.highest(B.theme(lg)),
  e_ = Y.define({
    map(t, e) {
      return t == null ? null : e.mapPos(t);
    },
  }),
  bl = nt.define({
    create() {
      return null;
    },
    update(t, e) {
      return (
        t != null && (t = e.changes.mapPos(t)),
        e.effects.reduce((n, r) => (r.is(e_) ? r.value : n), t)
      );
    },
  }),
  m4 = je.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.cursor = null),
          (this.measureReq = {
            read: this.readPos.bind(this),
            write: this.drawCursor.bind(this),
          });
      }
      update(t) {
        var e;
        let n = t.state.field(bl);
        n == null
          ? this.cursor != null &&
            ((e = this.cursor) === null || e === void 0 || e.remove(),
            (this.cursor = null))
          : (this.cursor ||
              ((this.cursor = this.view.scrollDOM.appendChild(
                document.createElement("div")
              )),
              (this.cursor.className = "cm-dropCursor")),
            (t.startState.field(bl) != n ||
              t.docChanged ||
              t.geometryChanged) &&
              this.view.requestMeasure(this.measureReq));
      }
      readPos() {
        let { view: t } = this,
          e = t.state.field(bl),
          n = e != null && t.coordsAtPos(e);
        if (!n) return null;
        let r = t.scrollDOM.getBoundingClientRect();
        return {
          left: n.left - r.left + t.scrollDOM.scrollLeft * t.scaleX,
          top: n.top - r.top + t.scrollDOM.scrollTop * t.scaleY,
          height: n.bottom - n.top,
        };
      }
      drawCursor(t) {
        if (this.cursor) {
          let { scaleX: e, scaleY: n } = this.view;
          t
            ? ((this.cursor.style.left = t.left / e + "px"),
              (this.cursor.style.top = t.top / n + "px"),
              (this.cursor.style.height = t.height / n + "px"))
            : (this.cursor.style.left = "-100000px");
        }
      }
      destroy() {
        this.cursor && this.cursor.remove();
      }
      setDropPos(t) {
        this.view.state.field(bl) != t &&
          this.view.dispatch({ effects: e_.of(t) });
      }
    },
    {
      eventObservers: {
        dragover(t) {
          this.setDropPos(
            this.view.posAtCoords({ x: t.clientX, y: t.clientY })
          );
        },
        dragleave(t) {
          (t.target == this.view.contentDOM ||
            !this.view.contentDOM.contains(t.relatedTarget)) &&
            this.setDropPos(null);
        },
        dragend() {
          this.setDropPos(null);
        },
        drop() {
          this.setDropPos(null);
        },
      },
    }
  );
function g4() {
  return [bl, m4];
}
function Aw(t, e, n, r, i) {
  e.lastIndex = 0;
  for (let s = t.iterRange(n, r), o = n, l; !s.next().done; o += s.value.length)
    if (!s.lineBreak) for (; (l = e.exec(s.value)); ) i(o + l.index, l);
}
function y4(t, e) {
  let n = t.visibleRanges;
  if (n.length == 1 && n[0].from == t.viewport.from && n[0].to == t.viewport.to)
    return n;
  let r = [];
  for (let { from: i, to: s } of n)
    (i = Math.max(t.state.doc.lineAt(i).from, i - e)),
      (s = Math.min(t.state.doc.lineAt(s).to, s + e)),
      r.length && r[r.length - 1].to >= i
        ? (r[r.length - 1].to = s)
        : r.push({ from: i, to: s });
  return r;
}
class v4 {
  constructor(e) {
    const {
      regexp: n,
      decoration: r,
      decorate: i,
      boundary: s,
      maxLength: o = 1e3,
    } = e;
    if (!n.global)
      throw new RangeError(
        "The regular expression given to MatchDecorator should have its 'g' flag set"
      );
    if (((this.regexp = n), i))
      this.addMatch = (l, a, u, c) => i(c, u, u + l[0].length, l, a);
    else if (typeof r == "function")
      this.addMatch = (l, a, u, c) => {
        let f = r(l, a, u);
        f && c(u, u + l[0].length, f);
      };
    else if (r) this.addMatch = (l, a, u, c) => c(u, u + l[0].length, r);
    else
      throw new RangeError(
        "Either 'decorate' or 'decoration' should be provided to MatchDecorator"
      );
    (this.boundary = s), (this.maxLength = o);
  }
  createDeco(e) {
    let n = new Fr(),
      r = n.add.bind(n);
    for (let { from: i, to: s } of y4(e, this.maxLength))
      Aw(e.state.doc, this.regexp, i, s, (o, l) => this.addMatch(l, e, o, r));
    return n.finish();
  }
  updateDeco(e, n) {
    let r = 1e9,
      i = -1;
    return (
      e.docChanged &&
        e.changes.iterChanges((s, o, l, a) => {
          a > e.view.viewport.from &&
            l < e.view.viewport.to &&
            ((r = Math.min(l, r)), (i = Math.max(a, i)));
        }),
      e.viewportChanged || i - r > 1e3
        ? this.createDeco(e.view)
        : i > -1
          ? this.updateRange(e.view, n.map(e.changes), r, i)
          : n
    );
  }
  updateRange(e, n, r, i) {
    for (let s of e.visibleRanges) {
      let o = Math.max(s.from, r),
        l = Math.min(s.to, i);
      if (l > o) {
        let a = e.state.doc.lineAt(o),
          u = a.to < l ? e.state.doc.lineAt(l) : a,
          c = Math.max(s.from, a.from),
          f = Math.min(s.to, u.to);
        if (this.boundary) {
          for (; o > a.from; o--)
            if (this.boundary.test(a.text[o - 1 - a.from])) {
              c = o;
              break;
            }
          for (; l < u.to; l++)
            if (this.boundary.test(u.text[l - u.from])) {
              f = l;
              break;
            }
        }
        let h = [],
          d,
          p = (m, w, g) => h.push(g.range(m, w));
        if (a == u)
          for (
            this.regexp.lastIndex = c - a.from;
            (d = this.regexp.exec(a.text)) && d.index < f - a.from;

          )
            this.addMatch(d, e, d.index + a.from, p);
        else
          Aw(e.state.doc, this.regexp, c, f, (m, w) =>
            this.addMatch(w, e, m, p)
          );
        n = n.update({
          filterFrom: c,
          filterTo: f,
          filter: (m, w) => m < c || w > f,
          add: h,
        });
      }
    }
    return n;
  }
}
const ag = /x/.unicode != null ? "gu" : "g",
  w4 = new RegExp(
    `[\0-\b
--\u2028\u2029\uFEFF-]`,
    ag
  ),
  b4 = {
    0: "null",
    7: "bell",
    8: "backspace",
    10: "newline",
    11: "vertical tab",
    13: "carriage return",
    27: "escape",
    8203: "zero width space",
    8204: "zero width non-joiner",
    8205: "zero width joiner",
    8206: "left-to-right mark",
    8207: "right-to-left mark",
    8232: "line separator",
    8237: "left-to-right override",
    8238: "right-to-left override",
    8294: "left-to-right isolate",
    8295: "right-to-left isolate",
    8297: "pop directional isolate",
    8233: "paragraph separator",
    65279: "zero width no-break space",
    65532: "object replacement",
  };
let np = null;
function x4() {
  var t;
  if (np == null && typeof document < "u" && document.body) {
    let e = document.body.style;
    np = ((t = e.tabSize) !== null && t !== void 0 ? t : e.MozTabSize) != null;
  }
  return np || !1;
}
const Dc = $.define({
  combine(t) {
    let e = Sr(t, { render: null, specialChars: w4, addSpecialChars: null });
    return (
      (e.replaceTabs = !x4()) &&
        (e.specialChars = new RegExp("	|" + e.specialChars.source, ag)),
      e.addSpecialChars &&
        (e.specialChars = new RegExp(
          e.specialChars.source + "|" + e.addSpecialChars.source,
          ag
        )),
      e
    );
  },
});
function S4(t = {}) {
  return [Dc.of(t), k4()];
}
let Ow = null;
function k4() {
  return (
    Ow ||
    (Ow = je.fromClass(
      class {
        constructor(t) {
          (this.view = t),
            (this.decorations = U.none),
            (this.decorationCache = Object.create(null)),
            (this.decorator = this.makeDecorator(t.state.facet(Dc))),
            (this.decorations = this.decorator.createDeco(t));
        }
        makeDecorator(t) {
          return new v4({
            regexp: t.specialChars,
            decoration: (e, n, r) => {
              let { doc: i } = n.state,
                s = at(e[0], 0);
              if (s == 9) {
                let o = i.lineAt(r),
                  l = n.state.tabSize,
                  a = Wo(o.text, l, r - o.from);
                return U.replace({
                  widget: new O4(
                    ((l - (a % l)) * this.view.defaultCharacterWidth) /
                      this.view.scaleX
                  ),
                });
              }
              return (
                this.decorationCache[s] ||
                (this.decorationCache[s] = U.replace({ widget: new A4(t, s) }))
              );
            },
            boundary: t.replaceTabs ? void 0 : /[^]/,
          });
        }
        update(t) {
          let e = t.state.facet(Dc);
          t.startState.facet(Dc) != e
            ? ((this.decorator = this.makeDecorator(e)),
              (this.decorations = this.decorator.createDeco(t.view)))
            : (this.decorations = this.decorator.updateDeco(
                t,
                this.decorations
              ));
        }
      },
      { decorations: (t) => t.decorations }
    ))
  );
}
const C4 = "";
function _4(t) {
  return t >= 32 ? C4 : t == 10 ? "" : String.fromCharCode(9216 + t);
}
class A4 extends Ii {
  constructor(e, n) {
    super(), (this.options = e), (this.code = n);
  }
  eq(e) {
    return e.code == this.code;
  }
  toDOM(e) {
    let n = _4(this.code),
      r =
        e.state.phrase("Control character") +
        " " +
        (b4[this.code] || "0x" + this.code.toString(16)),
      i = this.options.render && this.options.render(this.code, r, n);
    if (i) return i;
    let s = document.createElement("span");
    return (
      (s.textContent = n),
      (s.title = r),
      s.setAttribute("aria-label", r),
      (s.className = "cm-specialChar"),
      s
    );
  }
  ignoreEvent() {
    return !1;
  }
}
class O4 extends Ii {
  constructor(e) {
    super(), (this.width = e);
  }
  eq(e) {
    return e.width == this.width;
  }
  toDOM() {
    let e = document.createElement("span");
    return (
      (e.textContent = "	"),
      (e.className = "cm-tab"),
      (e.style.width = this.width + "px"),
      e
    );
  }
  ignoreEvent() {
    return !1;
  }
}
function E4() {
  return T4;
}
const M4 = U.line({ class: "cm-activeLine" }),
  T4 = je.fromClass(
    class {
      constructor(t) {
        this.decorations = this.getDeco(t);
      }
      update(t) {
        (t.docChanged || t.selectionSet) &&
          (this.decorations = this.getDeco(t.view));
      }
      getDeco(t) {
        let e = -1,
          n = [];
        for (let r of t.state.selection.ranges) {
          let i = t.lineBlockAt(r.head);
          i.from > e && (n.push(M4.range(i.from)), (e = i.from));
        }
        return U.set(n);
      }
    },
    { decorations: (t) => t.decorations }
  ),
  ug = 2e3;
function P4(t, e, n) {
  let r = Math.min(e.line, n.line),
    i = Math.max(e.line, n.line),
    s = [];
  if (e.off > ug || n.off > ug || e.col < 0 || n.col < 0) {
    let o = Math.min(e.off, n.off),
      l = Math.max(e.off, n.off);
    for (let a = r; a <= i; a++) {
      let u = t.doc.line(a);
      u.length <= l && s.push(A.range(u.from + o, u.to + l));
    }
  } else {
    let o = Math.min(e.col, n.col),
      l = Math.max(e.col, n.col);
    for (let a = r; a <= i; a++) {
      let u = t.doc.line(a),
        c = jm(u.text, o, t.tabSize, !0);
      if (c < 0) s.push(A.cursor(u.to));
      else {
        let f = jm(u.text, l, t.tabSize);
        s.push(A.range(u.from + c, u.from + f));
      }
    }
  }
  return s;
}
function R4(t, e) {
  let n = t.coordsAtPos(t.viewport.from);
  return n ? Math.round(Math.abs((n.left - e) / t.defaultCharacterWidth)) : -1;
}
function Ew(t, e) {
  let n = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1),
    r = t.state.doc.lineAt(n),
    i = n - r.from,
    s =
      i > ug
        ? -1
        : i == r.length
          ? R4(t, e.clientX)
          : Wo(r.text, t.state.tabSize, n - r.from);
  return { line: r.number, col: s, off: i };
}
function D4(t, e) {
  let n = Ew(t, e),
    r = t.state.selection;
  return n
    ? {
        update(i) {
          if (i.docChanged) {
            let s = i.changes.mapPos(i.startState.doc.line(n.line).from),
              o = i.state.doc.lineAt(s);
            (n = {
              line: o.number,
              col: n.col,
              off: Math.min(n.off, o.length),
            }),
              (r = r.map(i.changes));
          }
        },
        get(i, s, o) {
          let l = Ew(t, i);
          if (!l) return r;
          let a = P4(t.state, n, l);
          return a.length
            ? o
              ? A.create(a.concat(r.ranges))
              : A.create(a)
            : r;
        },
      }
    : null;
}
function L4(t) {
  let e =
    (t == null ? void 0 : t.eventFilter) || ((n) => n.altKey && n.button == 0);
  return B.mouseSelectionStyle.of((n, r) => (e(r) ? D4(n, r) : null));
}
const B4 = {
    Alt: [18, (t) => !!t.altKey],
    Control: [17, (t) => !!t.ctrlKey],
    Shift: [16, (t) => !!t.shiftKey],
    Meta: [91, (t) => !!t.metaKey],
  },
  N4 = { style: "cursor: crosshair" };
function I4(t = {}) {
  let [e, n] = B4[t.key || "Alt"],
    r = je.fromClass(
      class {
        constructor(i) {
          (this.view = i), (this.isDown = !1);
        }
        set(i) {
          this.isDown != i && ((this.isDown = i), this.view.update([]));
        }
      },
      {
        eventObservers: {
          keydown(i) {
            this.set(i.keyCode == e || n(i));
          },
          keyup(i) {
            (i.keyCode == e || !n(i)) && this.set(!1);
          },
          mousemove(i) {
            this.set(n(i));
          },
        },
      }
    );
  return [
    r,
    B.contentAttributes.of((i) => {
      var s;
      return !((s = i.plugin(r)) === null || s === void 0) && s.isDown
        ? N4
        : null;
    }),
  ];
}
const ll = "-10000px";
class t_ {
  constructor(e, n, r, i) {
    (this.facet = n),
      (this.createTooltipView = r),
      (this.removeTooltipView = i),
      (this.input = e.state.facet(n)),
      (this.tooltips = this.input.filter((o) => o));
    let s = null;
    this.tooltipViews = this.tooltips.map((o) => (s = r(o, s)));
  }
  update(e, n) {
    var r;
    let i = e.state.facet(this.facet),
      s = i.filter((a) => a);
    if (i === this.input) {
      for (let a of this.tooltipViews) a.update && a.update(e);
      return !1;
    }
    let o = [],
      l = n ? [] : null;
    for (let a = 0; a < s.length; a++) {
      let u = s[a],
        c = -1;
      if (u) {
        for (let f = 0; f < this.tooltips.length; f++) {
          let h = this.tooltips[f];
          h && h.create == u.create && (c = f);
        }
        if (c < 0)
          (o[a] = this.createTooltipView(u, a ? o[a - 1] : null)),
            l && (l[a] = !!u.above);
        else {
          let f = (o[a] = this.tooltipViews[c]);
          l && (l[a] = n[c]), f.update && f.update(e);
        }
      }
    }
    for (let a of this.tooltipViews)
      o.indexOf(a) < 0 &&
        (this.removeTooltipView(a),
        (r = a.destroy) === null || r === void 0 || r.call(a));
    return (
      n && (l.forEach((a, u) => (n[u] = a)), (n.length = l.length)),
      (this.input = i),
      (this.tooltips = s),
      (this.tooltipViews = o),
      !0
    );
  }
}
function $4(t) {
  let { win: e } = t;
  return { top: 0, left: 0, bottom: e.innerHeight, right: e.innerWidth };
}
const rp = $.define({
    combine: (t) => {
      var e, n, r;
      return {
        position: I.ios
          ? "absolute"
          : ((e = t.find((i) => i.position)) === null || e === void 0
              ? void 0
              : e.position) || "fixed",
        parent:
          ((n = t.find((i) => i.parent)) === null || n === void 0
            ? void 0
            : n.parent) || null,
        tooltipSpace:
          ((r = t.find((i) => i.tooltipSpace)) === null || r === void 0
            ? void 0
            : r.tooltipSpace) || $4,
      };
    },
  }),
  Mw = new WeakMap(),
  sy = je.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.above = []),
          (this.inView = !0),
          (this.madeAbsolute = !1),
          (this.lastTransaction = 0),
          (this.measureTimeout = -1);
        let e = t.state.facet(rp);
        (this.position = e.position),
          (this.parent = e.parent),
          (this.classes = t.themeClasses),
          this.createContainer(),
          (this.measureReq = {
            read: this.readMeasure.bind(this),
            write: this.writeMeasure.bind(this),
            key: this,
          }),
          (this.resizeObserver =
            typeof ResizeObserver == "function"
              ? new ResizeObserver(() => this.measureSoon())
              : null),
          (this.manager = new t_(
            t,
            oy,
            (n, r) => this.createTooltip(n, r),
            (n) => {
              this.resizeObserver && this.resizeObserver.unobserve(n.dom),
                n.dom.remove();
            }
          )),
          (this.above = this.manager.tooltips.map((n) => !!n.above)),
          (this.intersectionObserver =
            typeof IntersectionObserver == "function"
              ? new IntersectionObserver(
                  (n) => {
                    Date.now() > this.lastTransaction - 50 &&
                      n.length > 0 &&
                      n[n.length - 1].intersectionRatio < 1 &&
                      this.measureSoon();
                  },
                  { threshold: [1] }
                )
              : null),
          this.observeIntersection(),
          t.win.addEventListener(
            "resize",
            (this.measureSoon = this.measureSoon.bind(this))
          ),
          this.maybeMeasure();
      }
      createContainer() {
        this.parent
          ? ((this.container = document.createElement("div")),
            (this.container.style.position = "relative"),
            (this.container.className = this.view.themeClasses),
            this.parent.appendChild(this.container))
          : (this.container = this.view.dom);
      }
      observeIntersection() {
        if (this.intersectionObserver) {
          this.intersectionObserver.disconnect();
          for (let t of this.manager.tooltipViews)
            this.intersectionObserver.observe(t.dom);
        }
      }
      measureSoon() {
        this.measureTimeout < 0 &&
          (this.measureTimeout = setTimeout(() => {
            (this.measureTimeout = -1), this.maybeMeasure();
          }, 50));
      }
      update(t) {
        t.transactions.length && (this.lastTransaction = Date.now());
        let e = this.manager.update(t, this.above);
        e && this.observeIntersection();
        let n = e || t.geometryChanged,
          r = t.state.facet(rp);
        if (r.position != this.position && !this.madeAbsolute) {
          this.position = r.position;
          for (let i of this.manager.tooltipViews)
            i.dom.style.position = this.position;
          n = !0;
        }
        if (r.parent != this.parent) {
          this.parent && this.container.remove(),
            (this.parent = r.parent),
            this.createContainer();
          for (let i of this.manager.tooltipViews)
            this.container.appendChild(i.dom);
          n = !0;
        } else
          this.parent &&
            this.view.themeClasses != this.classes &&
            (this.classes = this.container.className = this.view.themeClasses);
        n && this.maybeMeasure();
      }
      createTooltip(t, e) {
        let n = t.create(this.view),
          r = e ? e.dom : null;
        if (
          (n.dom.classList.add("cm-tooltip"),
          t.arrow && !n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow"))
        ) {
          let i = document.createElement("div");
          (i.className = "cm-tooltip-arrow"), n.dom.appendChild(i);
        }
        return (
          (n.dom.style.position = this.position),
          (n.dom.style.top = ll),
          (n.dom.style.left = "0px"),
          this.container.insertBefore(n.dom, r),
          n.mount && n.mount(this.view),
          this.resizeObserver && this.resizeObserver.observe(n.dom),
          n
        );
      }
      destroy() {
        var t, e, n;
        this.view.win.removeEventListener("resize", this.measureSoon);
        for (let r of this.manager.tooltipViews)
          r.dom.remove(), (t = r.destroy) === null || t === void 0 || t.call(r);
        this.parent && this.container.remove(),
          (e = this.resizeObserver) === null || e === void 0 || e.disconnect(),
          (n = this.intersectionObserver) === null ||
            n === void 0 ||
            n.disconnect(),
          clearTimeout(this.measureTimeout);
      }
      readMeasure() {
        let t = this.view.dom.getBoundingClientRect(),
          e = 1,
          n = 1,
          r = !1;
        if (this.position == "fixed" && this.manager.tooltipViews.length) {
          let { dom: i } = this.manager.tooltipViews[0];
          if (I.gecko) r = i.offsetParent != this.container.ownerDocument.body;
          else if (i.style.top == ll && i.style.left == "0px") {
            let s = i.getBoundingClientRect();
            r = Math.abs(s.top + 1e4) > 1 || Math.abs(s.left) > 1;
          }
        }
        if (r || this.position == "absolute")
          if (this.parent) {
            let i = this.parent.getBoundingClientRect();
            i.width &&
              i.height &&
              ((e = i.width / this.parent.offsetWidth),
              (n = i.height / this.parent.offsetHeight));
          } else ({ scaleX: e, scaleY: n } = this.view.viewState);
        return {
          editor: t,
          parent: this.parent ? this.container.getBoundingClientRect() : t,
          pos: this.manager.tooltips.map((i, s) => {
            let o = this.manager.tooltipViews[s];
            return o.getCoords
              ? o.getCoords(i.pos)
              : this.view.coordsAtPos(i.pos);
          }),
          size: this.manager.tooltipViews.map(({ dom: i }) =>
            i.getBoundingClientRect()
          ),
          space: this.view.state.facet(rp).tooltipSpace(this.view),
          scaleX: e,
          scaleY: n,
          makeAbsolute: r,
        };
      }
      writeMeasure(t) {
        var e;
        if (t.makeAbsolute) {
          (this.madeAbsolute = !0), (this.position = "absolute");
          for (let l of this.manager.tooltipViews)
            l.dom.style.position = "absolute";
        }
        let { editor: n, space: r, scaleX: i, scaleY: s } = t,
          o = [];
        for (let l = 0; l < this.manager.tooltips.length; l++) {
          let a = this.manager.tooltips[l],
            u = this.manager.tooltipViews[l],
            { dom: c } = u,
            f = t.pos[l],
            h = t.size[l];
          if (
            !f ||
            f.bottom <= Math.max(n.top, r.top) ||
            f.top >= Math.min(n.bottom, r.bottom) ||
            f.right < Math.max(n.left, r.left) - 0.1 ||
            f.left > Math.min(n.right, r.right) + 0.1
          ) {
            c.style.top = ll;
            continue;
          }
          let d = a.arrow ? u.dom.querySelector(".cm-tooltip-arrow") : null,
            p = d ? 7 : 0,
            m = h.right - h.left,
            w = (e = Mw.get(u)) !== null && e !== void 0 ? e : h.bottom - h.top,
            g = u.offset || z4,
            y = this.view.textDirection == Ce.LTR,
            v =
              h.width > r.right - r.left
                ? y
                  ? r.left
                  : r.right - h.width
                : y
                  ? Math.min(f.left - (d ? 14 : 0) + g.x, r.right - m)
                  : Math.max(r.left, f.left - m + (d ? 14 : 0) - g.x),
            b = this.above[l];
          !a.strictSide &&
            (b
              ? f.top - (h.bottom - h.top) - g.y < r.top
              : f.bottom + (h.bottom - h.top) + g.y > r.bottom) &&
            b == r.bottom - f.bottom > f.top - r.top &&
            (b = this.above[l] = !b);
          let x = (b ? f.top - r.top : r.bottom - f.bottom) - p;
          if (x < w && u.resize !== !1) {
            if (x < this.view.defaultLineHeight) {
              c.style.top = ll;
              continue;
            }
            Mw.set(u, w), (c.style.height = (w = x) / s + "px");
          } else c.style.height && (c.style.height = "");
          let S = b ? f.top - w - p - g.y : f.bottom + p + g.y,
            k = v + m;
          if (u.overlap !== !0)
            for (let _ of o)
              _.left < k &&
                _.right > v &&
                _.top < S + w &&
                _.bottom > S &&
                (S = b ? _.top - w - 2 - p : _.bottom + p + 2);
          if (
            (this.position == "absolute"
              ? ((c.style.top = (S - t.parent.top) / s + "px"),
                (c.style.left = (v - t.parent.left) / i + "px"))
              : ((c.style.top = S / s + "px"), (c.style.left = v / i + "px")),
            d)
          ) {
            let _ = f.left + (y ? g.x : -g.x) - (v + 14 - 7);
            d.style.left = _ / i + "px";
          }
          u.overlap !== !0 &&
            o.push({ left: v, top: S, right: k, bottom: S + w }),
            c.classList.toggle("cm-tooltip-above", b),
            c.classList.toggle("cm-tooltip-below", !b),
            u.positioned && u.positioned(t.space);
        }
      }
      maybeMeasure() {
        if (
          this.manager.tooltips.length &&
          (this.view.inView && this.view.requestMeasure(this.measureReq),
          this.inView != this.view.inView &&
            ((this.inView = this.view.inView), !this.inView))
        )
          for (let t of this.manager.tooltipViews) t.dom.style.top = ll;
      }
    },
    {
      eventObservers: {
        scroll() {
          this.maybeMeasure();
        },
      },
    }
  ),
  F4 = B.baseTheme({
    ".cm-tooltip": { zIndex: 100, boxSizing: "border-box" },
    "&light .cm-tooltip": {
      border: "1px solid #bbb",
      backgroundColor: "#f5f5f5",
    },
    "&light .cm-tooltip-section:not(:first-child)": {
      borderTop: "1px solid #bbb",
    },
    "&dark .cm-tooltip": { backgroundColor: "#333338", color: "white" },
    ".cm-tooltip-arrow": {
      height: "7px",
      width: `${7 * 2}px`,
      position: "absolute",
      zIndex: -1,
      overflow: "hidden",
      "&:before, &:after": {
        content: "''",
        position: "absolute",
        width: 0,
        height: 0,
        borderLeft: "7px solid transparent",
        borderRight: "7px solid transparent",
      },
      ".cm-tooltip-above &": {
        bottom: "-7px",
        "&:before": { borderTop: "7px solid #bbb" },
        "&:after": { borderTop: "7px solid #f5f5f5", bottom: "1px" },
      },
      ".cm-tooltip-below &": {
        top: "-7px",
        "&:before": { borderBottom: "7px solid #bbb" },
        "&:after": { borderBottom: "7px solid #f5f5f5", top: "1px" },
      },
    },
    "&dark .cm-tooltip .cm-tooltip-arrow": {
      "&:before": { borderTopColor: "#333338", borderBottomColor: "#333338" },
      "&:after": {
        borderTopColor: "transparent",
        borderBottomColor: "transparent",
      },
    },
  }),
  z4 = { x: 0, y: 0 },
  oy = $.define({ enables: [sy, F4] }),
  Cf = $.define({ combine: (t) => t.reduce((e, n) => e.concat(n), []) });
class Mh {
  static create(e) {
    return new Mh(e);
  }
  constructor(e) {
    (this.view = e),
      (this.mounted = !1),
      (this.dom = document.createElement("div")),
      this.dom.classList.add("cm-tooltip-hover"),
      (this.manager = new t_(
        e,
        Cf,
        (n, r) => this.createHostedView(n, r),
        (n) => n.dom.remove()
      ));
  }
  createHostedView(e, n) {
    let r = e.create(this.view);
    return (
      r.dom.classList.add("cm-tooltip-section"),
      this.dom.insertBefore(r.dom, n ? n.dom.nextSibling : this.dom.firstChild),
      this.mounted && r.mount && r.mount(this.view),
      r
    );
  }
  mount(e) {
    for (let n of this.manager.tooltipViews) n.mount && n.mount(e);
    this.mounted = !0;
  }
  positioned(e) {
    for (let n of this.manager.tooltipViews) n.positioned && n.positioned(e);
  }
  update(e) {
    this.manager.update(e);
  }
  destroy() {
    var e;
    for (let n of this.manager.tooltipViews)
      (e = n.destroy) === null || e === void 0 || e.call(n);
  }
  passProp(e) {
    let n;
    for (let r of this.manager.tooltipViews) {
      let i = r[e];
      if (i !== void 0) {
        if (n === void 0) n = i;
        else if (n !== i) return;
      }
    }
    return n;
  }
  get offset() {
    return this.passProp("offset");
  }
  get getCoords() {
    return this.passProp("getCoords");
  }
  get overlap() {
    return this.passProp("overlap");
  }
  get resize() {
    return this.passProp("resize");
  }
}
const j4 = oy.compute([Cf], (t) => {
  let e = t.facet(Cf);
  return e.length === 0
    ? null
    : {
        pos: Math.min(...e.map((n) => n.pos)),
        end: Math.max(
          ...e.map((n) => {
            var r;
            return (r = n.end) !== null && r !== void 0 ? r : n.pos;
          })
        ),
        create: Mh.create,
        above: e[0].above,
        arrow: e.some((n) => n.arrow),
      };
});
class V4 {
  constructor(e, n, r, i, s) {
    (this.view = e),
      (this.source = n),
      (this.field = r),
      (this.setHover = i),
      (this.hoverTime = s),
      (this.hoverTimeout = -1),
      (this.restartTimeout = -1),
      (this.pending = null),
      (this.lastMove = { x: 0, y: 0, target: e.dom, time: 0 }),
      (this.checkHover = this.checkHover.bind(this)),
      e.dom.addEventListener(
        "mouseleave",
        (this.mouseleave = this.mouseleave.bind(this))
      ),
      e.dom.addEventListener(
        "mousemove",
        (this.mousemove = this.mousemove.bind(this))
      );
  }
  update() {
    this.pending &&
      ((this.pending = null),
      clearTimeout(this.restartTimeout),
      (this.restartTimeout = setTimeout(() => this.startHover(), 20)));
  }
  get active() {
    return this.view.state.field(this.field);
  }
  checkHover() {
    if (((this.hoverTimeout = -1), this.active.length)) return;
    let e = Date.now() - this.lastMove.time;
    e < this.hoverTime
      ? (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - e))
      : this.startHover();
  }
  startHover() {
    clearTimeout(this.restartTimeout);
    let { view: e, lastMove: n } = this,
      r = e.docView.nearest(n.target);
    if (!r) return;
    let i,
      s = 1;
    if (r instanceof ui) i = r.posAtStart;
    else {
      if (((i = e.posAtCoords(n)), i == null)) return;
      let l = e.coordsAtPos(i);
      if (
        !l ||
        n.y < l.top ||
        n.y > l.bottom ||
        n.x < l.left - e.defaultCharacterWidth ||
        n.x > l.right + e.defaultCharacterWidth
      )
        return;
      let a = e
          .bidiSpans(e.state.doc.lineAt(i))
          .find((c) => c.from <= i && c.to >= i),
        u = a && a.dir == Ce.RTL ? -1 : 1;
      s = n.x < l.left ? -u : u;
    }
    let o = this.source(e, i, s);
    if (o != null && o.then) {
      let l = (this.pending = { pos: i });
      o.then(
        (a) => {
          this.pending == l &&
            ((this.pending = null),
            a &&
              !(Array.isArray(a) && !a.length) &&
              e.dispatch({
                effects: this.setHover.of(Array.isArray(a) ? a : [a]),
              }));
        },
        (a) => It(e.state, a, "hover tooltip")
      );
    } else
      o &&
        !(Array.isArray(o) && !o.length) &&
        e.dispatch({ effects: this.setHover.of(Array.isArray(o) ? o : [o]) });
  }
  get tooltip() {
    let e = this.view.plugin(sy),
      n = e ? e.manager.tooltips.findIndex((r) => r.create == Mh.create) : -1;
    return n > -1 ? e.manager.tooltipViews[n] : null;
  }
  mousemove(e) {
    var n, r;
    (this.lastMove = {
      x: e.clientX,
      y: e.clientY,
      target: e.target,
      time: Date.now(),
    }),
      this.hoverTimeout < 0 &&
        (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime));
    let { active: i, tooltip: s } = this;
    if ((i.length && s && !W4(s.dom, e)) || this.pending) {
      let { pos: o } = i[0] || this.pending,
        l =
          (r = (n = i[0]) === null || n === void 0 ? void 0 : n.end) !== null &&
          r !== void 0
            ? r
            : o;
      (o == l
        ? this.view.posAtCoords(this.lastMove) != o
        : !H4(this.view, o, l, e.clientX, e.clientY)) &&
        (this.view.dispatch({ effects: this.setHover.of([]) }),
        (this.pending = null));
    }
  }
  mouseleave(e) {
    clearTimeout(this.hoverTimeout), (this.hoverTimeout = -1);
    let { active: n } = this;
    if (n.length) {
      let { tooltip: r } = this;
      r && r.dom.contains(e.relatedTarget)
        ? this.watchTooltipLeave(r.dom)
        : this.view.dispatch({ effects: this.setHover.of([]) });
    }
  }
  watchTooltipLeave(e) {
    let n = (r) => {
      e.removeEventListener("mouseleave", n),
        this.active.length &&
          !this.view.dom.contains(r.relatedTarget) &&
          this.view.dispatch({ effects: this.setHover.of([]) });
    };
    e.addEventListener("mouseleave", n);
  }
  destroy() {
    clearTimeout(this.hoverTimeout),
      this.view.dom.removeEventListener("mouseleave", this.mouseleave),
      this.view.dom.removeEventListener("mousemove", this.mousemove);
  }
}
const Yu = 4;
function W4(t, e) {
  let n = t.getBoundingClientRect();
  return (
    e.clientX >= n.left - Yu &&
    e.clientX <= n.right + Yu &&
    e.clientY >= n.top - Yu &&
    e.clientY <= n.bottom + Yu
  );
}
function H4(t, e, n, r, i, s) {
  let o = t.scrollDOM.getBoundingClientRect(),
    l = t.documentTop + t.documentPadding.top + t.contentHeight;
  if (o.left > r || o.right < r || o.top > i || Math.min(o.bottom, l) < i)
    return !1;
  let a = t.posAtCoords({ x: r, y: i }, !1);
  return a >= e && a <= n;
}
function U4(t, e = {}) {
  let n = Y.define(),
    r = nt.define({
      create() {
        return [];
      },
      update(i, s) {
        if (
          i.length &&
          (e.hideOnChange && (s.docChanged || s.selection)
            ? (i = [])
            : e.hideOn && (i = i.filter((o) => !e.hideOn(s, o))),
          s.docChanged)
        ) {
          let o = [];
          for (let l of i) {
            let a = s.changes.mapPos(l.pos, -1, Ot.TrackDel);
            if (a != null) {
              let u = Object.assign(Object.create(null), l);
              (u.pos = a),
                u.end != null && (u.end = s.changes.mapPos(u.end)),
                o.push(u);
            }
          }
          i = o;
        }
        for (let o of s.effects) o.is(n) && (i = o.value), o.is(K4) && (i = []);
        return i;
      },
      provide: (i) => Cf.from(i),
    });
  return [r, je.define((i) => new V4(i, t, r, n, e.hoverTime || 300)), j4];
}
function n_(t, e) {
  let n = t.plugin(sy);
  if (!n) return null;
  let r = n.manager.tooltips.indexOf(e);
  return r < 0 ? null : n.manager.tooltipViews[r];
}
const K4 = Y.define(),
  Tw = $.define({
    combine(t) {
      let e, n;
      for (let r of t) (e = e || r.topContainer), (n = n || r.bottomContainer);
      return { topContainer: e, bottomContainer: n };
    },
  });
function ga(t, e) {
  let n = t.plugin(r_),
    r = n ? n.specs.indexOf(e) : -1;
  return r > -1 ? n.panels[r] : null;
}
const r_ = je.fromClass(
  class {
    constructor(t) {
      (this.input = t.state.facet(ya)),
        (this.specs = this.input.filter((n) => n)),
        (this.panels = this.specs.map((n) => n(t)));
      let e = t.state.facet(Tw);
      (this.top = new Xu(t, !0, e.topContainer)),
        (this.bottom = new Xu(t, !1, e.bottomContainer)),
        this.top.sync(this.panels.filter((n) => n.top)),
        this.bottom.sync(this.panels.filter((n) => !n.top));
      for (let n of this.panels)
        n.dom.classList.add("cm-panel"), n.mount && n.mount();
    }
    update(t) {
      let e = t.state.facet(Tw);
      this.top.container != e.topContainer &&
        (this.top.sync([]), (this.top = new Xu(t.view, !0, e.topContainer))),
        this.bottom.container != e.bottomContainer &&
          (this.bottom.sync([]),
          (this.bottom = new Xu(t.view, !1, e.bottomContainer))),
        this.top.syncClasses(),
        this.bottom.syncClasses();
      let n = t.state.facet(ya);
      if (n != this.input) {
        let r = n.filter((a) => a),
          i = [],
          s = [],
          o = [],
          l = [];
        for (let a of r) {
          let u = this.specs.indexOf(a),
            c;
          u < 0
            ? ((c = a(t.view)), l.push(c))
            : ((c = this.panels[u]), c.update && c.update(t)),
            i.push(c),
            (c.top ? s : o).push(c);
        }
        (this.specs = r),
          (this.panels = i),
          this.top.sync(s),
          this.bottom.sync(o);
        for (let a of l) a.dom.classList.add("cm-panel"), a.mount && a.mount();
      } else for (let r of this.panels) r.update && r.update(t);
    }
    destroy() {
      this.top.sync([]), this.bottom.sync([]);
    }
  },
  {
    provide: (t) =>
      B.scrollMargins.of((e) => {
        let n = e.plugin(t);
        return (
          n && { top: n.top.scrollMargin(), bottom: n.bottom.scrollMargin() }
        );
      }),
  }
);
class Xu {
  constructor(e, n, r) {
    (this.view = e),
      (this.top = n),
      (this.container = r),
      (this.dom = void 0),
      (this.classes = ""),
      (this.panels = []),
      this.syncClasses();
  }
  sync(e) {
    for (let n of this.panels) n.destroy && e.indexOf(n) < 0 && n.destroy();
    (this.panels = e), this.syncDOM();
  }
  syncDOM() {
    if (this.panels.length == 0) {
      this.dom && (this.dom.remove(), (this.dom = void 0));
      return;
    }
    if (!this.dom) {
      (this.dom = document.createElement("div")),
        (this.dom.className = this.top
          ? "cm-panels cm-panels-top"
          : "cm-panels cm-panels-bottom"),
        (this.dom.style[this.top ? "top" : "bottom"] = "0");
      let n = this.container || this.view.dom;
      n.insertBefore(this.dom, this.top ? n.firstChild : null);
    }
    let e = this.dom.firstChild;
    for (let n of this.panels)
      if (n.dom.parentNode == this.dom) {
        for (; e != n.dom; ) e = Pw(e);
        e = e.nextSibling;
      } else this.dom.insertBefore(n.dom, e);
    for (; e; ) e = Pw(e);
  }
  scrollMargin() {
    return !this.dom || this.container
      ? 0
      : Math.max(
          0,
          this.top
            ? this.dom.getBoundingClientRect().bottom -
                Math.max(0, this.view.scrollDOM.getBoundingClientRect().top)
            : Math.min(
                innerHeight,
                this.view.scrollDOM.getBoundingClientRect().bottom
              ) - this.dom.getBoundingClientRect().top
        );
  }
  syncClasses() {
    if (!(!this.container || this.classes == this.view.themeClasses)) {
      for (let e of this.classes.split(" "))
        e && this.container.classList.remove(e);
      for (let e of (this.classes = this.view.themeClasses).split(" "))
        e && this.container.classList.add(e);
    }
  }
}
function Pw(t) {
  let e = t.nextSibling;
  return t.remove(), e;
}
const ya = $.define({ enables: r_ });
class Vr extends cs {
  compare(e) {
    return this == e || (this.constructor == e.constructor && this.eq(e));
  }
  eq(e) {
    return !1;
  }
  destroy(e) {}
}
Vr.prototype.elementClass = "";
Vr.prototype.toDOM = void 0;
Vr.prototype.mapMode = Ot.TrackBefore;
Vr.prototype.startSide = Vr.prototype.endSide = -1;
Vr.prototype.point = !0;
const Lc = $.define(),
  q4 = {
    class: "",
    renderEmptyElements: !1,
    elementStyle: "",
    markers: () => re.empty,
    lineMarker: () => null,
    widgetMarker: () => null,
    lineMarkerChange: null,
    initialSpacer: null,
    updateSpacer: null,
    domEventHandlers: {},
  },
  Nl = $.define();
function G4(t) {
  return [i_(), Nl.of(Object.assign(Object.assign({}, q4), t))];
}
const cg = $.define({ combine: (t) => t.some((e) => e) });
function i_(t) {
  let e = [Y4];
  return t && t.fixed === !1 && e.push(cg.of(!0)), e;
}
const Y4 = je.fromClass(
  class {
    constructor(t) {
      (this.view = t),
        (this.prevViewport = t.viewport),
        (this.dom = document.createElement("div")),
        (this.dom.className = "cm-gutters"),
        this.dom.setAttribute("aria-hidden", "true"),
        (this.dom.style.minHeight =
          this.view.contentHeight / this.view.scaleY + "px"),
        (this.gutters = t.state.facet(Nl).map((e) => new Dw(t, e)));
      for (let e of this.gutters) this.dom.appendChild(e.dom);
      (this.fixed = !t.state.facet(cg)),
        this.fixed && (this.dom.style.position = "sticky"),
        this.syncGutters(!1),
        t.scrollDOM.insertBefore(this.dom, t.contentDOM);
    }
    update(t) {
      if (this.updateGutters(t)) {
        let e = this.prevViewport,
          n = t.view.viewport,
          r = Math.min(e.to, n.to) - Math.max(e.from, n.from);
        this.syncGutters(r < (n.to - n.from) * 0.8);
      }
      t.geometryChanged &&
        (this.dom.style.minHeight =
          this.view.contentHeight / this.view.scaleY + "px"),
        this.view.state.facet(cg) != !this.fixed &&
          ((this.fixed = !this.fixed),
          (this.dom.style.position = this.fixed ? "sticky" : "")),
        (this.prevViewport = t.view.viewport);
    }
    syncGutters(t) {
      let e = this.dom.nextSibling;
      t && this.dom.remove();
      let n = re.iter(this.view.state.facet(Lc), this.view.viewport.from),
        r = [],
        i = this.gutters.map(
          (s) => new X4(s, this.view.viewport, -this.view.documentPadding.top)
        );
      for (let s of this.view.viewportLineBlocks)
        if ((r.length && (r = []), Array.isArray(s.type))) {
          let o = !0;
          for (let l of s.type)
            if (l.type == Mt.Text && o) {
              fg(n, r, l.from);
              for (let a of i) a.line(this.view, l, r);
              o = !1;
            } else if (l.widget) for (let a of i) a.widget(this.view, l);
        } else if (s.type == Mt.Text) {
          fg(n, r, s.from);
          for (let o of i) o.line(this.view, s, r);
        } else if (s.widget) for (let o of i) o.widget(this.view, s);
      for (let s of i) s.finish();
      t && this.view.scrollDOM.insertBefore(this.dom, e);
    }
    updateGutters(t) {
      let e = t.startState.facet(Nl),
        n = t.state.facet(Nl),
        r =
          t.docChanged ||
          t.heightChanged ||
          t.viewportChanged ||
          !re.eq(
            t.startState.facet(Lc),
            t.state.facet(Lc),
            t.view.viewport.from,
            t.view.viewport.to
          );
      if (e == n) for (let i of this.gutters) i.update(t) && (r = !0);
      else {
        r = !0;
        let i = [];
        for (let s of n) {
          let o = e.indexOf(s);
          o < 0
            ? i.push(new Dw(this.view, s))
            : (this.gutters[o].update(t), i.push(this.gutters[o]));
        }
        for (let s of this.gutters)
          s.dom.remove(), i.indexOf(s) < 0 && s.destroy();
        for (let s of i) this.dom.appendChild(s.dom);
        this.gutters = i;
      }
      return r;
    }
    destroy() {
      for (let t of this.gutters) t.destroy();
      this.dom.remove();
    }
  },
  {
    provide: (t) =>
      B.scrollMargins.of((e) => {
        let n = e.plugin(t);
        return !n || n.gutters.length == 0 || !n.fixed
          ? null
          : e.textDirection == Ce.LTR
            ? { left: n.dom.offsetWidth * e.scaleX }
            : { right: n.dom.offsetWidth * e.scaleX };
      }),
  }
);
function Rw(t) {
  return Array.isArray(t) ? t : [t];
}
function fg(t, e, n) {
  for (; t.value && t.from <= n; ) t.from == n && e.push(t.value), t.next();
}
class X4 {
  constructor(e, n, r) {
    (this.gutter = e),
      (this.height = r),
      (this.i = 0),
      (this.cursor = re.iter(e.markers, n.from));
  }
  addElement(e, n, r) {
    let { gutter: i } = this,
      s = (n.top - this.height) / e.scaleY,
      o = n.height / e.scaleY;
    if (this.i == i.elements.length) {
      let l = new s_(e, o, s, r);
      i.elements.push(l), i.dom.appendChild(l.dom);
    } else i.elements[this.i].update(e, o, s, r);
    (this.height = n.bottom), this.i++;
  }
  line(e, n, r) {
    let i = [];
    fg(this.cursor, i, n.from), r.length && (i = i.concat(r));
    let s = this.gutter.config.lineMarker(e, n, i);
    s && i.unshift(s);
    let o = this.gutter;
    (i.length == 0 && !o.config.renderEmptyElements) ||
      this.addElement(e, n, i);
  }
  widget(e, n) {
    let r = this.gutter.config.widgetMarker(e, n.widget, n);
    r && this.addElement(e, n, [r]);
  }
  finish() {
    let e = this.gutter;
    for (; e.elements.length > this.i; ) {
      let n = e.elements.pop();
      e.dom.removeChild(n.dom), n.destroy();
    }
  }
}
class Dw {
  constructor(e, n) {
    (this.view = e),
      (this.config = n),
      (this.elements = []),
      (this.spacer = null),
      (this.dom = document.createElement("div")),
      (this.dom.className =
        "cm-gutter" + (this.config.class ? " " + this.config.class : ""));
    for (let r in n.domEventHandlers)
      this.dom.addEventListener(r, (i) => {
        let s = i.target,
          o;
        if (s != this.dom && this.dom.contains(s)) {
          for (; s.parentNode != this.dom; ) s = s.parentNode;
          let a = s.getBoundingClientRect();
          o = (a.top + a.bottom) / 2;
        } else o = i.clientY;
        let l = e.lineBlockAtHeight(o - e.documentTop);
        n.domEventHandlers[r](e, l, i) && i.preventDefault();
      });
    (this.markers = Rw(n.markers(e))),
      n.initialSpacer &&
        ((this.spacer = new s_(e, 0, 0, [n.initialSpacer(e)])),
        this.dom.appendChild(this.spacer.dom),
        (this.spacer.dom.style.cssText +=
          "visibility: hidden; pointer-events: none"));
  }
  update(e) {
    let n = this.markers;
    if (
      ((this.markers = Rw(this.config.markers(e.view))),
      this.spacer && this.config.updateSpacer)
    ) {
      let i = this.config.updateSpacer(this.spacer.markers[0], e);
      i != this.spacer.markers[0] && this.spacer.update(e.view, 0, 0, [i]);
    }
    let r = e.view.viewport;
    return (
      !re.eq(this.markers, n, r.from, r.to) ||
      (this.config.lineMarkerChange ? this.config.lineMarkerChange(e) : !1)
    );
  }
  destroy() {
    for (let e of this.elements) e.destroy();
  }
}
class s_ {
  constructor(e, n, r, i) {
    (this.height = -1),
      (this.above = 0),
      (this.markers = []),
      (this.dom = document.createElement("div")),
      (this.dom.className = "cm-gutterElement"),
      this.update(e, n, r, i);
  }
  update(e, n, r, i) {
    this.height != n && ((this.height = n), (this.dom.style.height = n + "px")),
      this.above != r &&
        (this.dom.style.marginTop = (this.above = r) ? r + "px" : ""),
      Q4(this.markers, i) || this.setMarkers(e, i);
  }
  setMarkers(e, n) {
    let r = "cm-gutterElement",
      i = this.dom.firstChild;
    for (let s = 0, o = 0; ; ) {
      let l = o,
        a = s < n.length ? n[s++] : null,
        u = !1;
      if (a) {
        let c = a.elementClass;
        c && (r += " " + c);
        for (let f = o; f < this.markers.length; f++)
          if (this.markers[f].compare(a)) {
            (l = f), (u = !0);
            break;
          }
      } else l = this.markers.length;
      for (; o < l; ) {
        let c = this.markers[o++];
        if (c.toDOM) {
          c.destroy(i);
          let f = i.nextSibling;
          i.remove(), (i = f);
        }
      }
      if (!a) break;
      a.toDOM &&
        (u ? (i = i.nextSibling) : this.dom.insertBefore(a.toDOM(e), i)),
        u && o++;
    }
    (this.dom.className = r), (this.markers = n);
  }
  destroy() {
    this.setMarkers(null, []);
  }
}
function Q4(t, e) {
  if (t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++) if (!t[n].compare(e[n])) return !1;
  return !0;
}
const J4 = $.define(),
  Xs = $.define({
    combine(t) {
      return Sr(
        t,
        { formatNumber: String, domEventHandlers: {} },
        {
          domEventHandlers(e, n) {
            let r = Object.assign({}, e);
            for (let i in n) {
              let s = r[i],
                o = n[i];
              r[i] = s ? (l, a, u) => s(l, a, u) || o(l, a, u) : o;
            }
            return r;
          },
        }
      );
    },
  });
class ip extends Vr {
  constructor(e) {
    super(), (this.number = e);
  }
  eq(e) {
    return this.number == e.number;
  }
  toDOM() {
    return document.createTextNode(this.number);
  }
}
function sp(t, e) {
  return t.state.facet(Xs).formatNumber(e, t.state);
}
const Z4 = Nl.compute([Xs], (t) => ({
  class: "cm-lineNumbers",
  renderEmptyElements: !1,
  markers(e) {
    return e.state.facet(J4);
  },
  lineMarker(e, n, r) {
    return r.some((i) => i.toDOM)
      ? null
      : new ip(sp(e, e.state.doc.lineAt(n.from).number));
  },
  widgetMarker: () => null,
  lineMarkerChange: (e) => e.startState.facet(Xs) != e.state.facet(Xs),
  initialSpacer(e) {
    return new ip(sp(e, Lw(e.state.doc.lines)));
  },
  updateSpacer(e, n) {
    let r = sp(n.view, Lw(n.view.state.doc.lines));
    return r == e.number ? e : new ip(r);
  },
  domEventHandlers: t.facet(Xs).domEventHandlers,
}));
function eD(t = {}) {
  return [Xs.of(t), i_(), Z4];
}
function Lw(t) {
  let e = 9;
  for (; e < t; ) e = e * 10 + 9;
  return e;
}
const tD = new (class extends Vr {
    constructor() {
      super(...arguments), (this.elementClass = "cm-activeLineGutter");
    }
  })(),
  nD = Lc.compute(["selection"], (t) => {
    let e = [],
      n = -1;
    for (let r of t.selection.ranges) {
      let i = t.doc.lineAt(r.head).from;
      i > n && ((n = i), e.push(tD.range(i)));
    }
    return re.of(e);
  });
function rD() {
  return nD;
}
let iD = 0;
class lr {
  constructor(e, n, r) {
    (this.set = e), (this.base = n), (this.modified = r), (this.id = iD++);
  }
  static define(e) {
    if (e != null && e.base)
      throw new Error("Can not derive from a modified tag");
    let n = new lr([], null, []);
    if ((n.set.push(n), e)) for (let r of e.set) n.set.push(r);
    return n;
  }
  static defineModifier() {
    let e = new _f();
    return (n) =>
      n.modified.indexOf(e) > -1
        ? n
        : _f.get(
            n.base || n,
            n.modified.concat(e).sort((r, i) => r.id - i.id)
          );
  }
}
let sD = 0;
class _f {
  constructor() {
    (this.instances = []), (this.id = sD++);
  }
  static get(e, n) {
    if (!n.length) return e;
    let r = n[0].instances.find((l) => l.base == e && oD(n, l.modified));
    if (r) return r;
    let i = [],
      s = new lr(i, e, n);
    for (let l of n) l.instances.push(s);
    let o = lD(n);
    for (let l of e.set)
      if (!l.modified.length) for (let a of o) i.push(_f.get(l, a));
    return s;
  }
}
function oD(t, e) {
  return t.length == e.length && t.every((n, r) => n == e[r]);
}
function lD(t) {
  let e = [[]];
  for (let n = 0; n < t.length; n++)
    for (let r = 0, i = e.length; r < i; r++) e.push(e[r].concat(t[n]));
  return e.sort((n, r) => r.length - n.length);
}
function aD(t) {
  let e = Object.create(null);
  for (let n in t) {
    let r = t[n];
    Array.isArray(r) || (r = [r]);
    for (let i of n.split(" "))
      if (i) {
        let s = [],
          o = 2,
          l = i;
        for (let f = 0; ; ) {
          if (l == "..." && f > 0 && f + 3 == i.length) {
            o = 1;
            break;
          }
          let h = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);
          if (!h) throw new RangeError("Invalid path: " + i);
          if (
            (s.push(
              h[0] == "*" ? "" : h[0][0] == '"' ? JSON.parse(h[0]) : h[0]
            ),
            (f += h[0].length),
            f == i.length)
          )
            break;
          let d = i[f++];
          if (f == i.length && d == "!") {
            o = 0;
            break;
          }
          if (d != "/") throw new RangeError("Invalid path: " + i);
          l = i.slice(f);
        }
        let a = s.length - 1,
          u = s[a];
        if (!u) throw new RangeError("Invalid path: " + i);
        let c = new Af(r, o, a > 0 ? s.slice(0, a) : null);
        e[u] = c.sort(e[u]);
      }
  }
  return o_.add(e);
}
const o_ = new ee();
class Af {
  constructor(e, n, r, i) {
    (this.tags = e), (this.mode = n), (this.context = r), (this.next = i);
  }
  get opaque() {
    return this.mode == 0;
  }
  get inherit() {
    return this.mode == 1;
  }
  sort(e) {
    return !e || e.depth < this.depth
      ? ((this.next = e), this)
      : ((e.next = this.sort(e.next)), e);
  }
  get depth() {
    return this.context ? this.context.length : 0;
  }
}
Af.empty = new Af([], 2, null);
function l_(t, e) {
  let n = Object.create(null);
  for (let s of t)
    if (!Array.isArray(s.tag)) n[s.tag.id] = s.class;
    else for (let o of s.tag) n[o.id] = s.class;
  let { scope: r, all: i = null } = e || {};
  return {
    style: (s) => {
      let o = i;
      for (let l of s)
        for (let a of l.set) {
          let u = n[a.id];
          if (u) {
            o = o ? o + " " + u : u;
            break;
          }
        }
      return o;
    },
    scope: r,
  };
}
function uD(t, e) {
  let n = null;
  for (let r of t) {
    let i = r.style(e);
    i && (n = n ? n + " " + i : i);
  }
  return n;
}
function cD(t, e, n, r = 0, i = t.length) {
  let s = new fD(r, Array.isArray(e) ? e : [e], n);
  s.highlightRange(t.cursor(), r, i, "", s.highlighters), s.flush(i);
}
class fD {
  constructor(e, n, r) {
    (this.at = e), (this.highlighters = n), (this.span = r), (this.class = "");
  }
  startSpan(e, n) {
    n != this.class &&
      (this.flush(e), e > this.at && (this.at = e), (this.class = n));
  }
  flush(e) {
    e > this.at && this.class && this.span(this.at, e, this.class);
  }
  highlightRange(e, n, r, i, s) {
    let { type: o, from: l, to: a } = e;
    if (l >= r || a <= n) return;
    o.isTop && (s = this.highlighters.filter((d) => !d.scope || d.scope(o)));
    let u = i,
      c = hD(e) || Af.empty,
      f = uD(s, c.tags);
    if (
      (f &&
        (u && (u += " "), (u += f), c.mode == 1 && (i += (i ? " " : "") + f)),
      this.startSpan(Math.max(n, l), u),
      c.opaque)
    )
      return;
    let h = e.tree && e.tree.prop(ee.mounted);
    if (h && h.overlay) {
      let d = e.node.enter(h.overlay[0].from + l, 1),
        p = this.highlighters.filter((w) => !w.scope || w.scope(h.tree.type)),
        m = e.firstChild();
      for (let w = 0, g = l; ; w++) {
        let y = w < h.overlay.length ? h.overlay[w] : null,
          v = y ? y.from + l : a,
          b = Math.max(n, g),
          x = Math.min(r, v);
        if (b < x && m)
          for (
            ;
            e.from < x &&
            (this.highlightRange(e, b, x, i, s),
            this.startSpan(Math.min(x, e.to), u),
            !(e.to >= v || !e.nextSibling()));

          );
        if (!y || v > r) break;
        (g = y.to + l),
          g > n &&
            (this.highlightRange(
              d.cursor(),
              Math.max(n, y.from + l),
              Math.min(r, g),
              "",
              p
            ),
            this.startSpan(Math.min(r, g), u));
      }
      m && e.parent();
    } else if (e.firstChild()) {
      h && (i = "");
      do
        if (!(e.to <= n)) {
          if (e.from >= r) break;
          this.highlightRange(e, n, r, i, s),
            this.startSpan(Math.min(r, e.to), u);
        }
      while (e.nextSibling());
      e.parent();
    }
  }
}
function hD(t) {
  let e = t.type.prop(o_);
  for (; e && e.context && !t.matchContext(e.context); ) e = e.next;
  return e || null;
}
const P = lr.define,
  Qu = P(),
  Jr = P(),
  Bw = P(Jr),
  Nw = P(Jr),
  Zr = P(),
  Ju = P(Zr),
  op = P(Zr),
  er = P(),
  zi = P(er),
  Jn = P(),
  Zn = P(),
  hg = P(),
  al = P(hg),
  Zu = P(),
  D = {
    comment: Qu,
    lineComment: P(Qu),
    blockComment: P(Qu),
    docComment: P(Qu),
    name: Jr,
    variableName: P(Jr),
    typeName: Bw,
    tagName: P(Bw),
    propertyName: Nw,
    attributeName: P(Nw),
    className: P(Jr),
    labelName: P(Jr),
    namespace: P(Jr),
    macroName: P(Jr),
    literal: Zr,
    string: Ju,
    docString: P(Ju),
    character: P(Ju),
    attributeValue: P(Ju),
    number: op,
    integer: P(op),
    float: P(op),
    bool: P(Zr),
    regexp: P(Zr),
    escape: P(Zr),
    color: P(Zr),
    url: P(Zr),
    keyword: Jn,
    self: P(Jn),
    null: P(Jn),
    atom: P(Jn),
    unit: P(Jn),
    modifier: P(Jn),
    operatorKeyword: P(Jn),
    controlKeyword: P(Jn),
    definitionKeyword: P(Jn),
    moduleKeyword: P(Jn),
    operator: Zn,
    derefOperator: P(Zn),
    arithmeticOperator: P(Zn),
    logicOperator: P(Zn),
    bitwiseOperator: P(Zn),
    compareOperator: P(Zn),
    updateOperator: P(Zn),
    definitionOperator: P(Zn),
    typeOperator: P(Zn),
    controlOperator: P(Zn),
    punctuation: hg,
    separator: P(hg),
    bracket: al,
    angleBracket: P(al),
    squareBracket: P(al),
    paren: P(al),
    brace: P(al),
    content: er,
    heading: zi,
    heading1: P(zi),
    heading2: P(zi),
    heading3: P(zi),
    heading4: P(zi),
    heading5: P(zi),
    heading6: P(zi),
    contentSeparator: P(er),
    list: P(er),
    quote: P(er),
    emphasis: P(er),
    strong: P(er),
    link: P(er),
    monospace: P(er),
    strikethrough: P(er),
    inserted: P(),
    deleted: P(),
    changed: P(),
    invalid: P(),
    meta: Zu,
    documentMeta: P(Zu),
    annotation: P(Zu),
    processingInstruction: P(Zu),
    definition: lr.defineModifier(),
    constant: lr.defineModifier(),
    function: lr.defineModifier(),
    standard: lr.defineModifier(),
    local: lr.defineModifier(),
    special: lr.defineModifier(),
  };
l_([
  { tag: D.link, class: "tok-link" },
  { tag: D.heading, class: "tok-heading" },
  { tag: D.emphasis, class: "tok-emphasis" },
  { tag: D.strong, class: "tok-strong" },
  { tag: D.keyword, class: "tok-keyword" },
  { tag: D.atom, class: "tok-atom" },
  { tag: D.bool, class: "tok-bool" },
  { tag: D.url, class: "tok-url" },
  { tag: D.labelName, class: "tok-labelName" },
  { tag: D.inserted, class: "tok-inserted" },
  { tag: D.deleted, class: "tok-deleted" },
  { tag: D.literal, class: "tok-literal" },
  { tag: D.string, class: "tok-string" },
  { tag: D.number, class: "tok-number" },
  { tag: [D.regexp, D.escape, D.special(D.string)], class: "tok-string2" },
  { tag: D.variableName, class: "tok-variableName" },
  { tag: D.local(D.variableName), class: "tok-variableName tok-local" },
  {
    tag: D.definition(D.variableName),
    class: "tok-variableName tok-definition",
  },
  { tag: D.special(D.variableName), class: "tok-variableName2" },
  {
    tag: D.definition(D.propertyName),
    class: "tok-propertyName tok-definition",
  },
  { tag: D.typeName, class: "tok-typeName" },
  { tag: D.namespace, class: "tok-namespace" },
  { tag: D.className, class: "tok-className" },
  { tag: D.macroName, class: "tok-macroName" },
  { tag: D.propertyName, class: "tok-propertyName" },
  { tag: D.operator, class: "tok-operator" },
  { tag: D.comment, class: "tok-comment" },
  { tag: D.meta, class: "tok-meta" },
  { tag: D.invalid, class: "tok-invalid" },
  { tag: D.punctuation, class: "tok-punctuation" },
]);
var lp;
const Qs = new ee();
function dD(t) {
  return $.define({ combine: t ? (e) => e.concat(t) : void 0 });
}
const pD = new ee();
class Fn {
  constructor(e, n, r = [], i = "") {
    (this.data = e),
      (this.name = i),
      Z.prototype.hasOwnProperty("tree") ||
        Object.defineProperty(Z.prototype, "tree", {
          get() {
            return pt(this);
          },
        }),
      (this.parser = n),
      (this.extension = [
        Pi.of(this),
        Z.languageData.of((s, o, l) => {
          let a = Iw(s, o, l),
            u = a.type.prop(Qs);
          if (!u) return [];
          let c = s.facet(u),
            f = a.type.prop(pD);
          if (f) {
            let h = a.resolve(o - a.from, l);
            for (let d of f)
              if (d.test(h, s)) {
                let p = s.facet(d.facet);
                return d.type == "replace" ? p : p.concat(c);
              }
          }
          return c;
        }),
      ].concat(r));
  }
  isActiveAt(e, n, r = -1) {
    return Iw(e, n, r).type.prop(Qs) == this.data;
  }
  findRegions(e) {
    let n = e.facet(Pi);
    if ((n == null ? void 0 : n.data) == this.data)
      return [{ from: 0, to: e.doc.length }];
    if (!n || !n.allowsNesting) return [];
    let r = [],
      i = (s, o) => {
        if (s.prop(Qs) == this.data) {
          r.push({ from: o, to: o + s.length });
          return;
        }
        let l = s.prop(ee.mounted);
        if (l) {
          if (l.tree.prop(Qs) == this.data) {
            if (l.overlay)
              for (let a of l.overlay)
                r.push({ from: a.from + o, to: a.to + o });
            else r.push({ from: o, to: o + s.length });
            return;
          } else if (l.overlay) {
            let a = r.length;
            if ((i(l.tree, l.overlay[0].from + o), r.length > a)) return;
          }
        }
        for (let a = 0; a < s.children.length; a++) {
          let u = s.children[a];
          u instanceof Pe && i(u, s.positions[a] + o);
        }
      };
    return i(pt(e), 0), r;
  }
  get allowsNesting() {
    return !0;
  }
}
Fn.setState = Y.define();
function Iw(t, e, n) {
  let r = t.facet(Pi),
    i = pt(t).topNode;
  if (!r || r.allowsNesting)
    for (let s = i; s; s = s.enter(e, n, lt.ExcludeBuffers))
      s.type.isTop && (i = s);
  return i;
}
function pt(t) {
  let e = t.field(Fn.state, !1);
  return e ? e.tree : Pe.empty;
}
class mD {
  constructor(e) {
    (this.doc = e),
      (this.cursorPos = 0),
      (this.string = ""),
      (this.cursor = e.iter());
  }
  get length() {
    return this.doc.length;
  }
  syncTo(e) {
    return (
      (this.string = this.cursor.next(e - this.cursorPos).value),
      (this.cursorPos = e + this.string.length),
      this.cursorPos - this.string.length
    );
  }
  chunk(e) {
    return this.syncTo(e), this.string;
  }
  get lineChunks() {
    return !0;
  }
  read(e, n) {
    let r = this.cursorPos - this.string.length;
    return e < r || n >= this.cursorPos
      ? this.doc.sliceString(e, n)
      : this.string.slice(e - r, n - r);
  }
}
let ul = null;
class Ro {
  constructor(e, n, r = [], i, s, o, l, a) {
    (this.parser = e),
      (this.state = n),
      (this.fragments = r),
      (this.tree = i),
      (this.treeLen = s),
      (this.viewport = o),
      (this.skipped = l),
      (this.scheduleOn = a),
      (this.parse = null),
      (this.tempSkipped = []);
  }
  static create(e, n, r) {
    return new Ro(e, n, [], Pe.empty, 0, r, [], null);
  }
  startParse() {
    return this.parser.startParse(new mD(this.state.doc), this.fragments);
  }
  work(e, n) {
    return (
      n != null && n >= this.state.doc.length && (n = void 0),
      this.tree != Pe.empty && this.isDone(n ?? this.state.doc.length)
        ? (this.takeTree(), !0)
        : this.withContext(() => {
            var r;
            if (typeof e == "number") {
              let i = Date.now() + e;
              e = () => Date.now() > i;
            }
            for (
              this.parse || (this.parse = this.startParse()),
                n != null &&
                  (this.parse.stoppedAt == null || this.parse.stoppedAt > n) &&
                  n < this.state.doc.length &&
                  this.parse.stopAt(n);
              ;

            ) {
              let i = this.parse.advance();
              if (i)
                if (
                  ((this.fragments = this.withoutTempSkipped(
                    es.addTree(i, this.fragments, this.parse.stoppedAt != null)
                  )),
                  (this.treeLen =
                    (r = this.parse.stoppedAt) !== null && r !== void 0
                      ? r
                      : this.state.doc.length),
                  (this.tree = i),
                  (this.parse = null),
                  this.treeLen < (n ?? this.state.doc.length))
                )
                  this.parse = this.startParse();
                else return !0;
              if (e()) return !1;
            }
          })
    );
  }
  takeTree() {
    let e, n;
    this.parse &&
      (e = this.parse.parsedPos) >= this.treeLen &&
      ((this.parse.stoppedAt == null || this.parse.stoppedAt > e) &&
        this.parse.stopAt(e),
      this.withContext(() => {
        for (; !(n = this.parse.advance()); );
      }),
      (this.treeLen = e),
      (this.tree = n),
      (this.fragments = this.withoutTempSkipped(
        es.addTree(this.tree, this.fragments, !0)
      )),
      (this.parse = null));
  }
  withContext(e) {
    let n = ul;
    ul = this;
    try {
      return e();
    } finally {
      ul = n;
    }
  }
  withoutTempSkipped(e) {
    for (let n; (n = this.tempSkipped.pop()); ) e = $w(e, n.from, n.to);
    return e;
  }
  changes(e, n) {
    let { fragments: r, tree: i, treeLen: s, viewport: o, skipped: l } = this;
    if ((this.takeTree(), !e.empty)) {
      let a = [];
      if (
        (e.iterChangedRanges((u, c, f, h) =>
          a.push({ fromA: u, toA: c, fromB: f, toB: h })
        ),
        (r = es.applyChanges(r, a)),
        (i = Pe.empty),
        (s = 0),
        (o = { from: e.mapPos(o.from, -1), to: e.mapPos(o.to, 1) }),
        this.skipped.length)
      ) {
        l = [];
        for (let u of this.skipped) {
          let c = e.mapPos(u.from, 1),
            f = e.mapPos(u.to, -1);
          c < f && l.push({ from: c, to: f });
        }
      }
    }
    return new Ro(this.parser, n, r, i, s, o, l, this.scheduleOn);
  }
  updateViewport(e) {
    if (this.viewport.from == e.from && this.viewport.to == e.to) return !1;
    this.viewport = e;
    let n = this.skipped.length;
    for (let r = 0; r < this.skipped.length; r++) {
      let { from: i, to: s } = this.skipped[r];
      i < e.to &&
        s > e.from &&
        ((this.fragments = $w(this.fragments, i, s)),
        this.skipped.splice(r--, 1));
    }
    return this.skipped.length >= n ? !1 : (this.reset(), !0);
  }
  reset() {
    this.parse && (this.takeTree(), (this.parse = null));
  }
  skipUntilInView(e, n) {
    this.skipped.push({ from: e, to: n });
  }
  static getSkippingParser(e) {
    return new (class extends Dk {
      createParse(n, r, i) {
        let s = i[0].from,
          o = i[i.length - 1].to;
        return {
          parsedPos: s,
          advance() {
            let a = ul;
            if (a) {
              for (let u of i) a.tempSkipped.push(u);
              e &&
                (a.scheduleOn = a.scheduleOn
                  ? Promise.all([a.scheduleOn, e])
                  : e);
            }
            return (this.parsedPos = o), new Pe(Wt.none, [], [], o - s);
          },
          stoppedAt: null,
          stopAt() {},
        };
      }
    })();
  }
  isDone(e) {
    e = Math.min(e, this.state.doc.length);
    let n = this.fragments;
    return this.treeLen >= e && n.length && n[0].from == 0 && n[0].to >= e;
  }
  static get() {
    return ul;
  }
}
function $w(t, e, n) {
  return es.applyChanges(t, [{ fromA: e, toA: n, fromB: e, toB: n }]);
}
class Do {
  constructor(e) {
    (this.context = e), (this.tree = e.tree);
  }
  apply(e) {
    if (!e.docChanged && this.tree == this.context.tree) return this;
    let n = this.context.changes(e.changes, e.state),
      r =
        this.context.treeLen == e.startState.doc.length
          ? void 0
          : Math.max(e.changes.mapPos(this.context.treeLen), n.viewport.to);
    return n.work(20, r) || n.takeTree(), new Do(n);
  }
  static init(e) {
    let n = Math.min(3e3, e.doc.length),
      r = Ro.create(e.facet(Pi).parser, e, { from: 0, to: n });
    return r.work(20, n) || r.takeTree(), new Do(r);
  }
}
Fn.state = nt.define({
  create: Do.init,
  update(t, e) {
    for (let n of e.effects) if (n.is(Fn.setState)) return n.value;
    return e.startState.facet(Pi) != e.state.facet(Pi)
      ? Do.init(e.state)
      : t.apply(e);
  },
});
let a_ = (t) => {
  let e = setTimeout(() => t(), 500);
  return () => clearTimeout(e);
};
typeof requestIdleCallback < "u" &&
  (a_ = (t) => {
    let e = -1,
      n = setTimeout(() => {
        e = requestIdleCallback(t, { timeout: 400 });
      }, 100);
    return () => (e < 0 ? clearTimeout(n) : cancelIdleCallback(e));
  });
const ap =
    typeof navigator < "u" &&
    !((lp = navigator.scheduling) === null || lp === void 0) &&
    lp.isInputPending
      ? () => navigator.scheduling.isInputPending()
      : null,
  gD = je.fromClass(
    class {
      constructor(e) {
        (this.view = e),
          (this.working = null),
          (this.workScheduled = 0),
          (this.chunkEnd = -1),
          (this.chunkBudget = -1),
          (this.work = this.work.bind(this)),
          this.scheduleWork();
      }
      update(e) {
        let n = this.view.state.field(Fn.state).context;
        (n.updateViewport(e.view.viewport) ||
          this.view.viewport.to > n.treeLen) &&
          this.scheduleWork(),
          (e.docChanged || e.selectionSet) &&
            (this.view.hasFocus && (this.chunkBudget += 50),
            this.scheduleWork()),
          this.checkAsyncSchedule(n);
      }
      scheduleWork() {
        if (this.working) return;
        let { state: e } = this.view,
          n = e.field(Fn.state);
        (n.tree != n.context.tree || !n.context.isDone(e.doc.length)) &&
          (this.working = a_(this.work));
      }
      work(e) {
        this.working = null;
        let n = Date.now();
        if (
          (this.chunkEnd < n &&
            (this.chunkEnd < 0 || this.view.hasFocus) &&
            ((this.chunkEnd = n + 3e4), (this.chunkBudget = 3e3)),
          this.chunkBudget <= 0)
        )
          return;
        let {
            state: r,
            viewport: { to: i },
          } = this.view,
          s = r.field(Fn.state);
        if (s.tree == s.context.tree && s.context.isDone(i + 1e5)) return;
        let o =
            Date.now() +
            Math.min(
              this.chunkBudget,
              100,
              e && !ap ? Math.max(25, e.timeRemaining() - 5) : 1e9
            ),
          l = s.context.treeLen < i && r.doc.length > i + 1e3,
          a = s.context.work(
            () => (ap && ap()) || Date.now() > o,
            i + (l ? 0 : 1e5)
          );
        (this.chunkBudget -= Date.now() - n),
          (a || this.chunkBudget <= 0) &&
            (s.context.takeTree(),
            this.view.dispatch({ effects: Fn.setState.of(new Do(s.context)) })),
          this.chunkBudget > 0 && !(a && !l) && this.scheduleWork(),
          this.checkAsyncSchedule(s.context);
      }
      checkAsyncSchedule(e) {
        e.scheduleOn &&
          (this.workScheduled++,
          e.scheduleOn
            .then(() => this.scheduleWork())
            .catch((n) => It(this.view.state, n))
            .then(() => this.workScheduled--),
          (e.scheduleOn = null));
      }
      destroy() {
        this.working && this.working();
      }
      isWorking() {
        return !!(this.working || this.workScheduled > 0);
      }
    },
    {
      eventHandlers: {
        focus() {
          this.scheduleWork();
        },
      },
    }
  ),
  Pi = $.define({
    combine(t) {
      return t.length ? t[0] : null;
    },
    enables: (t) => [
      Fn.state,
      gD,
      B.contentAttributes.compute([t], (e) => {
        let n = e.facet(t);
        return n && n.name ? { "data-language": n.name } : {};
      }),
    ],
  }),
  u_ = $.define(),
  ly = $.define({
    combine: (t) => {
      if (!t.length) return "  ";
      let e = t[0];
      if (!e || /\S/.test(e) || Array.from(e).some((n) => n != e[0]))
        throw new Error("Invalid indent unit: " + JSON.stringify(t[0]));
      return e;
    },
  });
function ps(t) {
  let e = t.facet(ly);
  return e.charCodeAt(0) == 9 ? t.tabSize * e.length : e.length;
}
function va(t, e) {
  let n = "",
    r = t.tabSize,
    i = t.facet(ly)[0];
  if (i == "	") {
    for (; e >= r; ) (n += "	"), (e -= r);
    i = " ";
  }
  for (let s = 0; s < e; s++) n += i;
  return n;
}
function ay(t, e) {
  t instanceof Z && (t = new Th(t));
  for (let r of t.state.facet(u_)) {
    let i = r(t, e);
    if (i !== void 0) return i;
  }
  let n = pt(t.state);
  return n.length >= e ? vD(t, n, e) : null;
}
class Th {
  constructor(e, n = {}) {
    (this.state = e), (this.options = n), (this.unit = ps(e));
  }
  lineAt(e, n = 1) {
    let r = this.state.doc.lineAt(e),
      { simulateBreak: i, simulateDoubleBreak: s } = this.options;
    return i != null && i >= r.from && i <= r.to
      ? s && i == e
        ? { text: "", from: e }
        : (n < 0 ? i < e : i <= e)
          ? { text: r.text.slice(i - r.from), from: i }
          : { text: r.text.slice(0, i - r.from), from: r.from }
      : r;
  }
  textAfterPos(e, n = 1) {
    if (this.options.simulateDoubleBreak && e == this.options.simulateBreak)
      return "";
    let { text: r, from: i } = this.lineAt(e, n);
    return r.slice(e - i, Math.min(r.length, e + 100 - i));
  }
  column(e, n = 1) {
    let { text: r, from: i } = this.lineAt(e, n),
      s = this.countColumn(r, e - i),
      o = this.options.overrideIndentation
        ? this.options.overrideIndentation(i)
        : -1;
    return o > -1 && (s += o - this.countColumn(r, r.search(/\S|$/))), s;
  }
  countColumn(e, n = e.length) {
    return Wo(e, this.state.tabSize, n);
  }
  lineIndent(e, n = 1) {
    let { text: r, from: i } = this.lineAt(e, n),
      s = this.options.overrideIndentation;
    if (s) {
      let o = s(i);
      if (o > -1) return o;
    }
    return this.countColumn(r, r.search(/\S|$/));
  }
  get simulatedBreak() {
    return this.options.simulateBreak || null;
  }
}
const yD = new ee();
function vD(t, e, n) {
  let r = e.resolveStack(n),
    i = r.node.enterUnfinishedNodesBefore(n);
  if (i != r.node) {
    let s = [];
    for (let o = i; o != r.node; o = o.parent) s.push(o);
    for (let o = s.length - 1; o >= 0; o--) r = { node: s[o], next: r };
  }
  return c_(r, t, n);
}
function c_(t, e, n) {
  for (let r = t; r; r = r.next) {
    let i = bD(r.node);
    if (i) return i(uy.create(e, n, r));
  }
  return 0;
}
function wD(t) {
  return t.pos == t.options.simulateBreak && t.options.simulateDoubleBreak;
}
function bD(t) {
  let e = t.type.prop(yD);
  if (e) return e;
  let n = t.firstChild,
    r;
  if (n && (r = n.type.prop(ee.closedBy))) {
    let i = t.lastChild,
      s = i && r.indexOf(i.name) > -1;
    return (o) => CD(o, !0, 1, void 0, s && !wD(o) ? i.from : void 0);
  }
  return t.parent == null ? xD : null;
}
function xD() {
  return 0;
}
class uy extends Th {
  constructor(e, n, r) {
    super(e.state, e.options),
      (this.base = e),
      (this.pos = n),
      (this.context = r);
  }
  get node() {
    return this.context.node;
  }
  static create(e, n, r) {
    return new uy(e, n, r);
  }
  get textAfter() {
    return this.textAfterPos(this.pos);
  }
  get baseIndent() {
    return this.baseIndentFor(this.node);
  }
  baseIndentFor(e) {
    let n = this.state.doc.lineAt(e.from);
    for (;;) {
      let r = e.resolve(n.from);
      for (; r.parent && r.parent.from == r.from; ) r = r.parent;
      if (SD(r, e)) break;
      n = this.state.doc.lineAt(r.from);
    }
    return this.lineIndent(n.from);
  }
  continue() {
    return c_(this.context.next, this.base, this.pos);
  }
}
function SD(t, e) {
  for (let n = e; n; n = n.parent) if (t == n) return !0;
  return !1;
}
function kD(t) {
  let e = t.node,
    n = e.childAfter(e.from),
    r = e.lastChild;
  if (!n) return null;
  let i = t.options.simulateBreak,
    s = t.state.doc.lineAt(n.from),
    o = i == null || i <= s.from ? s.to : Math.min(s.to, i);
  for (let l = n.to; ; ) {
    let a = e.childAfter(l);
    if (!a || a == r) return null;
    if (!a.type.isSkipped) return a.from < o ? n : null;
    l = a.to;
  }
}
function CD(t, e, n, r, i) {
  let s = t.textAfter,
    o = s.match(/^\s*/)[0].length,
    l = (r && s.slice(o, o + r.length) == r) || i == t.pos + o,
    a = e ? kD(t) : null;
  return a
    ? l
      ? t.column(a.from)
      : t.column(a.to)
    : t.baseIndent + (l ? 0 : t.unit * n);
}
const _D = 200;
function AD() {
  return Z.transactionFilter.of((t) => {
    if (
      !t.docChanged ||
      (!t.isUserEvent("input.type") && !t.isUserEvent("input.complete"))
    )
      return t;
    let e = t.startState.languageDataAt(
      "indentOnInput",
      t.startState.selection.main.head
    );
    if (!e.length) return t;
    let n = t.newDoc,
      { head: r } = t.newSelection.main,
      i = n.lineAt(r);
    if (r > i.from + _D) return t;
    let s = n.sliceString(i.from, r);
    if (!e.some((u) => u.test(s))) return t;
    let { state: o } = t,
      l = -1,
      a = [];
    for (let { head: u } of o.selection.ranges) {
      let c = o.doc.lineAt(u);
      if (c.from == l) continue;
      l = c.from;
      let f = ay(o, c.from);
      if (f == null) continue;
      let h = /^\s*/.exec(c.text)[0],
        d = va(o, f);
      h != d && a.push({ from: c.from, to: c.from + h.length, insert: d });
    }
    return a.length ? [t, { changes: a, sequential: !0 }] : t;
  });
}
const OD = $.define(),
  ED = new ee();
function MD(t, e, n) {
  let r = pt(t);
  if (r.length < n) return null;
  let i = r.resolveStack(n, 1),
    s = null;
  for (let o = i; o; o = o.next) {
    let l = o.node;
    if (l.to <= n || l.from > n) continue;
    if (s && l.from < e) break;
    let a = l.type.prop(ED);
    if (a && (l.to < r.length - 50 || r.length == t.doc.length || !TD(l))) {
      let u = a(l, t);
      u && u.from <= n && u.from >= e && u.to > n && (s = u);
    }
  }
  return s;
}
function TD(t) {
  let e = t.lastChild;
  return e && e.to == t.to && e.type.isError;
}
function Of(t, e, n) {
  for (let r of t.facet(OD)) {
    let i = r(t, e, n);
    if (i) return i;
  }
  return MD(t, e, n);
}
function f_(t, e) {
  let n = e.mapPos(t.from, 1),
    r = e.mapPos(t.to, -1);
  return n >= r ? void 0 : { from: n, to: r };
}
const Ph = Y.define({ map: f_ }),
  iu = Y.define({ map: f_ });
function h_(t) {
  let e = [];
  for (let { head: n } of t.state.selection.ranges)
    e.some((r) => r.from <= n && r.to >= n) || e.push(t.lineBlockAt(n));
  return e;
}
const ms = nt.define({
  create() {
    return U.none;
  },
  update(t, e) {
    t = t.map(e.changes);
    for (let n of e.effects)
      if (n.is(Ph) && !PD(t, n.value.from, n.value.to)) {
        let { preparePlaceholder: r } = e.state.facet(cy),
          i = r ? U.replace({ widget: new $D(r(e.state, n.value)) }) : Fw;
        t = t.update({ add: [i.range(n.value.from, n.value.to)] });
      } else
        n.is(iu) &&
          (t = t.update({
            filter: (r, i) => n.value.from != r || n.value.to != i,
            filterFrom: n.value.from,
            filterTo: n.value.to,
          }));
    if (e.selection) {
      let n = !1,
        { head: r } = e.selection.main;
      t.between(r, r, (i, s) => {
        i < r && s > r && (n = !0);
      }),
        n &&
          (t = t.update({
            filterFrom: r,
            filterTo: r,
            filter: (i, s) => s <= r || i >= r,
          }));
    }
    return t;
  },
  provide: (t) => B.decorations.from(t),
  toJSON(t, e) {
    let n = [];
    return (
      t.between(0, e.doc.length, (r, i) => {
        n.push(r, i);
      }),
      n
    );
  },
  fromJSON(t) {
    if (!Array.isArray(t) || t.length % 2)
      throw new RangeError("Invalid JSON for fold state");
    let e = [];
    for (let n = 0; n < t.length; ) {
      let r = t[n++],
        i = t[n++];
      if (typeof r != "number" || typeof i != "number")
        throw new RangeError("Invalid JSON for fold state");
      e.push(Fw.range(r, i));
    }
    return U.set(e, !0);
  },
});
function Ef(t, e, n) {
  var r;
  let i = null;
  return (
    (r = t.field(ms, !1)) === null ||
      r === void 0 ||
      r.between(e, n, (s, o) => {
        (!i || i.from > s) && (i = { from: s, to: o });
      }),
    i
  );
}
function PD(t, e, n) {
  let r = !1;
  return (
    t.between(e, e, (i, s) => {
      i == e && s == n && (r = !0);
    }),
    r
  );
}
function d_(t, e) {
  return t.field(ms, !1) ? e : e.concat(Y.appendConfig.of(m_()));
}
const RD = (t) => {
    for (let e of h_(t)) {
      let n = Of(t.state, e.from, e.to);
      if (n)
        return t.dispatch({ effects: d_(t.state, [Ph.of(n), p_(t, n)]) }), !0;
    }
    return !1;
  },
  DD = (t) => {
    if (!t.state.field(ms, !1)) return !1;
    let e = [];
    for (let n of h_(t)) {
      let r = Ef(t.state, n.from, n.to);
      r && e.push(iu.of(r), p_(t, r, !1));
    }
    return e.length && t.dispatch({ effects: e }), e.length > 0;
  };
function p_(t, e, n = !0) {
  let r = t.state.doc.lineAt(e.from).number,
    i = t.state.doc.lineAt(e.to).number;
  return B.announce.of(
    `${t.state.phrase(n ? "Folded lines" : "Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`
  );
}
const LD = (t) => {
    let { state: e } = t,
      n = [];
    for (let r = 0; r < e.doc.length; ) {
      let i = t.lineBlockAt(r),
        s = Of(e, i.from, i.to);
      s && n.push(Ph.of(s)), (r = (s ? t.lineBlockAt(s.to) : i).to + 1);
    }
    return n.length && t.dispatch({ effects: d_(t.state, n) }), !!n.length;
  },
  BD = (t) => {
    let e = t.state.field(ms, !1);
    if (!e || !e.size) return !1;
    let n = [];
    return (
      e.between(0, t.state.doc.length, (r, i) => {
        n.push(iu.of({ from: r, to: i }));
      }),
      t.dispatch({ effects: n }),
      !0
    );
  },
  ND = [
    { key: "Ctrl-Shift-[", mac: "Cmd-Alt-[", run: RD },
    { key: "Ctrl-Shift-]", mac: "Cmd-Alt-]", run: DD },
    { key: "Ctrl-Alt-[", run: LD },
    { key: "Ctrl-Alt-]", run: BD },
  ],
  ID = { placeholderDOM: null, preparePlaceholder: null, placeholderText: "" },
  cy = $.define({
    combine(t) {
      return Sr(t, ID);
    },
  });
function m_(t) {
  let e = [ms, jD];
  return t && e.push(cy.of(t)), e;
}
function g_(t, e) {
  let { state: n } = t,
    r = n.facet(cy),
    i = (o) => {
      let l = t.lineBlockAt(t.posAtDOM(o.target)),
        a = Ef(t.state, l.from, l.to);
      a && t.dispatch({ effects: iu.of(a) }), o.preventDefault();
    };
  if (r.placeholderDOM) return r.placeholderDOM(t, i, e);
  let s = document.createElement("span");
  return (
    (s.textContent = r.placeholderText),
    s.setAttribute("aria-label", n.phrase("folded code")),
    (s.title = n.phrase("unfold")),
    (s.className = "cm-foldPlaceholder"),
    (s.onclick = i),
    s
  );
}
const Fw = U.replace({
  widget: new (class extends Ii {
    toDOM(t) {
      return g_(t, null);
    }
  })(),
});
class $D extends Ii {
  constructor(e) {
    super(), (this.value = e);
  }
  eq(e) {
    return this.value == e.value;
  }
  toDOM(e) {
    return g_(e, this.value);
  }
}
const FD = {
  openText: "",
  closedText: "",
  markerDOM: null,
  domEventHandlers: {},
  foldingChanged: () => !1,
};
class up extends Vr {
  constructor(e, n) {
    super(), (this.config = e), (this.open = n);
  }
  eq(e) {
    return this.config == e.config && this.open == e.open;
  }
  toDOM(e) {
    if (this.config.markerDOM) return this.config.markerDOM(this.open);
    let n = document.createElement("span");
    return (
      (n.textContent = this.open
        ? this.config.openText
        : this.config.closedText),
      (n.title = e.state.phrase(this.open ? "Fold line" : "Unfold line")),
      n
    );
  }
}
function zD(t = {}) {
  let e = Object.assign(Object.assign({}, FD), t),
    n = new up(e, !0),
    r = new up(e, !1),
    i = je.fromClass(
      class {
        constructor(o) {
          (this.from = o.viewport.from), (this.markers = this.buildMarkers(o));
        }
        update(o) {
          (o.docChanged ||
            o.viewportChanged ||
            o.startState.facet(Pi) != o.state.facet(Pi) ||
            o.startState.field(ms, !1) != o.state.field(ms, !1) ||
            pt(o.startState) != pt(o.state) ||
            e.foldingChanged(o)) &&
            (this.markers = this.buildMarkers(o.view));
        }
        buildMarkers(o) {
          let l = new Fr();
          for (let a of o.viewportLineBlocks) {
            let u = Ef(o.state, a.from, a.to)
              ? r
              : Of(o.state, a.from, a.to)
                ? n
                : null;
            u && l.add(a.from, a.from, u);
          }
          return l.finish();
        }
      }
    ),
    { domEventHandlers: s } = e;
  return [
    i,
    G4({
      class: "cm-foldGutter",
      markers(o) {
        var l;
        return (
          ((l = o.plugin(i)) === null || l === void 0 ? void 0 : l.markers) ||
          re.empty
        );
      },
      initialSpacer() {
        return new up(e, !1);
      },
      domEventHandlers: Object.assign(Object.assign({}, s), {
        click: (o, l, a) => {
          if (s.click && s.click(o, l, a)) return !0;
          let u = Ef(o.state, l.from, l.to);
          if (u) return o.dispatch({ effects: iu.of(u) }), !0;
          let c = Of(o.state, l.from, l.to);
          return c ? (o.dispatch({ effects: Ph.of(c) }), !0) : !1;
        },
      }),
    }),
    m_(),
  ];
}
const jD = B.baseTheme({
  ".cm-foldPlaceholder": {
    backgroundColor: "#eee",
    border: "1px solid #ddd",
    color: "#888",
    borderRadius: ".2em",
    margin: "0 1px",
    padding: "0 1px",
    cursor: "pointer",
  },
  ".cm-foldGutter span": { padding: "0 1px", cursor: "pointer" },
});
class Rh {
  constructor(e, n) {
    this.specs = e;
    let r;
    function i(l) {
      let a = Ei.newName();
      return ((r || (r = Object.create(null)))["." + a] = l), a;
    }
    const s = typeof n.all == "string" ? n.all : n.all ? i(n.all) : void 0,
      o = n.scope;
    (this.scope =
      o instanceof Fn
        ? (l) => l.prop(Qs) == o.data
        : o
          ? (l) => l == o
          : void 0),
      (this.style = l_(
        e.map((l) => ({
          tag: l.tag,
          class: l.class || i(Object.assign({}, l, { tag: null })),
        })),
        { all: s }
      ).style),
      (this.module = r ? new Ei(r) : null),
      (this.themeType = n.themeType);
  }
  static define(e, n) {
    return new Rh(e, n || {});
  }
}
const dg = $.define(),
  y_ = $.define({
    combine(t) {
      return t.length ? [t[0]] : null;
    },
  });
function cp(t) {
  let e = t.facet(dg);
  return e.length ? e : t.facet(y_);
}
function VD(t, e) {
  let n = [HD],
    r;
  return (
    t instanceof Rh &&
      (t.module && n.push(B.styleModule.of(t.module)), (r = t.themeType)),
    e != null && e.fallback
      ? n.push(y_.of(t))
      : r
        ? n.push(
            dg.computeN([B.darkTheme], (i) =>
              i.facet(B.darkTheme) == (r == "dark") ? [t] : []
            )
          )
        : n.push(dg.of(t)),
    n
  );
}
class WD {
  constructor(e) {
    (this.markCache = Object.create(null)),
      (this.tree = pt(e.state)),
      (this.decorations = this.buildDeco(e, cp(e.state))),
      (this.decoratedTo = e.viewport.to);
  }
  update(e) {
    let n = pt(e.state),
      r = cp(e.state),
      i = r != cp(e.startState),
      { viewport: s } = e.view,
      o = e.changes.mapPos(this.decoratedTo, 1);
    n.length < s.to && !i && n.type == this.tree.type && o >= s.to
      ? ((this.decorations = this.decorations.map(e.changes)),
        (this.decoratedTo = o))
      : (n != this.tree || e.viewportChanged || i) &&
        ((this.tree = n),
        (this.decorations = this.buildDeco(e.view, r)),
        (this.decoratedTo = s.to));
  }
  buildDeco(e, n) {
    if (!n || !this.tree.length) return U.none;
    let r = new Fr();
    for (let { from: i, to: s } of e.visibleRanges)
      cD(
        this.tree,
        n,
        (o, l, a) => {
          r.add(
            o,
            l,
            this.markCache[a] || (this.markCache[a] = U.mark({ class: a }))
          );
        },
        i,
        s
      );
    return r.finish();
  }
}
const HD = ks.high(je.fromClass(WD, { decorations: (t) => t.decorations })),
  UD = Rh.define([
    { tag: D.meta, color: "#404740" },
    { tag: D.link, textDecoration: "underline" },
    { tag: D.heading, textDecoration: "underline", fontWeight: "bold" },
    { tag: D.emphasis, fontStyle: "italic" },
    { tag: D.strong, fontWeight: "bold" },
    { tag: D.strikethrough, textDecoration: "line-through" },
    { tag: D.keyword, color: "#708" },
    {
      tag: [D.atom, D.bool, D.url, D.contentSeparator, D.labelName],
      color: "#219",
    },
    { tag: [D.literal, D.inserted], color: "#164" },
    { tag: [D.string, D.deleted], color: "#a11" },
    { tag: [D.regexp, D.escape, D.special(D.string)], color: "#e40" },
    { tag: D.definition(D.variableName), color: "#00f" },
    { tag: D.local(D.variableName), color: "#30a" },
    { tag: [D.typeName, D.namespace], color: "#085" },
    { tag: D.className, color: "#167" },
    { tag: [D.special(D.variableName), D.macroName], color: "#256" },
    { tag: D.definition(D.propertyName), color: "#00c" },
    { tag: D.comment, color: "#940" },
    { tag: D.invalid, color: "#f00" },
  ]),
  KD = B.baseTheme({
    "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" },
    "&.cm-focused .cm-nonmatchingBracket": { backgroundColor: "#bb555544" },
  }),
  v_ = 1e4,
  w_ = "()[]{}",
  b_ = $.define({
    combine(t) {
      return Sr(t, {
        afterCursor: !0,
        brackets: w_,
        maxScanDistance: v_,
        renderMatch: YD,
      });
    },
  }),
  qD = U.mark({ class: "cm-matchingBracket" }),
  GD = U.mark({ class: "cm-nonmatchingBracket" });
function YD(t) {
  let e = [],
    n = t.matched ? qD : GD;
  return (
    e.push(n.range(t.start.from, t.start.to)),
    t.end && e.push(n.range(t.end.from, t.end.to)),
    e
  );
}
const XD = nt.define({
    create() {
      return U.none;
    },
    update(t, e) {
      if (!e.docChanged && !e.selection) return t;
      let n = [],
        r = e.state.facet(b_);
      for (let i of e.state.selection.ranges) {
        if (!i.empty) continue;
        let s =
          hr(e.state, i.head, -1, r) ||
          (i.head > 0 && hr(e.state, i.head - 1, 1, r)) ||
          (r.afterCursor &&
            (hr(e.state, i.head, 1, r) ||
              (i.head < e.state.doc.length && hr(e.state, i.head + 1, -1, r))));
        s && (n = n.concat(r.renderMatch(s, e.state)));
      }
      return U.set(n, !0);
    },
    provide: (t) => B.decorations.from(t),
  }),
  QD = [XD, KD];
function JD(t = {}) {
  return [b_.of(t), QD];
}
const ZD = new ee();
function pg(t, e, n) {
  let r = t.prop(e < 0 ? ee.openedBy : ee.closedBy);
  if (r) return r;
  if (t.name.length == 1) {
    let i = n.indexOf(t.name);
    if (i > -1 && i % 2 == (e < 0 ? 1 : 0)) return [n[i + e]];
  }
  return null;
}
function mg(t) {
  let e = t.type.prop(ZD);
  return e ? e(t.node) : t;
}
function hr(t, e, n, r = {}) {
  let i = r.maxScanDistance || v_,
    s = r.brackets || w_,
    o = pt(t),
    l = o.resolveInner(e, n);
  for (let a = l; a; a = a.parent) {
    let u = pg(a.type, n, s);
    if (u && a.from < a.to) {
      let c = mg(a);
      if (c && (n > 0 ? e >= c.from && e < c.to : e > c.from && e <= c.to))
        return eL(t, e, n, a, c, u, s);
    }
  }
  return tL(t, e, n, o, l.type, i, s);
}
function eL(t, e, n, r, i, s, o) {
  let l = r.parent,
    a = { from: i.from, to: i.to },
    u = 0,
    c = l == null ? void 0 : l.cursor();
  if (c && (n < 0 ? c.childBefore(r.from) : c.childAfter(r.to)))
    do
      if (n < 0 ? c.to <= r.from : c.from >= r.to) {
        if (u == 0 && s.indexOf(c.type.name) > -1 && c.from < c.to) {
          let f = mg(c);
          return {
            start: a,
            end: f ? { from: f.from, to: f.to } : void 0,
            matched: !0,
          };
        } else if (pg(c.type, n, o)) u++;
        else if (pg(c.type, -n, o)) {
          if (u == 0) {
            let f = mg(c);
            return {
              start: a,
              end: f && f.from < f.to ? { from: f.from, to: f.to } : void 0,
              matched: !1,
            };
          }
          u--;
        }
      }
    while (n < 0 ? c.prevSibling() : c.nextSibling());
  return { start: a, matched: !1 };
}
function tL(t, e, n, r, i, s, o) {
  let l = n < 0 ? t.sliceDoc(e - 1, e) : t.sliceDoc(e, e + 1),
    a = o.indexOf(l);
  if (a < 0 || (a % 2 == 0) != n > 0) return null;
  let u = { from: n < 0 ? e - 1 : e, to: n > 0 ? e + 1 : e },
    c = t.doc.iterRange(e, n > 0 ? t.doc.length : 0),
    f = 0;
  for (let h = 0; !c.next().done && h <= s; ) {
    let d = c.value;
    n < 0 && (h += d.length);
    let p = e + h * n;
    for (
      let m = n > 0 ? 0 : d.length - 1, w = n > 0 ? d.length : -1;
      m != w;
      m += n
    ) {
      let g = o.indexOf(d[m]);
      if (!(g < 0 || r.resolveInner(p + m, 1).type != i))
        if ((g % 2 == 0) == n > 0) f++;
        else {
          if (f == 1)
            return {
              start: u,
              end: { from: p + m, to: p + m + 1 },
              matched: g >> 1 == a >> 1,
            };
          f--;
        }
    }
    n > 0 && (h += d.length);
  }
  return c.done ? { start: u, matched: !1 } : null;
}
function zw(t, e, n, r = 0, i = 0) {
  e == null && ((e = t.search(/[^\s\u00a0]/)), e == -1 && (e = t.length));
  let s = i;
  for (let o = r; o < e; o++) t.charCodeAt(o) == 9 ? (s += n - (s % n)) : s++;
  return s;
}
class x_ {
  constructor(e, n, r, i) {
    (this.string = e),
      (this.tabSize = n),
      (this.indentUnit = r),
      (this.overrideIndent = i),
      (this.pos = 0),
      (this.start = 0),
      (this.lastColumnPos = 0),
      (this.lastColumnValue = 0);
  }
  eol() {
    return this.pos >= this.string.length;
  }
  sol() {
    return this.pos == 0;
  }
  peek() {
    return this.string.charAt(this.pos) || void 0;
  }
  next() {
    if (this.pos < this.string.length) return this.string.charAt(this.pos++);
  }
  eat(e) {
    let n = this.string.charAt(this.pos),
      r;
    if (
      (typeof e == "string"
        ? (r = n == e)
        : (r = n && (e instanceof RegExp ? e.test(n) : e(n))),
      r)
    )
      return ++this.pos, n;
  }
  eatWhile(e) {
    let n = this.pos;
    for (; this.eat(e); );
    return this.pos > n;
  }
  eatSpace() {
    let e = this.pos;
    for (; /[\s\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos;
    return this.pos > e;
  }
  skipToEnd() {
    this.pos = this.string.length;
  }
  skipTo(e) {
    let n = this.string.indexOf(e, this.pos);
    if (n > -1) return (this.pos = n), !0;
  }
  backUp(e) {
    this.pos -= e;
  }
  column() {
    return (
      this.lastColumnPos < this.start &&
        ((this.lastColumnValue = zw(
          this.string,
          this.start,
          this.tabSize,
          this.lastColumnPos,
          this.lastColumnValue
        )),
        (this.lastColumnPos = this.start)),
      this.lastColumnValue
    );
  }
  indentation() {
    var e;
    return (e = this.overrideIndent) !== null && e !== void 0
      ? e
      : zw(this.string, null, this.tabSize);
  }
  match(e, n, r) {
    if (typeof e == "string") {
      let i = (o) => (r ? o.toLowerCase() : o),
        s = this.string.substr(this.pos, e.length);
      return i(s) == i(e) ? (n !== !1 && (this.pos += e.length), !0) : null;
    } else {
      let i = this.string.slice(this.pos).match(e);
      return i && i.index > 0
        ? null
        : (i && n !== !1 && (this.pos += i[0].length), i);
    }
  }
  current() {
    return this.string.slice(this.start, this.pos);
  }
}
function nL(t) {
  return {
    name: t.name || "",
    token: t.token,
    blankLine: t.blankLine || (() => {}),
    startState: t.startState || (() => !0),
    copyState: t.copyState || rL,
    indent: t.indent || (() => null),
    languageData: t.languageData || {},
    tokenTable: t.tokenTable || hy,
  };
}
function rL(t) {
  if (typeof t != "object") return t;
  let e = {};
  for (let n in t) {
    let r = t[n];
    e[n] = r instanceof Array ? r.slice() : r;
  }
  return e;
}
const jw = new WeakMap();
class Dh extends Fn {
  constructor(e) {
    let n = dD(e.languageData),
      r = nL(e),
      i,
      s = new (class extends Dk {
        createParse(o, l, a) {
          return new sL(i, o, l, a);
        }
      })();
    super(n, s, [u_.of((o, l) => this.getIndent(o, l))], e.name),
      (this.topNode = aL(n)),
      (i = this),
      (this.streamParser = r),
      (this.stateAfter = new ee({ perNode: !0 })),
      (this.tokenTable = e.tokenTable ? new __(r.tokenTable) : lL);
  }
  static define(e) {
    return new Dh(e);
  }
  getIndent(e, n) {
    let r = pt(e.state),
      i = r.resolve(n);
    for (; i && i.type != this.topNode; ) i = i.parent;
    if (!i) return null;
    let s,
      { overrideIndentation: o } = e.options;
    o && ((s = jw.get(e.state)), s != null && s < n - 1e4 && (s = void 0));
    let l = fy(this, r, 0, i.from, s ?? n),
      a,
      u;
    if (
      (l
        ? ((u = l.state), (a = l.pos + 1))
        : ((u = this.streamParser.startState(e.unit)), (a = 0)),
      n - a > 1e4)
    )
      return null;
    for (; a < n; ) {
      let f = e.state.doc.lineAt(a),
        h = Math.min(n, f.to);
      if (f.length) {
        let d = o ? o(f.from) : -1,
          p = new x_(f.text, e.state.tabSize, e.unit, d < 0 ? void 0 : d);
        for (; p.pos < h - f.from; ) k_(this.streamParser.token, p, u);
      } else this.streamParser.blankLine(u, e.unit);
      if (h == n) break;
      a = f.to + 1;
    }
    let c = e.lineAt(n);
    return (
      o && s == null && jw.set(e.state, c.from),
      this.streamParser.indent(u, /^\s*(.*)/.exec(c.text)[1], e)
    );
  }
  get allowsNesting() {
    return !1;
  }
}
function fy(t, e, n, r, i) {
  let s = n >= r && n + e.length <= i && e.prop(t.stateAfter);
  if (s) return { state: t.streamParser.copyState(s), pos: n + e.length };
  for (let o = e.children.length - 1; o >= 0; o--) {
    let l = e.children[o],
      a = n + e.positions[o],
      u = l instanceof Pe && a < i && fy(t, l, a, r, i);
    if (u) return u;
  }
  return null;
}
function S_(t, e, n, r, i) {
  if (i && n <= 0 && r >= e.length) return e;
  !i && e.type == t.topNode && (i = !0);
  for (let s = e.children.length - 1; s >= 0; s--) {
    let o = e.positions[s],
      l = e.children[s],
      a;
    if (o < r && l instanceof Pe) {
      if (!(a = S_(t, l, n - o, r - o, i))) break;
      return i
        ? new Pe(
            e.type,
            e.children.slice(0, s).concat(a),
            e.positions.slice(0, s + 1),
            o + a.length
          )
        : a;
    }
  }
  return null;
}
function iL(t, e, n, r) {
  for (let i of e) {
    let s = i.from + (i.openStart ? 25 : 0),
      o = i.to - (i.openEnd ? 25 : 0),
      l = s <= n && o > n && fy(t, i.tree, 0 - i.offset, n, o),
      a;
    if (l && (a = S_(t, i.tree, n + i.offset, l.pos + i.offset, !1)))
      return { state: l.state, tree: a };
  }
  return { state: t.streamParser.startState(r ? ps(r) : 4), tree: Pe.empty };
}
class sL {
  constructor(e, n, r, i) {
    (this.lang = e),
      (this.input = n),
      (this.fragments = r),
      (this.ranges = i),
      (this.stoppedAt = null),
      (this.chunks = []),
      (this.chunkPos = []),
      (this.chunk = []),
      (this.chunkReused = void 0),
      (this.rangeIndex = 0),
      (this.to = i[i.length - 1].to);
    let s = Ro.get(),
      o = i[0].from,
      { state: l, tree: a } = iL(e, r, o, s == null ? void 0 : s.state);
    (this.state = l), (this.parsedPos = this.chunkStart = o + a.length);
    for (let u = 0; u < a.children.length; u++)
      this.chunks.push(a.children[u]), this.chunkPos.push(a.positions[u]);
    s &&
      this.parsedPos < s.viewport.from - 1e5 &&
      ((this.state = this.lang.streamParser.startState(ps(s.state))),
      s.skipUntilInView(this.parsedPos, s.viewport.from),
      (this.parsedPos = s.viewport.from)),
      this.moveRangeIndex();
  }
  advance() {
    let e = Ro.get(),
      n = this.stoppedAt == null ? this.to : Math.min(this.to, this.stoppedAt),
      r = Math.min(n, this.chunkStart + 2048);
    for (e && (r = Math.min(r, e.viewport.to)); this.parsedPos < r; )
      this.parseLine(e);
    return (
      this.chunkStart < this.parsedPos && this.finishChunk(),
      this.parsedPos >= n
        ? this.finish()
        : e && this.parsedPos >= e.viewport.to
          ? (e.skipUntilInView(this.parsedPos, n), this.finish())
          : null
    );
  }
  stopAt(e) {
    this.stoppedAt = e;
  }
  lineAfter(e) {
    let n = this.input.chunk(e);
    if (this.input.lineChunks)
      n ==
        `
` && (n = "");
    else {
      let r = n.indexOf(`
`);
      r > -1 && (n = n.slice(0, r));
    }
    return e + n.length <= this.to ? n : n.slice(0, this.to - e);
  }
  nextLine() {
    let e = this.parsedPos,
      n = this.lineAfter(e),
      r = e + n.length;
    for (let i = this.rangeIndex; ; ) {
      let s = this.ranges[i].to;
      if (
        s >= r ||
        ((n = n.slice(0, s - (r - n.length))), i++, i == this.ranges.length)
      )
        break;
      let o = this.ranges[i].from,
        l = this.lineAfter(o);
      (n += l), (r = o + l.length);
    }
    return { line: n, end: r };
  }
  skipGapsTo(e, n, r) {
    for (;;) {
      let i = this.ranges[this.rangeIndex].to,
        s = e + n;
      if (r > 0 ? i > s : i >= s) break;
      let o = this.ranges[++this.rangeIndex].from;
      n += o - i;
    }
    return n;
  }
  moveRangeIndex() {
    for (; this.ranges[this.rangeIndex].to < this.parsedPos; )
      this.rangeIndex++;
  }
  emitToken(e, n, r, i, s) {
    if (this.ranges.length > 1) {
      (s = this.skipGapsTo(n, s, 1)), (n += s);
      let o = this.chunk.length;
      (s = this.skipGapsTo(r, s, -1)), (r += s), (i += this.chunk.length - o);
    }
    return this.chunk.push(e, n, r, i), s;
  }
  parseLine(e) {
    let { line: n, end: r } = this.nextLine(),
      i = 0,
      { streamParser: s } = this.lang,
      o = new x_(n, e ? e.state.tabSize : 4, e ? ps(e.state) : 2);
    if (o.eol()) s.blankLine(this.state, o.indentUnit);
    else
      for (; !o.eol(); ) {
        let l = k_(s.token, o, this.state);
        if (
          (l &&
            (i = this.emitToken(
              this.lang.tokenTable.resolve(l),
              this.parsedPos + o.start,
              this.parsedPos + o.pos,
              4,
              i
            )),
          o.start > 1e4)
        )
          break;
      }
    (this.parsedPos = r),
      this.moveRangeIndex(),
      this.parsedPos < this.to && this.parsedPos++;
  }
  finishChunk() {
    let e = Pe.build({
      buffer: this.chunk,
      start: this.chunkStart,
      length: this.parsedPos - this.chunkStart,
      nodeSet: oL,
      topID: 0,
      maxBufferLength: 2048,
      reused: this.chunkReused,
    });
    (e = new Pe(e.type, e.children, e.positions, e.length, [
      [this.lang.stateAfter, this.lang.streamParser.copyState(this.state)],
    ])),
      this.chunks.push(e),
      this.chunkPos.push(this.chunkStart - this.ranges[0].from),
      (this.chunk = []),
      (this.chunkReused = void 0),
      (this.chunkStart = this.parsedPos);
  }
  finish() {
    return new Pe(
      this.lang.topNode,
      this.chunks,
      this.chunkPos,
      this.parsedPos - this.ranges[0].from
    ).balance();
  }
}
function k_(t, e, n) {
  e.start = e.pos;
  for (let r = 0; r < 10; r++) {
    let i = t(e, n);
    if (e.pos > e.start) return i;
  }
  throw new Error("Stream parser failed to advance stream.");
}
const hy = Object.create(null),
  wa = [Wt.none],
  oL = new W0(wa),
  Vw = [],
  Ww = Object.create(null),
  C_ = Object.create(null);
for (let [t, e] of [
  ["variable", "variableName"],
  ["variable-2", "variableName.special"],
  ["string-2", "string.special"],
  ["def", "variableName.definition"],
  ["tag", "tagName"],
  ["attribute", "attributeName"],
  ["type", "typeName"],
  ["builtin", "variableName.standard"],
  ["qualifier", "modifier"],
  ["error", "invalid"],
  ["header", "heading"],
  ["property", "propertyName"],
])
  C_[t] = A_(hy, e);
class __ {
  constructor(e) {
    (this.extra = e), (this.table = Object.assign(Object.create(null), C_));
  }
  resolve(e) {
    return e ? this.table[e] || (this.table[e] = A_(this.extra, e)) : 0;
  }
}
const lL = new __(hy);
function fp(t, e) {
  Vw.indexOf(t) > -1 || (Vw.push(t), console.warn(e));
}
function A_(t, e) {
  let n = [];
  for (let l of e.split(" ")) {
    let a = [];
    for (let u of l.split(".")) {
      let c = t[u] || D[u];
      c
        ? typeof c == "function"
          ? a.length
            ? (a = a.map(c))
            : fp(u, `Modifier ${u} used at start of tag`)
          : a.length
            ? fp(u, `Tag ${u} used as modifier`)
            : (a = Array.isArray(c) ? c : [c])
        : fp(u, `Unknown highlighting tag ${u}`);
    }
    for (let u of a) n.push(u);
  }
  if (!n.length) return 0;
  let r = e.replace(/ /g, "_"),
    i = r + " " + n.map((l) => l.id),
    s = Ww[i];
  if (s) return s.id;
  let o = (Ww[i] = Wt.define({
    id: wa.length,
    name: r,
    props: [aD({ [r]: n })],
  }));
  return wa.push(o), o.id;
}
function aL(t) {
  let e = Wt.define({
    id: wa.length,
    name: "Document",
    props: [Qs.add(() => t)],
    top: !0,
  });
  return wa.push(e), e;
}
Ce.RTL, Ce.LTR;
function O_(t) {
  function e(f, h) {
    f.cmdState.push(h);
  }
  function n(f) {
    return f.cmdState.length > 0 ? f.cmdState[f.cmdState.length - 1] : null;
  }
  function r(f) {
    var h = f.cmdState.pop();
    h && h.closeBracket();
  }
  function i(f) {
    for (var h = f.cmdState, d = h.length - 1; d >= 0; d--) {
      var p = h[d];
      if (p.name != "DEFAULT") return p;
    }
    return {
      styleIdentifier: function () {
        return null;
      },
    };
  }
  function s(f, h, d) {
    return function () {
      (this.name = f),
        (this.bracketNo = 0),
        (this.style = h),
        (this.styles = d),
        (this.argument = null),
        (this.styleIdentifier = function () {
          return this.styles[this.bracketNo - 1] || null;
        }),
        (this.openBracket = function () {
          return this.bracketNo++, "bracket";
        }),
        (this.closeBracket = function () {});
    };
  }
  var o = {};
  (o.importmodule = s("importmodule", "tag", ["string", "builtin"])),
    (o.documentclass = s("documentclass", "tag", ["", "atom"])),
    (o.usepackage = s("usepackage", "tag", ["atom"])),
    (o.begin = s("begin", "tag", ["atom"])),
    (o.end = s("end", "tag", ["atom"])),
    (o.label = s("label", "tag", ["atom"])),
    (o.ref = s("ref", "tag", ["atom"])),
    (o.eqref = s("eqref", "tag", ["atom"])),
    (o.cite = s("cite", "tag", ["atom"])),
    (o.bibitem = s("bibitem", "tag", ["atom"])),
    (o.Bibitem = s("Bibitem", "tag", ["atom"])),
    (o.RBibitem = s("RBibitem", "tag", ["atom"])),
    (o.DEFAULT = function () {
      (this.name = "DEFAULT"),
        (this.style = "tag"),
        (this.styleIdentifier =
          this.openBracket =
          this.closeBracket =
            function () {});
    });
  function l(f, h) {
    f.f = h;
  }
  function a(f, h) {
    var d;
    if (f.match(/^\\[a-zA-Z@\xc0-\u1fff\u2060-\uffff]+/)) {
      var p = f.current().slice(1);
      return (
        (d = o.hasOwnProperty(p) ? o[p] : o.DEFAULT),
        (d = new d()),
        e(h, d),
        l(h, c),
        d.style
      );
    }
    if (f.match(/^\\[$&%#{}_]/) || f.match(/^\\[,;!\/\\]/)) return "tag";
    if (f.match("\\["))
      return (
        l(h, function (w, g) {
          return u(w, g, "\\]");
        }),
        "keyword"
      );
    if (f.match("\\("))
      return (
        l(h, function (w, g) {
          return u(w, g, "\\)");
        }),
        "keyword"
      );
    if (f.match("$$"))
      return (
        l(h, function (w, g) {
          return u(w, g, "$$");
        }),
        "keyword"
      );
    if (f.match("$"))
      return (
        l(h, function (w, g) {
          return u(w, g, "$");
        }),
        "keyword"
      );
    var m = f.next();
    if (m == "%") return f.skipToEnd(), "comment";
    if (m == "}" || m == "]") {
      if (((d = n(h)), d)) d.closeBracket(m), l(h, c);
      else return "error";
      return "bracket";
    } else
      return m == "{" || m == "["
        ? ((d = o.DEFAULT), (d = new d()), e(h, d), "bracket")
        : /\d/.test(m)
          ? (f.eatWhile(/[\w.%]/), "atom")
          : (f.eatWhile(/[\w\-_]/),
            (d = i(h)),
            d.name == "begin" && (d.argument = f.current()),
            d.styleIdentifier());
  }
  function u(f, h, d) {
    if (f.eatSpace()) return null;
    if (d && f.match(d)) return l(h, a), "keyword";
    if (f.match(/^\\[a-zA-Z@]+/)) return "tag";
    if (f.match(/^[a-zA-Z]+/)) return "variableName.special";
    if (f.match(/^\\[$&%#{}_]/) || f.match(/^\\[,;!\/]/) || f.match(/^[\^_&]/))
      return "tag";
    if (f.match(/^[+\-<>|=,\/@!*:;'"`~#?]/)) return null;
    if (f.match(/^(\d+\.\d*|\d*\.\d+|\d+)/)) return "number";
    var p = f.next();
    return p == "{" || p == "}" || p == "[" || p == "]" || p == "(" || p == ")"
      ? "bracket"
      : p == "%"
        ? (f.skipToEnd(), "comment")
        : "error";
  }
  function c(f, h) {
    var d = f.peek(),
      p;
    return d == "{" || d == "["
      ? ((p = n(h)), p.openBracket(d), f.eat(d), l(h, a), "bracket")
      : /[ \t\r]/.test(d)
        ? (f.eat(d), null)
        : (l(h, a), r(h), a(f, h));
  }
  return {
    name: "stex",
    startState: function () {
      var f = t
        ? function (h, d) {
            return u(h, d);
          }
        : a;
      return { cmdState: [], f };
    },
    copyState: function (f) {
      return { cmdState: f.cmdState.slice(), f: f.f };
    },
    token: function (f, h) {
      return h.f(f, h);
    },
    blankLine: function (f) {
      (f.f = a), (f.cmdState.length = 0);
    },
    languageData: { commentTokens: { line: "%" } },
  };
}
const E_ = O_(!1);
O_(!0);
const uL = (t) => {
  let { state: e } = t,
    n = e.doc.lineAt(e.selection.main.from),
    r = py(t.state, n.from);
  return r.line ? cL(t) : r.block ? hL(t) : !1;
};
function dy(t, e) {
  return ({ state: n, dispatch: r }) => {
    if (n.readOnly) return !1;
    let i = t(e, n);
    return i ? (r(n.update(i)), !0) : !1;
  };
}
const cL = dy(mL, 0),
  fL = dy(M_, 0),
  hL = dy((t, e) => M_(t, e, pL(e)), 0);
function py(t, e) {
  let n = t.languageDataAt("commentTokens", e);
  return n.length ? n[0] : {};
}
const cl = 50;
function dL(t, { open: e, close: n }, r, i) {
  let s = t.sliceDoc(r - cl, r),
    o = t.sliceDoc(i, i + cl),
    l = /\s*$/.exec(s)[0].length,
    a = /^\s*/.exec(o)[0].length,
    u = s.length - l;
  if (s.slice(u - e.length, u) == e && o.slice(a, a + n.length) == n)
    return {
      open: { pos: r - l, margin: l && 1 },
      close: { pos: i + a, margin: a && 1 },
    };
  let c, f;
  i - r <= 2 * cl
    ? (c = f = t.sliceDoc(r, i))
    : ((c = t.sliceDoc(r, r + cl)), (f = t.sliceDoc(i - cl, i)));
  let h = /^\s*/.exec(c)[0].length,
    d = /\s*$/.exec(f)[0].length,
    p = f.length - d - n.length;
  return c.slice(h, h + e.length) == e && f.slice(p, p + n.length) == n
    ? {
        open: {
          pos: r + h + e.length,
          margin: /\s/.test(c.charAt(h + e.length)) ? 1 : 0,
        },
        close: {
          pos: i - d - n.length,
          margin: /\s/.test(f.charAt(p - 1)) ? 1 : 0,
        },
      }
    : null;
}
function pL(t) {
  let e = [];
  for (let n of t.selection.ranges) {
    let r = t.doc.lineAt(n.from),
      i = n.to <= r.to ? r : t.doc.lineAt(n.to),
      s = e.length - 1;
    s >= 0 && e[s].to > r.from
      ? (e[s].to = i.to)
      : e.push({ from: r.from + /^\s*/.exec(r.text)[0].length, to: i.to });
  }
  return e;
}
function M_(t, e, n = e.selection.ranges) {
  let r = n.map((s) => py(e, s.from).block);
  if (!r.every((s) => s)) return null;
  let i = n.map((s, o) => dL(e, r[o], s.from, s.to));
  if (t != 2 && !i.every((s) => s))
    return {
      changes: e.changes(
        n.map((s, o) =>
          i[o]
            ? []
            : [
                { from: s.from, insert: r[o].open + " " },
                { from: s.to, insert: " " + r[o].close },
              ]
        )
      ),
    };
  if (t != 1 && i.some((s) => s)) {
    let s = [];
    for (let o = 0, l; o < i.length; o++)
      if ((l = i[o])) {
        let a = r[o],
          { open: u, close: c } = l;
        s.push(
          { from: u.pos - a.open.length, to: u.pos + u.margin },
          { from: c.pos - c.margin, to: c.pos + a.close.length }
        );
      }
    return { changes: s };
  }
  return null;
}
function mL(t, e, n = e.selection.ranges) {
  let r = [],
    i = -1;
  for (let { from: s, to: o } of n) {
    let l = r.length,
      a = 1e9,
      u = py(e, s).line;
    if (u) {
      for (let c = s; c <= o; ) {
        let f = e.doc.lineAt(c);
        if (f.from > i && (s == o || o > f.from)) {
          i = f.from;
          let h = /^\s*/.exec(f.text)[0].length,
            d = h == f.length,
            p = f.text.slice(h, h + u.length) == u ? h : -1;
          h < f.text.length && h < a && (a = h),
            r.push({
              line: f,
              comment: p,
              token: u,
              indent: h,
              empty: d,
              single: !1,
            });
        }
        c = f.to + 1;
      }
      if (a < 1e9)
        for (let c = l; c < r.length; c++)
          r[c].indent < r[c].line.text.length && (r[c].indent = a);
      r.length == l + 1 && (r[l].single = !0);
    }
  }
  if (t != 2 && r.some((s) => s.comment < 0 && (!s.empty || s.single))) {
    let s = [];
    for (let { line: l, token: a, indent: u, empty: c, single: f } of r)
      (f || !c) && s.push({ from: l.from + u, insert: a + " " });
    let o = e.changes(s);
    return { changes: o, selection: e.selection.map(o, 1) };
  } else if (t != 1 && r.some((s) => s.comment >= 0)) {
    let s = [];
    for (let { line: o, comment: l, token: a } of r)
      if (l >= 0) {
        let u = o.from + l,
          c = u + a.length;
        o.text[c - o.from] == " " && c++, s.push({ from: u, to: c });
      }
    return { changes: s };
  }
  return null;
}
const gg = Kr.define(),
  gL = Kr.define(),
  yL = $.define(),
  T_ = $.define({
    combine(t) {
      return Sr(
        t,
        { minDepth: 100, newGroupDelay: 500, joinToEvent: (e, n) => n },
        {
          minDepth: Math.max,
          newGroupDelay: Math.min,
          joinToEvent: (e, n) => (r, i) => e(r, i) || n(r, i),
        }
      );
    },
  }),
  P_ = nt.define({
    create() {
      return dr.empty;
    },
    update(t, e) {
      let n = e.state.facet(T_),
        r = e.annotation(gg);
      if (r) {
        let a = $t.fromTransaction(e, r.selection),
          u = r.side,
          c = u == 0 ? t.undone : t.done;
        return (
          a
            ? (c = Mf(c, c.length, n.minDepth, a))
            : (c = L_(c, e.startState.selection)),
          new dr(u == 0 ? r.rest : c, u == 0 ? c : r.rest)
        );
      }
      let i = e.annotation(gL);
      if (
        ((i == "full" || i == "before") && (t = t.isolate()),
        e.annotation(Je.addToHistory) === !1)
      )
        return e.changes.empty ? t : t.addMapping(e.changes.desc);
      let s = $t.fromTransaction(e),
        o = e.annotation(Je.time),
        l = e.annotation(Je.userEvent);
      return (
        s
          ? (t = t.addChanges(s, o, l, n, e))
          : e.selection &&
            (t = t.addSelection(e.startState.selection, o, l, n.newGroupDelay)),
        (i == "full" || i == "after") && (t = t.isolate()),
        t
      );
    },
    toJSON(t) {
      return {
        done: t.done.map((e) => e.toJSON()),
        undone: t.undone.map((e) => e.toJSON()),
      };
    },
    fromJSON(t) {
      return new dr(t.done.map($t.fromJSON), t.undone.map($t.fromJSON));
    },
  });
function vL(t = {}) {
  return [
    P_,
    T_.of(t),
    B.domEventHandlers({
      beforeinput(e, n) {
        let r =
          e.inputType == "historyUndo"
            ? R_
            : e.inputType == "historyRedo"
              ? yg
              : null;
        return r ? (e.preventDefault(), r(n)) : !1;
      },
    }),
  ];
}
function Lh(t, e) {
  return function ({ state: n, dispatch: r }) {
    if (!e && n.readOnly) return !1;
    let i = n.field(P_, !1);
    if (!i) return !1;
    let s = i.pop(t, n, e);
    return s ? (r(s), !0) : !1;
  };
}
const R_ = Lh(0, !1),
  yg = Lh(1, !1),
  wL = Lh(0, !0),
  bL = Lh(1, !0);
class $t {
  constructor(e, n, r, i, s) {
    (this.changes = e),
      (this.effects = n),
      (this.mapped = r),
      (this.startSelection = i),
      (this.selectionsAfter = s);
  }
  setSelAfter(e) {
    return new $t(
      this.changes,
      this.effects,
      this.mapped,
      this.startSelection,
      e
    );
  }
  toJSON() {
    var e, n, r;
    return {
      changes:
        (e = this.changes) === null || e === void 0 ? void 0 : e.toJSON(),
      mapped: (n = this.mapped) === null || n === void 0 ? void 0 : n.toJSON(),
      startSelection:
        (r = this.startSelection) === null || r === void 0
          ? void 0
          : r.toJSON(),
      selectionsAfter: this.selectionsAfter.map((i) => i.toJSON()),
    };
  }
  static fromJSON(e) {
    return new $t(
      e.changes && Ye.fromJSON(e.changes),
      [],
      e.mapped && br.fromJSON(e.mapped),
      e.startSelection && A.fromJSON(e.startSelection),
      e.selectionsAfter.map(A.fromJSON)
    );
  }
  static fromTransaction(e, n) {
    let r = kn;
    for (let i of e.startState.facet(yL)) {
      let s = i(e);
      s.length && (r = r.concat(s));
    }
    return !r.length && e.changes.empty
      ? null
      : new $t(
          e.changes.invert(e.startState.doc),
          r,
          void 0,
          n || e.startState.selection,
          kn
        );
  }
  static selection(e) {
    return new $t(void 0, kn, void 0, void 0, e);
  }
}
function Mf(t, e, n, r) {
  let i = e + 1 > n + 20 ? e - n - 1 : 0,
    s = t.slice(i, e);
  return s.push(r), s;
}
function xL(t, e) {
  let n = [],
    r = !1;
  return (
    t.iterChangedRanges((i, s) => n.push(i, s)),
    e.iterChangedRanges((i, s, o, l) => {
      for (let a = 0; a < n.length; ) {
        let u = n[a++],
          c = n[a++];
        l >= u && o <= c && (r = !0);
      }
    }),
    r
  );
}
function SL(t, e) {
  return (
    t.ranges.length == e.ranges.length &&
    t.ranges.filter((n, r) => n.empty != e.ranges[r].empty).length === 0
  );
}
function D_(t, e) {
  return t.length ? (e.length ? t.concat(e) : t) : e;
}
const kn = [],
  kL = 200;
function L_(t, e) {
  if (t.length) {
    let n = t[t.length - 1],
      r = n.selectionsAfter.slice(Math.max(0, n.selectionsAfter.length - kL));
    return r.length && r[r.length - 1].eq(e)
      ? t
      : (r.push(e), Mf(t, t.length - 1, 1e9, n.setSelAfter(r)));
  } else return [$t.selection([e])];
}
function CL(t) {
  let e = t[t.length - 1],
    n = t.slice();
  return (
    (n[t.length - 1] = e.setSelAfter(
      e.selectionsAfter.slice(0, e.selectionsAfter.length - 1)
    )),
    n
  );
}
function hp(t, e) {
  if (!t.length) return t;
  let n = t.length,
    r = kn;
  for (; n; ) {
    let i = _L(t[n - 1], e, r);
    if ((i.changes && !i.changes.empty) || i.effects.length) {
      let s = t.slice(0, n);
      return (s[n - 1] = i), s;
    } else (e = i.mapped), n--, (r = i.selectionsAfter);
  }
  return r.length ? [$t.selection(r)] : kn;
}
function _L(t, e, n) {
  let r = D_(
    t.selectionsAfter.length ? t.selectionsAfter.map((l) => l.map(e)) : kn,
    n
  );
  if (!t.changes) return $t.selection(r);
  let i = t.changes.map(e),
    s = e.mapDesc(t.changes, !0),
    o = t.mapped ? t.mapped.composeDesc(s) : s;
  return new $t(i, Y.mapEffects(t.effects, e), o, t.startSelection.map(s), r);
}
const AL = /^(input\.type|delete)($|\.)/;
class dr {
  constructor(e, n, r = 0, i = void 0) {
    (this.done = e),
      (this.undone = n),
      (this.prevTime = r),
      (this.prevUserEvent = i);
  }
  isolate() {
    return this.prevTime ? new dr(this.done, this.undone) : this;
  }
  addChanges(e, n, r, i, s) {
    let o = this.done,
      l = o[o.length - 1];
    return (
      l &&
      l.changes &&
      !l.changes.empty &&
      e.changes &&
      (!r || AL.test(r)) &&
      ((!l.selectionsAfter.length &&
        n - this.prevTime < i.newGroupDelay &&
        i.joinToEvent(s, xL(l.changes, e.changes))) ||
        r == "input.type.compose")
        ? (o = Mf(
            o,
            o.length - 1,
            i.minDepth,
            new $t(
              e.changes.compose(l.changes),
              D_(e.effects, l.effects),
              l.mapped,
              l.startSelection,
              kn
            )
          ))
        : (o = Mf(o, o.length, i.minDepth, e)),
      new dr(o, kn, n, r)
    );
  }
  addSelection(e, n, r, i) {
    let s = this.done.length
      ? this.done[this.done.length - 1].selectionsAfter
      : kn;
    return s.length > 0 &&
      n - this.prevTime < i &&
      r == this.prevUserEvent &&
      r &&
      /^select($|\.)/.test(r) &&
      SL(s[s.length - 1], e)
      ? this
      : new dr(L_(this.done, e), this.undone, n, r);
  }
  addMapping(e) {
    return new dr(
      hp(this.done, e),
      hp(this.undone, e),
      this.prevTime,
      this.prevUserEvent
    );
  }
  pop(e, n, r) {
    let i = e == 0 ? this.done : this.undone;
    if (i.length == 0) return null;
    let s = i[i.length - 1],
      o = s.selectionsAfter[0] || n.selection;
    if (r && s.selectionsAfter.length)
      return n.update({
        selection: s.selectionsAfter[s.selectionsAfter.length - 1],
        annotations: gg.of({ side: e, rest: CL(i), selection: o }),
        userEvent: e == 0 ? "select.undo" : "select.redo",
        scrollIntoView: !0,
      });
    if (s.changes) {
      let l = i.length == 1 ? kn : i.slice(0, i.length - 1);
      return (
        s.mapped && (l = hp(l, s.mapped)),
        n.update({
          changes: s.changes,
          selection: s.startSelection,
          effects: s.effects,
          annotations: gg.of({ side: e, rest: l, selection: o }),
          filter: !1,
          userEvent: e == 0 ? "undo" : "redo",
          scrollIntoView: !0,
        })
      );
    } else return null;
  }
}
dr.empty = new dr(kn, kn);
const OL = [
  { key: "Mod-z", run: R_, preventDefault: !0 },
  { key: "Mod-y", mac: "Mod-Shift-z", run: yg, preventDefault: !0 },
  { linux: "Ctrl-Shift-z", run: yg, preventDefault: !0 },
  { key: "Mod-u", run: wL, preventDefault: !0 },
  { key: "Alt-u", mac: "Mod-Shift-u", run: bL, preventDefault: !0 },
];
function Ho(t, e) {
  return A.create(t.ranges.map(e), t.mainIndex);
}
function kr(t, e) {
  return t.update({ selection: e, scrollIntoView: !0, userEvent: "select" });
}
function Yn({ state: t, dispatch: e }, n) {
  let r = Ho(t.selection, n);
  return r.eq(t.selection, !0) ? !1 : (e(kr(t, r)), !0);
}
function Bh(t, e) {
  return A.cursor(e ? t.to : t.from);
}
function B_(t, e) {
  return Yn(t, (n) => (n.empty ? t.moveByChar(n, e) : Bh(n, e)));
}
function St(t) {
  return t.textDirectionAt(t.state.selection.main.head) == Ce.LTR;
}
const N_ = (t) => B_(t, !St(t)),
  I_ = (t) => B_(t, St(t));
function $_(t, e) {
  return Yn(t, (n) => (n.empty ? t.moveByGroup(n, e) : Bh(n, e)));
}
const EL = (t) => $_(t, !St(t)),
  ML = (t) => $_(t, St(t));
function TL(t, e, n) {
  if (e.type.prop(n)) return !0;
  let r = e.to - e.from;
  return (
    (r && (r > 2 || /[^\s,.;:]/.test(t.sliceDoc(e.from, e.to)))) || e.firstChild
  );
}
function Nh(t, e, n) {
  let r = pt(t).resolveInner(e.head),
    i = n ? ee.closedBy : ee.openedBy;
  for (let a = e.head; ; ) {
    let u = n ? r.childAfter(a) : r.childBefore(a);
    if (!u) break;
    TL(t, u, i) ? (r = u) : (a = n ? u.to : u.from);
  }
  let s = r.type.prop(i),
    o,
    l;
  return (
    s && (o = n ? hr(t, r.from, 1) : hr(t, r.to, -1)) && o.matched
      ? (l = n ? o.end.to : o.end.from)
      : (l = n ? r.to : r.from),
    A.cursor(l, n ? -1 : 1)
  );
}
const PL = (t) => Yn(t, (e) => Nh(t.state, e, !St(t))),
  RL = (t) => Yn(t, (e) => Nh(t.state, e, St(t)));
function F_(t, e) {
  return Yn(t, (n) => {
    if (!n.empty) return Bh(n, e);
    let r = t.moveVertically(n, e);
    return r.head != n.head ? r : t.moveToLineBoundary(n, e);
  });
}
const z_ = (t) => F_(t, !1),
  j_ = (t) => F_(t, !0);
function V_(t) {
  let e = t.scrollDOM.clientHeight < t.scrollDOM.scrollHeight - 2,
    n = 0,
    r = 0,
    i;
  if (e) {
    for (let s of t.state.facet(B.scrollMargins)) {
      let o = s(t);
      o != null && o.top && (n = Math.max(o == null ? void 0 : o.top, n)),
        o != null &&
          o.bottom &&
          (r = Math.max(o == null ? void 0 : o.bottom, r));
    }
    i = t.scrollDOM.clientHeight - n - r;
  } else i = (t.dom.ownerDocument.defaultView || window).innerHeight;
  return {
    marginTop: n,
    marginBottom: r,
    selfScroll: e,
    height: Math.max(t.defaultLineHeight, i - 5),
  };
}
function W_(t, e) {
  let n = V_(t),
    { state: r } = t,
    i = Ho(r.selection, (o) =>
      o.empty ? t.moveVertically(o, e, n.height) : Bh(o, e)
    );
  if (i.eq(r.selection)) return !1;
  let s;
  if (n.selfScroll) {
    let o = t.coordsAtPos(r.selection.main.head),
      l = t.scrollDOM.getBoundingClientRect(),
      a = l.top + n.marginTop,
      u = l.bottom - n.marginBottom;
    o &&
      o.top > a &&
      o.bottom < u &&
      (s = B.scrollIntoView(i.main.head, { y: "start", yMargin: o.top - a }));
  }
  return t.dispatch(kr(r, i), { effects: s }), !0;
}
const Hw = (t) => W_(t, !1),
  vg = (t) => W_(t, !0);
function $i(t, e, n) {
  let r = t.lineBlockAt(e.head),
    i = t.moveToLineBoundary(e, n);
  if (
    (i.head == e.head &&
      i.head != (n ? r.to : r.from) &&
      (i = t.moveToLineBoundary(e, n, !1)),
    !n && i.head == r.from && r.length)
  ) {
    let s = /^\s*/.exec(
      t.state.sliceDoc(r.from, Math.min(r.from + 100, r.to))
    )[0].length;
    s && e.head != r.from + s && (i = A.cursor(r.from + s));
  }
  return i;
}
const DL = (t) => Yn(t, (e) => $i(t, e, !0)),
  LL = (t) => Yn(t, (e) => $i(t, e, !1)),
  BL = (t) => Yn(t, (e) => $i(t, e, !St(t))),
  NL = (t) => Yn(t, (e) => $i(t, e, St(t))),
  IL = (t) => Yn(t, (e) => A.cursor(t.lineBlockAt(e.head).from, 1)),
  $L = (t) => Yn(t, (e) => A.cursor(t.lineBlockAt(e.head).to, -1));
function FL(t, e, n) {
  let r = !1,
    i = Ho(t.selection, (s) => {
      let o =
        hr(t, s.head, -1) ||
        hr(t, s.head, 1) ||
        (s.head > 0 && hr(t, s.head - 1, 1)) ||
        (s.head < t.doc.length && hr(t, s.head + 1, -1));
      if (!o || !o.end) return s;
      r = !0;
      let l = o.start.from == s.head ? o.end.to : o.end.from;
      return n ? A.range(s.anchor, l) : A.cursor(l);
    });
  return r ? (e(kr(t, i)), !0) : !1;
}
const zL = ({ state: t, dispatch: e }) => FL(t, e, !1);
function Pn(t, e) {
  let n = Ho(t.state.selection, (r) => {
    let i = e(r);
    return A.range(r.anchor, i.head, i.goalColumn, i.bidiLevel || void 0);
  });
  return n.eq(t.state.selection) ? !1 : (t.dispatch(kr(t.state, n)), !0);
}
function H_(t, e) {
  return Pn(t, (n) => t.moveByChar(n, e));
}
const U_ = (t) => H_(t, !St(t)),
  K_ = (t) => H_(t, St(t));
function q_(t, e) {
  return Pn(t, (n) => t.moveByGroup(n, e));
}
const jL = (t) => q_(t, !St(t)),
  VL = (t) => q_(t, St(t)),
  WL = (t) => Pn(t, (e) => Nh(t.state, e, !St(t))),
  HL = (t) => Pn(t, (e) => Nh(t.state, e, St(t)));
function G_(t, e) {
  return Pn(t, (n) => t.moveVertically(n, e));
}
const Y_ = (t) => G_(t, !1),
  X_ = (t) => G_(t, !0);
function Q_(t, e) {
  return Pn(t, (n) => t.moveVertically(n, e, V_(t).height));
}
const Uw = (t) => Q_(t, !1),
  Kw = (t) => Q_(t, !0),
  UL = (t) => Pn(t, (e) => $i(t, e, !0)),
  KL = (t) => Pn(t, (e) => $i(t, e, !1)),
  qL = (t) => Pn(t, (e) => $i(t, e, !St(t))),
  GL = (t) => Pn(t, (e) => $i(t, e, St(t))),
  YL = (t) => Pn(t, (e) => A.cursor(t.lineBlockAt(e.head).from)),
  XL = (t) => Pn(t, (e) => A.cursor(t.lineBlockAt(e.head).to)),
  qw = ({ state: t, dispatch: e }) => (e(kr(t, { anchor: 0 })), !0),
  Gw = ({ state: t, dispatch: e }) => (e(kr(t, { anchor: t.doc.length })), !0),
  Yw = ({ state: t, dispatch: e }) => (
    e(kr(t, { anchor: t.selection.main.anchor, head: 0 })), !0
  ),
  Xw = ({ state: t, dispatch: e }) => (
    e(kr(t, { anchor: t.selection.main.anchor, head: t.doc.length })), !0
  ),
  QL = ({ state: t, dispatch: e }) => (
    e(
      t.update({
        selection: { anchor: 0, head: t.doc.length },
        userEvent: "select",
      })
    ),
    !0
  ),
  JL = ({ state: t, dispatch: e }) => {
    let n = Ih(t).map(({ from: r, to: i }) =>
      A.range(r, Math.min(i + 1, t.doc.length))
    );
    return e(t.update({ selection: A.create(n), userEvent: "select" })), !0;
  },
  ZL = ({ state: t, dispatch: e }) => {
    let n = Ho(t.selection, (r) => {
      var i;
      let s = pt(t).resolveStack(r.from, 1);
      for (let o = s; o; o = o.next) {
        let { node: l } = o;
        if (
          ((l.from < r.from && l.to >= r.to) ||
            (l.to > r.to && l.from <= r.from)) &&
          !((i = l.parent) === null || i === void 0) &&
          i.parent
        )
          return A.range(l.to, l.from);
      }
      return r;
    });
    return e(kr(t, n)), !0;
  },
  e8 = ({ state: t, dispatch: e }) => {
    let n = t.selection,
      r = null;
    return (
      n.ranges.length > 1
        ? (r = A.create([n.main]))
        : n.main.empty || (r = A.create([A.cursor(n.main.head)])),
      r ? (e(kr(t, r)), !0) : !1
    );
  };
function su(t, e) {
  if (t.state.readOnly) return !1;
  let n = "delete.selection",
    { state: r } = t,
    i = r.changeByRange((s) => {
      let { from: o, to: l } = s;
      if (o == l) {
        let a = e(s);
        a < o
          ? ((n = "delete.backward"), (a = ec(t, a, !1)))
          : a > o && ((n = "delete.forward"), (a = ec(t, a, !0))),
          (o = Math.min(o, a)),
          (l = Math.max(l, a));
      } else (o = ec(t, o, !1)), (l = ec(t, l, !0));
      return o == l
        ? { range: s }
        : {
            changes: { from: o, to: l },
            range: A.cursor(o, o < s.head ? -1 : 1),
          };
    });
  return i.changes.empty
    ? !1
    : (t.dispatch(
        r.update(i, {
          scrollIntoView: !0,
          userEvent: n,
          effects:
            n == "delete.selection"
              ? B.announce.of(r.phrase("Selection deleted"))
              : void 0,
        })
      ),
      !0);
}
function ec(t, e, n) {
  if (t instanceof B)
    for (let r of t.state.facet(B.atomicRanges).map((i) => i(t)))
      r.between(e, e, (i, s) => {
        i < e && s > e && (e = n ? s : i);
      });
  return e;
}
const J_ = (t, e, n) =>
    su(t, (r) => {
      let i = r.from,
        { state: s } = t,
        o = s.doc.lineAt(i),
        l,
        a;
      if (
        n &&
        !e &&
        i > o.from &&
        i < o.from + 200 &&
        !/[^ \t]/.test((l = o.text.slice(0, i - o.from)))
      ) {
        if (l[l.length - 1] == "	") return i - 1;
        let u = Wo(l, s.tabSize),
          c = u % ps(s) || ps(s);
        for (let f = 0; f < c && l[l.length - 1 - f] == " "; f++) i--;
        a = i;
      } else
        (a = ft(o.text, i - o.from, e, e) + o.from),
          a == i && o.number != (e ? s.doc.lines : 1)
            ? (a += e ? 1 : -1)
            : !e &&
              /[\ufe00-\ufe0f]/.test(o.text.slice(a - o.from, i - o.from)) &&
              (a = ft(o.text, a - o.from, !1, !1) + o.from);
      return a;
    }),
  wg = (t) => J_(t, !1, !0),
  Z_ = (t) => J_(t, !0, !1),
  eA = (t, e) =>
    su(t, (n) => {
      let r = n.head,
        { state: i } = t,
        s = i.doc.lineAt(r),
        o = i.charCategorizer(r);
      for (let l = null; ; ) {
        if (r == (e ? s.to : s.from)) {
          r == n.head && s.number != (e ? i.doc.lines : 1) && (r += e ? 1 : -1);
          break;
        }
        let a = ft(s.text, r - s.from, e) + s.from,
          u = s.text.slice(Math.min(r, a) - s.from, Math.max(r, a) - s.from),
          c = o(u);
        if (l != null && c != l) break;
        (u != " " || r != n.head) && (l = c), (r = a);
      }
      return r;
    }),
  tA = (t) => eA(t, !1),
  t8 = (t) => eA(t, !0),
  n8 = (t) =>
    su(t, (e) => {
      let n = t.lineBlockAt(e.head).to;
      return e.head < n ? n : Math.min(t.state.doc.length, e.head + 1);
    }),
  r8 = (t) =>
    su(t, (e) => {
      let n = t.moveToLineBoundary(e, !1).head;
      return e.head > n ? n : Math.max(0, e.head - 1);
    }),
  i8 = (t) =>
    su(t, (e) => {
      let n = t.moveToLineBoundary(e, !0).head;
      return e.head < n ? n : Math.min(t.state.doc.length, e.head + 1);
    }),
  s8 = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let n = t.changeByRange((r) => ({
      changes: { from: r.from, to: r.to, insert: ce.of(["", ""]) },
      range: A.cursor(r.from),
    }));
    return e(t.update(n, { scrollIntoView: !0, userEvent: "input" })), !0;
  },
  o8 = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let n = t.changeByRange((r) => {
      if (!r.empty || r.from == 0 || r.from == t.doc.length)
        return { range: r };
      let i = r.from,
        s = t.doc.lineAt(i),
        o = i == s.from ? i - 1 : ft(s.text, i - s.from, !1) + s.from,
        l = i == s.to ? i + 1 : ft(s.text, i - s.from, !0) + s.from;
      return {
        changes: {
          from: o,
          to: l,
          insert: t.doc.slice(i, l).append(t.doc.slice(o, i)),
        },
        range: A.cursor(l),
      };
    });
    return n.changes.empty
      ? !1
      : (e(t.update(n, { scrollIntoView: !0, userEvent: "move.character" })),
        !0);
  };
function Ih(t) {
  let e = [],
    n = -1;
  for (let r of t.selection.ranges) {
    let i = t.doc.lineAt(r.from),
      s = t.doc.lineAt(r.to);
    if (
      (!r.empty && r.to == s.from && (s = t.doc.lineAt(r.to - 1)),
      n >= i.number)
    ) {
      let o = e[e.length - 1];
      (o.to = s.to), o.ranges.push(r);
    } else e.push({ from: i.from, to: s.to, ranges: [r] });
    n = s.number + 1;
  }
  return e;
}
function nA(t, e, n) {
  if (t.readOnly) return !1;
  let r = [],
    i = [];
  for (let s of Ih(t)) {
    if (n ? s.to == t.doc.length : s.from == 0) continue;
    let o = t.doc.lineAt(n ? s.to + 1 : s.from - 1),
      l = o.length + 1;
    if (n) {
      r.push(
        { from: s.to, to: o.to },
        { from: s.from, insert: o.text + t.lineBreak }
      );
      for (let a of s.ranges)
        i.push(
          A.range(
            Math.min(t.doc.length, a.anchor + l),
            Math.min(t.doc.length, a.head + l)
          )
        );
    } else {
      r.push(
        { from: o.from, to: s.from },
        { from: s.to, insert: t.lineBreak + o.text }
      );
      for (let a of s.ranges) i.push(A.range(a.anchor - l, a.head - l));
    }
  }
  return r.length
    ? (e(
        t.update({
          changes: r,
          scrollIntoView: !0,
          selection: A.create(i, t.selection.mainIndex),
          userEvent: "move.line",
        })
      ),
      !0)
    : !1;
}
const l8 = ({ state: t, dispatch: e }) => nA(t, e, !1),
  a8 = ({ state: t, dispatch: e }) => nA(t, e, !0);
function rA(t, e, n) {
  if (t.readOnly) return !1;
  let r = [];
  for (let i of Ih(t))
    n
      ? r.push({
          from: i.from,
          insert: t.doc.slice(i.from, i.to) + t.lineBreak,
        })
      : r.push({ from: i.to, insert: t.lineBreak + t.doc.slice(i.from, i.to) });
  return (
    e(
      t.update({ changes: r, scrollIntoView: !0, userEvent: "input.copyline" })
    ),
    !0
  );
}
const u8 = ({ state: t, dispatch: e }) => rA(t, e, !1),
  c8 = ({ state: t, dispatch: e }) => rA(t, e, !0),
  f8 = (t) => {
    if (t.state.readOnly) return !1;
    let { state: e } = t,
      n = e.changes(
        Ih(e).map(
          ({ from: i, to: s }) => (
            i > 0 ? i-- : s < e.doc.length && s++, { from: i, to: s }
          )
        )
      ),
      r = Ho(e.selection, (i) => {
        let s;
        if (t.lineWrapping) {
          let o = t.lineBlockAt(i.head),
            l = t.coordsAtPos(i.head, i.assoc || 1);
          l &&
            (s = o.bottom + t.documentTop - l.bottom + t.defaultLineHeight / 2);
        }
        return t.moveVertically(i, !0, s);
      }).map(n);
    return (
      t.dispatch({
        changes: n,
        selection: r,
        scrollIntoView: !0,
        userEvent: "delete.line",
      }),
      !0
    );
  };
function h8(t, e) {
  if (/\(\)|\[\]|\{\}/.test(t.sliceDoc(e - 1, e + 1)))
    return { from: e, to: e };
  let n = pt(t).resolveInner(e),
    r = n.childBefore(e),
    i = n.childAfter(e),
    s;
  return r &&
    i &&
    r.to <= e &&
    i.from >= e &&
    (s = r.type.prop(ee.closedBy)) &&
    s.indexOf(i.name) > -1 &&
    t.doc.lineAt(r.to).from == t.doc.lineAt(i.from).from &&
    !/\S/.test(t.sliceDoc(r.to, i.from))
    ? { from: r.to, to: i.from }
    : null;
}
const d8 = iA(!1),
  p8 = iA(!0);
function iA(t) {
  return ({ state: e, dispatch: n }) => {
    if (e.readOnly) return !1;
    let r = e.changeByRange((i) => {
      let { from: s, to: o } = i,
        l = e.doc.lineAt(s),
        a = !t && s == o && h8(e, s);
      t && (s = o = (o <= l.to ? l : e.doc.lineAt(o)).to);
      let u = new Th(e, { simulateBreak: s, simulateDoubleBreak: !!a }),
        c = ay(u, s);
      for (
        c == null && (c = Wo(/^\s*/.exec(e.doc.lineAt(s).text)[0], e.tabSize));
        o < l.to && /\s/.test(l.text[o - l.from]);

      )
        o++;
      a
        ? ({ from: s, to: o } = a)
        : s > l.from &&
          s < l.from + 100 &&
          !/\S/.test(l.text.slice(0, s)) &&
          (s = l.from);
      let f = ["", va(e, c)];
      return (
        a && f.push(va(e, u.lineIndent(l.from, -1))),
        {
          changes: { from: s, to: o, insert: ce.of(f) },
          range: A.cursor(s + 1 + f[1].length),
        }
      );
    });
    return n(e.update(r, { scrollIntoView: !0, userEvent: "input" })), !0;
  };
}
function my(t, e) {
  let n = -1;
  return t.changeByRange((r) => {
    let i = [];
    for (let o = r.from; o <= r.to; ) {
      let l = t.doc.lineAt(o);
      l.number > n &&
        (r.empty || r.to > l.from) &&
        (e(l, i, r), (n = l.number)),
        (o = l.to + 1);
    }
    let s = t.changes(i);
    return {
      changes: i,
      range: A.range(s.mapPos(r.anchor, 1), s.mapPos(r.head, 1)),
    };
  });
}
const m8 = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let n = Object.create(null),
      r = new Th(t, {
        overrideIndentation: (s) => {
          let o = n[s];
          return o ?? -1;
        },
      }),
      i = my(t, (s, o, l) => {
        let a = ay(r, s.from);
        if (a == null) return;
        /\S/.test(s.text) || (a = 0);
        let u = /^\s*/.exec(s.text)[0],
          c = va(t, a);
        (u != c || l.from < s.from + u.length) &&
          ((n[s.from] = a),
          o.push({ from: s.from, to: s.from + u.length, insert: c }));
      });
    return i.changes.empty || e(t.update(i, { userEvent: "indent" })), !0;
  },
  g8 = ({ state: t, dispatch: e }) =>
    t.readOnly
      ? !1
      : (e(
          t.update(
            my(t, (n, r) => {
              r.push({ from: n.from, insert: t.facet(ly) });
            }),
            { userEvent: "input.indent" }
          )
        ),
        !0),
  y8 = ({ state: t, dispatch: e }) =>
    t.readOnly
      ? !1
      : (e(
          t.update(
            my(t, (n, r) => {
              let i = /^\s*/.exec(n.text)[0];
              if (!i) return;
              let s = Wo(i, t.tabSize),
                o = 0,
                l = va(t, Math.max(0, s - ps(t)));
              for (
                ;
                o < i.length &&
                o < l.length &&
                i.charCodeAt(o) == l.charCodeAt(o);

              )
                o++;
              r.push({
                from: n.from + o,
                to: n.from + i.length,
                insert: l.slice(o),
              });
            }),
            { userEvent: "delete.dedent" }
          )
        ),
        !0),
  v8 = [
    { key: "Ctrl-b", run: N_, shift: U_, preventDefault: !0 },
    { key: "Ctrl-f", run: I_, shift: K_ },
    { key: "Ctrl-p", run: z_, shift: Y_ },
    { key: "Ctrl-n", run: j_, shift: X_ },
    { key: "Ctrl-a", run: IL, shift: YL },
    { key: "Ctrl-e", run: $L, shift: XL },
    { key: "Ctrl-d", run: Z_ },
    { key: "Ctrl-h", run: wg },
    { key: "Ctrl-k", run: n8 },
    { key: "Ctrl-Alt-h", run: tA },
    { key: "Ctrl-o", run: s8 },
    { key: "Ctrl-t", run: o8 },
    { key: "Ctrl-v", run: vg },
  ],
  w8 = [
    { key: "ArrowLeft", run: N_, shift: U_, preventDefault: !0 },
    {
      key: "Mod-ArrowLeft",
      mac: "Alt-ArrowLeft",
      run: EL,
      shift: jL,
      preventDefault: !0,
    },
    { mac: "Cmd-ArrowLeft", run: BL, shift: qL, preventDefault: !0 },
    { key: "ArrowRight", run: I_, shift: K_, preventDefault: !0 },
    {
      key: "Mod-ArrowRight",
      mac: "Alt-ArrowRight",
      run: ML,
      shift: VL,
      preventDefault: !0,
    },
    { mac: "Cmd-ArrowRight", run: NL, shift: GL, preventDefault: !0 },
    { key: "ArrowUp", run: z_, shift: Y_, preventDefault: !0 },
    { mac: "Cmd-ArrowUp", run: qw, shift: Yw },
    { mac: "Ctrl-ArrowUp", run: Hw, shift: Uw },
    { key: "ArrowDown", run: j_, shift: X_, preventDefault: !0 },
    { mac: "Cmd-ArrowDown", run: Gw, shift: Xw },
    { mac: "Ctrl-ArrowDown", run: vg, shift: Kw },
    { key: "PageUp", run: Hw, shift: Uw },
    { key: "PageDown", run: vg, shift: Kw },
    { key: "Home", run: LL, shift: KL, preventDefault: !0 },
    { key: "Mod-Home", run: qw, shift: Yw },
    { key: "End", run: DL, shift: UL, preventDefault: !0 },
    { key: "Mod-End", run: Gw, shift: Xw },
    { key: "Enter", run: d8 },
    { key: "Mod-a", run: QL },
    { key: "Backspace", run: wg, shift: wg },
    { key: "Delete", run: Z_ },
    { key: "Mod-Backspace", mac: "Alt-Backspace", run: tA },
    { key: "Mod-Delete", mac: "Alt-Delete", run: t8 },
    { mac: "Mod-Backspace", run: r8 },
    { mac: "Mod-Delete", run: i8 },
  ].concat(v8.map((t) => ({ mac: t.key, run: t.run, shift: t.shift }))),
  b8 = [
    { key: "Alt-ArrowLeft", mac: "Ctrl-ArrowLeft", run: PL, shift: WL },
    { key: "Alt-ArrowRight", mac: "Ctrl-ArrowRight", run: RL, shift: HL },
    { key: "Alt-ArrowUp", run: l8 },
    { key: "Shift-Alt-ArrowUp", run: u8 },
    { key: "Alt-ArrowDown", run: a8 },
    { key: "Shift-Alt-ArrowDown", run: c8 },
    { key: "Escape", run: e8 },
    { key: "Mod-Enter", run: p8 },
    { key: "Alt-l", mac: "Ctrl-l", run: JL },
    { key: "Mod-i", run: ZL, preventDefault: !0 },
    { key: "Mod-[", run: y8 },
    { key: "Mod-]", run: g8 },
    { key: "Mod-Alt-\\", run: m8 },
    { key: "Shift-Mod-k", run: f8 },
    { key: "Shift-Mod-\\", run: zL },
    { key: "Mod-/", run: uL },
    { key: "Alt-A", run: fL },
  ].concat(w8);
function ve() {
  var t = arguments[0];
  typeof t == "string" && (t = document.createElement(t));
  var e = 1,
    n = arguments[1];
  if (n && typeof n == "object" && n.nodeType == null && !Array.isArray(n)) {
    for (var r in n)
      if (Object.prototype.hasOwnProperty.call(n, r)) {
        var i = n[r];
        typeof i == "string" ? t.setAttribute(r, i) : i != null && (t[r] = i);
      }
    e++;
  }
  for (; e < arguments.length; e++) sA(t, arguments[e]);
  return t;
}
function sA(t, e) {
  if (typeof e == "string") t.appendChild(document.createTextNode(e));
  else if (e != null)
    if (e.nodeType != null) t.appendChild(e);
    else if (Array.isArray(e)) for (var n = 0; n < e.length; n++) sA(t, e[n]);
    else throw new RangeError("Unsupported child node: " + e);
}
const Qw =
  typeof String.prototype.normalize == "function"
    ? (t) => t.normalize("NFKD")
    : (t) => t;
class Lo {
  constructor(e, n, r = 0, i = e.length, s, o) {
    (this.test = o),
      (this.value = { from: 0, to: 0 }),
      (this.done = !1),
      (this.matches = []),
      (this.buffer = ""),
      (this.bufferPos = 0),
      (this.iter = e.iterRange(r, i)),
      (this.bufferStart = r),
      (this.normalize = s ? (l) => s(Qw(l)) : Qw),
      (this.query = this.normalize(n));
  }
  peek() {
    if (this.bufferPos == this.buffer.length) {
      if (
        ((this.bufferStart += this.buffer.length),
        this.iter.next(),
        this.iter.done)
      )
        return -1;
      (this.bufferPos = 0), (this.buffer = this.iter.value);
    }
    return at(this.buffer, this.bufferPos);
  }
  next() {
    for (; this.matches.length; ) this.matches.pop();
    return this.nextOverlapping();
  }
  nextOverlapping() {
    for (;;) {
      let e = this.peek();
      if (e < 0) return (this.done = !0), this;
      let n = q0(e),
        r = this.bufferStart + this.bufferPos;
      this.bufferPos += vn(e);
      let i = this.normalize(n);
      for (let s = 0, o = r; ; s++) {
        let l = i.charCodeAt(s),
          a = this.match(l, o, this.bufferPos + this.bufferStart);
        if (s == i.length - 1) {
          if (a) return (this.value = a), this;
          break;
        }
        o == r && s < n.length && n.charCodeAt(s) == l && o++;
      }
    }
  }
  match(e, n, r) {
    let i = null;
    for (let s = 0; s < this.matches.length; s += 2) {
      let o = this.matches[s],
        l = !1;
      this.query.charCodeAt(o) == e &&
        (o == this.query.length - 1
          ? (i = { from: this.matches[s + 1], to: r })
          : (this.matches[s]++, (l = !0))),
        l || (this.matches.splice(s, 2), (s -= 2));
    }
    return (
      this.query.charCodeAt(0) == e &&
        (this.query.length == 1
          ? (i = { from: n, to: r })
          : this.matches.push(1, n)),
      i &&
        this.test &&
        !this.test(i.from, i.to, this.buffer, this.bufferStart) &&
        (i = null),
      i
    );
  }
}
typeof Symbol < "u" &&
  (Lo.prototype[Symbol.iterator] = function () {
    return this;
  });
const oA = { from: -1, to: -1, match: /.*/.exec("") },
  gy = "gm" + (/x/.unicode == null ? "" : "u");
class lA {
  constructor(e, n, r, i = 0, s = e.length) {
    if (
      ((this.text = e),
      (this.to = s),
      (this.curLine = ""),
      (this.done = !1),
      (this.value = oA),
      /\\[sWDnr]|\n|\r|\[\^/.test(n))
    )
      return new aA(e, n, r, i, s);
    (this.re = new RegExp(n, gy + (r != null && r.ignoreCase ? "i" : ""))),
      (this.test = r == null ? void 0 : r.test),
      (this.iter = e.iter());
    let o = e.lineAt(i);
    (this.curLineStart = o.from),
      (this.matchPos = Tf(e, i)),
      this.getLine(this.curLineStart);
  }
  getLine(e) {
    this.iter.next(e),
      this.iter.lineBreak
        ? (this.curLine = "")
        : ((this.curLine = this.iter.value),
          this.curLineStart + this.curLine.length > this.to &&
            (this.curLine = this.curLine.slice(0, this.to - this.curLineStart)),
          this.iter.next());
  }
  nextLine() {
    (this.curLineStart = this.curLineStart + this.curLine.length + 1),
      this.curLineStart > this.to ? (this.curLine = "") : this.getLine(0);
  }
  next() {
    for (let e = this.matchPos - this.curLineStart; ; ) {
      this.re.lastIndex = e;
      let n = this.matchPos <= this.to && this.re.exec(this.curLine);
      if (n) {
        let r = this.curLineStart + n.index,
          i = r + n[0].length;
        if (
          ((this.matchPos = Tf(this.text, i + (r == i ? 1 : 0))),
          r == this.curLineStart + this.curLine.length && this.nextLine(),
          (r < i || r > this.value.to) && (!this.test || this.test(r, i, n)))
        )
          return (this.value = { from: r, to: i, match: n }), this;
        e = this.matchPos - this.curLineStart;
      } else if (this.curLineStart + this.curLine.length < this.to)
        this.nextLine(), (e = 0);
      else return (this.done = !0), this;
    }
  }
}
const dp = new WeakMap();
class co {
  constructor(e, n) {
    (this.from = e), (this.text = n);
  }
  get to() {
    return this.from + this.text.length;
  }
  static get(e, n, r) {
    let i = dp.get(e);
    if (!i || i.from >= r || i.to <= n) {
      let l = new co(n, e.sliceString(n, r));
      return dp.set(e, l), l;
    }
    if (i.from == n && i.to == r) return i;
    let { text: s, from: o } = i;
    return (
      o > n && ((s = e.sliceString(n, o) + s), (o = n)),
      i.to < r && (s += e.sliceString(i.to, r)),
      dp.set(e, new co(o, s)),
      new co(n, s.slice(n - o, r - o))
    );
  }
}
class aA {
  constructor(e, n, r, i, s) {
    (this.text = e),
      (this.to = s),
      (this.done = !1),
      (this.value = oA),
      (this.matchPos = Tf(e, i)),
      (this.re = new RegExp(n, gy + (r != null && r.ignoreCase ? "i" : ""))),
      (this.test = r == null ? void 0 : r.test),
      (this.flat = co.get(e, i, this.chunkEnd(i + 5e3)));
  }
  chunkEnd(e) {
    return e >= this.to ? this.to : this.text.lineAt(e).to;
  }
  next() {
    for (;;) {
      let e = (this.re.lastIndex = this.matchPos - this.flat.from),
        n = this.re.exec(this.flat.text);
      if (
        (n &&
          !n[0] &&
          n.index == e &&
          ((this.re.lastIndex = e + 1), (n = this.re.exec(this.flat.text))),
        n)
      ) {
        let r = this.flat.from + n.index,
          i = r + n[0].length;
        if (
          (this.flat.to >= this.to ||
            n.index + n[0].length <= this.flat.text.length - 10) &&
          (!this.test || this.test(r, i, n))
        )
          return (
            (this.value = { from: r, to: i, match: n }),
            (this.matchPos = Tf(this.text, i + (r == i ? 1 : 0))),
            this
          );
      }
      if (this.flat.to == this.to) return (this.done = !0), this;
      this.flat = co.get(
        this.text,
        this.flat.from,
        this.chunkEnd(this.flat.from + this.flat.text.length * 2)
      );
    }
  }
}
typeof Symbol < "u" &&
  (lA.prototype[Symbol.iterator] = aA.prototype[Symbol.iterator] =
    function () {
      return this;
    });
function x8(t) {
  try {
    return new RegExp(t, gy), !0;
  } catch {
    return !1;
  }
}
function Tf(t, e) {
  if (e >= t.length) return e;
  let n = t.lineAt(e),
    r;
  for (
    ;
    e < n.to && (r = n.text.charCodeAt(e - n.from)) >= 56320 && r < 57344;

  )
    e++;
  return e;
}
function bg(t) {
  let e = String(t.state.doc.lineAt(t.state.selection.main.head).number),
    n = ve("input", { class: "cm-textfield", name: "line", value: e }),
    r = ve(
      "form",
      {
        class: "cm-gotoLine",
        onkeydown: (s) => {
          s.keyCode == 27
            ? (s.preventDefault(),
              t.dispatch({ effects: Pf.of(!1) }),
              t.focus())
            : s.keyCode == 13 && (s.preventDefault(), i());
        },
        onsubmit: (s) => {
          s.preventDefault(), i();
        },
      },
      ve("label", t.state.phrase("Go to line"), ": ", n),
      " ",
      ve("button", { class: "cm-button", type: "submit" }, t.state.phrase("go"))
    );
  function i() {
    let s = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);
    if (!s) return;
    let { state: o } = t,
      l = o.doc.lineAt(o.selection.main.head),
      [, a, u, c, f] = s,
      h = c ? +c.slice(1) : 0,
      d = u ? +u : l.number;
    if (u && f) {
      let w = d / 100;
      a && (w = w * (a == "-" ? -1 : 1) + l.number / o.doc.lines),
        (d = Math.round(o.doc.lines * w));
    } else u && a && (d = d * (a == "-" ? -1 : 1) + l.number);
    let p = o.doc.line(Math.max(1, Math.min(o.doc.lines, d))),
      m = A.cursor(p.from + Math.max(0, Math.min(h, p.length)));
    t.dispatch({
      effects: [Pf.of(!1), B.scrollIntoView(m.from, { y: "center" })],
      selection: m,
    }),
      t.focus();
  }
  return { dom: r };
}
const Pf = Y.define(),
  Jw = nt.define({
    create() {
      return !0;
    },
    update(t, e) {
      for (let n of e.effects) n.is(Pf) && (t = n.value);
      return t;
    },
    provide: (t) => ya.from(t, (e) => (e ? bg : null)),
  }),
  S8 = (t) => {
    let e = ga(t, bg);
    if (!e) {
      let n = [Pf.of(!0)];
      t.state.field(Jw, !1) == null && n.push(Y.appendConfig.of([Jw, k8])),
        t.dispatch({ effects: n }),
        (e = ga(t, bg));
    }
    return e && e.dom.querySelector("input").select(), !0;
  },
  k8 = B.baseTheme({
    ".cm-panel.cm-gotoLine": {
      padding: "2px 6px 4px",
      "& label": { fontSize: "80%" },
    },
  }),
  C8 = {
    highlightWordAroundCursor: !1,
    minSelectionLength: 1,
    maxMatches: 100,
    wholeWords: !1,
  },
  uA = $.define({
    combine(t) {
      return Sr(t, C8, {
        highlightWordAroundCursor: (e, n) => e || n,
        minSelectionLength: Math.min,
        maxMatches: Math.min,
      });
    },
  });
function _8(t) {
  let e = [T8, M8];
  return t && e.push(uA.of(t)), e;
}
const A8 = U.mark({ class: "cm-selectionMatch" }),
  O8 = U.mark({ class: "cm-selectionMatch cm-selectionMatch-main" });
function Zw(t, e, n, r) {
  return (
    (n == 0 || t(e.sliceDoc(n - 1, n)) != Oe.Word) &&
    (r == e.doc.length || t(e.sliceDoc(r, r + 1)) != Oe.Word)
  );
}
function E8(t, e, n, r) {
  return (
    t(e.sliceDoc(n, n + 1)) == Oe.Word && t(e.sliceDoc(r - 1, r)) == Oe.Word
  );
}
const M8 = je.fromClass(
    class {
      constructor(t) {
        this.decorations = this.getDeco(t);
      }
      update(t) {
        (t.selectionSet || t.docChanged || t.viewportChanged) &&
          (this.decorations = this.getDeco(t.view));
      }
      getDeco(t) {
        let e = t.state.facet(uA),
          { state: n } = t,
          r = n.selection;
        if (r.ranges.length > 1) return U.none;
        let i = r.main,
          s,
          o = null;
        if (i.empty) {
          if (!e.highlightWordAroundCursor) return U.none;
          let a = n.wordAt(i.head);
          if (!a) return U.none;
          (o = n.charCategorizer(i.head)), (s = n.sliceDoc(a.from, a.to));
        } else {
          let a = i.to - i.from;
          if (a < e.minSelectionLength || a > 200) return U.none;
          if (e.wholeWords) {
            if (
              ((s = n.sliceDoc(i.from, i.to)),
              (o = n.charCategorizer(i.head)),
              !(Zw(o, n, i.from, i.to) && E8(o, n, i.from, i.to)))
            )
              return U.none;
          } else if (((s = n.sliceDoc(i.from, i.to)), !s)) return U.none;
        }
        let l = [];
        for (let a of t.visibleRanges) {
          let u = new Lo(n.doc, s, a.from, a.to);
          for (; !u.next().done; ) {
            let { from: c, to: f } = u.value;
            if (
              (!o || Zw(o, n, c, f)) &&
              (i.empty && c <= i.from && f >= i.to
                ? l.push(O8.range(c, f))
                : (c >= i.to || f <= i.from) && l.push(A8.range(c, f)),
              l.length > e.maxMatches)
            )
              return U.none;
          }
        }
        return U.set(l);
      }
    },
    { decorations: (t) => t.decorations }
  ),
  T8 = B.baseTheme({
    ".cm-selectionMatch": { backgroundColor: "#99ff7780" },
    ".cm-searchMatch .cm-selectionMatch": { backgroundColor: "transparent" },
  }),
  P8 = ({ state: t, dispatch: e }) => {
    let { selection: n } = t,
      r = A.create(
        n.ranges.map((i) => t.wordAt(i.head) || A.cursor(i.head)),
        n.mainIndex
      );
    return r.eq(n) ? !1 : (e(t.update({ selection: r })), !0);
  };
function R8(t, e) {
  let { main: n, ranges: r } = t.selection,
    i = t.wordAt(n.head),
    s = i && i.from == n.from && i.to == n.to;
  for (let o = !1, l = new Lo(t.doc, e, r[r.length - 1].to); ; )
    if ((l.next(), l.done)) {
      if (o) return null;
      (l = new Lo(t.doc, e, 0, Math.max(0, r[r.length - 1].from - 1))),
        (o = !0);
    } else {
      if (o && r.some((a) => a.from == l.value.from)) continue;
      if (s) {
        let a = t.wordAt(l.value.from);
        if (!a || a.from != l.value.from || a.to != l.value.to) continue;
      }
      return l.value;
    }
}
const D8 = ({ state: t, dispatch: e }) => {
    let { ranges: n } = t.selection;
    if (n.some((s) => s.from === s.to)) return P8({ state: t, dispatch: e });
    let r = t.sliceDoc(n[0].from, n[0].to);
    if (t.selection.ranges.some((s) => t.sliceDoc(s.from, s.to) != r))
      return !1;
    let i = R8(t, r);
    return i
      ? (e(
          t.update({
            selection: t.selection.addRange(A.range(i.from, i.to), !1),
            effects: B.scrollIntoView(i.to),
          })
        ),
        !0)
      : !1;
  },
  Uo = $.define({
    combine(t) {
      return Sr(t, {
        top: !1,
        caseSensitive: !1,
        literal: !1,
        regexp: !1,
        wholeWord: !1,
        createPanel: (e) => new U8(e),
        scrollToMatch: (e) => B.scrollIntoView(e),
      });
    },
  });
class cA {
  constructor(e) {
    (this.search = e.search),
      (this.caseSensitive = !!e.caseSensitive),
      (this.literal = !!e.literal),
      (this.regexp = !!e.regexp),
      (this.replace = e.replace || ""),
      (this.valid = !!this.search && (!this.regexp || x8(this.search))),
      (this.unquoted = this.unquote(this.search)),
      (this.wholeWord = !!e.wholeWord);
  }
  unquote(e) {
    return this.literal
      ? e
      : e.replace(/\\([nrt\\])/g, (n, r) =>
          r == "n"
            ? `
`
            : r == "r"
              ? "\r"
              : r == "t"
                ? "	"
                : "\\"
        );
  }
  eq(e) {
    return (
      this.search == e.search &&
      this.replace == e.replace &&
      this.caseSensitive == e.caseSensitive &&
      this.regexp == e.regexp &&
      this.wholeWord == e.wholeWord
    );
  }
  create() {
    return this.regexp ? new I8(this) : new B8(this);
  }
  getCursor(e, n = 0, r) {
    let i = e.doc ? e : Z.create({ doc: e });
    return (
      r == null && (r = i.doc.length),
      this.regexp ? Bs(this, i, n, r) : Ls(this, i, n, r)
    );
  }
}
class fA {
  constructor(e) {
    this.spec = e;
  }
}
function Ls(t, e, n, r) {
  return new Lo(
    e.doc,
    t.unquoted,
    n,
    r,
    t.caseSensitive ? void 0 : (i) => i.toLowerCase(),
    t.wholeWord ? L8(e.doc, e.charCategorizer(e.selection.main.head)) : void 0
  );
}
function L8(t, e) {
  return (n, r, i, s) => (
    (s > n || s + i.length < r) &&
      ((s = Math.max(0, n - 2)),
      (i = t.sliceString(s, Math.min(t.length, r + 2)))),
    (e(Rf(i, n - s)) != Oe.Word || e(Df(i, n - s)) != Oe.Word) &&
      (e(Df(i, r - s)) != Oe.Word || e(Rf(i, r - s)) != Oe.Word)
  );
}
class B8 extends fA {
  constructor(e) {
    super(e);
  }
  nextMatch(e, n, r) {
    let i = Ls(this.spec, e, r, e.doc.length).nextOverlapping();
    return (
      i.done && (i = Ls(this.spec, e, 0, n).nextOverlapping()),
      i.done ? null : i.value
    );
  }
  prevMatchInRange(e, n, r) {
    for (let i = r; ; ) {
      let s = Math.max(n, i - 1e4 - this.spec.unquoted.length),
        o = Ls(this.spec, e, s, i),
        l = null;
      for (; !o.nextOverlapping().done; ) l = o.value;
      if (l) return l;
      if (s == n) return null;
      i -= 1e4;
    }
  }
  prevMatch(e, n, r) {
    return (
      this.prevMatchInRange(e, 0, n) ||
      this.prevMatchInRange(e, r, e.doc.length)
    );
  }
  getReplacement(e) {
    return this.spec.unquote(this.spec.replace);
  }
  matchAll(e, n) {
    let r = Ls(this.spec, e, 0, e.doc.length),
      i = [];
    for (; !r.next().done; ) {
      if (i.length >= n) return null;
      i.push(r.value);
    }
    return i;
  }
  highlight(e, n, r, i) {
    let s = Ls(
      this.spec,
      e,
      Math.max(0, n - this.spec.unquoted.length),
      Math.min(r + this.spec.unquoted.length, e.doc.length)
    );
    for (; !s.next().done; ) i(s.value.from, s.value.to);
  }
}
function Bs(t, e, n, r) {
  return new lA(
    e.doc,
    t.search,
    {
      ignoreCase: !t.caseSensitive,
      test: t.wholeWord ? N8(e.charCategorizer(e.selection.main.head)) : void 0,
    },
    n,
    r
  );
}
function Rf(t, e) {
  return t.slice(ft(t, e, !1), e);
}
function Df(t, e) {
  return t.slice(e, ft(t, e));
}
function N8(t) {
  return (e, n, r) =>
    !r[0].length ||
    ((t(Rf(r.input, r.index)) != Oe.Word ||
      t(Df(r.input, r.index)) != Oe.Word) &&
      (t(Df(r.input, r.index + r[0].length)) != Oe.Word ||
        t(Rf(r.input, r.index + r[0].length)) != Oe.Word));
}
class I8 extends fA {
  nextMatch(e, n, r) {
    let i = Bs(this.spec, e, r, e.doc.length).next();
    return (
      i.done && (i = Bs(this.spec, e, 0, n).next()), i.done ? null : i.value
    );
  }
  prevMatchInRange(e, n, r) {
    for (let i = 1; ; i++) {
      let s = Math.max(n, r - i * 1e4),
        o = Bs(this.spec, e, s, r),
        l = null;
      for (; !o.next().done; ) l = o.value;
      if (l && (s == n || l.from > s + 10)) return l;
      if (s == n) return null;
    }
  }
  prevMatch(e, n, r) {
    return (
      this.prevMatchInRange(e, 0, n) ||
      this.prevMatchInRange(e, r, e.doc.length)
    );
  }
  getReplacement(e) {
    return this.spec
      .unquote(this.spec.replace)
      .replace(/\$([$&\d+])/g, (n, r) =>
        r == "$"
          ? "$"
          : r == "&"
            ? e.match[0]
            : r != "0" && +r < e.match.length
              ? e.match[r]
              : n
      );
  }
  matchAll(e, n) {
    let r = Bs(this.spec, e, 0, e.doc.length),
      i = [];
    for (; !r.next().done; ) {
      if (i.length >= n) return null;
      i.push(r.value);
    }
    return i;
  }
  highlight(e, n, r, i) {
    let s = Bs(
      this.spec,
      e,
      Math.max(0, n - 250),
      Math.min(r + 250, e.doc.length)
    );
    for (; !s.next().done; ) i(s.value.from, s.value.to);
  }
}
const ba = Y.define(),
  yy = Y.define(),
  xi = nt.define({
    create(t) {
      return new pp(xg(t).create(), null);
    },
    update(t, e) {
      for (let n of e.effects)
        n.is(ba)
          ? (t = new pp(n.value.create(), t.panel))
          : n.is(yy) && (t = new pp(t.query, n.value ? vy : null));
      return t;
    },
    provide: (t) => ya.from(t, (e) => e.panel),
  });
class pp {
  constructor(e, n) {
    (this.query = e), (this.panel = n);
  }
}
const $8 = U.mark({ class: "cm-searchMatch" }),
  F8 = U.mark({ class: "cm-searchMatch cm-searchMatch-selected" }),
  z8 = je.fromClass(
    class {
      constructor(t) {
        (this.view = t), (this.decorations = this.highlight(t.state.field(xi)));
      }
      update(t) {
        let e = t.state.field(xi);
        (e != t.startState.field(xi) ||
          t.docChanged ||
          t.selectionSet ||
          t.viewportChanged) &&
          (this.decorations = this.highlight(e));
      }
      highlight({ query: t, panel: e }) {
        if (!e || !t.spec.valid) return U.none;
        let { view: n } = this,
          r = new Fr();
        for (let i = 0, s = n.visibleRanges, o = s.length; i < o; i++) {
          let { from: l, to: a } = s[i];
          for (; i < o - 1 && a > s[i + 1].from - 2 * 250; ) a = s[++i].to;
          t.highlight(n.state, l, a, (u, c) => {
            let f = n.state.selection.ranges.some(
              (h) => h.from == u && h.to == c
            );
            r.add(u, c, f ? F8 : $8);
          });
        }
        return r.finish();
      }
    },
    { decorations: (t) => t.decorations }
  );
function ou(t) {
  return (e) => {
    let n = e.state.field(xi, !1);
    return n && n.query.spec.valid ? t(e, n) : pA(e);
  };
}
const Lf = ou((t, { query: e }) => {
    let { to: n } = t.state.selection.main,
      r = e.nextMatch(t.state, n, n);
    if (!r) return !1;
    let i = A.single(r.from, r.to),
      s = t.state.facet(Uo);
    return (
      t.dispatch({
        selection: i,
        effects: [wy(t, r), s.scrollToMatch(i.main, t)],
        userEvent: "select.search",
      }),
      dA(t),
      !0
    );
  }),
  Bf = ou((t, { query: e }) => {
    let { state: n } = t,
      { from: r } = n.selection.main,
      i = e.prevMatch(n, r, r);
    if (!i) return !1;
    let s = A.single(i.from, i.to),
      o = t.state.facet(Uo);
    return (
      t.dispatch({
        selection: s,
        effects: [wy(t, i), o.scrollToMatch(s.main, t)],
        userEvent: "select.search",
      }),
      dA(t),
      !0
    );
  }),
  j8 = ou((t, { query: e }) => {
    let n = e.matchAll(t.state, 1e3);
    return !n || !n.length
      ? !1
      : (t.dispatch({
          selection: A.create(n.map((r) => A.range(r.from, r.to))),
          userEvent: "select.search.matches",
        }),
        !0);
  }),
  V8 = ({ state: t, dispatch: e }) => {
    let n = t.selection;
    if (n.ranges.length > 1 || n.main.empty) return !1;
    let { from: r, to: i } = n.main,
      s = [],
      o = 0;
    for (let l = new Lo(t.doc, t.sliceDoc(r, i)); !l.next().done; ) {
      if (s.length > 1e3) return !1;
      l.value.from == r && (o = s.length),
        s.push(A.range(l.value.from, l.value.to));
    }
    return (
      e(
        t.update({
          selection: A.create(s, o),
          userEvent: "select.search.matches",
        })
      ),
      !0
    );
  },
  eb = ou((t, { query: e }) => {
    let { state: n } = t,
      { from: r, to: i } = n.selection.main;
    if (n.readOnly) return !1;
    let s = e.nextMatch(n, r, r);
    if (!s) return !1;
    let o = [],
      l,
      a,
      u = [];
    if (
      (s.from == r &&
        s.to == i &&
        ((a = n.toText(e.getReplacement(s))),
        o.push({ from: s.from, to: s.to, insert: a }),
        (s = e.nextMatch(n, s.from, s.to)),
        u.push(
          B.announce.of(
            n.phrase("replaced match on line $", n.doc.lineAt(r).number) + "."
          )
        )),
      s)
    ) {
      let c = o.length == 0 || o[0].from >= s.to ? 0 : s.to - s.from - a.length;
      (l = A.single(s.from - c, s.to - c)),
        u.push(wy(t, s)),
        u.push(n.facet(Uo).scrollToMatch(l.main, t));
    }
    return (
      t.dispatch({
        changes: o,
        selection: l,
        effects: u,
        userEvent: "input.replace",
      }),
      !0
    );
  }),
  W8 = ou((t, { query: e }) => {
    if (t.state.readOnly) return !1;
    let n = e.matchAll(t.state, 1e9).map((i) => {
      let { from: s, to: o } = i;
      return { from: s, to: o, insert: e.getReplacement(i) };
    });
    if (!n.length) return !1;
    let r = t.state.phrase("replaced $ matches", n.length) + ".";
    return (
      t.dispatch({
        changes: n,
        effects: B.announce.of(r),
        userEvent: "input.replace.all",
      }),
      !0
    );
  });
function vy(t) {
  return t.state.facet(Uo).createPanel(t);
}
function xg(t, e) {
  var n, r, i, s, o;
  let l = t.selection.main,
    a = l.empty || l.to > l.from + 100 ? "" : t.sliceDoc(l.from, l.to);
  if (e && !a) return e;
  let u = t.facet(Uo);
  return new cA({
    search: (
      (n = e == null ? void 0 : e.literal) !== null && n !== void 0
        ? n
        : u.literal
    )
      ? a
      : a.replace(/\n/g, "\\n"),
    caseSensitive:
      (r = e == null ? void 0 : e.caseSensitive) !== null && r !== void 0
        ? r
        : u.caseSensitive,
    literal:
      (i = e == null ? void 0 : e.literal) !== null && i !== void 0
        ? i
        : u.literal,
    regexp:
      (s = e == null ? void 0 : e.regexp) !== null && s !== void 0
        ? s
        : u.regexp,
    wholeWord:
      (o = e == null ? void 0 : e.wholeWord) !== null && o !== void 0
        ? o
        : u.wholeWord,
  });
}
function hA(t) {
  let e = ga(t, vy);
  return e && e.dom.querySelector("[main-field]");
}
function dA(t) {
  let e = hA(t);
  e && e == t.root.activeElement && e.select();
}
const pA = (t) => {
    let e = t.state.field(xi, !1);
    if (e && e.panel) {
      let n = hA(t);
      if (n && n != t.root.activeElement) {
        let r = xg(t.state, e.query.spec);
        r.valid && t.dispatch({ effects: ba.of(r) }), n.focus(), n.select();
      }
    } else
      t.dispatch({
        effects: [
          yy.of(!0),
          e ? ba.of(xg(t.state, e.query.spec)) : Y.appendConfig.of(q8),
        ],
      });
    return !0;
  },
  mA = (t) => {
    let e = t.state.field(xi, !1);
    if (!e || !e.panel) return !1;
    let n = ga(t, vy);
    return (
      n && n.dom.contains(t.root.activeElement) && t.focus(),
      t.dispatch({ effects: yy.of(!1) }),
      !0
    );
  },
  H8 = [
    { key: "Mod-f", run: pA, scope: "editor search-panel" },
    {
      key: "F3",
      run: Lf,
      shift: Bf,
      scope: "editor search-panel",
      preventDefault: !0,
    },
    {
      key: "Mod-g",
      run: Lf,
      shift: Bf,
      scope: "editor search-panel",
      preventDefault: !0,
    },
    { key: "Escape", run: mA, scope: "editor search-panel" },
    { key: "Mod-Shift-l", run: V8 },
    { key: "Mod-Alt-g", run: S8 },
    { key: "Mod-d", run: D8, preventDefault: !0 },
  ];
class U8 {
  constructor(e) {
    this.view = e;
    let n = (this.query = e.state.field(xi).query.spec);
    (this.commit = this.commit.bind(this)),
      (this.searchField = ve("input", {
        value: n.search,
        placeholder: qt(e, "Find"),
        "aria-label": qt(e, "Find"),
        class: "cm-textfield",
        name: "search",
        form: "",
        "main-field": "true",
        onchange: this.commit,
        onkeyup: this.commit,
      })),
      (this.replaceField = ve("input", {
        value: n.replace,
        placeholder: qt(e, "Replace"),
        "aria-label": qt(e, "Replace"),
        class: "cm-textfield",
        name: "replace",
        form: "",
        onchange: this.commit,
        onkeyup: this.commit,
      })),
      (this.caseField = ve("input", {
        type: "checkbox",
        name: "case",
        form: "",
        checked: n.caseSensitive,
        onchange: this.commit,
      })),
      (this.reField = ve("input", {
        type: "checkbox",
        name: "re",
        form: "",
        checked: n.regexp,
        onchange: this.commit,
      })),
      (this.wordField = ve("input", {
        type: "checkbox",
        name: "word",
        form: "",
        checked: n.wholeWord,
        onchange: this.commit,
      }));
    function r(i, s, o) {
      return ve(
        "button",
        { class: "cm-button", name: i, onclick: s, type: "button" },
        o
      );
    }
    this.dom = ve(
      "div",
      { onkeydown: (i) => this.keydown(i), class: "cm-search" },
      [
        this.searchField,
        r("next", () => Lf(e), [qt(e, "next")]),
        r("prev", () => Bf(e), [qt(e, "previous")]),
        r("select", () => j8(e), [qt(e, "all")]),
        ve("label", null, [this.caseField, qt(e, "match case")]),
        ve("label", null, [this.reField, qt(e, "regexp")]),
        ve("label", null, [this.wordField, qt(e, "by word")]),
        ...(e.state.readOnly
          ? []
          : [
              ve("br"),
              this.replaceField,
              r("replace", () => eb(e), [qt(e, "replace")]),
              r("replaceAll", () => W8(e), [qt(e, "replace all")]),
            ]),
        ve(
          "button",
          {
            name: "close",
            onclick: () => mA(e),
            "aria-label": qt(e, "close"),
            type: "button",
          },
          [""]
        ),
      ]
    );
  }
  commit() {
    let e = new cA({
      search: this.searchField.value,
      caseSensitive: this.caseField.checked,
      regexp: this.reField.checked,
      wholeWord: this.wordField.checked,
      replace: this.replaceField.value,
    });
    e.eq(this.query) ||
      ((this.query = e), this.view.dispatch({ effects: ba.of(e) }));
  }
  keydown(e) {
    s4(this.view, e, "search-panel")
      ? e.preventDefault()
      : e.keyCode == 13 && e.target == this.searchField
        ? (e.preventDefault(), (e.shiftKey ? Bf : Lf)(this.view))
        : e.keyCode == 13 &&
          e.target == this.replaceField &&
          (e.preventDefault(), eb(this.view));
  }
  update(e) {
    for (let n of e.transactions)
      for (let r of n.effects)
        r.is(ba) && !r.value.eq(this.query) && this.setQuery(r.value);
  }
  setQuery(e) {
    (this.query = e),
      (this.searchField.value = e.search),
      (this.replaceField.value = e.replace),
      (this.caseField.checked = e.caseSensitive),
      (this.reField.checked = e.regexp),
      (this.wordField.checked = e.wholeWord);
  }
  mount() {
    this.searchField.select();
  }
  get pos() {
    return 80;
  }
  get top() {
    return this.view.state.facet(Uo).top;
  }
}
function qt(t, e) {
  return t.state.phrase(e);
}
const tc = 30,
  nc = /[\s\.,:;?!]/;
function wy(t, { from: e, to: n }) {
  let r = t.state.doc.lineAt(e),
    i = t.state.doc.lineAt(n).to,
    s = Math.max(r.from, e - tc),
    o = Math.min(i, n + tc),
    l = t.state.sliceDoc(s, o);
  if (s != r.from) {
    for (let a = 0; a < tc; a++)
      if (!nc.test(l[a + 1]) && nc.test(l[a])) {
        l = l.slice(a);
        break;
      }
  }
  if (o != i) {
    for (let a = l.length - 1; a > l.length - tc; a--)
      if (!nc.test(l[a - 1]) && nc.test(l[a])) {
        l = l.slice(0, a);
        break;
      }
  }
  return B.announce.of(
    `${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`
  );
}
const K8 = B.baseTheme({
    ".cm-panel.cm-search": {
      padding: "2px 6px 4px",
      position: "relative",
      "& [name=close]": {
        position: "absolute",
        top: "0",
        right: "4px",
        backgroundColor: "inherit",
        border: "none",
        font: "inherit",
        padding: 0,
        margin: 0,
      },
      "& input, & button, & label": { margin: ".2em .6em .2em 0" },
      "& input[type=checkbox]": { marginRight: ".2em" },
      "& label": { fontSize: "80%", whiteSpace: "pre" },
    },
    "&light .cm-searchMatch": { backgroundColor: "#ffff0054" },
    "&dark .cm-searchMatch": { backgroundColor: "#00ffff8a" },
    "&light .cm-searchMatch-selected": { backgroundColor: "#ff6a0054" },
    "&dark .cm-searchMatch-selected": { backgroundColor: "#ff00ff8a" },
  }),
  q8 = [xi, ks.low(z8), K8];
class gA {
  constructor(e, n, r) {
    (this.state = e),
      (this.pos = n),
      (this.explicit = r),
      (this.abortListeners = []);
  }
  tokenBefore(e) {
    let n = pt(this.state).resolveInner(this.pos, -1);
    for (; n && e.indexOf(n.name) < 0; ) n = n.parent;
    return n
      ? {
          from: n.from,
          to: this.pos,
          text: this.state.sliceDoc(n.from, this.pos),
          type: n.type,
        }
      : null;
  }
  matchBefore(e) {
    let n = this.state.doc.lineAt(this.pos),
      r = Math.max(n.from, this.pos - 250),
      i = n.text.slice(r - n.from, this.pos - n.from),
      s = i.search(yA(e, !1));
    return s < 0 ? null : { from: r + s, to: this.pos, text: i.slice(s) };
  }
  get aborted() {
    return this.abortListeners == null;
  }
  addEventListener(e, n) {
    e == "abort" && this.abortListeners && this.abortListeners.push(n);
  }
}
function tb(t) {
  let e = Object.keys(t).join(""),
    n = /\w/.test(e);
  return (
    n && (e = e.replace(/\w/g, "")),
    `[${n ? "\\w" : ""}${e.replace(/[^\w\s]/g, "\\$&")}]`
  );
}
function G8(t) {
  let e = Object.create(null),
    n = Object.create(null);
  for (let { label: i } of t) {
    e[i[0]] = !0;
    for (let s = 1; s < i.length; s++) n[i[s]] = !0;
  }
  let r = tb(e) + tb(n) + "*$";
  return [new RegExp("^" + r), new RegExp(r)];
}
function Y8(t) {
  let e = t.map((i) => (typeof i == "string" ? { label: i } : i)),
    [n, r] = e.every((i) => /^\w+$/.test(i.label)) ? [/\w*$/, /\w+$/] : G8(e);
  return (i) => {
    let s = i.matchBefore(r);
    return s || i.explicit
      ? { from: s ? s.from : i.pos, options: e, validFor: n }
      : null;
  };
}
class nb {
  constructor(e, n, r, i) {
    (this.completion = e),
      (this.source = n),
      (this.match = r),
      (this.score = i);
  }
}
function Si(t) {
  return t.selection.main.from;
}
function yA(t, e) {
  var n;
  let { source: r } = t,
    i = e && r[0] != "^",
    s = r[r.length - 1] != "$";
  return !i && !s
    ? t
    : new RegExp(
        `${i ? "^" : ""}(?:${r})${s ? "$" : ""}`,
        (n = t.flags) !== null && n !== void 0 ? n : t.ignoreCase ? "i" : ""
      );
}
const vA = Kr.define();
function X8(t, e, n, r) {
  let { main: i } = t.selection,
    s = n - i.from,
    o = r - i.from;
  return Object.assign(
    Object.assign(
      {},
      t.changeByRange((l) =>
        l != i &&
        n != r &&
        t.sliceDoc(l.from + s, l.from + o) != t.sliceDoc(n, r)
          ? { range: l }
          : {
              changes: {
                from: l.from + s,
                to: r == i.from ? l.to : l.from + o,
                insert: e,
              },
              range: A.cursor(l.from + s + e.length),
            }
      )
    ),
    { scrollIntoView: !0, userEvent: "input.complete" }
  );
}
const rb = new WeakMap();
function Q8(t) {
  if (!Array.isArray(t)) return t;
  let e = rb.get(t);
  return e || rb.set(t, (e = Y8(t))), e;
}
const Nf = Y.define(),
  xa = Y.define();
class J8 {
  constructor(e) {
    (this.pattern = e),
      (this.chars = []),
      (this.folded = []),
      (this.any = []),
      (this.precise = []),
      (this.byWord = []),
      (this.score = 0),
      (this.matched = []);
    for (let n = 0; n < e.length; ) {
      let r = at(e, n),
        i = vn(r);
      this.chars.push(r);
      let s = e.slice(n, n + i),
        o = s.toUpperCase();
      this.folded.push(at(o == s ? s.toLowerCase() : o, 0)), (n += i);
    }
    this.astral = e.length != this.chars.length;
  }
  ret(e, n) {
    return (this.score = e), (this.matched = n), this;
  }
  match(e) {
    if (this.pattern.length == 0) return this.ret(-100, []);
    if (e.length < this.pattern.length) return null;
    let { chars: n, folded: r, any: i, precise: s, byWord: o } = this;
    if (n.length == 1) {
      let y = at(e, 0),
        v = vn(y),
        b = v == e.length ? 0 : -100;
      if (y != n[0])
        if (y == r[0]) b += -200;
        else return null;
      return this.ret(b, [0, v]);
    }
    let l = e.indexOf(this.pattern);
    if (l == 0)
      return this.ret(e.length == this.pattern.length ? 0 : -100, [
        0,
        this.pattern.length,
      ]);
    let a = n.length,
      u = 0;
    if (l < 0) {
      for (let y = 0, v = Math.min(e.length, 200); y < v && u < a; ) {
        let b = at(e, y);
        (b == n[u] || b == r[u]) && (i[u++] = y), (y += vn(b));
      }
      if (u < a) return null;
    }
    let c = 0,
      f = 0,
      h = !1,
      d = 0,
      p = -1,
      m = -1,
      w = /[a-z]/.test(e),
      g = !0;
    for (let y = 0, v = Math.min(e.length, 200), b = 0; y < v && f < a; ) {
      let x = at(e, y);
      l < 0 &&
        (c < a && x == n[c] && (s[c++] = y),
        d < a &&
          (x == n[d] || x == r[d]
            ? (d == 0 && (p = y), (m = y + 1), d++)
            : (d = 0)));
      let S,
        k =
          x < 255
            ? (x >= 48 && x <= 57) || (x >= 97 && x <= 122)
              ? 2
              : x >= 65 && x <= 90
                ? 1
                : 0
            : (S = q0(x)) != S.toLowerCase()
              ? 1
              : S != S.toUpperCase()
                ? 2
                : 0;
      (!y || (k == 1 && w) || (b == 0 && k != 0)) &&
        (n[f] == x || (r[f] == x && (h = !0))
          ? (o[f++] = y)
          : o.length && (g = !1)),
        (b = k),
        (y += vn(x));
    }
    return f == a && o[0] == 0 && g
      ? this.result(-100 + (h ? -200 : 0), o, e)
      : d == a && p == 0
        ? this.ret(-200 - e.length + (m == e.length ? 0 : -100), [0, m])
        : l > -1
          ? this.ret(-700 - e.length, [l, l + this.pattern.length])
          : d == a
            ? this.ret(-900 - e.length, [p, m])
            : f == a
              ? this.result(
                  -100 + (h ? -200 : 0) + -700 + (g ? 0 : -1100),
                  o,
                  e
                )
              : n.length == 2
                ? null
                : this.result((i[0] ? -700 : 0) + -200 + -1100, i, e);
  }
  result(e, n, r) {
    let i = [],
      s = 0;
    for (let o of n) {
      let l = o + (this.astral ? vn(at(r, o)) : 1);
      s && i[s - 1] == o ? (i[s - 1] = l) : ((i[s++] = o), (i[s++] = l));
    }
    return this.ret(e - r.length, i);
  }
}
class Z8 {
  constructor(e) {
    (this.pattern = e),
      (this.matched = []),
      (this.score = 0),
      (this.folded = e.toLowerCase());
  }
  match(e) {
    if (e.length < this.pattern.length) return null;
    let n = e.slice(0, this.pattern.length),
      r = n == this.pattern ? 0 : n.toLowerCase() == this.folded ? -200 : null;
    return r == null
      ? null
      : ((this.matched = [0, n.length]),
        (this.score = r + (e.length == this.pattern.length ? 0 : -100)),
        this);
  }
}
const ct = $.define({
  combine(t) {
    return Sr(
      t,
      {
        activateOnTyping: !0,
        activateOnCompletion: () => !1,
        activateOnTypingDelay: 100,
        selectOnOpen: !0,
        override: null,
        closeOnBlur: !0,
        maxRenderedOptions: 100,
        defaultKeymap: !0,
        tooltipClass: () => "",
        optionClass: () => "",
        aboveCursor: !1,
        icons: !0,
        addToOptions: [],
        positionInfo: e6,
        filterStrict: !1,
        compareCompletions: (e, n) => e.label.localeCompare(n.label),
        interactionDelay: 75,
        updateSyncTime: 100,
      },
      {
        defaultKeymap: (e, n) => e && n,
        closeOnBlur: (e, n) => e && n,
        icons: (e, n) => e && n,
        tooltipClass: (e, n) => (r) => ib(e(r), n(r)),
        optionClass: (e, n) => (r) => ib(e(r), n(r)),
        addToOptions: (e, n) => e.concat(n),
        filterStrict: (e, n) => e || n,
      }
    );
  },
});
function ib(t, e) {
  return t ? (e ? t + " " + e : t) : e;
}
function e6(t, e, n, r, i, s) {
  let o = t.textDirection == Ce.RTL,
    l = o,
    a = !1,
    u = "top",
    c,
    f,
    h = e.left - i.left,
    d = i.right - e.right,
    p = r.right - r.left,
    m = r.bottom - r.top;
  if (
    (l && h < Math.min(p, d) ? (l = !1) : !l && d < Math.min(p, h) && (l = !0),
    p <= (l ? h : d))
  )
    (c = Math.max(i.top, Math.min(n.top, i.bottom - m)) - e.top),
      (f = Math.min(400, l ? h : d));
  else {
    (a = !0), (f = Math.min(400, (o ? e.right : i.right - e.left) - 30));
    let y = i.bottom - e.bottom;
    y >= m || y > e.top
      ? (c = n.bottom - e.top)
      : ((u = "bottom"), (c = e.bottom - n.top));
  }
  let w = (e.bottom - e.top) / s.offsetHeight,
    g = (e.right - e.left) / s.offsetWidth;
  return {
    style: `${u}: ${c / w}px; max-width: ${f / g}px`,
    class:
      "cm-completionInfo-" +
      (a ? (o ? "left-narrow" : "right-narrow") : l ? "left" : "right"),
  };
}
function t6(t) {
  let e = t.addToOptions.slice();
  return (
    t.icons &&
      e.push({
        render(n) {
          let r = document.createElement("div");
          return (
            r.classList.add("cm-completionIcon"),
            n.type &&
              r.classList.add(
                ...n.type.split(/\s+/g).map((i) => "cm-completionIcon-" + i)
              ),
            r.setAttribute("aria-hidden", "true"),
            r
          );
        },
        position: 20,
      }),
    e.push(
      {
        render(n, r, i, s) {
          let o = document.createElement("span");
          o.className = "cm-completionLabel";
          let l = n.displayLabel || n.label,
            a = 0;
          for (let u = 0; u < s.length; ) {
            let c = s[u++],
              f = s[u++];
            c > a && o.appendChild(document.createTextNode(l.slice(a, c)));
            let h = o.appendChild(document.createElement("span"));
            h.appendChild(document.createTextNode(l.slice(c, f))),
              (h.className = "cm-completionMatchedText"),
              (a = f);
          }
          return (
            a < l.length && o.appendChild(document.createTextNode(l.slice(a))),
            o
          );
        },
        position: 50,
      },
      {
        render(n) {
          if (!n.detail) return null;
          let r = document.createElement("span");
          return (
            (r.className = "cm-completionDetail"), (r.textContent = n.detail), r
          );
        },
        position: 80,
      }
    ),
    e.sort((n, r) => n.position - r.position).map((n) => n.render)
  );
}
function mp(t, e, n) {
  if (t <= n) return { from: 0, to: t };
  if ((e < 0 && (e = 0), e <= t >> 1)) {
    let i = Math.floor(e / n);
    return { from: i * n, to: (i + 1) * n };
  }
  let r = Math.floor((t - e) / n);
  return { from: t - (r + 1) * n, to: t - r * n };
}
class n6 {
  constructor(e, n, r) {
    (this.view = e),
      (this.stateField = n),
      (this.applyCompletion = r),
      (this.info = null),
      (this.infoDestroy = null),
      (this.placeInfoReq = {
        read: () => this.measureInfo(),
        write: (a) => this.placeInfo(a),
        key: this,
      }),
      (this.space = null),
      (this.currentClass = "");
    let i = e.state.field(n),
      { options: s, selected: o } = i.open,
      l = e.state.facet(ct);
    (this.optionContent = t6(l)),
      (this.optionClass = l.optionClass),
      (this.tooltipClass = l.tooltipClass),
      (this.range = mp(s.length, o, l.maxRenderedOptions)),
      (this.dom = document.createElement("div")),
      (this.dom.className = "cm-tooltip-autocomplete"),
      this.updateTooltipClass(e.state),
      this.dom.addEventListener("mousedown", (a) => {
        let { options: u } = e.state.field(n).open;
        for (let c = a.target, f; c && c != this.dom; c = c.parentNode)
          if (
            c.nodeName == "LI" &&
            (f = /-(\d+)$/.exec(c.id)) &&
            +f[1] < u.length
          ) {
            this.applyCompletion(e, u[+f[1]]), a.preventDefault();
            return;
          }
      }),
      this.dom.addEventListener("focusout", (a) => {
        let u = e.state.field(this.stateField, !1);
        u &&
          u.tooltip &&
          e.state.facet(ct).closeOnBlur &&
          a.relatedTarget != e.contentDOM &&
          e.dispatch({ effects: xa.of(null) });
      }),
      this.showOptions(s, i.id);
  }
  mount() {
    this.updateSel();
  }
  showOptions(e, n) {
    this.list && this.list.remove(),
      (this.list = this.dom.appendChild(this.createListBox(e, n, this.range))),
      this.list.addEventListener("scroll", () => {
        this.info && this.view.requestMeasure(this.placeInfoReq);
      });
  }
  update(e) {
    var n;
    let r = e.state.field(this.stateField),
      i = e.startState.field(this.stateField);
    if ((this.updateTooltipClass(e.state), r != i)) {
      let { options: s, selected: o, disabled: l } = r.open;
      (!i.open || i.open.options != s) &&
        ((this.range = mp(s.length, o, e.state.facet(ct).maxRenderedOptions)),
        this.showOptions(s, r.id)),
        this.updateSel(),
        l != ((n = i.open) === null || n === void 0 ? void 0 : n.disabled) &&
          this.dom.classList.toggle("cm-tooltip-autocomplete-disabled", !!l);
    }
  }
  updateTooltipClass(e) {
    let n = this.tooltipClass(e);
    if (n != this.currentClass) {
      for (let r of this.currentClass.split(" "))
        r && this.dom.classList.remove(r);
      for (let r of n.split(" ")) r && this.dom.classList.add(r);
      this.currentClass = n;
    }
  }
  positioned(e) {
    (this.space = e), this.info && this.view.requestMeasure(this.placeInfoReq);
  }
  updateSel() {
    let e = this.view.state.field(this.stateField),
      n = e.open;
    if (
      (((n.selected > -1 && n.selected < this.range.from) ||
        n.selected >= this.range.to) &&
        ((this.range = mp(
          n.options.length,
          n.selected,
          this.view.state.facet(ct).maxRenderedOptions
        )),
        this.showOptions(n.options, e.id)),
      this.updateSelectedOption(n.selected))
    ) {
      this.destroyInfo();
      let { completion: r } = n.options[n.selected],
        { info: i } = r;
      if (!i) return;
      let s = typeof i == "string" ? document.createTextNode(i) : i(r);
      if (!s) return;
      "then" in s
        ? s
            .then((o) => {
              o &&
                this.view.state.field(this.stateField, !1) == e &&
                this.addInfoPane(o, r);
            })
            .catch((o) => It(this.view.state, o, "completion info"))
        : this.addInfoPane(s, r);
    }
  }
  addInfoPane(e, n) {
    this.destroyInfo();
    let r = (this.info = document.createElement("div"));
    if (((r.className = "cm-tooltip cm-completionInfo"), e.nodeType != null))
      r.appendChild(e), (this.infoDestroy = null);
    else {
      let { dom: i, destroy: s } = e;
      r.appendChild(i), (this.infoDestroy = s || null);
    }
    this.dom.appendChild(r), this.view.requestMeasure(this.placeInfoReq);
  }
  updateSelectedOption(e) {
    let n = null;
    for (
      let r = this.list.firstChild, i = this.range.from;
      r;
      r = r.nextSibling, i++
    )
      r.nodeName != "LI" || !r.id
        ? i--
        : i == e
          ? r.hasAttribute("aria-selected") ||
            (r.setAttribute("aria-selected", "true"), (n = r))
          : r.hasAttribute("aria-selected") &&
            r.removeAttribute("aria-selected");
    return n && i6(this.list, n), n;
  }
  measureInfo() {
    let e = this.dom.querySelector("[aria-selected]");
    if (!e || !this.info) return null;
    let n = this.dom.getBoundingClientRect(),
      r = this.info.getBoundingClientRect(),
      i = e.getBoundingClientRect(),
      s = this.space;
    if (!s) {
      let o = this.dom.ownerDocument.defaultView || window;
      s = { left: 0, top: 0, right: o.innerWidth, bottom: o.innerHeight };
    }
    return i.top > Math.min(s.bottom, n.bottom) - 10 ||
      i.bottom < Math.max(s.top, n.top) + 10
      ? null
      : this.view.state.facet(ct).positionInfo(this.view, n, i, r, s, this.dom);
  }
  placeInfo(e) {
    this.info &&
      (e
        ? (e.style && (this.info.style.cssText = e.style),
          (this.info.className =
            "cm-tooltip cm-completionInfo " + (e.class || "")))
        : (this.info.style.cssText = "top: -1e6px"));
  }
  createListBox(e, n, r) {
    const i = document.createElement("ul");
    (i.id = n),
      i.setAttribute("role", "listbox"),
      i.setAttribute("aria-expanded", "true"),
      i.setAttribute("aria-label", this.view.state.phrase("Completions"));
    let s = null;
    for (let o = r.from; o < r.to; o++) {
      let { completion: l, match: a } = e[o],
        { section: u } = l;
      if (u) {
        let h = typeof u == "string" ? u : u.name;
        if (h != s && (o > r.from || r.from == 0))
          if (((s = h), typeof u != "string" && u.header))
            i.appendChild(u.header(u));
          else {
            let d = i.appendChild(document.createElement("completion-section"));
            d.textContent = h;
          }
      }
      const c = i.appendChild(document.createElement("li"));
      (c.id = n + "-" + o), c.setAttribute("role", "option");
      let f = this.optionClass(l);
      f && (c.className = f);
      for (let h of this.optionContent) {
        let d = h(l, this.view.state, this.view, a);
        d && c.appendChild(d);
      }
    }
    return (
      r.from && i.classList.add("cm-completionListIncompleteTop"),
      r.to < e.length && i.classList.add("cm-completionListIncompleteBottom"),
      i
    );
  }
  destroyInfo() {
    this.info &&
      (this.infoDestroy && this.infoDestroy(),
      this.info.remove(),
      (this.info = null));
  }
  destroy() {
    this.destroyInfo();
  }
}
function r6(t, e) {
  return (n) => new n6(n, t, e);
}
function i6(t, e) {
  let n = t.getBoundingClientRect(),
    r = e.getBoundingClientRect(),
    i = n.height / t.offsetHeight;
  r.top < n.top
    ? (t.scrollTop -= (n.top - r.top) / i)
    : r.bottom > n.bottom && (t.scrollTop += (r.bottom - n.bottom) / i);
}
function sb(t) {
  return (
    (t.boost || 0) * 100 +
    (t.apply ? 10 : 0) +
    (t.info ? 5 : 0) +
    (t.type ? 1 : 0)
  );
}
function s6(t, e) {
  let n = [],
    r = null,
    i = (u) => {
      n.push(u);
      let { section: c } = u.completion;
      if (c) {
        r || (r = []);
        let f = typeof c == "string" ? c : c.name;
        r.some((h) => h.name == f) ||
          r.push(typeof c == "string" ? { name: f } : c);
      }
    },
    s = e.facet(ct);
  for (let u of t)
    if (u.hasResult()) {
      let c = u.result.getMatch;
      if (u.result.filter === !1)
        for (let f of u.result.options)
          i(new nb(f, u.source, c ? c(f) : [], 1e9 - n.length));
      else {
        let f = e.sliceDoc(u.from, u.to),
          h,
          d = s.filterStrict ? new Z8(f) : new J8(f);
        for (let p of u.result.options)
          if ((h = d.match(p.label))) {
            let m = p.displayLabel ? (c ? c(p, h.matched) : []) : h.matched;
            i(new nb(p, u.source, m, h.score + (p.boost || 0)));
          }
      }
    }
  if (r) {
    let u = Object.create(null),
      c = 0,
      f = (h, d) => {
        var p, m;
        return (
          ((p = h.rank) !== null && p !== void 0 ? p : 1e9) -
            ((m = d.rank) !== null && m !== void 0 ? m : 1e9) ||
          (h.name < d.name ? -1 : 1)
        );
      };
    for (let h of r.sort(f)) (c -= 1e5), (u[h.name] = c);
    for (let h of n) {
      let { section: d } = h.completion;
      d && (h.score += u[typeof d == "string" ? d : d.name]);
    }
  }
  let o = [],
    l = null,
    a = s.compareCompletions;
  for (let u of n.sort(
    (c, f) => f.score - c.score || a(c.completion, f.completion)
  )) {
    let c = u.completion;
    !l ||
    l.label != c.label ||
    l.detail != c.detail ||
    (l.type != null && c.type != null && l.type != c.type) ||
    l.apply != c.apply ||
    l.boost != c.boost
      ? o.push(u)
      : sb(u.completion) > sb(l) && (o[o.length - 1] = u),
      (l = u.completion);
  }
  return o;
}
class Js {
  constructor(e, n, r, i, s, o) {
    (this.options = e),
      (this.attrs = n),
      (this.tooltip = r),
      (this.timestamp = i),
      (this.selected = s),
      (this.disabled = o);
  }
  setSelected(e, n) {
    return e == this.selected || e >= this.options.length
      ? this
      : new Js(
          this.options,
          ob(n, e),
          this.tooltip,
          this.timestamp,
          e,
          this.disabled
        );
  }
  static build(e, n, r, i, s) {
    let o = s6(e, n);
    if (!o.length)
      return i && e.some((a) => a.state == 1)
        ? new Js(i.options, i.attrs, i.tooltip, i.timestamp, i.selected, !0)
        : null;
    let l = n.facet(ct).selectOnOpen ? 0 : -1;
    if (i && i.selected != l && i.selected != -1) {
      let a = i.options[i.selected].completion;
      for (let u = 0; u < o.length; u++)
        if (o[u].completion == a) {
          l = u;
          break;
        }
    }
    return new Js(
      o,
      ob(r, l),
      {
        pos: e.reduce((a, u) => (u.hasResult() ? Math.min(a, u.from) : a), 1e8),
        create: c6,
        above: s.aboveCursor,
      },
      i ? i.timestamp : Date.now(),
      l,
      !1
    );
  }
  map(e) {
    return new Js(
      this.options,
      this.attrs,
      Object.assign(Object.assign({}, this.tooltip), {
        pos: e.mapPos(this.tooltip.pos),
      }),
      this.timestamp,
      this.selected,
      this.disabled
    );
  }
}
class If {
  constructor(e, n, r) {
    (this.active = e), (this.id = n), (this.open = r);
  }
  static start() {
    return new If(
      a6,
      "cm-ac-" + Math.floor(Math.random() * 2e6).toString(36),
      null
    );
  }
  update(e) {
    let { state: n } = e,
      r = n.facet(ct),
      s = (r.override || n.languageDataAt("autocomplete", Si(n)).map(Q8)).map(
        (l) =>
          (
            this.active.find((u) => u.source == l) ||
            new At(l, this.active.some((u) => u.state != 0) ? 1 : 0)
          ).update(e, r)
      );
    s.length == this.active.length &&
      s.every((l, a) => l == this.active[a]) &&
      (s = this.active);
    let o = this.open;
    o && e.docChanged && (o = o.map(e.changes)),
      e.selection ||
      s.some((l) => l.hasResult() && e.changes.touchesRange(l.from, l.to)) ||
      !o6(s, this.active)
        ? (o = Js.build(s, n, this.id, o, r))
        : o && o.disabled && !s.some((l) => l.state == 1) && (o = null),
      !o &&
        s.every((l) => l.state != 1) &&
        s.some((l) => l.hasResult()) &&
        (s = s.map((l) => (l.hasResult() ? new At(l.source, 0) : l)));
    for (let l of e.effects)
      l.is(bA) && (o = o && o.setSelected(l.value, this.id));
    return s == this.active && o == this.open ? this : new If(s, this.id, o);
  }
  get tooltip() {
    return this.open ? this.open.tooltip : null;
  }
  get attrs() {
    return this.open ? this.open.attrs : l6;
  }
}
function o6(t, e) {
  if (t == e) return !0;
  for (let n = 0, r = 0; ; ) {
    for (; n < t.length && !t[n].hasResult; ) n++;
    for (; r < e.length && !e[r].hasResult; ) r++;
    let i = n == t.length,
      s = r == e.length;
    if (i || s) return i == s;
    if (t[n++].result != e[r++].result) return !1;
  }
}
const l6 = { "aria-autocomplete": "list" };
function ob(t, e) {
  let n = {
    "aria-autocomplete": "list",
    "aria-haspopup": "listbox",
    "aria-controls": t,
  };
  return e > -1 && (n["aria-activedescendant"] = t + "-" + e), n;
}
const a6 = [];
function Sg(t, e) {
  if (t.isUserEvent("input.complete")) {
    let n = t.annotation(vA);
    if (n && e.activateOnCompletion(n)) return "input";
  }
  return t.isUserEvent("input.type")
    ? "input"
    : t.isUserEvent("delete.backward")
      ? "delete"
      : null;
}
class At {
  constructor(e, n, r = -1) {
    (this.source = e), (this.state = n), (this.explicitPos = r);
  }
  hasResult() {
    return !1;
  }
  update(e, n) {
    let r = Sg(e, n),
      i = this;
    r
      ? (i = i.handleUserEvent(e, r, n))
      : e.docChanged
        ? (i = i.handleChange(e))
        : e.selection && i.state != 0 && (i = new At(i.source, 0));
    for (let s of e.effects)
      if (s.is(Nf)) i = new At(i.source, 1, s.value ? Si(e.state) : -1);
      else if (s.is(xa)) i = new At(i.source, 0);
      else if (s.is(wA)) for (let o of s.value) o.source == i.source && (i = o);
    return i;
  }
  handleUserEvent(e, n, r) {
    return n == "delete" || !r.activateOnTyping
      ? this.map(e.changes)
      : new At(this.source, 1);
  }
  handleChange(e) {
    return e.changes.touchesRange(Si(e.startState))
      ? new At(this.source, 0)
      : this.map(e.changes);
  }
  map(e) {
    return e.empty || this.explicitPos < 0
      ? this
      : new At(this.source, this.state, e.mapPos(this.explicitPos));
  }
}
class fo extends At {
  constructor(e, n, r, i, s) {
    super(e, 2, n), (this.result = r), (this.from = i), (this.to = s);
  }
  hasResult() {
    return !0;
  }
  handleUserEvent(e, n, r) {
    var i;
    let s = this.result;
    s.map && !e.changes.empty && (s = s.map(s, e.changes));
    let o = e.changes.mapPos(this.from),
      l = e.changes.mapPos(this.to, 1),
      a = Si(e.state);
    if (
      (this.explicitPos < 0 ? a <= o : a < this.from) ||
      a > l ||
      !s ||
      (n == "delete" && Si(e.startState) == this.from)
    )
      return new At(this.source, n == "input" && r.activateOnTyping ? 1 : 0);
    let u = this.explicitPos < 0 ? -1 : e.changes.mapPos(this.explicitPos);
    return u6(s.validFor, e.state, o, l)
      ? new fo(this.source, u, s, o, l)
      : s.update && (s = s.update(s, o, l, new gA(e.state, a, u >= 0)))
        ? new fo(
            this.source,
            u,
            s,
            s.from,
            (i = s.to) !== null && i !== void 0 ? i : Si(e.state)
          )
        : new At(this.source, 1, u);
  }
  handleChange(e) {
    return e.changes.touchesRange(this.from, this.to)
      ? new At(this.source, 0)
      : this.map(e.changes);
  }
  map(e) {
    return e.empty
      ? this
      : (this.result.map ? this.result.map(this.result, e) : this.result)
        ? new fo(
            this.source,
            this.explicitPos < 0 ? -1 : e.mapPos(this.explicitPos),
            this.result,
            e.mapPos(this.from),
            e.mapPos(this.to, 1)
          )
        : new At(this.source, 0);
  }
}
function u6(t, e, n, r) {
  if (!t) return !1;
  let i = e.sliceDoc(n, r);
  return typeof t == "function" ? t(i, n, r, e) : yA(t, !0).test(i);
}
const wA = Y.define({
    map(t, e) {
      return t.map((n) => n.map(e));
    },
  }),
  bA = Y.define(),
  Bt = nt.define({
    create() {
      return If.start();
    },
    update(t, e) {
      return t.update(e);
    },
    provide: (t) => [
      oy.from(t, (e) => e.tooltip),
      B.contentAttributes.from(t, (e) => e.attrs),
    ],
  });
function by(t, e) {
  const n = e.completion.apply || e.completion.label;
  let r = t.state.field(Bt).active.find((i) => i.source == e.source);
  return r instanceof fo
    ? (typeof n == "string"
        ? t.dispatch(
            Object.assign(Object.assign({}, X8(t.state, n, r.from, r.to)), {
              annotations: vA.of(e.completion),
            })
          )
        : n(t, e.completion, r.from, r.to),
      !0)
    : !1;
}
const c6 = r6(Bt, by);
function rc(t, e = "option") {
  return (n) => {
    let r = n.state.field(Bt, !1);
    if (
      !r ||
      !r.open ||
      r.open.disabled ||
      Date.now() - r.open.timestamp < n.state.facet(ct).interactionDelay
    )
      return !1;
    let i = 1,
      s;
    e == "page" &&
      (s = n_(n, r.open.tooltip)) &&
      (i = Math.max(
        2,
        Math.floor(
          s.dom.offsetHeight / s.dom.querySelector("li").offsetHeight
        ) - 1
      ));
    let { length: o } = r.open.options,
      l =
        r.open.selected > -1
          ? r.open.selected + i * (t ? 1 : -1)
          : t
            ? 0
            : o - 1;
    return (
      l < 0
        ? (l = e == "page" ? 0 : o - 1)
        : l >= o && (l = e == "page" ? o - 1 : 0),
      n.dispatch({ effects: bA.of(l) }),
      !0
    );
  };
}
const f6 = (t) => {
    let e = t.state.field(Bt, !1);
    return t.state.readOnly ||
      !e ||
      !e.open ||
      e.open.selected < 0 ||
      e.open.disabled ||
      Date.now() - e.open.timestamp < t.state.facet(ct).interactionDelay
      ? !1
      : by(t, e.open.options[e.open.selected]);
  },
  h6 = (t) =>
    t.state.field(Bt, !1) ? (t.dispatch({ effects: Nf.of(!0) }), !0) : !1,
  d6 = (t) => {
    let e = t.state.field(Bt, !1);
    return !e || !e.active.some((n) => n.state != 0)
      ? !1
      : (t.dispatch({ effects: xa.of(null) }), !0);
  };
class p6 {
  constructor(e, n) {
    (this.active = e),
      (this.context = n),
      (this.time = Date.now()),
      (this.updates = []),
      (this.done = void 0);
  }
}
const m6 = 50,
  g6 = 1e3,
  y6 = je.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.debounceUpdate = -1),
          (this.running = []),
          (this.debounceAccept = -1),
          (this.pendingStart = !1),
          (this.composing = 0);
        for (let e of t.state.field(Bt).active)
          e.state == 1 && this.startQuery(e);
      }
      update(t) {
        let e = t.state.field(Bt),
          n = t.state.facet(ct);
        if (!t.selectionSet && !t.docChanged && t.startState.field(Bt) == e)
          return;
        let r = t.transactions.some(
          (s) => (s.selection || s.docChanged) && !Sg(s, n)
        );
        for (let s = 0; s < this.running.length; s++) {
          let o = this.running[s];
          if (
            r ||
            (o.updates.length + t.transactions.length > m6 &&
              Date.now() - o.time > g6)
          ) {
            for (let l of o.context.abortListeners)
              try {
                l();
              } catch (a) {
                It(this.view.state, a);
              }
            (o.context.abortListeners = null), this.running.splice(s--, 1);
          } else o.updates.push(...t.transactions);
        }
        this.debounceUpdate > -1 && clearTimeout(this.debounceUpdate),
          t.transactions.some((s) => s.effects.some((o) => o.is(Nf))) &&
            (this.pendingStart = !0);
        let i = this.pendingStart ? 50 : n.activateOnTypingDelay;
        if (
          ((this.debounceUpdate = e.active.some(
            (s) =>
              s.state == 1 &&
              !this.running.some((o) => o.active.source == s.source)
          )
            ? setTimeout(() => this.startUpdate(), i)
            : -1),
          this.composing != 0)
        )
          for (let s of t.transactions)
            Sg(s, n) == "input"
              ? (this.composing = 2)
              : this.composing == 2 && s.selection && (this.composing = 3);
      }
      startUpdate() {
        (this.debounceUpdate = -1), (this.pendingStart = !1);
        let { state: t } = this.view,
          e = t.field(Bt);
        for (let n of e.active)
          n.state == 1 &&
            !this.running.some((r) => r.active.source == n.source) &&
            this.startQuery(n);
      }
      startQuery(t) {
        let { state: e } = this.view,
          n = Si(e),
          r = new gA(e, n, t.explicitPos == n),
          i = new p6(t, r);
        this.running.push(i),
          Promise.resolve(t.source(r)).then(
            (s) => {
              i.context.aborted ||
                ((i.done = s || null), this.scheduleAccept());
            },
            (s) => {
              this.view.dispatch({ effects: xa.of(null) }),
                It(this.view.state, s);
            }
          );
      }
      scheduleAccept() {
        this.running.every((t) => t.done !== void 0)
          ? this.accept()
          : this.debounceAccept < 0 &&
            (this.debounceAccept = setTimeout(
              () => this.accept(),
              this.view.state.facet(ct).updateSyncTime
            ));
      }
      accept() {
        var t;
        this.debounceAccept > -1 && clearTimeout(this.debounceAccept),
          (this.debounceAccept = -1);
        let e = [],
          n = this.view.state.facet(ct);
        for (let r = 0; r < this.running.length; r++) {
          let i = this.running[r];
          if (i.done === void 0) continue;
          if ((this.running.splice(r--, 1), i.done)) {
            let o = new fo(
              i.active.source,
              i.active.explicitPos,
              i.done,
              i.done.from,
              (t = i.done.to) !== null && t !== void 0
                ? t
                : Si(
                    i.updates.length ? i.updates[0].startState : this.view.state
                  )
            );
            for (let l of i.updates) o = o.update(l, n);
            if (o.hasResult()) {
              e.push(o);
              continue;
            }
          }
          let s = this.view.state
            .field(Bt)
            .active.find((o) => o.source == i.active.source);
          if (s && s.state == 1)
            if (i.done == null) {
              let o = new At(i.active.source, 0);
              for (let l of i.updates) o = o.update(l, n);
              o.state != 1 && e.push(o);
            } else this.startQuery(s);
        }
        e.length && this.view.dispatch({ effects: wA.of(e) });
      }
    },
    {
      eventHandlers: {
        blur(t) {
          let e = this.view.state.field(Bt, !1);
          if (e && e.tooltip && this.view.state.facet(ct).closeOnBlur) {
            let n = e.open && n_(this.view, e.open.tooltip);
            (!n || !n.dom.contains(t.relatedTarget)) &&
              setTimeout(
                () => this.view.dispatch({ effects: xa.of(null) }),
                10
              );
          }
        },
        compositionstart() {
          this.composing = 1;
        },
        compositionend() {
          this.composing == 3 &&
            setTimeout(() => this.view.dispatch({ effects: Nf.of(!1) }), 20),
            (this.composing = 0);
        },
      },
    }
  ),
  v6 = typeof navigator == "object" && /Win/.test(navigator.platform),
  w6 = ks.highest(
    B.domEventHandlers({
      keydown(t, e) {
        let n = e.state.field(Bt, !1);
        if (
          !n ||
          !n.open ||
          n.open.disabled ||
          n.open.selected < 0 ||
          t.key.length > 1 ||
          (t.ctrlKey && !(v6 && t.altKey)) ||
          t.metaKey
        )
          return !1;
        let r = n.open.options[n.open.selected],
          i = n.active.find((o) => o.source == r.source),
          s = r.completion.commitCharacters || i.result.commitCharacters;
        return s && s.indexOf(t.key) > -1 && by(e, r), !1;
      },
    })
  ),
  b6 = B.baseTheme({
    ".cm-tooltip.cm-tooltip-autocomplete": {
      "& > ul": {
        fontFamily: "monospace",
        whiteSpace: "nowrap",
        overflow: "hidden auto",
        maxWidth_fallback: "700px",
        maxWidth: "min(700px, 95vw)",
        minWidth: "250px",
        maxHeight: "10em",
        height: "100%",
        listStyle: "none",
        margin: 0,
        padding: 0,
        "& > li, & > completion-section": {
          padding: "1px 3px",
          lineHeight: 1.2,
        },
        "& > li": {
          overflowX: "hidden",
          textOverflow: "ellipsis",
          cursor: "pointer",
        },
        "& > completion-section": {
          display: "list-item",
          borderBottom: "1px solid silver",
          paddingLeft: "0.5em",
          opacity: 0.7,
        },
      },
    },
    "&light .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#17c",
      color: "white",
    },
    "&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#777",
    },
    "&dark .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#347",
      color: "white",
    },
    "&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#444",
    },
    ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":
      { content: '""', opacity: 0.5, display: "block", textAlign: "center" },
    ".cm-tooltip.cm-completionInfo": {
      position: "absolute",
      padding: "3px 9px",
      width: "max-content",
      maxWidth: "400px",
      boxSizing: "border-box",
    },
    ".cm-completionInfo.cm-completionInfo-left": { right: "100%" },
    ".cm-completionInfo.cm-completionInfo-right": { left: "100%" },
    ".cm-completionInfo.cm-completionInfo-left-narrow": { right: "30px" },
    ".cm-completionInfo.cm-completionInfo-right-narrow": { left: "30px" },
    "&light .cm-snippetField": { backgroundColor: "#00000022" },
    "&dark .cm-snippetField": { backgroundColor: "#ffffff22" },
    ".cm-snippetFieldPosition": {
      verticalAlign: "text-top",
      width: 0,
      height: "1.15em",
      display: "inline-block",
      margin: "0 -0.7px -.7em",
      borderLeft: "1.4px dotted #888",
    },
    ".cm-completionMatchedText": { textDecoration: "underline" },
    ".cm-completionDetail": { marginLeft: "0.5em", fontStyle: "italic" },
    ".cm-completionIcon": {
      fontSize: "90%",
      width: ".8em",
      display: "inline-block",
      textAlign: "center",
      paddingRight: ".6em",
      opacity: "0.6",
      boxSizing: "content-box",
    },
    ".cm-completionIcon-function, .cm-completionIcon-method": {
      "&:after": { content: "''" },
    },
    ".cm-completionIcon-class": { "&:after": { content: "''" } },
    ".cm-completionIcon-interface": { "&:after": { content: "''" } },
    ".cm-completionIcon-variable": { "&:after": { content: "''" } },
    ".cm-completionIcon-constant": { "&:after": { content: "''" } },
    ".cm-completionIcon-type": { "&:after": { content: "''" } },
    ".cm-completionIcon-enum": { "&:after": { content: "''" } },
    ".cm-completionIcon-property": { "&:after": { content: "''" } },
    ".cm-completionIcon-keyword": { "&:after": { content: "''" } },
    ".cm-completionIcon-namespace": { "&:after": { content: "''" } },
    ".cm-completionIcon-text": {
      "&:after": { content: "'abc'", fontSize: "50%", verticalAlign: "middle" },
    },
  }),
  Sa = {
    brackets: ["(", "[", "{", "'", '"'],
    before: ")]}:;>",
    stringPrefixes: [],
  },
  Xi = Y.define({
    map(t, e) {
      let n = e.mapPos(t, -1, Ot.TrackAfter);
      return n ?? void 0;
    },
  }),
  xy = new (class extends cs {})();
xy.startSide = 1;
xy.endSide = -1;
const xA = nt.define({
  create() {
    return re.empty;
  },
  update(t, e) {
    if (((t = t.map(e.changes)), e.selection)) {
      let n = e.state.doc.lineAt(e.selection.main.head);
      t = t.update({ filter: (r) => r >= n.from && r <= n.to });
    }
    for (let n of e.effects)
      n.is(Xi) && (t = t.update({ add: [xy.range(n.value, n.value + 1)] }));
    return t;
  },
});
function x6() {
  return [k6, xA];
}
const gp = "()[]{}<>";
function SA(t) {
  for (let e = 0; e < gp.length; e += 2)
    if (gp.charCodeAt(e) == t) return gp.charAt(e + 1);
  return q0(t < 128 ? t : t + 1);
}
function kA(t, e) {
  return t.languageDataAt("closeBrackets", e)[0] || Sa;
}
const S6 =
    typeof navigator == "object" && /Android\b/.test(navigator.userAgent),
  k6 = B.inputHandler.of((t, e, n, r) => {
    if ((S6 ? t.composing : t.compositionStarted) || t.state.readOnly)
      return !1;
    let i = t.state.selection.main;
    if (
      r.length > 2 ||
      (r.length == 2 && vn(at(r, 0)) == 1) ||
      e != i.from ||
      n != i.to
    )
      return !1;
    let s = A6(t.state, r);
    return s ? (t.dispatch(s), !0) : !1;
  }),
  C6 = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let r = kA(t, t.selection.main.head).brackets || Sa.brackets,
      i = null,
      s = t.changeByRange((o) => {
        if (o.empty) {
          let l = O6(t.doc, o.head);
          for (let a of r)
            if (a == l && $h(t.doc, o.head) == SA(at(a, 0)))
              return {
                changes: { from: o.head - a.length, to: o.head + a.length },
                range: A.cursor(o.head - a.length),
              };
        }
        return { range: (i = o) };
      });
    return (
      i || e(t.update(s, { scrollIntoView: !0, userEvent: "delete.backward" })),
      !i
    );
  },
  _6 = [{ key: "Backspace", run: C6 }];
function A6(t, e) {
  let n = kA(t, t.selection.main.head),
    r = n.brackets || Sa.brackets;
  for (let i of r) {
    let s = SA(at(i, 0));
    if (e == i)
      return s == i
        ? T6(t, i, r.indexOf(i + i + i) > -1, n)
        : E6(t, i, s, n.before || Sa.before);
    if (e == s && CA(t, t.selection.main.from)) return M6(t, i, s);
  }
  return null;
}
function CA(t, e) {
  let n = !1;
  return (
    t.field(xA).between(0, t.doc.length, (r) => {
      r == e && (n = !0);
    }),
    n
  );
}
function $h(t, e) {
  let n = t.sliceString(e, e + 2);
  return n.slice(0, vn(at(n, 0)));
}
function O6(t, e) {
  let n = t.sliceString(e - 2, e);
  return vn(at(n, 0)) == n.length ? n : n.slice(1);
}
function E6(t, e, n, r) {
  let i = null,
    s = t.changeByRange((o) => {
      if (!o.empty)
        return {
          changes: [
            { insert: e, from: o.from },
            { insert: n, from: o.to },
          ],
          effects: Xi.of(o.to + e.length),
          range: A.range(o.anchor + e.length, o.head + e.length),
        };
      let l = $h(t.doc, o.head);
      return !l || /\s/.test(l) || r.indexOf(l) > -1
        ? {
            changes: { insert: e + n, from: o.head },
            effects: Xi.of(o.head + e.length),
            range: A.cursor(o.head + e.length),
          }
        : { range: (i = o) };
    });
  return i
    ? null
    : t.update(s, { scrollIntoView: !0, userEvent: "input.type" });
}
function M6(t, e, n) {
  let r = null,
    i = t.changeByRange((s) =>
      s.empty && $h(t.doc, s.head) == n
        ? {
            changes: { from: s.head, to: s.head + n.length, insert: n },
            range: A.cursor(s.head + n.length),
          }
        : (r = { range: s })
    );
  return r
    ? null
    : t.update(i, { scrollIntoView: !0, userEvent: "input.type" });
}
function T6(t, e, n, r) {
  let i = r.stringPrefixes || Sa.stringPrefixes,
    s = null,
    o = t.changeByRange((l) => {
      if (!l.empty)
        return {
          changes: [
            { insert: e, from: l.from },
            { insert: e, from: l.to },
          ],
          effects: Xi.of(l.to + e.length),
          range: A.range(l.anchor + e.length, l.head + e.length),
        };
      let a = l.head,
        u = $h(t.doc, a),
        c;
      if (u == e) {
        if (lb(t, a))
          return {
            changes: { insert: e + e, from: a },
            effects: Xi.of(a + e.length),
            range: A.cursor(a + e.length),
          };
        if (CA(t, a)) {
          let h =
            n && t.sliceDoc(a, a + e.length * 3) == e + e + e ? e + e + e : e;
          return {
            changes: { from: a, to: a + h.length, insert: h },
            range: A.cursor(a + h.length),
          };
        }
      } else {
        if (
          n &&
          t.sliceDoc(a - 2 * e.length, a) == e + e &&
          (c = ab(t, a - 2 * e.length, i)) > -1 &&
          lb(t, c)
        )
          return {
            changes: { insert: e + e + e + e, from: a },
            effects: Xi.of(a + e.length),
            range: A.cursor(a + e.length),
          };
        if (
          t.charCategorizer(a)(u) != Oe.Word &&
          ab(t, a, i) > -1 &&
          !P6(t, a, e, i)
        )
          return {
            changes: { insert: e + e, from: a },
            effects: Xi.of(a + e.length),
            range: A.cursor(a + e.length),
          };
      }
      return { range: (s = l) };
    });
  return s
    ? null
    : t.update(o, { scrollIntoView: !0, userEvent: "input.type" });
}
function lb(t, e) {
  let n = pt(t).resolveInner(e + 1);
  return n.parent && n.from == e;
}
function P6(t, e, n, r) {
  let i = pt(t).resolveInner(e, -1),
    s = r.reduce((o, l) => Math.max(o, l.length), 0);
  for (let o = 0; o < 5; o++) {
    let l = t.sliceDoc(i.from, Math.min(i.to, i.from + n.length + s)),
      a = l.indexOf(n);
    if (!a || (a > -1 && r.indexOf(l.slice(0, a)) > -1)) {
      let c = i.firstChild;
      for (; c && c.from == i.from && c.to - c.from > n.length + a; ) {
        if (t.sliceDoc(c.to - n.length, c.to) == n) return !1;
        c = c.firstChild;
      }
      return !0;
    }
    let u = i.to == e && i.parent;
    if (!u) break;
    i = u;
  }
  return !1;
}
function ab(t, e, n) {
  let r = t.charCategorizer(e);
  if (r(t.sliceDoc(e - 1, e)) != Oe.Word) return e;
  for (let i of n) {
    let s = e - i.length;
    if (t.sliceDoc(s, e) == i && r(t.sliceDoc(s - 1, s)) != Oe.Word) return s;
  }
  return -1;
}
function R6(t = {}) {
  return [w6, Bt, ct.of(t), y6, D6, b6];
}
const _A = [
    { key: "Ctrl-Space", run: h6 },
    { key: "Escape", run: d6 },
    { key: "ArrowDown", run: rc(!0) },
    { key: "ArrowUp", run: rc(!1) },
    { key: "PageDown", run: rc(!0, "page") },
    { key: "PageUp", run: rc(!1, "page") },
    { key: "Enter", run: f6 },
  ],
  D6 = ks.highest(
    iy.computeN([ct], (t) => (t.facet(ct).defaultKeymap ? [_A] : []))
  );
class L6 {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.diagnostic = r);
  }
}
class Ui {
  constructor(e, n, r) {
    (this.diagnostics = e), (this.panel = n), (this.selected = r);
  }
  static init(e, n, r) {
    let i = e,
      s = r.facet(ky).markerFilter;
    s && (i = s(i, r));
    let o = U.set(
      i.map((l) =>
        l.from == l.to ||
        (l.from == l.to - 1 && r.doc.lineAt(l.from).to == l.from)
          ? U.widget({ widget: new W6(l), diagnostic: l }).range(l.from)
          : U.mark({
              attributes: {
                class:
                  "cm-lintRange cm-lintRange-" +
                  l.severity +
                  (l.markClass ? " " + l.markClass : ""),
              },
              diagnostic: l,
              inclusive: !0,
            }).range(l.from, l.to)
      ),
      !0
    );
    return new Ui(o, n, Bo(o));
  }
}
function Bo(t, e = null, n = 0) {
  let r = null;
  return (
    t.between(n, 1e9, (i, s, { spec: o }) => {
      if (!(e && o.diagnostic != e))
        return (r = new L6(i, s, o.diagnostic)), !1;
    }),
    r
  );
}
function B6(t, e) {
  let n = e.pos,
    r = e.end || n,
    i = t.state.facet(ky).hideOn(t, n, r);
  if (i != null) return i;
  let s = t.startState.doc.lineAt(e.pos);
  return !!(
    t.effects.some((o) => o.is(AA)) ||
    t.changes.touchesRange(s.from, Math.max(s.to, r))
  );
}
function N6(t, e) {
  return t.field(Zt, !1) ? e : e.concat(Y.appendConfig.of(K6));
}
const AA = Y.define(),
  Sy = Y.define(),
  OA = Y.define(),
  Zt = nt.define({
    create() {
      return new Ui(U.none, null, null);
    },
    update(t, e) {
      if (e.docChanged) {
        let n = t.diagnostics.map(e.changes),
          r = null;
        if (t.selected) {
          let i = e.changes.mapPos(t.selected.from, 1);
          r = Bo(n, t.selected.diagnostic, i) || Bo(n, null, i);
        }
        t = new Ui(n, t.panel, r);
      }
      for (let n of e.effects)
        n.is(AA)
          ? (t = Ui.init(n.value, t.panel, e.state))
          : n.is(Sy)
            ? (t = new Ui(t.diagnostics, n.value ? Fh.open : null, t.selected))
            : n.is(OA) && (t = new Ui(t.diagnostics, t.panel, n.value));
      return t;
    },
    provide: (t) => [
      ya.from(t, (e) => e.panel),
      B.decorations.from(t, (e) => e.diagnostics),
    ],
  }),
  I6 = U.mark({ class: "cm-lintRange cm-lintRange-active", inclusive: !0 });
function $6(t, e, n) {
  let { diagnostics: r } = t.state.field(Zt),
    i = [],
    s = 2e8,
    o = 0;
  r.between(e - (n < 0 ? 1 : 0), e + (n > 0 ? 1 : 0), (a, u, { spec: c }) => {
    e >= a &&
      e <= u &&
      (a == u || ((e > a || n > 0) && (e < u || n < 0))) &&
      (i.push(c.diagnostic), (s = Math.min(a, s)), (o = Math.max(u, o)));
  });
  let l = t.state.facet(ky).tooltipFilter;
  return (
    l && (i = l(i, t.state)),
    i.length
      ? {
          pos: s,
          end: o,
          above: t.state.doc.lineAt(s).to < o,
          create() {
            return { dom: F6(t, i) };
          },
        }
      : null
  );
}
function F6(t, e) {
  return ve(
    "ul",
    { class: "cm-tooltip-lint" },
    e.map((n) => MA(t, n, !1))
  );
}
const z6 = (t) => {
    let e = t.state.field(Zt, !1);
    (!e || !e.panel) && t.dispatch({ effects: N6(t.state, [Sy.of(!0)]) });
    let n = ga(t, Fh.open);
    return n && n.dom.querySelector(".cm-panel-lint ul").focus(), !0;
  },
  ub = (t) => {
    let e = t.state.field(Zt, !1);
    return !e || !e.panel ? !1 : (t.dispatch({ effects: Sy.of(!1) }), !0);
  },
  j6 = (t) => {
    let e = t.state.field(Zt, !1);
    if (!e) return !1;
    let n = t.state.selection.main,
      r = e.diagnostics.iter(n.to + 1);
    return !r.value &&
      ((r = e.diagnostics.iter(0)),
      !r.value || (r.from == n.from && r.to == n.to))
      ? !1
      : (t.dispatch({
          selection: { anchor: r.from, head: r.to },
          scrollIntoView: !0,
        }),
        !0);
  },
  V6 = [
    { key: "Mod-Shift-m", run: z6, preventDefault: !0 },
    { key: "F8", run: j6 },
  ],
  ky = $.define({
    combine(t) {
      return Object.assign(
        { sources: t.map((e) => e.source).filter((e) => e != null) },
        Sr(
          t.map((e) => e.config),
          {
            delay: 750,
            markerFilter: null,
            tooltipFilter: null,
            needsRefresh: null,
            hideOn: () => null,
          },
          { needsRefresh: (e, n) => (e ? (n ? (r) => e(r) || n(r) : e) : n) }
        )
      );
    },
  });
function EA(t) {
  let e = [];
  if (t)
    e: for (let { name: n } of t) {
      for (let r = 0; r < n.length; r++) {
        let i = n[r];
        if (
          /[a-zA-Z]/.test(i) &&
          !e.some((s) => s.toLowerCase() == i.toLowerCase())
        ) {
          e.push(i);
          continue e;
        }
      }
      e.push("");
    }
  return e;
}
function MA(t, e, n) {
  var r;
  let i = n ? EA(e.actions) : [];
  return ve(
    "li",
    { class: "cm-diagnostic cm-diagnostic-" + e.severity },
    ve(
      "span",
      { class: "cm-diagnosticText" },
      e.renderMessage ? e.renderMessage(t) : e.message
    ),
    (r = e.actions) === null || r === void 0
      ? void 0
      : r.map((s, o) => {
          let l = !1,
            a = (h) => {
              if ((h.preventDefault(), l)) return;
              l = !0;
              let d = Bo(t.state.field(Zt).diagnostics, e);
              d && s.apply(t, d.from, d.to);
            },
            { name: u } = s,
            c = i[o] ? u.indexOf(i[o]) : -1,
            f =
              c < 0
                ? u
                : [u.slice(0, c), ve("u", u.slice(c, c + 1)), u.slice(c + 1)];
          return ve(
            "button",
            {
              type: "button",
              class: "cm-diagnosticAction",
              onclick: a,
              onmousedown: a,
              "aria-label": ` Action: ${u}${c < 0 ? "" : ` (access key "${i[o]})"`}.`,
            },
            f
          );
        }),
    e.source && ve("div", { class: "cm-diagnosticSource" }, e.source)
  );
}
class W6 extends Ii {
  constructor(e) {
    super(), (this.diagnostic = e);
  }
  eq(e) {
    return e.diagnostic == this.diagnostic;
  }
  toDOM() {
    return ve("span", {
      class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity,
    });
  }
}
class cb {
  constructor(e, n) {
    (this.diagnostic = n),
      (this.id = "item_" + Math.floor(Math.random() * 4294967295).toString(16)),
      (this.dom = MA(e, n, !0)),
      (this.dom.id = this.id),
      this.dom.setAttribute("role", "option");
  }
}
class Fh {
  constructor(e) {
    (this.view = e), (this.items = []);
    let n = (i) => {
        if (i.keyCode == 27) ub(this.view), this.view.focus();
        else if (i.keyCode == 38 || i.keyCode == 33)
          this.moveSelection(
            (this.selectedIndex - 1 + this.items.length) % this.items.length
          );
        else if (i.keyCode == 40 || i.keyCode == 34)
          this.moveSelection((this.selectedIndex + 1) % this.items.length);
        else if (i.keyCode == 36) this.moveSelection(0);
        else if (i.keyCode == 35) this.moveSelection(this.items.length - 1);
        else if (i.keyCode == 13) this.view.focus();
        else if (
          i.keyCode >= 65 &&
          i.keyCode <= 90 &&
          this.selectedIndex >= 0
        ) {
          let { diagnostic: s } = this.items[this.selectedIndex],
            o = EA(s.actions);
          for (let l = 0; l < o.length; l++)
            if (o[l].toUpperCase().charCodeAt(0) == i.keyCode) {
              let a = Bo(this.view.state.field(Zt).diagnostics, s);
              a && s.actions[l].apply(e, a.from, a.to);
            }
        } else return;
        i.preventDefault();
      },
      r = (i) => {
        for (let s = 0; s < this.items.length; s++)
          this.items[s].dom.contains(i.target) && this.moveSelection(s);
      };
    (this.list = ve("ul", {
      tabIndex: 0,
      role: "listbox",
      "aria-label": this.view.state.phrase("Diagnostics"),
      onkeydown: n,
      onclick: r,
    })),
      (this.dom = ve(
        "div",
        { class: "cm-panel-lint" },
        this.list,
        ve(
          "button",
          {
            type: "button",
            name: "close",
            "aria-label": this.view.state.phrase("close"),
            onclick: () => ub(this.view),
          },
          ""
        )
      )),
      this.update();
  }
  get selectedIndex() {
    let e = this.view.state.field(Zt).selected;
    if (!e) return -1;
    for (let n = 0; n < this.items.length; n++)
      if (this.items[n].diagnostic == e.diagnostic) return n;
    return -1;
  }
  update() {
    let { diagnostics: e, selected: n } = this.view.state.field(Zt),
      r = 0,
      i = !1,
      s = null;
    for (
      e.between(0, this.view.state.doc.length, (o, l, { spec: a }) => {
        let u = -1,
          c;
        for (let f = r; f < this.items.length; f++)
          if (this.items[f].diagnostic == a.diagnostic) {
            u = f;
            break;
          }
        u < 0
          ? ((c = new cb(this.view, a.diagnostic)),
            this.items.splice(r, 0, c),
            (i = !0))
          : ((c = this.items[u]),
            u > r && (this.items.splice(r, u - r), (i = !0))),
          n && c.diagnostic == n.diagnostic
            ? c.dom.hasAttribute("aria-selected") ||
              (c.dom.setAttribute("aria-selected", "true"), (s = c))
            : c.dom.hasAttribute("aria-selected") &&
              c.dom.removeAttribute("aria-selected"),
          r++;
      });
      r < this.items.length &&
      !(this.items.length == 1 && this.items[0].diagnostic.from < 0);

    )
      (i = !0), this.items.pop();
    this.items.length == 0 &&
      (this.items.push(
        new cb(this.view, {
          from: -1,
          to: -1,
          severity: "info",
          message: this.view.state.phrase("No diagnostics"),
        })
      ),
      (i = !0)),
      s
        ? (this.list.setAttribute("aria-activedescendant", s.id),
          this.view.requestMeasure({
            key: this,
            read: () => ({
              sel: s.dom.getBoundingClientRect(),
              panel: this.list.getBoundingClientRect(),
            }),
            write: ({ sel: o, panel: l }) => {
              let a = l.height / this.list.offsetHeight;
              o.top < l.top
                ? (this.list.scrollTop -= (l.top - o.top) / a)
                : o.bottom > l.bottom &&
                  (this.list.scrollTop += (o.bottom - l.bottom) / a);
            },
          }))
        : this.selectedIndex < 0 &&
          this.list.removeAttribute("aria-activedescendant"),
      i && this.sync();
  }
  sync() {
    let e = this.list.firstChild;
    function n() {
      let r = e;
      (e = r.nextSibling), r.remove();
    }
    for (let r of this.items)
      if (r.dom.parentNode == this.list) {
        for (; e != r.dom; ) n();
        e = r.dom.nextSibling;
      } else this.list.insertBefore(r.dom, e);
    for (; e; ) n();
  }
  moveSelection(e) {
    if (this.selectedIndex < 0) return;
    let n = this.view.state.field(Zt),
      r = Bo(n.diagnostics, this.items[e].diagnostic);
    r &&
      this.view.dispatch({
        selection: { anchor: r.from, head: r.to },
        scrollIntoView: !0,
        effects: OA.of(r),
      });
  }
  static open(e) {
    return new Fh(e);
  }
}
function H6(t, e = 'viewBox="0 0 40 40"') {
  return `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`;
}
function ic(t) {
  return H6(
    `<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,
    'width="6" height="3"'
  );
}
const U6 = B.baseTheme({
    ".cm-diagnostic": {
      padding: "3px 6px 3px 8px",
      marginLeft: "-1px",
      display: "block",
      whiteSpace: "pre-wrap",
    },
    ".cm-diagnostic-error": { borderLeft: "5px solid #d11" },
    ".cm-diagnostic-warning": { borderLeft: "5px solid orange" },
    ".cm-diagnostic-info": { borderLeft: "5px solid #999" },
    ".cm-diagnostic-hint": { borderLeft: "5px solid #66d" },
    ".cm-diagnosticAction": {
      font: "inherit",
      border: "none",
      padding: "2px 4px",
      backgroundColor: "#444",
      color: "white",
      borderRadius: "3px",
      marginLeft: "8px",
      cursor: "pointer",
    },
    ".cm-diagnosticSource": { fontSize: "70%", opacity: 0.7 },
    ".cm-lintRange": {
      backgroundPosition: "left bottom",
      backgroundRepeat: "repeat-x",
      paddingBottom: "0.7px",
    },
    ".cm-lintRange-error": { backgroundImage: ic("#d11") },
    ".cm-lintRange-warning": { backgroundImage: ic("orange") },
    ".cm-lintRange-info": { backgroundImage: ic("#999") },
    ".cm-lintRange-hint": { backgroundImage: ic("#66d") },
    ".cm-lintRange-active": { backgroundColor: "#ffdd9980" },
    ".cm-tooltip-lint": { padding: 0, margin: 0 },
    ".cm-lintPoint": {
      position: "relative",
      "&:after": {
        content: '""',
        position: "absolute",
        bottom: 0,
        left: "-2px",
        borderLeft: "3px solid transparent",
        borderRight: "3px solid transparent",
        borderBottom: "4px solid #d11",
      },
    },
    ".cm-lintPoint-warning": { "&:after": { borderBottomColor: "orange" } },
    ".cm-lintPoint-info": { "&:after": { borderBottomColor: "#999" } },
    ".cm-lintPoint-hint": { "&:after": { borderBottomColor: "#66d" } },
    ".cm-panel.cm-panel-lint": {
      position: "relative",
      "& ul": {
        maxHeight: "100px",
        overflowY: "auto",
        "& [aria-selected]": {
          backgroundColor: "#ddd",
          "& u": { textDecoration: "underline" },
        },
        "&:focus [aria-selected]": {
          background_fallback: "#bdf",
          backgroundColor: "Highlight",
          color_fallback: "white",
          color: "HighlightText",
        },
        "& u": { textDecoration: "none" },
        padding: 0,
        margin: 0,
      },
      "& [name=close]": {
        position: "absolute",
        top: "0",
        right: "2px",
        background: "inherit",
        border: "none",
        font: "inherit",
        padding: 0,
        margin: 0,
      },
    },
  }),
  K6 = [
    Zt,
    B.decorations.compute([Zt], (t) => {
      let { selected: e, panel: n } = t.field(Zt);
      return !e || !n || e.from == e.to
        ? U.none
        : U.set([I6.range(e.from, e.to)]);
    }),
    U4($6, { hideOn: B6 }),
    U6,
  ],
  TA = [
    eD(),
    rD(),
    S4(),
    vL(),
    zD(),
    f4(),
    g4(),
    Z.allowMultipleSelections.of(!0),
    AD(),
    VD(UD, { fallback: !0 }),
    JD(),
    x6(),
    R6(),
    L4(),
    I4(),
    E4(),
    _8(),
    iy.of([..._6, ...b8, ...H8, ...OL, ...ND, ..._A, ...V6]),
  ];
class Cy {
  constructor(e) {
    (this.ranges = e), (this.ranges = this.combineUnstyledRanges(e));
  }
  combineUnstyledRanges(e) {
    return e.reduce(
      (n, r) => (
        r instanceof Xe
          ? n.push(
              new Xe(
                r.id,
                r.left,
                this.combineUnstyledRanges(r.children),
                r.right,
                r.hints
              )
            )
          : n.length > 0 && n[n.length - 1] instanceof J && r instanceof J
            ? (n[n.length - 1] = new J(n[n.length - 1].text + r.text))
            : n.push(r),
        n
      ),
      []
    );
  }
  getPositionRanges(e, n = !1) {
    const r = [],
      i = (o, l, a) => {
        if (o instanceof J)
          return (a > l && a < l + o.length) ||
            (n && (a === l || a === l + o.length))
            ? (r.push(o), [!0, l + o.length])
            : [!1, l + o.length];
        {
          const u = l;
          let c = !1;
          for (const f of o.children) {
            const [h, d] = i(f, l, a);
            (l = d), c || (c = h);
          }
          return c
            ? (r.push(o), [!0, l])
            : (a > u && a < l) || (n && (a === u || a === l))
              ? (r.push(o), [!0, l])
              : [!1, l];
        }
      };
    let s = 0;
    for (const o of this.ranges) {
      const [l, a] = i(o, s, e);
      s = a;
    }
    return r.reverse();
  }
  toLatex() {
    return this.ranges.map((e) => e.toLatex()).join("");
  }
  withContentChange(e, n) {
    const r = [],
      i = (l, a, u) => {
        if (a === null) return [[l], null, u + l.length];
        if (l instanceof J) {
          if (a.to <= u || u + l.length <= a.from)
            return [[l], a, u + l.length];
          if (a.type === "delete") {
            console.log(
              "Deleting from",
              l.text,
              "at",
              a.from - u,
              "to",
              a.to - u
            );
            const c = l.text.substring(0, a.from - u),
              f = l.text.substring(a.to - u);
            return [[new J(c + f)], null, u + l.length];
          } else {
            console.log("Inserting into", l.text, "at", a.from - u);
            const c = l.text.substring(0, a.from - u),
              f = l.text.substring(a.from - u);
            return [[new J(c + a.inserted + f)], null, u + l.length];
          }
        } else {
          if (
            a.type === "insert" &&
            a.from === u &&
            n.has(l.id) &&
            l.children.every((f) => f instanceof J || !n.has(f.id))
          ) {
            console.log("Left edge of active range");
            const f = l.children[0],
              h = u + l.children.reduce((d, p) => d + p.length, 0);
            if (f instanceof J) {
              const d = new J(a.inserted + f.text);
              return [
                [
                  new Xe(
                    l.id,
                    l.left,
                    [d, ...l.children.slice(1)],
                    l.right,
                    l.hints
                  ),
                ],
                null,
                h,
              ];
            } else {
              const d = new J(a.inserted);
              return [
                [new Xe(l.id, l.left, [d, ...l.children], l.right, l.hints)],
                null,
                h,
              ];
            }
          } else if (a.type === "insert" && a.from === u && !n.has(l.id))
            return [
              [new J(a.inserted), l],
              null,
              u + l.children.reduce((f, h) => f + h.length, 0),
            ];
          const c = [];
          for (const f of l.children) {
            const [h, d, p] = i(f, a, u);
            c.push(...h), (u = p), (a = d);
          }
          if (
            a !== null &&
            a.type === "insert" &&
            a.from === u &&
            n.has(l.id) &&
            l.children.every((f) => f instanceof J || !n.has(f.id))
          ) {
            console.log("Right edge of active range");
            const f = l.children[l.children.length - 1];
            if (f instanceof J) {
              const h = new J(f.text + a.inserted);
              return [
                [
                  new Xe(
                    l.id,
                    l.left,
                    [...l.children.slice(0, -1), h],
                    l.right,
                    l.hints
                  ),
                ],
                null,
                u,
              ];
            } else {
              const h = new J(a.inserted);
              return [
                [new Xe(l.id, l.left, [...l.children, h], l.right, l.hints)],
                null,
                u,
              ];
            }
          }
          return [[new Xe(l.id, l.left, c, l.right, l.hints)], o, u];
        }
      };
    let s = 0,
      o = e;
    for (const l of this.ranges) {
      const [a, u, c] = i(l, o, s);
      (s = c), (o = u), r.push(...a);
    }
    return new Cy(r);
  }
}
class Xe {
  constructor(e, n, r, i, s) {
    (this.id = e),
      (this.left = n),
      (this.children = r),
      (this.right = i),
      (this.hints = s);
  }
  get length() {
    return (
      this.left.length +
      this.children.reduce((e, n) => e + n.length, 0) +
      this.right.length
    );
  }
  equals(e) {
    return e instanceof Xe && this.id === e.id;
  }
  toLatex() {
    return (
      this.left + this.children.map((e) => e.toLatex()).join("") + this.right
    );
  }
}
class J {
  constructor(e) {
    this.text = e;
  }
  get length() {
    return this.text.length;
  }
  equals(e) {
    return e instanceof J && this.text === e.text;
  }
  toLatex() {
    return this.text;
  }
}
const zh = (t) => {
    throw new Error("Non-exhaustive match for " + t);
  },
  _y = (t, e) => G6(q6(PA(new Ko(t.children.map((n) => tr(n, e)))))),
  tr = (t, e) => {
    switch (t.type) {
      case "script":
        return e(
          t.withChanges({
            base: tr(t.base, e),
            sub: t.sub ? tr(t.sub, e) : void 0,
            sup: t.sup ? tr(t.sup, e) : void 0,
          })
        );
      case "frac":
        return e(
          t.withChanges({
            numerator: tr(t.numerator, e),
            denominator: tr(t.denominator, e),
          })
        );
      case "symbol":
      case "space":
        return e(t.withChanges({}));
      case "color":
      case "group":
      case "text":
        return e(t.withChanges({ body: t.body.map((n) => tr(n, e)) }));
      case "box":
        return e(t.withChanges({ body: tr(t.body, e) }));
      case "brace":
        return e(t.withChanges({ base: tr(t.base, e) }));
      case "array":
        return e(
          t.withChanges({ body: t.body.map((n) => n.map((r) => tr(r, e))) })
        );
    }
    return zh(t);
  },
  q6 = (t) => new Ko(t.children.map((e, n) => nr(e, `${n}`))),
  nr = (t, e) => {
    switch (t.type) {
      case "script":
        return t.withChanges({
          id: e,
          base: nr(t.base, `${e}.base`),
          sub: t.sub ? nr(t.sub, `${e}.sub`) : void 0,
          sup: t.sup ? nr(t.sup, `${e}.sup`) : void 0,
        });
      case "frac":
        return t.withChanges({
          id: e,
          numerator: nr(t.numerator, `${e}.numerator`),
          denominator: nr(t.denominator, `${e}.denominator`),
        });
      case "symbol":
      case "space":
        return t.withChanges({ id: e });
      case "color":
      case "group":
      case "text":
        return t.withChanges({
          id: e,
          body: t.body.map((n, r) => nr(n, `${e}.${r}`)),
        });
      case "box":
        return t.withChanges({ id: e, body: nr(t.body, `${e}.body`) });
      case "brace":
        return t.withChanges({ id: e, base: nr(t.base, `${e}.base`) });
      case "array":
        return t.withChanges({
          id: e,
          body: t.body.map((n, r) => n.map((i, s) => nr(i, `${e}.${r}.${s}`))),
        });
    }
    return zh(t);
  },
  G6 = (t) => new Ko(t.children.map((e) => rr(e, null))),
  rr = (t, e) => {
    switch (t.type) {
      case "script":
        return t.withChanges({
          parent: e,
          base: rr(t.base, t),
          sub: t.sub ? rr(t.sub, t) : void 0,
          sup: t.sup ? rr(t.sup, t) : void 0,
        });
      case "frac":
        return t.withChanges({
          parent: e,
          numerator: rr(t.numerator, t),
          denominator: rr(t.denominator, t),
        });
      case "symbol":
      case "space":
        return t.withChanges({ parent: e });
      case "color":
      case "group":
      case "text":
        return t.withChanges({ parent: e, body: t.body.map((n) => rr(n, t)) });
      case "box":
        return t.withChanges({ parent: e, body: rr(t.body, t) });
      case "brace":
        return t.withChanges({ parent: e, base: rr(t.base, t) });
      case "array":
        return t.withChanges({
          parent: e,
          body: t.body.map((n) => n.map((r) => rr(r, t))),
        });
    }
    return zh(t);
  },
  PA = (t) => new Ko(t.children.flatMap((e) => Bn(e))),
  ji = (t) => {
    if (t.length === 1) return t[0];
    throw new Error("Expected exactly one element, got " + t.length);
  },
  yp = (t) => {
    if (t.length >= 1) return t;
    throw new Error("Expected at least one element, got " + t.length);
  },
  Bn = (t) => {
    switch (t.type) {
      case "group":
        return t.body.length === 0
          ? []
          : [t.withChanges({ body: yp(t.body.flatMap(Bn)) })];
      case "script":
        return [
          t.withChanges({
            base: ji(Bn(t.base)),
            sub: t.sub ? ji(Bn(t.sub)) : void 0,
            sup: t.sup ? ji(Bn(t.sup)) : void 0,
          }),
        ];
      case "frac":
        return [
          t.withChanges({
            numerator: ji(Bn(t.numerator)),
            denominator: ji(Bn(t.denominator)),
          }),
        ];
      case "symbol":
      case "space":
        return [t];
      case "color":
      case "text":
        return [t.withChanges({ body: yp(t.body.flatMap(Bn)) })];
      case "box":
        return [t.withChanges({ body: ji(Bn(t.body)) })];
      case "brace":
        return [t.withChanges({ base: ji(Bn(t.base)) })];
      case "array":
        return [
          t.withChanges({
            body: t.body.map((e) =>
              yp(
                e.flatMap((n) =>
                  n instanceof Wh && n.body.length === 0 ? [n] : Bn(n)
                )
              )
            ),
          }),
        ];
    }
    return zh(t);
  },
  Y6 = async (t) => {
    const e = { strict: !1, trust: !0, output: "html" };
    console.log("KaTeX Parse tree:", katex.__parse(t, e));
    const n = katex.renderToString(t, e);
    let r = document.getElementById("debug");
    r ||
      ((r = document.createElement("div")),
      (r.id = "debug"),
      (r.style.position = "fixed"),
      (r.style.bottom = "0"),
      (r.style.left = "50%"),
      document.body.appendChild(r)),
      (r.innerHTML = n);
    const i = lu(t);
    console.log("Parsed augmented formula:", i);
  };
window.debugLatex = Y6;
const Ay = (t) => {
    try {
      return lu(t), !0;
    } catch {
      return !1;
    }
  },
  X6 = (t) => {
    console.log("LaTeX:", t.toLatex("no-id")), console.log("New formula:", t);
    const e = t.toLatex("render"),
      n = MathJax.tex2chtml(e),
      r = RA(n);
    return (
      console.log("Render spec:", r),
      MathJax.startup.document.clear(),
      MathJax.startup.document.updateDocument(),
      { renderSpec: r }
    );
  },
  lu = (t) => {
    const n = katex
      .__parse(t, { strict: !1, trust: !0 })
      .map((r, i) => Dt(r, `${i}`));
    return PA(new Ko(n));
  },
  Dt = (t, e) => {
    switch (t.type) {
      case "html": {
        const [n, ...r] = t.body;
        if (n === void 0 || r.length > 0)
          throw new Error("htmlId should only have a single child");
        return Dt(n, t.attributes.id);
      }
      case "supsub": {
        const n = Dt(t.base, `${e}.base`),
          r = t.sub ? Dt(t.sub, `${e}.sub`) : void 0,
          i = t.sup ? Dt(t.sup, `${e}.sup`) : void 0,
          s = new jh(e, n, r, i);
        return (n._parent = s), r && (r._parent = s), i && (i._parent = s), s;
      }
      case "genfrac": {
        const n = Dt(t.numer, `${e}.numer`),
          r = Dt(t.denom, `${e}.denom`),
          i = new Oy(e, n, r);
        return (n._parent = i), (r._parent = i), i;
      }
      case "atom":
      case "mathord":
      case "textord":
        return new Vh(e, t.text);
      case "color": {
        const n = t.body.map((i) => Dt(i, `${e}.body`)),
          r = new ka(e, t.color, n);
        return n.forEach((i) => (i._parent = r)), r;
      }
      case "styling":
      case "ordgroup": {
        if (t.body.length === 1) return Dt(t.body[0], e);
        const n = t.body.map((i, s) => Dt(i, `${e}.${s}`)),
          r = new Wh(e, n);
        return n.forEach((i) => (i._parent = r)), r;
      }
      case "enclose": {
        const n = Dt(t.body, `${e}.body`),
          r = new Ca(e, t.borderColor, t.backgroundColor, n);
        return (n._parent = r), r;
      }
      case "horizBrace": {
        const n = Dt(t.base, `${e}.base`),
          r = new Hh(e, t.isOver, n);
        return (n._parent = r), r;
      }
      case "text": {
        const n = t.body.map((i, s) => Dt(i, `${e}.${s}`)),
          r = new Uh(e, n);
        return n.forEach((i) => (i._parent = r)), r;
      }
      case "spacing":
        return new Ey(e, t.text);
      case "array":
        return new Kh(
          e,
          t.body.map((n, r) => n.map((i, s) => Dt(i, `${e}.${r}.${s}`)))
        );
    }
    throw (
      (console.log("Failed to build:", t),
      new Error("Failed to build formula tree"))
    );
  };
class Ko {
  constructor(e) {
    rt(this, "idToNode", {});
    (this.children = e), console.log("New formula from:", e);
    const n = (r) => {
      (this.idToNode[r.id] = r), r.children.forEach(n);
    };
    e.forEach(n);
  }
  toLatex(e) {
    return this.children.map((n) => n.toLatex(e)).join(" ");
  }
  findNode(e) {
    return this.idToNode[e] ?? null;
  }
  equals(e) {
    return this.toLatex("no-id") === e.toLatex("no-id");
  }
  toStyledRanges() {
    return new Cy(
      this.children.flatMap((e, n) =>
        n < this.children.length - 1
          ? e.toStyledRanges().concat(new J(" "))
          : e.toStyledRanges()
      )
    );
  }
}
class Cr {
  constructor(e) {
    rt(this, "_parent", null);
    this.id = e;
  }
  latexWithId(e, n) {
    switch (e) {
      case "ast":
        return String.raw`\htmlId{${this.id}}{${n}}`;
      case "render":
        return String.raw`\cssId{${this.id}}{${n}}`;
      case "no-id":
      case "content-only":
        return n;
    }
  }
  get ancestors() {
    return this._parent === null
      ? []
      : [this._parent, ...this._parent.ancestors];
  }
}
class jh extends Cr {
  constructor(n, r, i, s) {
    super(n);
    rt(this, "type", "script");
    (this.id = n), (this.base = r), (this.sub = i), (this.sup = s);
  }
  toLatex(n) {
    const r = String.raw`${this.base.toLatex(n)}`,
      i = this.sub ? String.raw`_${this.sub.toLatex(n)}` : "",
      s = this.sup ? String.raw`^${this.sup.toLatex(n)}` : "";
    return this.latexWithId(n, String.raw`{${r}${i}${s}}`);
  }
  withChanges({ id: n, parent: r, base: i, sub: s, sup: o }) {
    const l = new jh(
      n ?? this.id,
      i ?? this.base,
      s ?? this.sub,
      o ?? this.sup
    );
    return (l._parent = r ?? this._parent), l;
  }
  get children() {
    return [
      this.base,
      ...(this.sub ? [this.sub] : []),
      ...(this.sup ? [this.sup] : []),
    ];
  }
  toStyledRanges() {
    return [
      new J("{"),
      ...this.base.toStyledRanges(),
      ...(this.sub ? [new J("_"), ...this.sub.toStyledRanges()] : []),
      ...(this.sup ? [new J("^"), ...this.sup.toStyledRanges()] : []),
      new J("}"),
    ];
  }
}
class Oy extends Cr {
  constructor(n, r, i) {
    super(n);
    rt(this, "type", "frac");
    (this.id = n), (this.numerator = r), (this.denominator = i);
  }
  toLatex(n) {
    const r = this.numerator.toLatex(n),
      i = this.denominator.toLatex(n);
    return this.latexWithId(n, String.raw`\frac{${r}}{${i}}`);
  }
  withChanges({ id: n, parent: r, numerator: i, denominator: s }) {
    const o = new Oy(n ?? this.id, i ?? this.numerator, s ?? this.denominator);
    return (o._parent = r ?? this._parent), o;
  }
  get children() {
    return [this.numerator, this.denominator];
  }
  toStyledRanges() {
    return [
      new J(String.raw`\frac{`),
      ...this.numerator.toStyledRanges(),
      new J("}{"),
      ...this.denominator.toStyledRanges(),
      new J("}"),
    ];
  }
}
class Vh extends Cr {
  constructor(n, r) {
    super(n);
    rt(this, "type", "symbol");
    (this.id = n), (this.value = r);
  }
  toLatex(n) {
    return this.latexWithId(n, this.value.toString());
  }
  withChanges({ id: n, parent: r, value: i }) {
    const s = new Vh(n ?? this.id, i ?? this.value);
    return (s._parent = r ?? this._parent), s;
  }
  get children() {
    return [];
  }
  toStyledRanges() {
    return [new J(this.value)];
  }
}
class ka extends Cr {
  constructor(n, r, i) {
    super(n);
    rt(this, "type", "color");
    (this.id = n), (this.color = r), (this.body = i);
  }
  toLatex(n) {
    const r = this.body.map((i) => i.toLatex(n)).join(" ");
    return n === "content-only"
      ? r
      : this.latexWithId(n, String.raw`\textcolor{${this.color}}{${r}}`);
  }
  withChanges({ id: n, parent: r, color: i, body: s }) {
    const o = new ka(n ?? this.id, i ?? this.color, s ?? this.body);
    return (o._parent = r ?? this._parent), o;
  }
  get children() {
    return this.body;
  }
  toStyledRanges() {
    return [
      new Xe(
        this.id,
        String.raw`\textcolor{${this.color}}{`,
        this.children.flatMap((n, r) =>
          n
            .toStyledRanges()
            .concat(r < this.children.length - 1 ? new J(" ") : [])
        ),
        "}",
        { color: this.color, tooltip: `Color: ${this.color}` }
      ),
    ];
  }
}
class Wh extends Cr {
  constructor(n, r) {
    super(n);
    rt(this, "type", "group");
    (this.id = n), (this.body = r);
  }
  toLatex(n) {
    const r = this.body.map((i) => i.toLatex(n)).join(" ");
    return this.body.length === 1
      ? this.latexWithId(n, r)
      : this.latexWithId(n, String.raw`{${r}}`);
  }
  withChanges({ id: n, parent: r, body: i }) {
    const s = new Wh(n ?? this.id, i ?? this.body);
    return (s._parent = r ?? this._parent), s;
  }
  get children() {
    return this.body;
  }
  toStyledRanges() {
    return this.body.length === 1
      ? this.body[0].toStyledRanges()
      : [
          new J("{"),
          ...this.children.flatMap((n, r) =>
            n
              .toStyledRanges()
              .concat(r < this.children.length - 1 ? new J(" ") : [])
          ),
          new J("}"),
        ];
  }
}
class Ca extends Cr {
  constructor(n, r, i, s) {
    super(n);
    rt(this, "type", "box");
    (this.id = n),
      (this.borderColor = r),
      (this.backgroundColor = i),
      (this.body = s);
  }
  toLatex(n) {
    const r = this.body.toLatex(n);
    return n === "content-only"
      ? r
      : this.latexWithId(
          n,
          String.raw`\fcolorbox{${this.borderColor}}{${this.backgroundColor}}{$${r}$}`
        );
  }
  withChanges({
    id: n,
    parent: r,
    borderColor: i,
    backgroundColor: s,
    body: o,
  }) {
    const l = new Ca(
      n ?? this.id,
      i ?? this.borderColor,
      s ?? this.backgroundColor,
      o ?? this.body
    );
    return (l._parent = r ?? this._parent), l;
  }
  get children() {
    return [this.body];
  }
  toStyledRanges() {
    return [
      new Xe(
        this.id,
        String.raw`\fcolorbox{${this.borderColor}}{${this.backgroundColor}}{$`,
        this.body.toStyledRanges(),
        "$}",
        { color: this.borderColor, tooltip: `Box: ${this.borderColor}` }
      ),
    ];
  }
}
class Hh extends Cr {
  constructor(n, r, i) {
    super(n);
    rt(this, "type", "brace");
    (this.id = n), (this.over = r), (this.base = i);
  }
  toLatex(n) {
    const r = this.base.toLatex(n);
    if (n === "content-only") return r;
    const i = "\\" + (this.over ? "over" : "under") + "brace";
    return this.latexWithId(n, String.raw`${i}{${r}}`);
  }
  withChanges({ id: n, parent: r, over: i, base: s }) {
    const o = new Hh(n ?? this.id, i ?? this.over, s ?? this.base);
    return (o._parent = r ?? this._parent), o;
  }
  get children() {
    return [this.base];
  }
  toStyledRanges() {
    return [
      new Xe(
        this.id,
        this.over ? String.raw`\overbrace{` : String.raw`\underbrace{`,
        this.base.toStyledRanges(),
        "}"
      ),
    ];
  }
}
class Uh extends Cr {
  constructor(n, r) {
    super(n);
    rt(this, "type", "text");
    (this.id = n), (this.body = r);
  }
  toLatex(n) {
    const r = this.body.map((i) => i.toLatex("no-id")).join("");
    return this.latexWithId(n, String.raw`\text{${r}}`);
  }
  withChanges({ id: n, parent: r, body: i }) {
    const s = new Uh(n ?? this.id, i ?? this.body);
    return (s._parent = r ?? this._parent), s;
  }
  get children() {
    return this.body;
  }
  toStyledRanges() {
    return [
      new J(String.raw`\text{`),
      ...this.children.flatMap((n) => n.toStyledRanges()),
      new J(String.raw`}`),
    ];
  }
}
class Ey extends Cr {
  constructor(n, r) {
    super(n);
    rt(this, "type", "space");
    (this.id = n), (this.text = r);
  }
  toLatex(n) {
    return this.text;
  }
  withChanges({ id: n, parent: r, text: i }) {
    const s = new Ey(n ?? this.id, i ?? this.text);
    return (s._parent = r ?? this._parent), s;
  }
  get children() {
    return [];
  }
  toStyledRanges() {
    return [new J(this.text)];
  }
}
class Kh extends Cr {
  constructor(n, r) {
    super(n);
    rt(this, "type", "array");
    (this.id = n), (this.body = r);
  }
  toLatex(n) {
    const r = this.body
      .map((i) => i.map((s) => s.toLatex(n)).join(" & "))
      .join(
        String.raw` \\` +
          `
`
      );
    return n === "content-only"
      ? r
      : this.latexWithId(
          n,
          `\\begin{aligned}
${r}
\\end{aligned}`
        );
  }
  withChanges({ id: n, parent: r, body: i }) {
    const s = new Kh(n ?? this.id, i ?? this.body);
    return (s._parent = r ?? this._parent), s;
  }
  get children() {
    return this.body.flat();
  }
  toStyledRanges() {
    return [
      new Xe(
        this.id,
        String.raw`\begin{aligned}`,
        this.body.flatMap((n, r) =>
          n
            .flatMap((i, s) =>
              i.toStyledRanges().concat(s < n.length - 1 ? new J(" & ") : [])
            )
            .concat(
              r < this.body.length - 1
                ? new J(
                    String.raw` \\` +
                      `
`
                  )
                : []
            )
        ),
        String.raw`\end{aligned}`,
        { noMark: !0 }
      ),
    ];
  }
}
const RA = (t) => {
    const e = Array.from(t.children).map(RA);
    return {
      tagName: t.tagName.toLowerCase(),
      id: t.getAttribute("id") ?? void 0,
      className: t.getAttribute("class") ?? void 0,
      style: "style" in t ? Q6(t) : void 0,
      attrs: Object.fromEntries(
        Array.from(t.attributes)
          .filter((n) => !["id", "class", "style"].includes(n.name))
          .map((n) => [n.name, n.value])
      ),
      children: e,
    };
  },
  Q6 = (t) =>
    Object.fromEntries(
      Array.from(t.style).map((e) => [
        e.replace(/-./g, (n) => n[1].toUpperCase()),
        t.style[e],
      ])
    );
let fb,
  hb,
  db,
  pb,
  mb,
  gb,
  yb,
  vb,
  wb,
  bb,
  xb,
  Sb,
  kb,
  Cb,
  _b,
  Ab,
  Ob,
  Eb,
  Mb,
  Tb,
  Pb,
  Rb,
  Db,
  Lb;
function DA(t, e, n, r, i, s) {
  var o,
    l,
    a,
    u,
    c,
    f,
    h,
    d = Symbol.metadata || Symbol.for("Symbol.metadata"),
    p = Object.defineProperty,
    m = Object.create,
    w = [m(null), m(null)],
    g = e.length;
  function y(S, k, _) {
    return function (M, O) {
      k && ((O = M), (M = t));
      for (var L = 0; L < S.length; L++) O = S[L].apply(M, _ ? [O] : []);
      return _ ? O : M;
    };
  }
  function v(S, k, _, M) {
    if (typeof S != "function" && (M || S !== void 0))
      throw new TypeError(
        k + " must " + (_ || "be") + " a function" + (M ? "" : " or undefined")
      );
    return S;
  }
  function b(S, k, _, M, O, L, F, W, H, Q, Ee) {
    function Le(Ct) {
      if (!Ee(Ct))
        throw new TypeError(
          "Attempted to access private element on non-instance"
        );
    }
    var T = [].concat(k[0]),
      j = k[3],
      z = !F,
      G = O === 1,
      se = O === 3,
      kt = O === 4,
      Ke = O === 2;
    function Ut(Ct, Cs, Hy) {
      return function (pu, Uy) {
        return Cs && ((Uy = pu), (pu = S)), Hy && Hy(pu), me[Ct].call(pu, Uy);
      };
    }
    if (!z) {
      var me = {},
        qr = [],
        Gr = se ? "get" : kt || G ? "set" : "value";
      if (
        (H
          ? (Q || G
              ? (me = {
                  get: Bb(
                    function () {
                      return j(this);
                    },
                    M,
                    "get"
                  ),
                  set: function (Ct) {
                    k[4](this, Ct);
                  },
                })
              : (me[Gr] = j),
            Q || Bb(me[Gr], M, Ke ? "" : Gr))
          : Q || (me = Object.getOwnPropertyDescriptor(S, M)),
        !Q && !H)
      ) {
        if ((l = w[+W][M]) && (l ^ O) != 7)
          throw new Error(
            "Decorating two elements with the same name (" +
              me[Gr].name +
              ") is not supported yet"
          );
        w[+W][M] = O < 3 ? 1 : O;
      }
    }
    for (var Kt = S, du = T.length - 1; du >= 0; du -= _ ? 2 : 1) {
      var Vy = T[du],
        Wy = _ ? T[du - 1] : void 0,
        fd = {},
        Yo = {
          kind: ["field", "accessor", "method", "getter", "setter", "class"][O],
          name: M,
          metadata: o,
          addInitializer: function (Ct, Cs) {
            if (Ct.v)
              throw new Error(
                "attempted to call addInitializer after decoration was finished"
              );
            v(Cs, "An initializer", "be", !0), L.push(Cs);
          }.bind(null, fd),
        };
      if (z)
        (l = Vy.call(Wy, Kt, Yo)),
          (fd.v = 1),
          v(l, "class decorators", "return") && (Kt = l);
      else if (
        ((Yo.static = W),
        (Yo.private = H),
        (l = Yo.access =
          {
            has: H
              ? Ee.bind()
              : function (Ct) {
                  return M in Ct;
                },
          }),
        kt ||
          (l.get = H
            ? Ke
              ? function (Ct) {
                  return Le(Ct), me.value;
                }
              : Ut("get", 0, Le)
            : function (Ct) {
                return Ct[M];
              }),
        Ke ||
          se ||
          (l.set = H
            ? Ut("set", 0, Le)
            : function (Ct, Cs) {
                Ct[M] = Cs;
              }),
        (Kt = Vy.call(Wy, G ? { get: me.get, set: me.set } : me[Gr], Yo)),
        (fd.v = 1),
        G)
      ) {
        if (typeof Kt == "object" && Kt)
          (l = v(Kt.get, "accessor.get")) && (me.get = l),
            (l = v(Kt.set, "accessor.set")) && (me.set = l),
            (l = v(Kt.init, "accessor.init")) && qr.unshift(l);
        else if (Kt !== void 0)
          throw new TypeError(
            "accessor decorators must return an object with get, set, or init properties or undefined"
          );
      } else
        v(Kt, (Q ? "field" : "method") + " decorators", "return") &&
          (Q ? qr.unshift(Kt) : (me[Gr] = Kt));
    }
    return (
      O < 2 && F.push(y(qr, W, 1), y(L, W, 0)),
      Q ||
        z ||
        (H
          ? G
            ? F.splice(-1, 0, Ut("get", W), Ut("set", W))
            : F.push(Ke ? me[Gr] : v.call.bind(me[Gr]))
          : p(S, M, me)),
      Kt
    );
  }
  function x(S) {
    return p(S, d, { configurable: !0, enumerable: !0, value: o });
  }
  return (
    s !== void 0 && (o = s[d]),
    (o = m(o ?? null)),
    (c = []),
    (f = function (S) {
      S && c.push(y(S));
    }),
    (h = function (S, k) {
      for (var _ = 0; _ < n.length; _++) {
        var M = n[_],
          O = M[1],
          L = 7 & O;
        if ((8 & O) == S && !L == k) {
          var F = M[2],
            W = !!M[3],
            H = 16 & O;
          b(
            S ? t : t.prototype,
            M,
            H,
            W ? "#" + F : J6(F),
            L,
            L < 2 ? [] : S ? (u = u || []) : (a = a || []),
            c,
            !!S,
            W,
            k,
            S && W
              ? function (Q) {
                  return eB(Q) === t;
                }
              : i
          );
        }
      }
    }),
    h(8, 0),
    h(0, 0),
    h(8, 1),
    h(0, 1),
    f(a),
    f(u),
    (l = c),
    g || x(t),
    {
      e: l,
      get c() {
        var S = [];
        return g && [x((t = b(t, [e], r, t.name, 5, S))), y(S, 1)];
      },
    }
  );
}
function J6(t) {
  var e = Z6(t, "string");
  return typeof e == "symbol" ? e : String(e);
}
function Z6(t, e) {
  if (typeof t != "object" || !t) return t;
  var n = t[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(t, e || "default");
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function Bb(t, e, n) {
  typeof e == "symbol" && (e = (e = e.description) ? "[" + e + "]" : "");
  try {
    Object.defineProperty(t, "name", {
      configurable: !0,
      value: n ? n + " " + e : e,
    });
  } catch {}
  return t;
}
function eB(t) {
  if (Object(t) !== t)
    throw TypeError(
      "right-hand side of 'in' should be an object, got " +
        (t !== null ? typeof t : "null")
    );
  return t;
}
var Oa, Ea, Ma, Ta;
const zy = class zy {
  constructor() {
    un(this, Oa, (fb(this), hb(this, null)));
    un(this, Ea, (db(this), pb(this, new Ko([]))));
    un(this, Ma, (mb(this), gb(this, !1)));
    un(this, Ta, (yb(this), vb(this, null)));
    wb(this);
  }
  get renderSpec() {
    return an(this, Oa);
  }
  set renderSpec(e) {
    cn(this, Oa, e);
  }
  get augmentedFormula() {
    return an(this, Ea);
  }
  set augmentedFormula(e) {
    cn(this, Ea, e);
  }
  get suppressEditorUpdate() {
    return an(this, Ma);
  }
  set suppressEditorUpdate(e) {
    cn(this, Ma, e);
  }
  get styledRangesOverride() {
    return an(this, Ta);
  }
  set styledRangesOverride(e) {
    cn(this, Ta, e);
  }
  updateFormula(e) {
    if (this.augmentedFormula.equals(e)) {
      console.log("Skipping formula update");
      return;
    }
    const { renderSpec: n } = X6(e);
    (this.renderSpec = n), (this.augmentedFormula = e), K.clearSelection();
  }
  overrideStyledRanges(e) {
    console.log("Overriding styled ranges", e), (this.styledRangesOverride = e);
  }
  get latexWithStyling() {
    return this.augmentedFormula.toLatex("no-id");
  }
  get latexWithoutStyling() {
    return this.augmentedFormula.toLatex("content-only");
  }
  get styledRanges() {
    return this.styledRangesOverride ?? this.augmentedFormula.toStyledRanges();
  }
  get alignColumnIds() {
    if (this.augmentedFormula.children.length !== 1) return null;
    const e = this.augmentedFormula.children[0];
    return e instanceof Kh
      ? (console.log("Found align columns", e.body[0].length, e),
        [...Array(e.body[0].length).keys()].map((n) =>
          e.body.map((r) => r[n].id)
        ))
      : null;
  }
};
(Oa = new WeakMap()),
  (Ea = new WeakMap()),
  (Ma = new WeakMap()),
  (Ta = new WeakMap()),
  ([hb, db, pb, mb, gb, yb, vb, wb, fb] = DA(
    zy,
    [],
    [
      [ue, 1, "renderSpec"],
      [ue, 1, "augmentedFormula"],
      [ue, 1, "suppressEditorUpdate"],
      [ue, 1, "styledRangesOverride"],
      [Me, 2, "updateFormula"],
      [Me, 2, "overrideStyledRanges"],
      [bn, 3, "latexWithStyling"],
      [bn, 3, "latexWithoutStyling"],
      [bn, 3, "styledRanges"],
      [bn, 3, "alignColumnIds"],
    ]
  ).e);
let kg = zy;
const X = new kg();
var Pa, Ra, Da, La, Ba, Na, Ia;
const jy = class jy {
  constructor() {
    un(this, Pa, (bb(this), xb(this, null)));
    un(this, Ra, (Sb(this), kb(this, null)));
    un(this, Da, (Cb(this), _b(this, ue.array())));
    un(this, La, (Ab(this), Ob(this, ue.map())));
    un(this, Ba, (Eb(this), Mb(this, null)));
    un(this, Na, (Tb(this), Pb(this, 4)));
    un(this, Ia, (Rb(this), Db(this, { x: 0, y: 0 })));
    rt(this, "workspaceRef", (Lb(this), null));
    rt(this, "formulaRootRef", null);
    rt(this, "targetRefs", new Map());
  }
  get workspaceBBox() {
    return an(this, Pa);
  }
  set workspaceBBox(e) {
    cn(this, Pa, e);
  }
  get formulaRootBBox() {
    return an(this, Ra);
  }
  set formulaRootBBox(e) {
    cn(this, Ra, e);
  }
  get selected() {
    return an(this, Da);
  }
  set selected(e) {
    cn(this, Da, e);
  }
  get targets() {
    return an(this, La);
  }
  set targets(e) {
    cn(this, La, e);
  }
  get selectionRect() {
    return an(this, Ba);
  }
  set selectionRect(e) {
    cn(this, Ba, e);
  }
  get zoom() {
    return an(this, Na);
  }
  set zoom(e) {
    cn(this, Na, e);
  }
  get pan() {
    return an(this, Ia);
  }
  set pan(e) {
    cn(this, Ia, e);
  }
  initializeWorkspace(e) {
    (this.workspaceRef = e), e && this.updateTargets();
  }
  initializeFormulaRoot(e) {
    (this.formulaRootRef = e),
      e && (console.log("new formula root"), this.updateTargets());
  }
  updateWorkspaceDimensions() {
    if (!this.workspaceRef) return;
    const {
      left: e,
      top: n,
      width: r,
      height: i,
    } = this.workspaceRef.getBoundingClientRect();
    this.workspaceBBox = { left: e, top: n, width: r, height: i };
  }
  addTarget(e, n, r) {
    this.targetRefs.set(e, [n, r]);
  }
  removeTarget(e) {
    this.targetRefs.delete(e);
  }
  clearTargets() {
    console.log("Clearing targets"),
      this.targetRefs.clear(),
      this.targets.clear(),
      this.selected.clear();
  }
  startDragSelection(e, n) {
    this.selectionRect = { x1: e, y1: n, x2: e, y2: n };
  }
  updateDragSelection(e, n) {
    this.selectionRect &&
      ((this.selectionRect.x2 = e), (this.selectionRect.y2 = n));
  }
  stopDragSelection() {
    this.currentlyDragged.forEach((e) => {
      this.selected.includes(e) || this.selected.push(e);
    }),
      (this.selectionRect = null);
  }
  clearSelection() {
    this.selected.clear();
  }
  updateTargets() {
    if (this.workspaceRef) {
      const {
        left: e,
        top: n,
        width: r,
        height: i,
      } = this.workspaceRef.getBoundingClientRect();
      this.workspaceBBox = { left: e, top: n, width: r, height: i };
    }
    if (this.formulaRootRef) {
      const {
          left: e,
          top: n,
          width: r,
          height: i,
        } = this.formulaRootRef.getBoundingClientRect(),
        s = e - this.pan.x,
        o = n - this.pan.y;
      this.formulaRootBBox = { left: s, top: o, width: r, height: i };
    }
    for (const [e, [n, r]] of this.targetRefs) {
      const {
        left: i,
        top: s,
        width: o,
        height: l,
      } = n.getBoundingClientRect();
      if (i === 0 && s === 0 && o === 0 && l === 0) this.targets.delete(e);
      else {
        const a = this.formulaRootBBox.left + this.formulaRootBBox.width / 2,
          u = this.formulaRootBBox.top + this.formulaRootBBox.height / 2,
          c = (i - this.pan.x - a) / this.zoom,
          f = (s - this.pan.y - u) / this.zoom,
          h = o / this.zoom,
          d = l / this.zoom;
        this.targets.set(e, {
          id: e,
          left: c,
          top: f,
          width: h,
          height: d,
          isLeaf: r,
        });
      }
    }
    console.log(this.targetRefs.size, "targets updated");
  }
  toggle(e) {
    this.selected.includes(e)
      ? this.selected.replace(this.selected.filter((n) => n !== e))
      : this.selected.push(e);
  }
  updatePan(e, n) {
    (this.pan.x += e), (this.pan.y += n);
  }
  updateZoom(e) {
    this.zoom = Math.max(1, this.zoom + e / 1e3);
  }
  get selectionRectDimensions() {
    var e, n;
    return this.selectionRect
      ? {
          left:
            Math.min(this.selectionRect.x1, this.selectionRect.x2) -
            (((e = this.workspaceBBox) == null ? void 0 : e.left) ?? 0),
          top:
            Math.min(this.selectionRect.y1, this.selectionRect.y2) -
            (((n = this.workspaceBBox) == null ? void 0 : n.top) ?? 0),
          width: Math.abs(this.selectionRect.x1 - this.selectionRect.x2),
          height: Math.abs(this.selectionRect.y1 - this.selectionRect.y2),
        }
      : null;
  }
  get screenSpaceTargets() {
    return new Map(
      Array.from(this.targets.values()).flatMap((e) => {
        const { left: n, top: r, width: i, height: s } = e,
          { left: o, top: l, width: a, height: u } = this.formulaRootBBox,
          c = o + a / 2,
          f = l + u / 2,
          h = c + n * this.zoom + this.pan.x,
          d = f + r * this.zoom + this.pan.y,
          p = i * this.zoom,
          m = s * this.zoom;
        return [[e.id, { id: e.id, left: h, top: d, width: p, height: m }]];
      })
    );
  }
  get currentlyDragged() {
    if (!this.selectionRect) return new Set();
    const { x1: e, x2: n, y1: r, y2: i } = this.selectionRect,
      s = Math.min(e, n),
      o = Math.max(e, n),
      l = Math.min(r, i),
      a = Math.max(r, i);
    return new Set(
      Array.from(this.targets.values()).flatMap((u) => {
        const { left: c, top: f, width: h, height: d } = u,
          { left: p, top: m, width: w, height: g } = this.formulaRootBBox,
          y = p + w / 2,
          v = m + g / 2,
          b = y + c * this.zoom + this.pan.x,
          x = v + f * this.zoom + this.pan.y,
          S = b + h * this.zoom,
          k = x + d * this.zoom;
        return u.isLeaf && b <= o && S >= s && x <= a && k >= l ? [u.id] : [];
      })
    );
  }
  get resolvedSelection() {
    var r, i;
    const e = new Set([...this.selected, ...this.currentlyDragged]);
    let n = !0;
    for (; n; ) {
      n = !1;
      for (const s of e) {
        const o = X.augmentedFormula.findNode(s);
        if (!o) {
          console.error(`Node with id ${s} not found`);
          continue;
        }
        (r = o._parent) != null &&
        r.children.every((l) => e.has(l.id)) &&
        o._parent.type !== "brace"
          ? (e.add(o._parent.id),
            o._parent.children.forEach((l) => e.delete(l.id)),
            (n = !0))
          : ((i = o._parent) == null ? void 0 : i.children.length) === 1 &&
            o._parent.type !== "brace" &&
            (e.add(o._parent.id), e.delete(o.id), (n = !0));
      }
    }
    return e;
  }
};
(Pa = new WeakMap()),
  (Ra = new WeakMap()),
  (Da = new WeakMap()),
  (La = new WeakMap()),
  (Ba = new WeakMap()),
  (Na = new WeakMap()),
  (Ia = new WeakMap()),
  ([xb, Sb, kb, Cb, _b, Ab, Ob, Eb, Mb, Tb, Pb, Rb, Db, Lb, bb] = DA(
    jy,
    [],
    [
      [ue, 1, "workspaceBBox"],
      [ue, 1, "formulaRootBBox"],
      [ue, 1, "selected"],
      [ue, 1, "targets"],
      [ue, 1, "selectionRect"],
      [ue, 1, "zoom"],
      [ue, 1, "pan"],
      [Me, 2, "initializeWorkspace"],
      [Me, 2, "initializeFormulaRoot"],
      [Me, 2, "updateWorkspaceDimensions"],
      [Me, 2, "addTarget"],
      [Me, 2, "removeTarget"],
      [Me, 2, "clearTargets"],
      [Me, 2, "startDragSelection"],
      [Me, 2, "updateDragSelection"],
      [Me, 2, "stopDragSelection"],
      [Me, 2, "clearSelection"],
      [Me, 2, "updateTargets"],
      [Me, 2, "toggle"],
      [Me, 2, "updatePan"],
      [Me, 2, "updateZoom"],
      [bn, 3, "selectionRectDimensions"],
      [
        bn({
          equals: (e, n) => {
            if (e.size !== n.size) return !1;
            for (const [r, i] of e) {
              const s = n.get(r);
              if (
                !s ||
                i.left !== s.left ||
                i.top !== s.top ||
                i.width !== s.width ||
                i.height !== s.height
              )
                return !1;
            }
            return !0;
          },
        }),
        3,
        "screenSpaceTargets",
      ],
      [
        bn({
          equals: (e, n) =>
            e.size === n.size && Array.from(e).every((r) => n.has(r)),
        }),
        3,
        "currentlyDragged",
      ],
      [
        bn({
          equals: (e, n) =>
            e.size === n.size && Array.from(e).every((r) => n.has(r)),
        }),
        3,
        "resolvedSelection",
      ],
    ]
  ).e);
let Cg = jy;
const K = new Cg(),
  Nb = (t) => {
    const e = new Fr(),
      n = X.styledRanges,
      r = (o, l, a) => {
        var u, c, f;
        if (o instanceof J) return [[], l + o.text.length];
        {
          let h = l,
            d = [];
          for (const p of o.children) {
            const [m, w] = r(p, h, a + 1);
            (h = w), (d = d.concat(m));
          }
          return [
            d.concat(
              (u = o.hints) != null && u.noMark
                ? []
                : [
                    {
                      from: l,
                      to: h,
                      decoration: U.mark({
                        class: N5(
                          'position:relative;pointer-events:none;&::before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;opacity:',
                          t.state.field(gs).has(o.id) ? 0.1 : 0,
                          ";background-color:",
                          ((c = o.hints) == null ? void 0 : c.color) || "black",
                          ';}&::after{content:"";position:absolute;z-index:',
                          a,
                          ";top:",
                          -4 + 4 * a,
                          "px;left:0;width:100%;height:",
                          t.state.field(gs).has(o.id) ? "4px" : "2px",
                          ";background-color:",
                          ((f = o.hints) == null ? void 0 : f.color) || "black",
                          ";}",
                          ""
                        ),
                      }),
                    },
                  ]
            ),
            h,
          ];
        }
      };
    let i = 0,
      s = [];
    for (const o of n.ranges) {
      const [l, a] = r(o, i, 0);
      (i = a), (s = s.concat(l));
    }
    s = s.sort((o, l) => o.from - l.from);
    for (const { from: o, to: l, decoration: a } of s) e.add(o, l, a);
    return e.finish();
  },
  tB = je.fromClass(
    class {
      constructor(t) {
        rt(this, "decorations");
        this.decorations = Nb(t);
      }
      update(t) {
        (t.docChanged ||
          t.viewportChanged ||
          t.state.field(gs) !== t.startState.field(gs)) &&
          (this.decorations = Nb(t.view));
      }
    },
    { decorations: (t) => t.decorations }
  ),
  nB = Z.transactionFilter.of((t) => {
    const e = t.selection;
    if (e && !t.docChanged) {
      const n = t.startState.selection;
      if (
        e.ranges.length === 1 &&
        n.ranges.length === 1 &&
        e.ranges[0].from === e.ranges[0].to &&
        n.ranges[0].from === n.ranges[0].to
      ) {
        const r = X.styledRanges,
          i = r
            .getPositionRanges(e.ranges[0].from)
            .filter((d) => d instanceof Xe),
          s = r
            .getPositionRanges(n.ranges[0].from)
            .filter((d) => d instanceof Xe);
        if (Math.abs(e.ranges[0].from - n.ranges[0].from) > 1)
          return { ...t, effects: [Bc.of(new Set(i.map((d) => d.id)))] };
        const o = r
            .getPositionRanges(e.ranges[0].from, !0)
            .filter((d) => d instanceof Xe),
          l = r
            .getPositionRanges(n.ranges[0].from, !0)
            .filter((d) => d instanceof Xe);
        console.log(
          "Cursor move",
          e.ranges[0].from,
          r,
          i.map((d) => d.id),
          o.map((d) => d.id)
        );
        const a = l.filter((d) => !o.find((p) => p.equals(d))),
          u = t.startState.field(gs),
          c = a.filter((d) => u.has(d.id));
        if (c.length > 0) {
          console.log("Moving out of range", c[c.length - 1].id);
          const d = new Set(
            Array.from(u).filter(
              (p) => p !== c[c.length - 1].id && o.some((m) => m.id === p)
            )
          );
          return { effects: [Bc.of(d)] };
        }
        const h = i
          .filter((d) => !s.find((p) => p.equals(d)))
          .concat(o.filter((d) => l.some((p) => p.equals(d))))
          .filter((d) => !u.has(d.id));
        if (h.length > 0) {
          console.log("Moving into range", h[0].id);
          const d = new Set([...Array.from(u), h[0].id]);
          return { effects: [Bc.of(d)] };
        }
      }
    }
    return t;
  }),
  Bc = Y.define(),
  gs = nt.define({
    create() {
      return new Set();
    },
    update(t, e) {
      for (const n of e.effects)
        n.is(Bc) &&
          (console.log("Setting selection state to", n.value), (t = n.value));
      return t;
    },
  }),
  rB = Z.transactionFilter.of((t) => {
    if (t.docChanged) {
      if (t.newDoc.toString() === X.latexWithoutStyling) return t;
      console.log("Document changed", t);
      const e = [];
      t.changes.iterChanges((i, s, o, l, a) => {
        i < s &&
          (console.log("Deletion:", i, s),
          e.push({ type: "delete", from: i, to: s })),
          o < l &&
            (console.log("Insertion:", o, l, a.toString()),
            e.push({ type: "insert", from: o, to: l, inserted: a.toString() }));
      });
      const n = t.state.field(gs);
      let r = X.styledRanges;
      console.log("Styled ranges before edit:", r.toLatex());
      for (const i of e) r = r.withContentChange(i, n);
      return (
        console.log("Styled ranges after edit:", r.toLatex()),
        X.overrideStyledRanges(r),
        Ay(r.toLatex()) &&
          (console.log("Valid content latex, updating formula"),
          requestAnimationFrame(() => {
            X.updateFormula(lu(r.toLatex()));
          })),
        t
      );
    }
    return t;
  }),
  Ib = R0("button", { target: "e1kpck70" })(
    "height:100%;background-color:",
    (t) => (t.selected ? "white" : "#f0f0f0"),
    ";border:none;border-bottom:",
    (t) => (t.selected ? "2px solid black" : "none"),
    ";padding:0 1rem;"
  );
var iB = { name: "1fwhj2e", styles: "height:2rem;background-color:#f0f0f0" },
  sB = {
    name: "561kwv",
    styles:
      ".cm-editor{height:100%;font-size:1.5rem;}.cm-line{padding:10px 2px 10px 6px!important;}",
  };
const oB = Ht(() => {
    const [t, e] = V.useState("content-only");
    return ze(Lr, {
      children: [
        C(P0, { styles: sB }),
        ze("div", {
          css: iB,
          children: [
            C(Ib, {
              onClick: () => e("full"),
              selected: t === "full",
              children: "Full LaTeX",
            }),
            C(Ib, {
              onClick: () => e("content-only"),
              selected: t === "content-only",
              children: "Content-Only",
            }),
          ],
        }),
        t === "full" ? C(lB, {}) : C(aB, {}),
      ],
    });
  }),
  lB = Ht(() => {
    const [t, e] = V.useState(null),
      [n, r] = V.useState(null),
      [i, s] = V.useState(!0),
      [, o, l] = P2(!1);
    return (
      V.useEffect(() => {
        if (t && (!n || n.contentDOM !== t)) {
          const a = B.updateListener.of((f) => {
              if (
                f.docChanged &&
                f.state.doc.toString() !== X.latexWithStyling
              ) {
                console.log("Editor code changed:", f);
                const h = f.state.doc.toString();
                Ay(h) ? (s(() => !0), X.updateFormula(lu(h))) : s(() => !1);
              }
            }),
            u = new B({
              state: Z.create({
                extensions: [TA, B.lineWrapping, Dh.define(E_), a],
                doc: X.latexWithStyling,
              }),
              parent: t,
            });
          r(u);
          const c = ck(
            () => X.latexWithStyling,
            (f) => {
              if (
                (console.log("Synchronizing editor with new formula", f),
                s(() => !0),
                l.current)
              ) {
                console.log("Suppressing code update");
                return;
              }
              u.dispatch([
                u.state.update({
                  changes: { from: 0, to: u.state.doc.length, insert: f },
                }),
              ]);
            }
          );
          return (
            u.contentDOM.addEventListener("focus", () => {
              o(() => !0);
            }),
            u.contentDOM.addEventListener("blur", () => {
              o(() => !1),
                X.overrideStyledRanges(null),
                u.dispatch([
                  u.state.update({
                    changes: {
                      from: 0,
                      to: u.state.doc.length,
                      insert: X.latexWithStyling,
                    },
                  }),
                ]);
            }),
            () => {
              c(), u.destroy();
            }
          );
        }
      }, [t, r]),
      C("div", {
        css: Ua(
          "width:100%;height:calc(100% - 2rem);border:2px solid ",
          i ? "transparent" : "red",
          ";",
          ""
        ),
        ref: (a) => e(a),
      })
    );
  }),
  aB = Ht(() => {
    const [t, e] = V.useState(null),
      [n, r] = V.useState(null),
      [i, s] = V.useState(!0),
      [, o, l] = P2(!1);
    return (
      V.useEffect(() => {
        if (t && (!n || n.contentDOM !== t)) {
          const a = B.updateListener.of((f) => {
              if (
                f.docChanged &&
                f.state.doc.toString() !== X.latexWithStyling
              ) {
                const h = f.state.doc.toString();
                Ay(h) ? s(() => !0) : s(() => !1);
              }
            }),
            u = new B({
              state: Z.create({
                extensions: [
                  TA,
                  B.lineWrapping,
                  Dh.define(E_),
                  a,
                  tB,
                  gs,
                  nB,
                  rB,
                ],
                doc: X.latexWithoutStyling,
              }),
              parent: t,
            });
          r(u);
          const c = ck(
            () => [X.augmentedFormula, X.latexWithoutStyling],
            ([, f]) => {
              if (l.current) {
                console.log("Suppressing code update");
                return;
              }
              console.log("Synchronizing editor with new formula", f),
                s(() => !0),
                u.dispatch([
                  u.state.update({
                    changes: { from: 0, to: u.state.doc.length, insert: f },
                  }),
                ]);
            }
          );
          return (
            u.contentDOM.addEventListener("focus", () => {
              o(() => !0);
            }),
            u.contentDOM.addEventListener("blur", () => {
              o(() => !1),
                X.overrideStyledRanges(null),
                u.dispatch([
                  u.state.update({
                    changes: {
                      from: 0,
                      to: u.state.doc.length,
                      insert: X.latexWithoutStyling,
                    },
                  }),
                ]);
            }),
            () => {
              c(), u.destroy();
            }
          );
        }
      }, [t, r]),
      C("div", {
        css: Ua(
          "width:100%;height:calc(100% - 2rem);border:2px solid ",
          i ? "transparent" : "red",
          ";",
          ""
        ),
        ref: (a) => e(a),
      })
    );
  });
window.testPositionRanges = (t = !1, e) => {
  const n = X.augmentedFormula.toStyledRanges();
  console.log(X.augmentedFormula.toStyledRanges()),
    e !== void 0
      ? console.log(
          e,
          X.latexWithoutStyling[e],
          n
            .getPositionRanges(e, t)
            .filter((r) => r instanceof Xe)
            .map((r) => r.id)
            .join(", ")
        )
      : console.table(
          X.latexWithoutStyling.split("").map((r, i) => [
            i,
            r,
            n
              .getPositionRanges(i, t)
              .filter((s) => s instanceof Xe)
              .map((s) => s.id)
              .join(", "),
          ])
        );
};
window.testStyledToLatex = () => {
  console.log(X.augmentedFormula.toStyledRanges().toLatex()),
    console.log(X.augmentedFormula.toLatex("no-id"));
};
function Fi(t, e) {
  if (t == null) return {};
  var n = {},
    r = Object.keys(t),
    i,
    s;
  for (s = 0; s < r.length; s++)
    (i = r[s]), !(e.indexOf(i) >= 0) && (n[i] = t[i]);
  return n;
}
function LA(t) {
  var e,
    n,
    r = "";
  if (typeof t == "string" || typeof t == "number") r += t;
  else if (typeof t == "object")
    if (Array.isArray(t)) {
      var i = t.length;
      for (e = 0; e < i; e++)
        t[e] && (n = LA(t[e])) && (r && (r += " "), (r += n));
    } else for (n in t) t[n] && (r && (r += " "), (r += n));
  return r;
}
function uB() {
  for (var t, e, n = 0, r = "", i = arguments.length; n < i; n++)
    (t = arguments[n]) && (e = LA(t)) && (r && (r += " "), (r += e));
  return r;
}
function cB(t, e, n = void 0) {
  const r = {};
  return (
    Object.keys(t).forEach((i) => {
      r[i] = t[i]
        .reduce((s, o) => {
          if (o) {
            const l = e(o);
            l !== "" && s.push(l), n && n[o] && s.push(n[o]);
          }
          return s;
        }, [])
        .join(" ");
    }),
    r
  );
}
var au = {},
  BA = { exports: {} };
(function (t) {
  function e(n) {
    return n && n.__esModule ? n : { default: n };
  }
  (t.exports = e), (t.exports.__esModule = !0), (t.exports.default = t.exports);
})(BA);
var NA = BA.exports;
const fB = Hr(sE);
var vp = { exports: {} },
  $b;
function hB() {
  return (
    $b ||
      (($b = 1),
      (function (t) {
        function e(n, r) {
          if (n == null) return {};
          var i = {},
            s = Object.keys(n),
            o,
            l;
          for (l = 0; l < s.length; l++)
            (o = s[l]), !(r.indexOf(o) >= 0) && (i[o] = n[o]);
          return i;
        }
        (t.exports = e),
          (t.exports.__esModule = !0),
          (t.exports.default = t.exports);
      })(vp)),
    vp.exports
  );
}
var dB = [
    "a",
    "abbr",
    "address",
    "area",
    "article",
    "aside",
    "audio",
    "b",
    "base",
    "bdi",
    "bdo",
    "big",
    "blockquote",
    "body",
    "br",
    "button",
    "canvas",
    "caption",
    "cite",
    "code",
    "col",
    "colgroup",
    "data",
    "datalist",
    "dd",
    "del",
    "details",
    "dfn",
    "dialog",
    "div",
    "dl",
    "dt",
    "em",
    "embed",
    "fieldset",
    "figcaption",
    "figure",
    "footer",
    "form",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "head",
    "header",
    "hgroup",
    "hr",
    "html",
    "i",
    "iframe",
    "img",
    "input",
    "ins",
    "kbd",
    "keygen",
    "label",
    "legend",
    "li",
    "link",
    "main",
    "map",
    "mark",
    "marquee",
    "menu",
    "menuitem",
    "meta",
    "meter",
    "nav",
    "noscript",
    "object",
    "ol",
    "optgroup",
    "option",
    "output",
    "p",
    "param",
    "picture",
    "pre",
    "progress",
    "q",
    "rp",
    "rt",
    "ruby",
    "s",
    "samp",
    "script",
    "section",
    "select",
    "small",
    "source",
    "span",
    "strong",
    "style",
    "sub",
    "summary",
    "sup",
    "table",
    "tbody",
    "td",
    "textarea",
    "tfoot",
    "th",
    "thead",
    "time",
    "title",
    "tr",
    "track",
    "u",
    "ul",
    "var",
    "video",
    "wbr",
    "circle",
    "clipPath",
    "defs",
    "ellipse",
    "foreignObject",
    "g",
    "image",
    "line",
    "linearGradient",
    "mask",
    "path",
    "pattern",
    "polygon",
    "polyline",
    "radialGradient",
    "rect",
    "stop",
    "svg",
    "text",
    "tspan",
  ],
  _g = R0.bind();
dB.forEach(function (t) {
  _g[t] = _g(t);
});
let Ag;
typeof document == "object" && (Ag = Bg({ key: "css", prepend: !0 }));
function pB(t) {
  const { injectFirst: e, children: n } = t;
  return e && Ag ? ki.jsx(xE, { value: Ag, children: n }) : n;
}
function mB(t) {
  return t == null || Object.keys(t).length === 0;
}
function gB(t) {
  const { styles: e, defaultTheme: n = {} } = t,
    r = typeof e == "function" ? (i) => e(mB(i) ? n : i) : e;
  return ki.jsx(P0, { styles: r });
}
function yB(t, e) {
  return _g(t, e);
}
const vB = (t, e) => {
    Array.isArray(t.__emotion_styles) &&
      (t.__emotion_styles = e(t.__emotion_styles));
  },
  wB = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        GlobalStyles: gB,
        StyledEngineProvider: pB,
        ThemeContext: za,
        css: Ua,
        default: yB,
        internal_processStyles: vB,
        keyframes: O5,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  bB = Hr(wB);
function ri(t) {
  if (typeof t != "object" || t === null) return !1;
  const e = Object.getPrototypeOf(t);
  return (
    (e === null ||
      e === Object.prototype ||
      Object.getPrototypeOf(e) === null) &&
    !(Symbol.toStringTag in t) &&
    !(Symbol.iterator in t)
  );
}
function IA(t) {
  if (!ri(t)) return t;
  const e = {};
  return (
    Object.keys(t).forEach((n) => {
      e[n] = IA(t[n]);
    }),
    e
  );
}
function xr(t, e, n = { clone: !0 }) {
  const r = n.clone ? fe({}, t) : t;
  return (
    ri(t) &&
      ri(e) &&
      Object.keys(e).forEach((i) => {
        i !== "__proto__" &&
          (ri(e[i]) && i in t && ri(t[i])
            ? (r[i] = xr(t[i], e[i], n))
            : n.clone
              ? (r[i] = ri(e[i]) ? IA(e[i]) : e[i])
              : (r[i] = e[i]));
      }),
    r
  );
}
const xB = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: xr, isPlainObject: ri },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  SB = Hr(xB);
function _a(t) {
  let e = "https://mui.com/production-error/?code=" + t;
  for (let n = 1; n < arguments.length; n += 1)
    e += "&args[]=" + encodeURIComponent(arguments[n]);
  return "Minified MUI error #" + t + "; visit " + e + " for the full message.";
}
const kB = Object.freeze(
  Object.defineProperty({ __proto__: null, default: _a }, Symbol.toStringTag, {
    value: "Module",
  })
);
function ys(t) {
  if (typeof t != "string") throw new Error(_a(7));
  return t.charAt(0).toUpperCase() + t.slice(1);
}
const CB = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: ys },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  _B = Hr(CB);
var $A = { exports: {} },
  pe = {};
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var My = Symbol.for("react.element"),
  Ty = Symbol.for("react.portal"),
  qh = Symbol.for("react.fragment"),
  Gh = Symbol.for("react.strict_mode"),
  Yh = Symbol.for("react.profiler"),
  Xh = Symbol.for("react.provider"),
  Qh = Symbol.for("react.context"),
  AB = Symbol.for("react.server_context"),
  Jh = Symbol.for("react.forward_ref"),
  Zh = Symbol.for("react.suspense"),
  ed = Symbol.for("react.suspense_list"),
  td = Symbol.for("react.memo"),
  nd = Symbol.for("react.lazy"),
  OB = Symbol.for("react.offscreen"),
  FA;
FA = Symbol.for("react.module.reference");
function Rn(t) {
  if (typeof t == "object" && t !== null) {
    var e = t.$$typeof;
    switch (e) {
      case My:
        switch (((t = t.type), t)) {
          case qh:
          case Yh:
          case Gh:
          case Zh:
          case ed:
            return t;
          default:
            switch (((t = t && t.$$typeof), t)) {
              case AB:
              case Qh:
              case Jh:
              case nd:
              case td:
              case Xh:
                return t;
              default:
                return e;
            }
        }
      case Ty:
        return e;
    }
  }
}
pe.ContextConsumer = Qh;
pe.ContextProvider = Xh;
pe.Element = My;
pe.ForwardRef = Jh;
pe.Fragment = qh;
pe.Lazy = nd;
pe.Memo = td;
pe.Portal = Ty;
pe.Profiler = Yh;
pe.StrictMode = Gh;
pe.Suspense = Zh;
pe.SuspenseList = ed;
pe.isAsyncMode = function () {
  return !1;
};
pe.isConcurrentMode = function () {
  return !1;
};
pe.isContextConsumer = function (t) {
  return Rn(t) === Qh;
};
pe.isContextProvider = function (t) {
  return Rn(t) === Xh;
};
pe.isElement = function (t) {
  return typeof t == "object" && t !== null && t.$$typeof === My;
};
pe.isForwardRef = function (t) {
  return Rn(t) === Jh;
};
pe.isFragment = function (t) {
  return Rn(t) === qh;
};
pe.isLazy = function (t) {
  return Rn(t) === nd;
};
pe.isMemo = function (t) {
  return Rn(t) === td;
};
pe.isPortal = function (t) {
  return Rn(t) === Ty;
};
pe.isProfiler = function (t) {
  return Rn(t) === Yh;
};
pe.isStrictMode = function (t) {
  return Rn(t) === Gh;
};
pe.isSuspense = function (t) {
  return Rn(t) === Zh;
};
pe.isSuspenseList = function (t) {
  return Rn(t) === ed;
};
pe.isValidElementType = function (t) {
  return (
    typeof t == "string" ||
    typeof t == "function" ||
    t === qh ||
    t === Yh ||
    t === Gh ||
    t === Zh ||
    t === ed ||
    t === OB ||
    (typeof t == "object" &&
      t !== null &&
      (t.$$typeof === nd ||
        t.$$typeof === td ||
        t.$$typeof === Xh ||
        t.$$typeof === Qh ||
        t.$$typeof === Jh ||
        t.$$typeof === FA ||
        t.getModuleId !== void 0))
  );
};
pe.typeOf = Rn;
$A.exports = pe;
var Fb = $A.exports;
const EB = /^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;
function zA(t) {
  const e = `${t}`.match(EB);
  return (e && e[1]) || "";
}
function jA(t, e = "") {
  return t.displayName || t.name || zA(t) || e;
}
function zb(t, e, n) {
  const r = jA(e);
  return t.displayName || (r !== "" ? `${n}(${r})` : n);
}
function MB(t) {
  if (t != null) {
    if (typeof t == "string") return t;
    if (typeof t == "function") return jA(t, "Component");
    if (typeof t == "object")
      switch (t.$$typeof) {
        case Fb.ForwardRef:
          return zb(t, t.render, "ForwardRef");
        case Fb.Memo:
          return zb(t, t.type, "memo");
        default:
          return;
      }
  }
}
const TB = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: MB, getFunctionName: zA },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  PB = Hr(TB),
  RB = ["values", "unit", "step"],
  DB = (t) => {
    const e = Object.keys(t).map((n) => ({ key: n, val: t[n] })) || [];
    return (
      e.sort((n, r) => n.val - r.val),
      e.reduce((n, r) => fe({}, n, { [r.key]: r.val }), {})
    );
  };
function VA(t) {
  const {
      values: e = { xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536 },
      unit: n = "px",
      step: r = 5,
    } = t,
    i = Fi(t, RB),
    s = DB(e),
    o = Object.keys(s);
  function l(h) {
    return `@media (min-width:${typeof e[h] == "number" ? e[h] : h}${n})`;
  }
  function a(h) {
    return `@media (max-width:${(typeof e[h] == "number" ? e[h] : h) - r / 100}${n})`;
  }
  function u(h, d) {
    const p = o.indexOf(d);
    return `@media (min-width:${typeof e[h] == "number" ? e[h] : h}${n}) and (max-width:${(p !== -1 && typeof e[o[p]] == "number" ? e[o[p]] : d) - r / 100}${n})`;
  }
  function c(h) {
    return o.indexOf(h) + 1 < o.length ? u(h, o[o.indexOf(h) + 1]) : l(h);
  }
  function f(h) {
    const d = o.indexOf(h);
    return d === 0
      ? l(o[1])
      : d === o.length - 1
        ? a(o[d])
        : u(h, o[o.indexOf(h) + 1]).replace("@media", "@media not all and");
  }
  return fe(
    {
      keys: o,
      values: s,
      up: l,
      down: a,
      between: u,
      only: c,
      not: f,
      unit: n,
    },
    i
  );
}
const LB = { borderRadius: 4 },
  BB = LB;
function Il(t, e) {
  return e ? xr(t, e, { clone: !1 }) : t;
}
const Py = { xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536 },
  jb = {
    keys: ["xs", "sm", "md", "lg", "xl"],
    up: (t) => `@media (min-width:${Py[t]}px)`,
  };
function Wr(t, e, n) {
  const r = t.theme || {};
  if (Array.isArray(e)) {
    const s = r.breakpoints || jb;
    return e.reduce((o, l, a) => ((o[s.up(s.keys[a])] = n(e[a])), o), {});
  }
  if (typeof e == "object") {
    const s = r.breakpoints || jb;
    return Object.keys(e).reduce((o, l) => {
      if (Object.keys(s.values || Py).indexOf(l) !== -1) {
        const a = s.up(l);
        o[a] = n(e[l], l);
      } else {
        const a = l;
        o[a] = e[a];
      }
      return o;
    }, {});
  }
  return n(e);
}
function NB(t = {}) {
  var e;
  return (
    ((e = t.keys) == null
      ? void 0
      : e.reduce((r, i) => {
          const s = t.up(i);
          return (r[s] = {}), r;
        }, {})) || {}
  );
}
function IB(t, e) {
  return t.reduce((n, r) => {
    const i = n[r];
    return (!i || Object.keys(i).length === 0) && delete n[r], n;
  }, e);
}
function rd(t, e, n = !0) {
  if (!e || typeof e != "string") return null;
  if (t && t.vars && n) {
    const r = `vars.${e}`
      .split(".")
      .reduce((i, s) => (i && i[s] ? i[s] : null), t);
    if (r != null) return r;
  }
  return e.split(".").reduce((r, i) => (r && r[i] != null ? r[i] : null), t);
}
function $f(t, e, n, r = n) {
  let i;
  return (
    typeof t == "function"
      ? (i = t(n))
      : Array.isArray(t)
        ? (i = t[n] || r)
        : (i = rd(t, n) || r),
    e && (i = e(i, r, t)),
    i
  );
}
function Ve(t) {
  const { prop: e, cssProperty: n = t.prop, themeKey: r, transform: i } = t,
    s = (o) => {
      if (o[e] == null) return null;
      const l = o[e],
        a = o.theme,
        u = rd(a, r) || {};
      return Wr(o, l, (f) => {
        let h = $f(u, i, f);
        return (
          f === h &&
            typeof f == "string" &&
            (h = $f(u, i, `${e}${f === "default" ? "" : ys(f)}`, f)),
          n === !1 ? h : { [n]: h }
        );
      });
    };
  return (s.propTypes = {}), (s.filterProps = [e]), s;
}
function $B(t) {
  const e = {};
  return (n) => (e[n] === void 0 && (e[n] = t(n)), e[n]);
}
const FB = { m: "margin", p: "padding" },
  zB = {
    t: "Top",
    r: "Right",
    b: "Bottom",
    l: "Left",
    x: ["Left", "Right"],
    y: ["Top", "Bottom"],
  },
  Vb = { marginX: "mx", marginY: "my", paddingX: "px", paddingY: "py" },
  jB = $B((t) => {
    if (t.length > 2)
      if (Vb[t]) t = Vb[t];
      else return [t];
    const [e, n] = t.split(""),
      r = FB[e],
      i = zB[n] || "";
    return Array.isArray(i) ? i.map((s) => r + s) : [r + i];
  }),
  Ry = [
    "m",
    "mt",
    "mr",
    "mb",
    "ml",
    "mx",
    "my",
    "margin",
    "marginTop",
    "marginRight",
    "marginBottom",
    "marginLeft",
    "marginX",
    "marginY",
    "marginInline",
    "marginInlineStart",
    "marginInlineEnd",
    "marginBlock",
    "marginBlockStart",
    "marginBlockEnd",
  ],
  Dy = [
    "p",
    "pt",
    "pr",
    "pb",
    "pl",
    "px",
    "py",
    "padding",
    "paddingTop",
    "paddingRight",
    "paddingBottom",
    "paddingLeft",
    "paddingX",
    "paddingY",
    "paddingInline",
    "paddingInlineStart",
    "paddingInlineEnd",
    "paddingBlock",
    "paddingBlockStart",
    "paddingBlockEnd",
  ];
[...Ry, ...Dy];
function uu(t, e, n, r) {
  var i;
  const s = (i = rd(t, e, !1)) != null ? i : n;
  return typeof s == "number"
    ? (o) => (typeof o == "string" ? o : s * o)
    : Array.isArray(s)
      ? (o) => (typeof o == "string" ? o : s[o])
      : typeof s == "function"
        ? s
        : () => {};
}
function WA(t) {
  return uu(t, "spacing", 8);
}
function cu(t, e) {
  if (typeof e == "string" || e == null) return e;
  const n = Math.abs(e),
    r = t(n);
  return e >= 0 ? r : typeof r == "number" ? -r : `-${r}`;
}
function VB(t, e) {
  return (n) => t.reduce((r, i) => ((r[i] = cu(e, n)), r), {});
}
function WB(t, e, n, r) {
  if (e.indexOf(n) === -1) return null;
  const i = jB(n),
    s = VB(i, r),
    o = t[n];
  return Wr(t, o, s);
}
function HA(t, e) {
  const n = WA(t.theme);
  return Object.keys(t)
    .map((r) => WB(t, e, r, n))
    .reduce(Il, {});
}
function Be(t) {
  return HA(t, Ry);
}
Be.propTypes = {};
Be.filterProps = Ry;
function Ne(t) {
  return HA(t, Dy);
}
Ne.propTypes = {};
Ne.filterProps = Dy;
function HB(t = 8) {
  if (t.mui) return t;
  const e = WA({ spacing: t }),
    n = (...r) =>
      (r.length === 0 ? [1] : r)
        .map((s) => {
          const o = e(s);
          return typeof o == "number" ? `${o}px` : o;
        })
        .join(" ");
  return (n.mui = !0), n;
}
function id(...t) {
  const e = t.reduce(
      (r, i) => (
        i.filterProps.forEach((s) => {
          r[s] = i;
        }),
        r
      ),
      {}
    ),
    n = (r) => Object.keys(r).reduce((i, s) => (e[s] ? Il(i, e[s](r)) : i), {});
  return (
    (n.propTypes = {}),
    (n.filterProps = t.reduce((r, i) => r.concat(i.filterProps), [])),
    n
  );
}
function mn(t) {
  return typeof t != "number" ? t : `${t}px solid`;
}
function Dn(t, e) {
  return Ve({ prop: t, themeKey: "borders", transform: e });
}
const UB = Dn("border", mn),
  KB = Dn("borderTop", mn),
  qB = Dn("borderRight", mn),
  GB = Dn("borderBottom", mn),
  YB = Dn("borderLeft", mn),
  XB = Dn("borderColor"),
  QB = Dn("borderTopColor"),
  JB = Dn("borderRightColor"),
  ZB = Dn("borderBottomColor"),
  eN = Dn("borderLeftColor"),
  tN = Dn("outline", mn),
  nN = Dn("outlineColor"),
  sd = (t) => {
    if (t.borderRadius !== void 0 && t.borderRadius !== null) {
      const e = uu(t.theme, "shape.borderRadius", 4),
        n = (r) => ({ borderRadius: cu(e, r) });
      return Wr(t, t.borderRadius, n);
    }
    return null;
  };
sd.propTypes = {};
sd.filterProps = ["borderRadius"];
id(UB, KB, qB, GB, YB, XB, QB, JB, ZB, eN, sd, tN, nN);
const od = (t) => {
  if (t.gap !== void 0 && t.gap !== null) {
    const e = uu(t.theme, "spacing", 8),
      n = (r) => ({ gap: cu(e, r) });
    return Wr(t, t.gap, n);
  }
  return null;
};
od.propTypes = {};
od.filterProps = ["gap"];
const ld = (t) => {
  if (t.columnGap !== void 0 && t.columnGap !== null) {
    const e = uu(t.theme, "spacing", 8),
      n = (r) => ({ columnGap: cu(e, r) });
    return Wr(t, t.columnGap, n);
  }
  return null;
};
ld.propTypes = {};
ld.filterProps = ["columnGap"];
const ad = (t) => {
  if (t.rowGap !== void 0 && t.rowGap !== null) {
    const e = uu(t.theme, "spacing", 8),
      n = (r) => ({ rowGap: cu(e, r) });
    return Wr(t, t.rowGap, n);
  }
  return null;
};
ad.propTypes = {};
ad.filterProps = ["rowGap"];
const rN = Ve({ prop: "gridColumn" }),
  iN = Ve({ prop: "gridRow" }),
  sN = Ve({ prop: "gridAutoFlow" }),
  oN = Ve({ prop: "gridAutoColumns" }),
  lN = Ve({ prop: "gridAutoRows" }),
  aN = Ve({ prop: "gridTemplateColumns" }),
  uN = Ve({ prop: "gridTemplateRows" }),
  cN = Ve({ prop: "gridTemplateAreas" }),
  fN = Ve({ prop: "gridArea" });
id(od, ld, ad, rN, iN, sN, oN, lN, aN, uN, cN, fN);
function ho(t, e) {
  return e === "grey" ? e : t;
}
const hN = Ve({ prop: "color", themeKey: "palette", transform: ho }),
  dN = Ve({
    prop: "bgcolor",
    cssProperty: "backgroundColor",
    themeKey: "palette",
    transform: ho,
  }),
  pN = Ve({ prop: "backgroundColor", themeKey: "palette", transform: ho });
id(hN, dN, pN);
function Qt(t) {
  return t <= 1 && t !== 0 ? `${t * 100}%` : t;
}
const mN = Ve({ prop: "width", transform: Qt }),
  Ly = (t) => {
    if (t.maxWidth !== void 0 && t.maxWidth !== null) {
      const e = (n) => {
        var r, i;
        const s =
          ((r = t.theme) == null ||
          (r = r.breakpoints) == null ||
          (r = r.values) == null
            ? void 0
            : r[n]) || Py[n];
        return s
          ? ((i = t.theme) == null || (i = i.breakpoints) == null
              ? void 0
              : i.unit) !== "px"
            ? { maxWidth: `${s}${t.theme.breakpoints.unit}` }
            : { maxWidth: s }
          : { maxWidth: Qt(n) };
      };
      return Wr(t, t.maxWidth, e);
    }
    return null;
  };
Ly.filterProps = ["maxWidth"];
const gN = Ve({ prop: "minWidth", transform: Qt }),
  yN = Ve({ prop: "height", transform: Qt }),
  vN = Ve({ prop: "maxHeight", transform: Qt }),
  wN = Ve({ prop: "minHeight", transform: Qt });
Ve({ prop: "size", cssProperty: "width", transform: Qt });
Ve({ prop: "size", cssProperty: "height", transform: Qt });
const bN = Ve({ prop: "boxSizing" });
id(mN, Ly, gN, yN, vN, wN, bN);
const xN = {
    border: { themeKey: "borders", transform: mn },
    borderTop: { themeKey: "borders", transform: mn },
    borderRight: { themeKey: "borders", transform: mn },
    borderBottom: { themeKey: "borders", transform: mn },
    borderLeft: { themeKey: "borders", transform: mn },
    borderColor: { themeKey: "palette" },
    borderTopColor: { themeKey: "palette" },
    borderRightColor: { themeKey: "palette" },
    borderBottomColor: { themeKey: "palette" },
    borderLeftColor: { themeKey: "palette" },
    outline: { themeKey: "borders", transform: mn },
    outlineColor: { themeKey: "palette" },
    borderRadius: { themeKey: "shape.borderRadius", style: sd },
    color: { themeKey: "palette", transform: ho },
    bgcolor: {
      themeKey: "palette",
      cssProperty: "backgroundColor",
      transform: ho,
    },
    backgroundColor: { themeKey: "palette", transform: ho },
    p: { style: Ne },
    pt: { style: Ne },
    pr: { style: Ne },
    pb: { style: Ne },
    pl: { style: Ne },
    px: { style: Ne },
    py: { style: Ne },
    padding: { style: Ne },
    paddingTop: { style: Ne },
    paddingRight: { style: Ne },
    paddingBottom: { style: Ne },
    paddingLeft: { style: Ne },
    paddingX: { style: Ne },
    paddingY: { style: Ne },
    paddingInline: { style: Ne },
    paddingInlineStart: { style: Ne },
    paddingInlineEnd: { style: Ne },
    paddingBlock: { style: Ne },
    paddingBlockStart: { style: Ne },
    paddingBlockEnd: { style: Ne },
    m: { style: Be },
    mt: { style: Be },
    mr: { style: Be },
    mb: { style: Be },
    ml: { style: Be },
    mx: { style: Be },
    my: { style: Be },
    margin: { style: Be },
    marginTop: { style: Be },
    marginRight: { style: Be },
    marginBottom: { style: Be },
    marginLeft: { style: Be },
    marginX: { style: Be },
    marginY: { style: Be },
    marginInline: { style: Be },
    marginInlineStart: { style: Be },
    marginInlineEnd: { style: Be },
    marginBlock: { style: Be },
    marginBlockStart: { style: Be },
    marginBlockEnd: { style: Be },
    displayPrint: {
      cssProperty: !1,
      transform: (t) => ({ "@media print": { display: t } }),
    },
    display: {},
    overflow: {},
    textOverflow: {},
    visibility: {},
    whiteSpace: {},
    flexBasis: {},
    flexDirection: {},
    flexWrap: {},
    justifyContent: {},
    alignItems: {},
    alignContent: {},
    order: {},
    flex: {},
    flexGrow: {},
    flexShrink: {},
    alignSelf: {},
    justifyItems: {},
    justifySelf: {},
    gap: { style: od },
    rowGap: { style: ad },
    columnGap: { style: ld },
    gridColumn: {},
    gridRow: {},
    gridAutoFlow: {},
    gridAutoColumns: {},
    gridAutoRows: {},
    gridTemplateColumns: {},
    gridTemplateRows: {},
    gridTemplateAreas: {},
    gridArea: {},
    position: {},
    zIndex: { themeKey: "zIndex" },
    top: {},
    right: {},
    bottom: {},
    left: {},
    boxShadow: { themeKey: "shadows" },
    width: { transform: Qt },
    maxWidth: { style: Ly },
    minWidth: { transform: Qt },
    height: { transform: Qt },
    maxHeight: { transform: Qt },
    minHeight: { transform: Qt },
    boxSizing: {},
    fontFamily: { themeKey: "typography" },
    fontSize: { themeKey: "typography" },
    fontStyle: { themeKey: "typography" },
    fontWeight: { themeKey: "typography" },
    letterSpacing: {},
    textTransform: {},
    lineHeight: {},
    textAlign: {},
    typography: { cssProperty: !1, themeKey: "typography" },
  },
  fu = xN;
function SN(...t) {
  const e = t.reduce((r, i) => r.concat(Object.keys(i)), []),
    n = new Set(e);
  return t.every((r) => n.size === Object.keys(r).length);
}
function kN(t, e) {
  return typeof t == "function" ? t(e) : t;
}
function UA() {
  function t(n, r, i, s) {
    const o = { [n]: r, theme: i },
      l = s[n];
    if (!l) return { [n]: r };
    const { cssProperty: a = n, themeKey: u, transform: c, style: f } = l;
    if (r == null) return null;
    if (u === "typography" && r === "inherit") return { [n]: r };
    const h = rd(i, u) || {};
    return f
      ? f(o)
      : Wr(o, r, (p) => {
          let m = $f(h, c, p);
          return (
            p === m &&
              typeof p == "string" &&
              (m = $f(h, c, `${n}${p === "default" ? "" : ys(p)}`, p)),
            a === !1 ? m : { [a]: m }
          );
        });
  }
  function e(n) {
    var r;
    const { sx: i, theme: s = {} } = n || {};
    if (!i) return null;
    const o = (r = s.unstable_sxConfig) != null ? r : fu;
    function l(a) {
      let u = a;
      if (typeof a == "function") u = a(s);
      else if (typeof a != "object") return a;
      if (!u) return null;
      const c = NB(s.breakpoints),
        f = Object.keys(c);
      let h = c;
      return (
        Object.keys(u).forEach((d) => {
          const p = kN(u[d], s);
          if (p != null)
            if (typeof p == "object")
              if (o[d]) h = Il(h, t(d, p, s, o));
              else {
                const m = Wr({ theme: s }, p, (w) => ({ [d]: w }));
                SN(m, p) ? (h[d] = e({ sx: p, theme: s })) : (h = Il(h, m));
              }
            else h = Il(h, t(d, p, s, o));
        }),
        IB(f, h)
      );
    }
    return Array.isArray(i) ? i.map(l) : l(i);
  }
  return e;
}
const ud = UA();
ud.filterProps = ["sx"];
function KA(t, e) {
  const n = this;
  return n.vars && typeof n.getColorSchemeSelector == "function"
    ? {
        [n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/, "*:where($1)")]: e,
      }
    : n.palette.mode === t
      ? e
      : {};
}
const CN = ["breakpoints", "palette", "spacing", "shape"];
function By(t = {}, ...e) {
  const { breakpoints: n = {}, palette: r = {}, spacing: i, shape: s = {} } = t,
    o = Fi(t, CN),
    l = VA(n),
    a = HB(i);
  let u = xr(
    {
      breakpoints: l,
      direction: "ltr",
      components: {},
      palette: fe({ mode: "light" }, r),
      spacing: a,
      shape: fe({}, BB, s),
    },
    o
  );
  return (
    (u.applyStyles = KA),
    (u = e.reduce((c, f) => xr(c, f), u)),
    (u.unstable_sxConfig = fe(
      {},
      fu,
      o == null ? void 0 : o.unstable_sxConfig
    )),
    (u.unstable_sx = function (f) {
      return ud({ sx: f, theme: this });
    }),
    u
  );
}
const _N = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        default: By,
        private_createBreakpoints: VA,
        unstable_applyStyles: KA,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  AN = Hr(_N),
  ON = ["sx"],
  EN = (t) => {
    var e, n;
    const r = { systemProps: {}, otherProps: {} },
      i =
        (e =
          t == null || (n = t.theme) == null ? void 0 : n.unstable_sxConfig) !=
        null
          ? e
          : fu;
    return (
      Object.keys(t).forEach((s) => {
        i[s] ? (r.systemProps[s] = t[s]) : (r.otherProps[s] = t[s]);
      }),
      r
    );
  };
function MN(t) {
  const { sx: e } = t,
    n = Fi(t, ON),
    { systemProps: r, otherProps: i } = EN(n);
  let s;
  return (
    Array.isArray(e)
      ? (s = [r, ...e])
      : typeof e == "function"
        ? (s = (...o) => {
            const l = e(...o);
            return ri(l) ? fe({}, r, l) : r;
          })
        : (s = fe({}, r, e)),
    fe({}, i, { sx: s })
  );
}
const TN = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        default: ud,
        extendSxProp: MN,
        unstable_createStyleFunctionSx: UA,
        unstable_defaultSxConfig: fu,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  PN = Hr(TN);
var qo = NA;
Object.defineProperty(au, "__esModule", { value: !0 });
var RN = (au.default = UN);
au.shouldForwardProp = Nc;
au.systemDefaultTheme = void 0;
var hn = qo(fB),
  Og = qo(hB()),
  Wb = FN(bB),
  DN = SB;
qo(_B);
qo(PB);
var LN = qo(AN),
  BN = qo(PN);
const NN = ["ownerState"],
  IN = ["variants"],
  $N = ["name", "slot", "skipVariantsResolver", "skipSx", "overridesResolver"];
function qA(t) {
  if (typeof WeakMap != "function") return null;
  var e = new WeakMap(),
    n = new WeakMap();
  return (qA = function (r) {
    return r ? n : e;
  })(t);
}
function FN(t, e) {
  if (!e && t && t.__esModule) return t;
  if (t === null || (typeof t != "object" && typeof t != "function"))
    return { default: t };
  var n = qA(e);
  if (n && n.has(t)) return n.get(t);
  var r = { __proto__: null },
    i = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var s in t)
    if (s !== "default" && Object.prototype.hasOwnProperty.call(t, s)) {
      var o = i ? Object.getOwnPropertyDescriptor(t, s) : null;
      o && (o.get || o.set) ? Object.defineProperty(r, s, o) : (r[s] = t[s]);
    }
  return (r.default = t), n && n.set(t, r), r;
}
function zN(t) {
  return Object.keys(t).length === 0;
}
function jN(t) {
  return typeof t == "string" && t.charCodeAt(0) > 96;
}
function Nc(t) {
  return t !== "ownerState" && t !== "theme" && t !== "sx" && t !== "as";
}
const VN = (au.systemDefaultTheme = (0, LN.default)()),
  WN = (t) => t && t.charAt(0).toLowerCase() + t.slice(1);
function sc({ defaultTheme: t, theme: e, themeId: n }) {
  return zN(e) ? t : e[n] || e;
}
function HN(t) {
  return t ? (e, n) => n[t] : null;
}
function Ic(t, e) {
  let { ownerState: n } = e,
    r = (0, Og.default)(e, NN);
  const i =
    typeof t == "function" ? t((0, hn.default)({ ownerState: n }, r)) : t;
  if (Array.isArray(i))
    return i.flatMap((s) => Ic(s, (0, hn.default)({ ownerState: n }, r)));
  if (i && typeof i == "object" && Array.isArray(i.variants)) {
    const { variants: s = [] } = i;
    let l = (0, Og.default)(i, IN);
    return (
      s.forEach((a) => {
        let u = !0;
        typeof a.props == "function"
          ? (u = a.props((0, hn.default)({ ownerState: n }, r, n)))
          : Object.keys(a.props).forEach((c) => {
              (n == null ? void 0 : n[c]) !== a.props[c] &&
                r[c] !== a.props[c] &&
                (u = !1);
            }),
          u &&
            (Array.isArray(l) || (l = [l]),
            l.push(
              typeof a.style == "function"
                ? a.style((0, hn.default)({ ownerState: n }, r, n))
                : a.style
            ));
      }),
      l
    );
  }
  return i;
}
function UN(t = {}) {
  const {
      themeId: e,
      defaultTheme: n = VN,
      rootShouldForwardProp: r = Nc,
      slotShouldForwardProp: i = Nc,
    } = t,
    s = (o) =>
      (0, BN.default)(
        (0, hn.default)({}, o, {
          theme: sc((0, hn.default)({}, o, { defaultTheme: n, themeId: e })),
        })
      );
  return (
    (s.__mui_systemSx = !0),
    (o, l = {}) => {
      (0, Wb.internal_processStyles)(o, (x) =>
        x.filter((S) => !(S != null && S.__mui_systemSx))
      );
      const {
          name: a,
          slot: u,
          skipVariantsResolver: c,
          skipSx: f,
          overridesResolver: h = HN(WN(u)),
        } = l,
        d = (0, Og.default)(l, $N),
        p = c !== void 0 ? c : (u && u !== "Root" && u !== "root") || !1,
        m = f || !1;
      let w,
        g = Nc;
      u === "Root" || u === "root"
        ? (g = r)
        : u
          ? (g = i)
          : jN(o) && (g = void 0);
      const y = (0, Wb.default)(
          o,
          (0, hn.default)({ shouldForwardProp: g, label: w }, d)
        ),
        v = (x) =>
          (typeof x == "function" && x.__emotion_real !== x) ||
          (0, DN.isPlainObject)(x)
            ? (S) =>
                Ic(
                  x,
                  (0, hn.default)({}, S, {
                    theme: sc({ theme: S.theme, defaultTheme: n, themeId: e }),
                  })
                )
            : x,
        b = (x, ...S) => {
          let k = v(x);
          const _ = S ? S.map(v) : [];
          a &&
            h &&
            _.push((L) => {
              const F = sc(
                (0, hn.default)({}, L, { defaultTheme: n, themeId: e })
              );
              if (
                !F.components ||
                !F.components[a] ||
                !F.components[a].styleOverrides
              )
                return null;
              const W = F.components[a].styleOverrides,
                H = {};
              return (
                Object.entries(W).forEach(([Q, Ee]) => {
                  H[Q] = Ic(Ee, (0, hn.default)({}, L, { theme: F }));
                }),
                h(L, H)
              );
            }),
            a &&
              !p &&
              _.push((L) => {
                var F;
                const W = sc(
                    (0, hn.default)({}, L, { defaultTheme: n, themeId: e })
                  ),
                  H =
                    W == null ||
                    (F = W.components) == null ||
                    (F = F[a]) == null
                      ? void 0
                      : F.variants;
                return Ic(
                  { variants: H },
                  (0, hn.default)({}, L, { theme: W })
                );
              }),
            m || _.push(s);
          const M = _.length - S.length;
          if (Array.isArray(x) && M > 0) {
            const L = new Array(M).fill("");
            (k = [...x, ...L]), (k.raw = [...x.raw, ...L]);
          }
          const O = y(k, ..._);
          return o.muiName && (O.muiName = o.muiName), O;
        };
      return y.withConfig && (b.withConfig = y.withConfig), b;
    }
  );
}
const Hb = (t) => t,
  KN = () => {
    let t = Hb;
    return {
      configure(e) {
        t = e;
      },
      generate(e) {
        return t(e);
      },
      reset() {
        t = Hb;
      },
    };
  },
  qN = KN(),
  GN = {
    active: "active",
    checked: "checked",
    completed: "completed",
    disabled: "disabled",
    error: "error",
    expanded: "expanded",
    focused: "focused",
    focusVisible: "focusVisible",
    open: "open",
    readOnly: "readOnly",
    required: "required",
    selected: "selected",
  };
function GA(t, e, n = "Mui") {
  const r = GN[e];
  return r ? `${n}-${r}` : `${qN.generate(t)}-${e}`;
}
function YN(t, e) {
  return fe(
    {
      toolbar: {
        minHeight: 56,
        [t.up("xs")]: { "@media (orientation: landscape)": { minHeight: 48 } },
        [t.up("sm")]: { minHeight: 64 },
      },
    },
    e
  );
}
var We = {};
const XN = Hr(kB);
function QN(t, e = Number.MIN_SAFE_INTEGER, n = Number.MAX_SAFE_INTEGER) {
  return Math.max(e, Math.min(t, n));
}
const JN = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: QN },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  ZN = Hr(JN);
var YA = NA;
Object.defineProperty(We, "__esModule", { value: !0 });
We.alpha = ZA;
We.blend = h9;
We.colorChannel = void 0;
var e9 = (We.darken = Iy);
We.decomposeColor = Tn;
We.emphasize = f9;
var t9 = (We.getContrastRatio = l9);
We.getLuminance = Ff;
We.hexToRgb = XA;
We.hslToRgb = JA;
var n9 = (We.lighten = $y);
We.private_safeAlpha = a9;
We.private_safeColorChannel = void 0;
We.private_safeDarken = u9;
We.private_safeEmphasize = eO;
We.private_safeLighten = c9;
We.recomposeColor = Go;
We.rgbToHex = o9;
var Ub = YA(XN),
  r9 = YA(ZN);
function Ny(t, e = 0, n = 1) {
  return (0, r9.default)(t, e, n);
}
function XA(t) {
  t = t.slice(1);
  const e = new RegExp(`.{1,${t.length >= 6 ? 2 : 1}}`, "g");
  let n = t.match(e);
  return (
    n && n[0].length === 1 && (n = n.map((r) => r + r)),
    n
      ? `rgb${n.length === 4 ? "a" : ""}(${n.map((r, i) => (i < 3 ? parseInt(r, 16) : Math.round((parseInt(r, 16) / 255) * 1e3) / 1e3)).join(", ")})`
      : ""
  );
}
function i9(t) {
  const e = t.toString(16);
  return e.length === 1 ? `0${e}` : e;
}
function Tn(t) {
  if (t.type) return t;
  if (t.charAt(0) === "#") return Tn(XA(t));
  const e = t.indexOf("("),
    n = t.substring(0, e);
  if (["rgb", "rgba", "hsl", "hsla", "color"].indexOf(n) === -1)
    throw new Error((0, Ub.default)(9, t));
  let r = t.substring(e + 1, t.length - 1),
    i;
  if (n === "color") {
    if (
      ((r = r.split(" ")),
      (i = r.shift()),
      r.length === 4 && r[3].charAt(0) === "/" && (r[3] = r[3].slice(1)),
      ["srgb", "display-p3", "a98-rgb", "prophoto-rgb", "rec-2020"].indexOf(
        i
      ) === -1)
    )
      throw new Error((0, Ub.default)(10, i));
  } else r = r.split(",");
  return (
    (r = r.map((s) => parseFloat(s))), { type: n, values: r, colorSpace: i }
  );
}
const QA = (t) => {
  const e = Tn(t);
  return e.values
    .slice(0, 3)
    .map((n, r) => (e.type.indexOf("hsl") !== -1 && r !== 0 ? `${n}%` : n))
    .join(" ");
};
We.colorChannel = QA;
const s9 = (t, e) => {
  try {
    return QA(t);
  } catch {
    return t;
  }
};
We.private_safeColorChannel = s9;
function Go(t) {
  const { type: e, colorSpace: n } = t;
  let { values: r } = t;
  return (
    e.indexOf("rgb") !== -1
      ? (r = r.map((i, s) => (s < 3 ? parseInt(i, 10) : i)))
      : e.indexOf("hsl") !== -1 && ((r[1] = `${r[1]}%`), (r[2] = `${r[2]}%`)),
    e.indexOf("color") !== -1
      ? (r = `${n} ${r.join(" ")}`)
      : (r = `${r.join(", ")}`),
    `${e}(${r})`
  );
}
function o9(t) {
  if (t.indexOf("#") === 0) return t;
  const { values: e } = Tn(t);
  return `#${e.map((n, r) => i9(r === 3 ? Math.round(255 * n) : n)).join("")}`;
}
function JA(t) {
  t = Tn(t);
  const { values: e } = t,
    n = e[0],
    r = e[1] / 100,
    i = e[2] / 100,
    s = r * Math.min(i, 1 - i),
    o = (u, c = (u + n / 30) % 12) =>
      i - s * Math.max(Math.min(c - 3, 9 - c, 1), -1);
  let l = "rgb";
  const a = [
    Math.round(o(0) * 255),
    Math.round(o(8) * 255),
    Math.round(o(4) * 255),
  ];
  return (
    t.type === "hsla" && ((l += "a"), a.push(e[3])), Go({ type: l, values: a })
  );
}
function Ff(t) {
  t = Tn(t);
  let e = t.type === "hsl" || t.type === "hsla" ? Tn(JA(t)).values : t.values;
  return (
    (e = e.map(
      (n) => (
        t.type !== "color" && (n /= 255),
        n <= 0.03928 ? n / 12.92 : ((n + 0.055) / 1.055) ** 2.4
      )
    )),
    Number((0.2126 * e[0] + 0.7152 * e[1] + 0.0722 * e[2]).toFixed(3))
  );
}
function l9(t, e) {
  const n = Ff(t),
    r = Ff(e);
  return (Math.max(n, r) + 0.05) / (Math.min(n, r) + 0.05);
}
function ZA(t, e) {
  return (
    (t = Tn(t)),
    (e = Ny(e)),
    (t.type === "rgb" || t.type === "hsl") && (t.type += "a"),
    t.type === "color" ? (t.values[3] = `/${e}`) : (t.values[3] = e),
    Go(t)
  );
}
function a9(t, e, n) {
  try {
    return ZA(t, e);
  } catch {
    return t;
  }
}
function Iy(t, e) {
  if (((t = Tn(t)), (e = Ny(e)), t.type.indexOf("hsl") !== -1))
    t.values[2] *= 1 - e;
  else if (t.type.indexOf("rgb") !== -1 || t.type.indexOf("color") !== -1)
    for (let n = 0; n < 3; n += 1) t.values[n] *= 1 - e;
  return Go(t);
}
function u9(t, e, n) {
  try {
    return Iy(t, e);
  } catch {
    return t;
  }
}
function $y(t, e) {
  if (((t = Tn(t)), (e = Ny(e)), t.type.indexOf("hsl") !== -1))
    t.values[2] += (100 - t.values[2]) * e;
  else if (t.type.indexOf("rgb") !== -1)
    for (let n = 0; n < 3; n += 1) t.values[n] += (255 - t.values[n]) * e;
  else if (t.type.indexOf("color") !== -1)
    for (let n = 0; n < 3; n += 1) t.values[n] += (1 - t.values[n]) * e;
  return Go(t);
}
function c9(t, e, n) {
  try {
    return $y(t, e);
  } catch {
    return t;
  }
}
function f9(t, e = 0.15) {
  return Ff(t) > 0.5 ? Iy(t, e) : $y(t, e);
}
function eO(t, e, n) {
  try {
    return eO(t, e);
  } catch {
    return t;
  }
}
function h9(t, e, n, r = 1) {
  const i = (a, u) =>
      Math.round((a ** (1 / r) * (1 - n) + u ** (1 / r) * n) ** r),
    s = Tn(t),
    o = Tn(e),
    l = [
      i(s.values[0], o.values[0]),
      i(s.values[1], o.values[1]),
      i(s.values[2], o.values[2]),
    ];
  return Go({ type: "rgb", values: l });
}
const d9 = { black: "#000", white: "#fff" },
  Aa = d9,
  p9 = {
    50: "#fafafa",
    100: "#f5f5f5",
    200: "#eeeeee",
    300: "#e0e0e0",
    400: "#bdbdbd",
    500: "#9e9e9e",
    600: "#757575",
    700: "#616161",
    800: "#424242",
    900: "#212121",
    A100: "#f5f5f5",
    A200: "#eeeeee",
    A400: "#bdbdbd",
    A700: "#616161",
  },
  m9 = p9,
  g9 = {
    50: "#f3e5f5",
    100: "#e1bee7",
    200: "#ce93d8",
    300: "#ba68c8",
    400: "#ab47bc",
    500: "#9c27b0",
    600: "#8e24aa",
    700: "#7b1fa2",
    800: "#6a1b9a",
    900: "#4a148c",
    A100: "#ea80fc",
    A200: "#e040fb",
    A400: "#d500f9",
    A700: "#aa00ff",
  },
  Es = g9,
  y9 = {
    50: "#ffebee",
    100: "#ffcdd2",
    200: "#ef9a9a",
    300: "#e57373",
    400: "#ef5350",
    500: "#f44336",
    600: "#e53935",
    700: "#d32f2f",
    800: "#c62828",
    900: "#b71c1c",
    A100: "#ff8a80",
    A200: "#ff5252",
    A400: "#ff1744",
    A700: "#d50000",
  },
  Ms = y9,
  v9 = {
    50: "#fff3e0",
    100: "#ffe0b2",
    200: "#ffcc80",
    300: "#ffb74d",
    400: "#ffa726",
    500: "#ff9800",
    600: "#fb8c00",
    700: "#f57c00",
    800: "#ef6c00",
    900: "#e65100",
    A100: "#ffd180",
    A200: "#ffab40",
    A400: "#ff9100",
    A700: "#ff6d00",
  },
  fl = v9,
  w9 = {
    50: "#e3f2fd",
    100: "#bbdefb",
    200: "#90caf9",
    300: "#64b5f6",
    400: "#42a5f5",
    500: "#2196f3",
    600: "#1e88e5",
    700: "#1976d2",
    800: "#1565c0",
    900: "#0d47a1",
    A100: "#82b1ff",
    A200: "#448aff",
    A400: "#2979ff",
    A700: "#2962ff",
  },
  Ts = w9,
  b9 = {
    50: "#e1f5fe",
    100: "#b3e5fc",
    200: "#81d4fa",
    300: "#4fc3f7",
    400: "#29b6f6",
    500: "#03a9f4",
    600: "#039be5",
    700: "#0288d1",
    800: "#0277bd",
    900: "#01579b",
    A100: "#80d8ff",
    A200: "#40c4ff",
    A400: "#00b0ff",
    A700: "#0091ea",
  },
  Ps = b9,
  x9 = {
    50: "#e8f5e9",
    100: "#c8e6c9",
    200: "#a5d6a7",
    300: "#81c784",
    400: "#66bb6a",
    500: "#4caf50",
    600: "#43a047",
    700: "#388e3c",
    800: "#2e7d32",
    900: "#1b5e20",
    A100: "#b9f6ca",
    A200: "#69f0ae",
    A400: "#00e676",
    A700: "#00c853",
  },
  Rs = x9,
  S9 = ["mode", "contrastThreshold", "tonalOffset"],
  Kb = {
    text: {
      primary: "rgba(0, 0, 0, 0.87)",
      secondary: "rgba(0, 0, 0, 0.6)",
      disabled: "rgba(0, 0, 0, 0.38)",
    },
    divider: "rgba(0, 0, 0, 0.12)",
    background: { paper: Aa.white, default: Aa.white },
    action: {
      active: "rgba(0, 0, 0, 0.54)",
      hover: "rgba(0, 0, 0, 0.04)",
      hoverOpacity: 0.04,
      selected: "rgba(0, 0, 0, 0.08)",
      selectedOpacity: 0.08,
      disabled: "rgba(0, 0, 0, 0.26)",
      disabledBackground: "rgba(0, 0, 0, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(0, 0, 0, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.12,
    },
  },
  wp = {
    text: {
      primary: Aa.white,
      secondary: "rgba(255, 255, 255, 0.7)",
      disabled: "rgba(255, 255, 255, 0.5)",
      icon: "rgba(255, 255, 255, 0.5)",
    },
    divider: "rgba(255, 255, 255, 0.12)",
    background: { paper: "#121212", default: "#121212" },
    action: {
      active: Aa.white,
      hover: "rgba(255, 255, 255, 0.08)",
      hoverOpacity: 0.08,
      selected: "rgba(255, 255, 255, 0.16)",
      selectedOpacity: 0.16,
      disabled: "rgba(255, 255, 255, 0.3)",
      disabledBackground: "rgba(255, 255, 255, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(255, 255, 255, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.24,
    },
  };
function qb(t, e, n, r) {
  const i = r.light || r,
    s = r.dark || r * 1.5;
  t[e] ||
    (t.hasOwnProperty(n)
      ? (t[e] = t[n])
      : e === "light"
        ? (t.light = n9(t.main, i))
        : e === "dark" && (t.dark = e9(t.main, s)));
}
function k9(t = "light") {
  return t === "dark"
    ? { main: Ts[200], light: Ts[50], dark: Ts[400] }
    : { main: Ts[700], light: Ts[400], dark: Ts[800] };
}
function C9(t = "light") {
  return t === "dark"
    ? { main: Es[200], light: Es[50], dark: Es[400] }
    : { main: Es[500], light: Es[300], dark: Es[700] };
}
function _9(t = "light") {
  return t === "dark"
    ? { main: Ms[500], light: Ms[300], dark: Ms[700] }
    : { main: Ms[700], light: Ms[400], dark: Ms[800] };
}
function A9(t = "light") {
  return t === "dark"
    ? { main: Ps[400], light: Ps[300], dark: Ps[700] }
    : { main: Ps[700], light: Ps[500], dark: Ps[900] };
}
function O9(t = "light") {
  return t === "dark"
    ? { main: Rs[400], light: Rs[300], dark: Rs[700] }
    : { main: Rs[800], light: Rs[500], dark: Rs[900] };
}
function E9(t = "light") {
  return t === "dark"
    ? { main: fl[400], light: fl[300], dark: fl[700] }
    : { main: "#ed6c02", light: fl[500], dark: fl[900] };
}
function M9(t) {
  const {
      mode: e = "light",
      contrastThreshold: n = 3,
      tonalOffset: r = 0.2,
    } = t,
    i = Fi(t, S9),
    s = t.primary || k9(e),
    o = t.secondary || C9(e),
    l = t.error || _9(e),
    a = t.info || A9(e),
    u = t.success || O9(e),
    c = t.warning || E9(e);
  function f(m) {
    return t9(m, wp.text.primary) >= n ? wp.text.primary : Kb.text.primary;
  }
  const h = ({
      color: m,
      name: w,
      mainShade: g = 500,
      lightShade: y = 300,
      darkShade: v = 700,
    }) => {
      if (
        ((m = fe({}, m)),
        !m.main && m[g] && (m.main = m[g]),
        !m.hasOwnProperty("main"))
      )
        throw new Error(_a(11, w ? ` (${w})` : "", g));
      if (typeof m.main != "string")
        throw new Error(_a(12, w ? ` (${w})` : "", JSON.stringify(m.main)));
      return (
        qb(m, "light", y, r),
        qb(m, "dark", v, r),
        m.contrastText || (m.contrastText = f(m.main)),
        m
      );
    },
    d = { dark: wp, light: Kb };
  return xr(
    fe(
      {
        common: fe({}, Aa),
        mode: e,
        primary: h({ color: s, name: "primary" }),
        secondary: h({
          color: o,
          name: "secondary",
          mainShade: "A400",
          lightShade: "A200",
          darkShade: "A700",
        }),
        error: h({ color: l, name: "error" }),
        warning: h({ color: c, name: "warning" }),
        info: h({ color: a, name: "info" }),
        success: h({ color: u, name: "success" }),
        grey: m9,
        contrastThreshold: n,
        getContrastText: f,
        augmentColor: h,
        tonalOffset: r,
      },
      d[e]
    ),
    i
  );
}
const T9 = [
  "fontFamily",
  "fontSize",
  "fontWeightLight",
  "fontWeightRegular",
  "fontWeightMedium",
  "fontWeightBold",
  "htmlFontSize",
  "allVariants",
  "pxToRem",
];
function P9(t) {
  return Math.round(t * 1e5) / 1e5;
}
const Gb = { textTransform: "uppercase" },
  Yb = '"Roboto", "Helvetica", "Arial", sans-serif';
function R9(t, e) {
  const n = typeof e == "function" ? e(t) : e,
    {
      fontFamily: r = Yb,
      fontSize: i = 14,
      fontWeightLight: s = 300,
      fontWeightRegular: o = 400,
      fontWeightMedium: l = 500,
      fontWeightBold: a = 700,
      htmlFontSize: u = 16,
      allVariants: c,
      pxToRem: f,
    } = n,
    h = Fi(n, T9),
    d = i / 14,
    p = f || ((g) => `${(g / u) * d}rem`),
    m = (g, y, v, b, x) =>
      fe(
        { fontFamily: r, fontWeight: g, fontSize: p(y), lineHeight: v },
        r === Yb ? { letterSpacing: `${P9(b / y)}em` } : {},
        x,
        c
      ),
    w = {
      h1: m(s, 96, 1.167, -1.5),
      h2: m(s, 60, 1.2, -0.5),
      h3: m(o, 48, 1.167, 0),
      h4: m(o, 34, 1.235, 0.25),
      h5: m(o, 24, 1.334, 0),
      h6: m(l, 20, 1.6, 0.15),
      subtitle1: m(o, 16, 1.75, 0.15),
      subtitle2: m(l, 14, 1.57, 0.1),
      body1: m(o, 16, 1.5, 0.15),
      body2: m(o, 14, 1.43, 0.15),
      button: m(l, 14, 1.75, 0.4, Gb),
      caption: m(o, 12, 1.66, 0.4),
      overline: m(o, 12, 2.66, 1, Gb),
      inherit: {
        fontFamily: "inherit",
        fontWeight: "inherit",
        fontSize: "inherit",
        lineHeight: "inherit",
        letterSpacing: "inherit",
      },
    };
  return xr(
    fe(
      {
        htmlFontSize: u,
        pxToRem: p,
        fontFamily: r,
        fontSize: i,
        fontWeightLight: s,
        fontWeightRegular: o,
        fontWeightMedium: l,
        fontWeightBold: a,
      },
      w
    ),
    h,
    { clone: !1 }
  );
}
const D9 = 0.2,
  L9 = 0.14,
  B9 = 0.12;
function _e(...t) {
  return [
    `${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${D9})`,
    `${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${L9})`,
    `${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${B9})`,
  ].join(",");
}
const N9 = [
    "none",
    _e(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0),
    _e(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0),
    _e(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0),
    _e(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0),
    _e(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0),
    _e(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0),
    _e(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1),
    _e(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2),
    _e(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2),
    _e(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3),
    _e(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3),
    _e(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4),
    _e(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4),
    _e(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4),
    _e(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5),
    _e(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5),
    _e(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5),
    _e(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6),
    _e(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6),
    _e(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7),
    _e(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7),
    _e(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7),
    _e(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8),
    _e(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8),
  ],
  I9 = ["duration", "easing", "delay"],
  $9 = {
    easeInOut: "cubic-bezier(0.4, 0, 0.2, 1)",
    easeOut: "cubic-bezier(0.0, 0, 0.2, 1)",
    easeIn: "cubic-bezier(0.4, 0, 1, 1)",
    sharp: "cubic-bezier(0.4, 0, 0.6, 1)",
  },
  F9 = {
    shortest: 150,
    shorter: 200,
    short: 250,
    standard: 300,
    complex: 375,
    enteringScreen: 225,
    leavingScreen: 195,
  };
function Xb(t) {
  return `${Math.round(t)}ms`;
}
function z9(t) {
  if (!t) return 0;
  const e = t / 36;
  return Math.round((4 + 15 * e ** 0.25 + e / 5) * 10);
}
function j9(t) {
  const e = fe({}, $9, t.easing),
    n = fe({}, F9, t.duration);
  return fe(
    {
      getAutoHeightDuration: z9,
      create: (i = ["all"], s = {}) => {
        const {
          duration: o = n.standard,
          easing: l = e.easeInOut,
          delay: a = 0,
        } = s;
        return (
          Fi(s, I9),
          (Array.isArray(i) ? i : [i])
            .map(
              (u) =>
                `${u} ${typeof o == "string" ? o : Xb(o)} ${l} ${typeof a == "string" ? a : Xb(a)}`
            )
            .join(",")
        );
      },
    },
    t,
    { easing: e, duration: n }
  );
}
const V9 = {
    mobileStepper: 1e3,
    fab: 1050,
    speedDial: 1050,
    appBar: 1100,
    drawer: 1200,
    modal: 1300,
    snackbar: 1400,
    tooltip: 1500,
  },
  W9 = V9,
  H9 = [
    "breakpoints",
    "mixins",
    "spacing",
    "palette",
    "transitions",
    "typography",
    "shape",
  ];
function U9(t = {}, ...e) {
  const {
      mixins: n = {},
      palette: r = {},
      transitions: i = {},
      typography: s = {},
    } = t,
    o = Fi(t, H9);
  if (t.vars) throw new Error(_a(18));
  const l = M9(r),
    a = By(t);
  let u = xr(a, {
    mixins: YN(a.breakpoints, n),
    palette: l,
    shadows: N9.slice(),
    typography: R9(l, s),
    transitions: j9(i),
    zIndex: fe({}, W9),
  });
  return (
    (u = xr(u, o)),
    (u = e.reduce((c, f) => xr(c, f), u)),
    (u.unstable_sxConfig = fe(
      {},
      fu,
      o == null ? void 0 : o.unstable_sxConfig
    )),
    (u.unstable_sx = function (f) {
      return ud({ sx: f, theme: this });
    }),
    u
  );
}
const K9 = U9(),
  tO = K9,
  nO = "$$material";
function q9(t) {
  return t !== "ownerState" && t !== "theme" && t !== "sx" && t !== "as";
}
const G9 = (t) => q9(t) && t !== "classes",
  Y9 = G9,
  X9 = RN({ themeId: nO, defaultTheme: tO, rootShouldForwardProp: Y9 });
function rO(t, e) {
  const n = fe({}, e);
  return (
    Object.keys(t).forEach((r) => {
      if (r.toString().match(/^(components|slots)$/)) n[r] = fe({}, t[r], n[r]);
      else if (r.toString().match(/^(componentsProps|slotProps)$/)) {
        const i = t[r] || {},
          s = e[r];
        (n[r] = {}),
          !s || !Object.keys(s)
            ? (n[r] = i)
            : !i || !Object.keys(i)
              ? (n[r] = s)
              : ((n[r] = fe({}, s)),
                Object.keys(i).forEach((o) => {
                  n[r][o] = rO(i[o], s[o]);
                }));
      } else n[r] === void 0 && (n[r] = t[r]);
    }),
    n
  );
}
function Q9(t) {
  const { theme: e, name: n, props: r } = t;
  return !e ||
    !e.components ||
    !e.components[n] ||
    !e.components[n].defaultProps
    ? r
    : rO(e.components[n].defaultProps, r);
}
function J9(t) {
  return Object.keys(t).length === 0;
}
function Z9(t = null) {
  const e = V.useContext(za);
  return !e || J9(e) ? t : e;
}
const eI = By();
function tI(t = eI) {
  return Z9(t);
}
function nI({ props: t, name: e, defaultTheme: n, themeId: r }) {
  let i = tI(n);
  return r && (i = i[r] || i), Q9({ theme: i, name: e, props: t });
}
function rI({ props: t, name: e }) {
  return nI({ props: t, name: e, defaultTheme: tO, themeId: nO });
}
function iI(t, e, n = "Mui") {
  const r = {};
  return (
    e.forEach((i) => {
      r[i] = GA(t, i, n);
    }),
    r
  );
}
function sI(t) {
  return GA("MuiIcon", t);
}
iI("MuiIcon", [
  "root",
  "colorPrimary",
  "colorSecondary",
  "colorAction",
  "colorError",
  "colorDisabled",
  "fontSizeInherit",
  "fontSizeSmall",
  "fontSizeMedium",
  "fontSizeLarge",
]);
const oI = ["baseClassName", "className", "color", "component", "fontSize"],
  lI = (t) => {
    const { color: e, fontSize: n, classes: r } = t,
      i = {
        root: ["root", e !== "inherit" && `color${ys(e)}`, `fontSize${ys(n)}`],
      };
    return cB(i, sI, r);
  },
  aI = X9("span", {
    name: "MuiIcon",
    slot: "Root",
    overridesResolver: (t, e) => {
      const { ownerState: n } = t;
      return [
        e.root,
        n.color !== "inherit" && e[`color${ys(n.color)}`],
        e[`fontSize${ys(n.fontSize)}`],
      ];
    },
  })(({ theme: t, ownerState: e }) => ({
    userSelect: "none",
    width: "1em",
    height: "1em",
    overflow: "hidden",
    display: "inline-block",
    textAlign: "center",
    flexShrink: 0,
    fontSize: {
      inherit: "inherit",
      small: t.typography.pxToRem(20),
      medium: t.typography.pxToRem(24),
      large: t.typography.pxToRem(36),
    }[e.fontSize],
    color: {
      primary: (t.vars || t).palette.primary.main,
      secondary: (t.vars || t).palette.secondary.main,
      info: (t.vars || t).palette.info.main,
      success: (t.vars || t).palette.success.main,
      warning: (t.vars || t).palette.warning.main,
      action: (t.vars || t).palette.action.active,
      error: (t.vars || t).palette.error.main,
      disabled: (t.vars || t).palette.action.disabled,
      inherit: void 0,
    }[e.color],
  })),
  iO = V.forwardRef(function (e, n) {
    const r = rI({ props: e, name: "MuiIcon" }),
      {
        baseClassName: i = "material-icons",
        className: s,
        color: o = "inherit",
        component: l = "span",
        fontSize: a = "medium",
      } = r,
      u = Fi(r, oI),
      c = fe({}, r, { baseClassName: i, color: o, component: l, fontSize: a }),
      f = lI(c);
    return ki.jsx(
      aI,
      fe(
        {
          as: l,
          className: uB(i, "notranslate", f.root, s),
          ownerState: c,
          "aria-hidden": !0,
          ref: n,
        },
        u
      )
    );
  });
iO.muiName = "Icon";
const _r = iO,
  uI =
    "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2012.5023H6.16112L7.29526%209.3053H12.3408L13.466%2012.5023H15.6272L10.9299%200H8.6973L4%2012.5023ZM7.94716%207.49247L9.76%202.32186H9.86716L11.68%207.49247H7.94716Z'%20fill='black'/%3e%3cpath%20d='M0.103975%2013.6455L1.55298%2013.6455L1.55298%2014.1745C1.55298%2014.7265%201.69098%2015.0945%201.96698%2015.2785C2.22764%2015.4778%202.70298%2015.5775%203.39298%2015.5775C4.05231%2015.5775%204.68864%2015.5545%205.30198%2015.5085C5.93064%2015.4778%206.61298%2015.4625%207.34898%2015.4625C8.16164%2015.4625%208.75964%2015.5852%209.14298%2015.8305C9.54164%2016.0758%209.80998%2016.4668%209.94798%2017.0035L10.04%2017.0035C10.178%2016.4668%2010.4386%2016.0758%2010.822%2015.8305C11.2206%2015.5852%2011.8263%2015.4625%2012.639%2015.4625C13.375%2015.4625%2014.0496%2015.4778%2014.663%2015.5085C15.2916%2015.5545%2015.9356%2015.5775%2016.595%2015.5775C17.285%2015.5775%2017.7603%2015.4778%2018.021%2015.2785C18.297%2015.0945%2018.435%2014.7265%2018.435%2014.1745L18.435%2013.6455L19.884%2013.6455L19.884%2014.8875C19.884%2015.8535%2019.6616%2016.5665%2019.217%2017.0265C18.7723%2017.4865%2017.9366%2017.7165%2016.71%2017.7165C15.882%2017.7165%2015.169%2017.6782%2014.571%2017.6015C13.973%2017.5402%2013.2906%2017.5095%2012.524%2017.5095C12.11%2017.5095%2011.719%2017.6475%2011.351%2017.9235C10.9983%2018.1995%2010.8143%2018.7208%2010.799%2019.4875L9.18898%2019.4875C9.17364%2018.7208%208.98198%2018.1995%208.61398%2017.9235C8.26131%2017.6475%207.87031%2017.5095%207.44098%2017.5095C6.68964%2017.5095%206.01498%2017.5402%205.41698%2017.6015C4.81898%2017.6782%204.10598%2017.7165%203.27798%2017.7165C2.06664%2017.7165%201.23864%2017.4865%200.793975%2017.0265C0.333975%2016.5665%200.103975%2015.8535%200.103975%2014.8875L0.103975%2013.6455Z'%20fill='black'/%3e%3c/svg%3e",
  cI =
    "data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2017%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2018.5693H17V22H0V18.5693ZM3.23187%2013.5133H5.22855L6.2764%2010.6986H10.9381L11.9777%2013.5133H13.9744L9.63446%202.5061H7.57177L3.23187%2013.5133ZM6.8787%209.10258L8.55361%204.5503H8.65262L10.3275%209.10258H6.8787Z'%20fill='black'/%3e%3cpath%20d='M15.1111%201.79996V14.3997H1.88889V1.79996H15.1111ZM15.1111%200H1.88889C0.85%200%200%200.809982%200%201.79996V14.3997C0%2015.3896%200.85%2016.1996%201.88889%2016.1996H15.1111C16.15%2016.1996%2017%2015.3896%2017%2014.3997V1.79996C17%200.809982%2016.15%200%2015.1111%200Z'%20fill='black'/%3e%3c/svg%3e",
  Qb =
    "data:image/svg+xml,%3csvg%20width='32'%20height='64'%20viewBox='0%200%2032%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2012V20C8%2022.2%206.2%2024%204%2024H0V40H4C6.2%2040%208%2041.8%208%2044V52C8%2058.6%2013.4%2064%2020%2064H32V56H20C17.8%2056%2016%2054.2%2016%2052V44C16%2038.8%2012.64%2034.32%208%2032.68V31.32C12.64%2029.68%2016%2025.2%2016%2020V12C16%209.8%2017.8%208%2020%208H32V0H20C13.4%200%208%205.4%208%2012Z'%20fill='black'/%3e%3c/svg%3e",
  fI =
    "data:image/svg+xml,%3csvg%20width='1'%20height='19'%20viewBox='0%200%201%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cline%20x1='0.5'%20y1='-2.18557e-08'%20x2='0.500001'%20y2='19'%20stroke='%23B1B1B1'/%3e%3c/svg%3e",
  hI =
    "data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_246_5575)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.04744%2011.3945C7.34926%205.97742%2011.0087%202.17927%2017.8942%200C13.681%204.71137%2021.4814%209.81708%2021.9148%2014.7152C22.9259%2013.2209%2023.5037%2011.2492%2023.6241%208.59254C28.7762%2015.5869%2024.4908%2026.9814%2013.1514%2025.3418C12.0921%2025.1965%2011.105%2024.9059%2010.1901%2024.4908C6.0492%2022.5814%203.56946%2018.4304%203.56946%2014.4662C3.56946%2011.9341%204.82137%209.67179%206.45848%207.88687C6.67516%209.63029%207.13259%2010.9586%208.04744%2011.3945Z'%20fill='%23BB3030'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.731%2019.2191C10.5513%2016.6039%2010.7198%2012.4114%2013.994%2010.9378C14.0181%2015.7737%2019.5313%2016.3756%2018.5202%2021.5436C19.4591%2020.6096%2019.9406%2019.1568%2020.0128%2017.9738C21.5296%2020.9417%2020.3499%2023.3078%2018.2072%2024.5116C11.7069%2028.1644%206.12146%2020.7342%209.85311%2016.6662C9.94941%2017.5794%2011.2495%2018.9907%2011.731%2019.2191Z'%20fill='%23FAA21E'/%3e%3c/g%3e%3cg%20clip-path='url(%23clip1_246_5575)'%3e%3cpath%20d='M16.0362%208.62421L14.8547%207.48234L14.8143%2018.1486L16.0124%2018.1883M15.3083%2024.7161L14.2706%2024.7125C14.1562%2024.7122%2014.043%2024.6903%2013.9375%2024.648C13.8319%2024.6056%2013.7361%2024.5438%2013.6555%2024.4659C13.5749%2024.388%2013.5111%2024.2956%2013.4678%2024.194C13.4244%2024.0925%2013.4024%2023.9837%2013.4029%2023.8739L13.4169%2020.1763L10.1188%2020.1529L10.1251%2018.4819L11.8792%2018.488L11.9192%207.91655L14.8636%205.11206L17.7868%207.93699L17.7467%2018.5084L19.5008%2018.5146L19.4945%2020.1856L16.1963%2020.1741L16.1823%2023.8718C16.1805%2024.3458%2015.79%2024.7178%2015.3083%2024.7161Z'%20fill='%23100B0B'/%3e%3crect%20x='14.1337'%20y='7.44217'%20width='2.62042'%20height='11.1149'%20fill='%23100B0B'/%3e%3cpath%20d='M16.1481%2015.6509C16.1277%2015.739%2016.0988%2015.8255%2016.0614%2015.9103C16.0239%2015.9919%2015.9865%2016.0539%2015.9491%2016.0964C15.8913%2016.1094%2015.7552%2016.1159%2015.5409%2016.1159L15.5409%2017.095C15.5409%2017.2811%2015.546%2017.4181%2015.5562%2017.5062C15.5664%2017.5944%2015.5885%2017.658%2015.6225%2017.6972C15.66%2017.7363%2015.7161%2017.7559%2015.7909%2017.7559C15.8453%2017.7559%2015.893%2017.7445%2015.9338%2017.7216C15.9746%2017.6955%2016.0205%2017.6547%2016.0716%2017.5993L16.1379%2017.707C16.0733%2017.8179%2015.9899%2017.9011%2015.8879%2017.9566C15.7858%2018.0121%2015.6821%2018.0398%2015.5766%2018.0398C15.4235%2018.0398%2015.3045%2017.9942%2015.2194%2017.9028C15.1378%2017.8081%2015.097%2017.6433%2015.097%2017.4083C15.097%2017.1016%2015.1157%2016.6675%2015.1531%2016.1062L14.2449%2016.0964L14.2449%2016.1894C14.2449%2016.5321%2014.2211%2016.8307%2014.1734%2017.0852C14.1292%2017.3365%2014.0782%2017.5356%2014.0204%2017.6825C13.9659%2017.8261%2013.92%2017.9175%2013.8826%2017.9566C13.7465%2018.0088%2013.6428%2018.0366%2013.5714%2018.0398L13.5356%2017.9566C13.7159%2017.7543%2013.8452%2017.4736%2013.9234%2017.1146C14.0051%2016.7556%2014.0459%2016.4129%2014.0459%2016.0866C13.8826%2016.0866%2013.755%2016.1062%2013.6632%2016.1453C13.5714%2016.1812%2013.4608%2016.2432%2013.3315%2016.3313L13.255%2016.2236C13.3298%2016.129%2013.4013%2016.0507%2013.4693%2015.9887C13.5373%2015.9267%2013.6292%2015.8728%2013.7448%2015.8271C13.8639%2015.7814%2014.0085%2015.7586%2014.1785%2015.7586C14.2942%2015.7586%2014.5119%2015.7618%2014.8317%2015.7684C15.199%2015.7749%2015.4848%2015.7782%2015.6889%2015.7782C15.7739%2015.7782%2015.8385%2015.7667%2015.8828%2015.7439C15.9304%2015.7211%2015.978%2015.6737%2016.0256%2015.6019L16.1481%2015.6509Z'%20fill='%23FFFAFA'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_246_5575'%3e%3crect%20width='22.3899'%20height='25.5286'%20fill='white'%20transform='translate(3.56946)'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_246_5575'%3e%3crect%20width='20.5393'%20height='20.5455'%20fill='white'%20transform='matrix(0.719079%200.694928%20-0.724103%200.689691%2014.8771%201.55664)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";
var dI = {
  name: "1kkpex7",
  styles:
    "height:2rem;display:flex;flex-direction:row;justify-content:flex-start;background:#f0f0f0",
};
const pI = () => {
  const [t, e] = po.useState(null);
  return ze("div", {
    css: dI,
    onMouseDown: (n) => {
      n.stopPropagation();
    },
    children: [
      C(wI, {}),
      C(bp, {}),
      C(xI, {}),
      C(kI, {}),
      C(_I, {}),
      C(OI, {}),
      C(bp, {}),
      C(EI, {}),
      C(MI, {}),
      C(TI, {}),
      C(PI, {}),
      C(LI, {
        open: t === "color",
        onMenuOpen: () => e("color"),
        onMenuClose: () => {
          t === "color" && e(null);
        },
      }),
      C(II, {
        open: t === "box",
        onMenuOpen: () => e("box"),
        onMenuClose: () => {
          t === "box" && e(null);
        },
      }),
      C(zI, {
        open: t === "line",
        onMenuOpen: () => e("line"),
        onMenuClose: () => {
          t === "line" && e(null);
        },
      }),
      C(bp, {}),
      C(HI, {
        open: t === "annotate",
        onMenuOpen: () => e("annotate"),
        onMenuClose: () => {
          t === "annotate" && e(null);
        },
      }),
    ],
  });
};
var mI = {
  name: "voquwr",
  styles:
    'height:2.5rem;min-width:2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;&:hover{background:#e0e0e0;height:2rem;}font-family:"Source Sans 3",sans-serif',
};
const hu = ({ children: t, onClick: e }) =>
    C("div", {
      css: mI,
      onClick: (n) => {
        e(), n.stopPropagation();
      },
      children: t,
    }),
  sO = ({ color: t, onClick: e }) =>
    C("div", {
      onClick: e,
      css: Ua(
        "width:1rem;height:1rem;background-color:",
        t,
        ";border:1px solid black;",
        ""
      ),
    });
var gI = {
    name: "1gjma0e",
    styles:
      "position:absolute;top:2rem;left:0;display:flex;flex-direction:column;background:#f0f0f0",
  },
  yI = {
    name: "5hk907",
    styles:
      "position:relative;height:2rem;display:flex;align-items:center;&:hover{height:1.8rem;}z-index:500",
  };
const cd = ({
  menuButton: t,
  open: e,
  onMenuOpen: n,
  onMenuClose: r,
  children: i,
}) => (
  po.useEffect(() => {
    window.addEventListener("click", r);
  }, [r]),
  C("div", {
    css: yI,
    children: ze(hu, {
      onClick: e ? r : n,
      children: [t, e && C("div", { css: gI, children: i })],
    }),
  })
);
var vI = {
  name: "4p28ln",
  styles:
    "height:2.25rem;width:2.25rem;display:flex;align-items:center;justify-content:center",
};
const wI = () => C("div", { css: vI, children: C("img", { src: hI }) });
var bI = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const xI = () => C("div", { css: bI, children: C(_r, { children: "save" }) });
var SI = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const kI = () => C("div", { css: SI, children: C(_r, { children: "undo" }) });
var CI = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const _I = () => C("div", { css: CI, children: C(_r, { children: "redo" }) });
var AI = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const OI = () =>
    C("div", { css: AI, children: C(_r, { children: "zoom_in" }) }),
  EI = () =>
    C(hu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(_r, { children: "format_bold" }),
      }),
    }),
  MI = () =>
    C(hu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(_r, { children: "format_italic" }),
      }),
    }),
  TI = () =>
    C(hu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(_r, { children: "format_underline" }),
      }),
    }),
  PI = () =>
    C(hu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(_r, { children: "format_strikethrough" }),
      }),
    });
var RI = { name: "18kvkhj", styles: "margin:0.25rem" },
  DI = {
    name: "1btcj0n",
    styles:
      "padding:0.5rem;width:7rem;display:flex;flex-wrap:wrap;justify-content:flex-start",
  };
const LI = ({ open: t, onMenuOpen: e, onMenuClose: n }) =>
  C(cd, {
    menuButton: C(_r, { children: "format_color_text" }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: C("div", {
      css: DI,
      children: [
        "#000000",
        "#FF0000",
        "#00FF00",
        "#0000FF",
        "#FFFF00",
        "#00FFFF",
        "#FF00FF",
      ].map((i) =>
        C(
          "div",
          {
            css: RI,
            onClick: (s) => {
              X.updateFormula(
                _y(X.augmentedFormula, (o) =>
                  o.type === "color" &&
                  (K.resolvedSelection.has(o.id) ||
                    o.body.some((l) => K.resolvedSelection.has(l.id)))
                    ? (console.log("Modifying existing color node", o),
                      new ka(o.id, i, o.body))
                    : K.resolvedSelection.has(o.id) &&
                        (o.ancestors.length === 0 ||
                          o.ancestors[0].type !== "color")
                      ? (console.log("Applying new color node to", o),
                        new ka(o.id, i, [o]))
                      : o
                )
              ),
                s.stopPropagation(),
                n();
            },
            children: C(sO, { color: i }, i),
          },
          i
        )
      ),
    }),
  });
var BI = { name: "18kvkhj", styles: "margin:0.25rem" },
  NI = {
    name: "1btcj0n",
    styles:
      "padding:0.5rem;width:7rem;display:flex;flex-wrap:wrap;justify-content:flex-start",
  };
const II = ({ open: t, onMenuOpen: e, onMenuClose: n }) =>
  C(cd, {
    menuButton: C("img", { src: cI }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: C("div", {
      css: NI,
      children: [
        "#000000",
        "#FF0000",
        "#00FF00",
        "#0000FF",
        "#FFFF00",
        "#00FFFF",
        "#FF00FF",
      ].map((i) =>
        C(
          "div",
          {
            css: BI,
            onClick: (s) => {
              X.updateFormula(
                _y(X.augmentedFormula, (o) =>
                  o.type === "box" &&
                  (K.resolvedSelection.has(o.id) ||
                    K.resolvedSelection.has(o.body.id))
                    ? (console.log("Modifying existing box node", o),
                      new Ca(o.id, i, "white", o.body))
                    : K.resolvedSelection.has(o.id) &&
                        (o.ancestors.length === 0 ||
                          o.ancestors[0].type !== "box")
                      ? (console.log("Applying new box node to", o),
                        new Ca(o.id, i, "white", o))
                      : o
                )
              ),
                s.stopPropagation(),
                n();
            },
            children: C(sO, { color: i }, i),
          },
          i
        )
      ),
    }),
  });
var $I = { name: "18kvkhj", styles: "margin:0.25rem" },
  FI = {
    name: "1jrmhuw",
    styles:
      "padding:0.5rem;width:5rem;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start",
  };
const zI = ({ open: t, onMenuOpen: e, onMenuClose: n }) =>
  C(cd, {
    menuButton: C(_r, { children: "line_weight" }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: C("div", {
      css: FI,
      children: ["Thin", "Normal", "Thick"].map((i) =>
        C(
          "div",
          {
            css: $I,
            onClick: (s) => {
              s.stopPropagation();
            },
            children: i,
          },
          i
        )
      ),
    }),
  });
var jI = {
    name: "2pglkm",
    styles: "margin:0.25rem;transform:rotate(-90deg) translateY(0.2rem)",
  },
  VI = {
    name: "180pf3u",
    styles: "margin:0.25rem;transform:rotate(90deg) translateY(0.2rem)",
  },
  WI = {
    name: "19xdp11",
    styles:
      "padding:0.5rem;width:2rem;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start",
  };
const HI = ({ open: t, onMenuOpen: e, onMenuClose: n }) => {
  const r = (i) => (s) => {
    X.updateFormula(
      _y(X.augmentedFormula, (o) => {
        if (o.type === "brace" && K.resolvedSelection.has(o.id))
          console.log("Modifying existing brace node", o);
        else if (
          K.resolvedSelection.has(o.id) &&
          (o.ancestors.length === 0 || o.ancestors[0].type !== "brace")
        ) {
          console.log("Applying new brace node to", o);
          const l = new Uh(
            "",
            Array.from("caption").map((a) => new Vh("", a))
          );
          return new jh("", new Hh("", i, o), i ? void 0 : l, i ? l : void 0);
        }
        return o;
      })
    ),
      s.stopPropagation(),
      n();
  };
  return C(cd, {
    menuButton: C("img", { src: uI }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: ze("div", {
      css: WI,
      children: [
        C("div", {
          css: VI,
          onClick: r(!0),
          children: C("img", { src: Qb, height: "17rem" }),
        }),
        C("div", {
          css: jI,
          onClick: r(!1),
          children: C("img", { src: Qb, height: "17rem" }),
        }),
      ],
    }),
  });
};
var UI = {
  name: "10hhyed",
  styles:
    "height:2rem;width:0.5rem;display:flex;align-items:center;justify-content:center",
};
const bp = () => C("div", { css: UI, children: C("img", { src: fI }) });
function oc(t) {
  return Math.round(t).toString().padStart(3, " ");
}
const fn = R0("td", { target: "e6lwmu50" })({
  name: "1xig5ax",
  styles: "text-align:right;padding-right:1rem",
});
var KI = {
  name: "1xg0rxw",
  styles:
    "position:fixed;top:2rem;right:0;padding:1rem;max-height:calc(100vh - 2rem);overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;background:rgba(255, 255, 255, 0.8)",
};
const qI = Ht(() =>
    ze("div", {
      onMouseDown: (t) => t.stopPropagation(),
      onScroll: (t) => t.stopPropagation(),
      css: KI,
      children: [C(GI, {}), C(QI, {}), C(JI, {}), C(ZI, {})],
    })
  ),
  GI = Ht(() =>
    ze(Lr, {
      children: [
        ze("pre", { children: ["Pan: ", K.pan.x, ", ", K.pan.y] }),
        ze("pre", { children: ["Zoom: ", K.zoom] }),
      ],
    })
  );
var YI = { name: "1efi8gv", styles: "font-weight:bold" },
  XI = { name: "1n7r223", styles: "font-family:monospace" };
const QI = Ht(() =>
    ze(Lr, {
      children: [
        C("pre", { children: "Targets:" }),
        ze("table", {
          css: XI,
          children: [
            C("thead", {
              css: YI,
              children: ze("tr", {
                children: [
                  C(fn, { children: "Id" }),
                  C(fn, { children: "Type" }),
                  C(fn, { children: "Left" }),
                  C(fn, { children: "Top" }),
                  C(fn, { children: "Width" }),
                  C(fn, { children: "Height" }),
                ],
              }),
            }),
            C("tbody", {
              children: Array.from(K.screenSpaceTargets.values()).map((t) => {
                var e;
                return ze(
                  "tr",
                  {
                    children: [
                      C(fn, { children: t.id }),
                      C(fn, {
                        children:
                          (e = X.augmentedFormula.findNode(t.id)) == null
                            ? void 0
                            : e.type,
                      }),
                      C(fn, { children: oc(t.left) }),
                      C(fn, { children: oc(t.top) }),
                      C(fn, { children: oc(t.width) }),
                      C(fn, { children: oc(t.height) }),
                    ],
                  },
                  t.id
                );
              }),
            }),
          ],
        }),
      ],
    })
  ),
  JI = Ht(() =>
    ze(Lr, {
      children: [
        C("pre", { children: "Selection rect:" }),
        K.selectionRect
          ? ze(Lr, {
              children: [
                C("pre", { children: "x1: " + K.selectionRect.x1 }),
                C("pre", { children: "y1: " + K.selectionRect.y1 }),
                C("pre", { children: "x2: " + K.selectionRect.x2 }),
                C("pre", { children: "y2: " + K.selectionRect.y2 }),
              ],
            })
          : C("pre", { children: "None" }),
        C("pre", { children: "Drag selection:" }),
        C("pre", {
          children: Array.from(K.currentlyDragged).join(`,
`),
        }),
      ],
    })
  ),
  ZI = Ht(() =>
    ze(Lr, {
      children: [
        C("pre", { children: "Selection:" }),
        C("pre", {
          children: K.selected.join(`,
`),
        }),
        C("pre", { children: "Resolved selection:" }),
        C("pre", {
          children: Array.from(K.resolvedSelection).join(`,
`),
        }),
      ],
    })
  ),
  e7 = Ht(() => {
    V.useEffect(() => {
      X.updateFormula(
        lu(
          String.raw`{a^2} \fcolorbox{#000000}{white}{$ {+ {\textcolor{blue}{{b^2}} =}}$} {c^2}`
        )
      );
    }, []),
      V.useEffect(() => {
        const e = () => {
          requestAnimationFrame(() => {
            K.updateTargets();
          });
        };
        window.addEventListener("resize", e);
      }, []),
      V.useEffect(() => {
        console.log("Updating targets"),
          requestAnimationFrame(() => {
            K.updateTargets();
          }),
          console.log("Styled ranges:", X.augmentedFormula.toStyledRanges());
      }, [X.renderSpec]);
    const t = V.useCallback((e) => {
      K.initializeFormulaRoot(e);
    }, []);
    return C("div", {
      ref: t,
      style: {
        transform: `translate(${K.pan.x}px, ${K.pan.y}px) scale(${K.zoom})`,
      },
      children: X.renderSpec !== null && C(oO, { spec: wT(X.renderSpec) }),
    });
  }),
  oO = Ht(({ spec: t }) => {
    var i;
    const [e, n] = V.useState(null);
    V.useEffect(() => {
      t.id &&
        e &&
        K.addTarget(
          t.id,
          e,
          ["mjx-mi", "mjx-mn", "mjx-mo"].includes(t.tagName)
        );
    }, [e, t.id, t.tagName]);
    const r = t.tagName;
    return C(r, {
      id: t.id,
      class: t.className,
      style: t.style,
      ...t.attrs,
      ref: (s) => n(s),
      children:
        (i = t.children) == null
          ? void 0
          : i.map((s, o) => C(oO, { spec: s }, o)),
    });
  });
var t7 = { name: "1rm0bw4", styles: "user-select:none;font-family:monospace" },
  n7 = { name: "u7ytkp", styles: "margin-right:0.5rem" },
  r7 = {
    name: "1ptw6ga",
    styles: "position:absolute;top:0.5rem;right:1rem;z-index:1000",
  },
  i7 = {
    name: "169tse",
    styles:
      "width:100%;height:100%;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden",
  };
const s7 = Ht(() => {
    const [t, e] = V.useState(!1),
      [n, r] = V.useState({ state: "none" }),
      i = V.useCallback((f) => {
        K.clearSelection();
      }, []),
      s = V.useCallback((f) => {
        f.button === 0
          ? r({ state: "leftdown", x: f.clientX, y: f.clientY })
          : f.button === 1 &&
            r({ state: "panning", lastX: f.clientX, lastY: f.clientY });
      }, []),
      o = V.useCallback(
        (f) => {
          if (n.state === "leftdown")
            K.startDragSelection(n.x, n.y),
              K.updateDragSelection(f.clientX, f.clientY),
              r({ state: "selecting" });
          else if (n.state === "selecting")
            K.updateDragSelection(f.clientX, f.clientY);
          else if (n.state === "panning") {
            const h = f.clientX - n.lastX,
              d = f.clientY - n.lastY;
            K.updatePan(h, d),
              r({ state: "panning", lastX: f.clientX, lastY: f.clientY });
          }
        },
        [n, r]
      ),
      l = V.useCallback(
        (f) => {
          n.state === "selecting" && K.stopDragSelection(),
            r({ state: "none" });
        },
        [n, r]
      ),
      a = V.useCallback((f) => {
        f.preventDefault(), f.stopPropagation(), K.updateZoom(-f.deltaY);
      }, []),
      u = V.useCallback((f) => {
        K.initializeWorkspace(f);
      }, []),
      c = V.useCallback(
        (f) => {
          e(f.target.checked);
        },
        [e]
      );
    return (
      V.useEffect(() => {
        const f = () => {
          K.updateWorkspaceDimensions();
        };
        window.addEventListener("resize", f);
      }, []),
      ze("div", {
        css: i7,
        onDoubleClick: i,
        onMouseDown: s,
        onMouseMove: o,
        onMouseUp: l,
        onWheel: a,
        ref: u,
        children: [
          ze("div", {
            css: r7,
            children: [
              C("input", {
                id: "showDebug",
                css: n7,
                type: "checkbox",
                checked: t,
                onChange: c,
              }),
              C("label", {
                css: t7,
                htmlFor: "showDebug",
                children: "Show debug menu",
              }),
            ],
          }),
          C(o7, {}),
          C(l7, {}),
          C(a7, {}),
          C(e7, {}),
          t && C(qI, {}),
        ],
      })
    );
  }),
  o7 = Ht(() =>
    K.selectionRectDimensions
      ? C("div", {
          style: {
            position: "absolute",
            border: "1px solid black",
            backgroundColor: "rgba(0, 0, 0, 0.1)",
            zIndex: "1000",
            pointerEvents: "none",
            left: `${K.selectionRectDimensions.left}px`,
            top: `${K.selectionRectDimensions.top}px`,
            width: `${K.selectionRectDimensions.width}px`,
            height: `${K.selectionRectDimensions.height}px`,
          },
        })
      : null
  ),
  lc = 0.4,
  l7 = Ht(() =>
    C(Lr, {
      children: Array.from(K.resolvedSelection).map((t) => {
        const e = K.screenSpaceTargets.get(t),
          { left: n, top: r } = K.workspaceBBox;
        return C(
          "div",
          {
            style: {
              position: "absolute",
              left: `calc(${e.left - n}px - ${lc}rem)`,
              top: `calc(${e.top - r}px - ${lc}rem)`,
              width: `calc((${e.width}px + ${2 * lc}rem)`,
              height: `calc(${e.height}px + ${2 * lc}rem)`,
              border: "2px dashed black",
              zIndex: "1000",
            },
          },
          t
        );
      }),
    })
  ),
  a7 = Ht(() => {
    var n;
    const t =
      (n = X.alignColumnIds) == null
        ? void 0
        : n.map((r) =>
            r
              .map((i) => K.screenSpaceTargets.get(i))
              .filter((i) => i !== void 0)
          );
    if (K.workspaceBBox === null || t === null) return null;
    const { left: e } = K.workspaceBBox;
    return C(Lr, {
      children:
        t == null
          ? void 0
          : t.map((r, i) =>
              C(
                "div",
                {
                  style: {
                    zIndex: "100",
                    position: "absolute",
                    left: `${Math.min(...r.map((s) => s.left - e))}px`,
                    top: "0",
                    bottom: "0",
                    borderLeft: "2px dotted black",
                  },
                },
                i
              )
            ),
    });
  });
var u7 = {
    name: "1alafz2",
    styles:
      "display:flex;flex-direction:column;position:relative;width:100%;height:100%",
  },
  c7 = {
    name: "86tgoq",
    styles:
      "display:flex;flex-direction:column;position:relative;height:100%;width:50%;border-right:2px solid black;overflow-x:hidden;overflow-y:auto",
  },
  f7 = {
    name: "aeaamz",
    styles: "display:flex;flex-direction:row;width:100%;height:100%",
  },
  h7 = {
    name: "1i7uxdt",
    styles:
      "*{margin:0;padding:0;box-sizing:border-box;}html,body{width:100vw;height:100vh;overflow:hidden;}",
  };
function d7() {
  return ze(Lr, {
    children: [
      C(P0, { styles: h7 }),
      ze("div", {
        css: f7,
        children: [
          C("div", { css: c7, children: C(oB, {}) }),
          ze("div", { css: u7, children: [C(pI, {}), C(s7, {})] }),
        ],
      }),
    ],
  });
}
window.MathJax = {
  loader: {
    load: ["input/tex", "output/chtml", "[tex]/html", "[tex]/color"],
    tex: { packages: { "[+]": ["html", "color"] } },
  },
  startup: {
    pageReady: () => {
      Cp.createRoot(document.getElementById("root")).render(
        C(po.StrictMode, { children: C(d7, {}) })
      );
    },
  },
};
const Fy = document.createElement("script");
Fy.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js";
Fy.async = !0;
document.head.appendChild(Fy);
