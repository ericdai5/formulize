var EA = Object.defineProperty;
var TA = (t, e, n) =>
  e in t
    ? EA(t, e, { enumerable: !0, configurable: !0, writable: !0, value: n })
    : (t[e] = n);
var Cn = (t, e, n) => (TA(t, typeof e != "symbol" ? e + "" : e, n), n),
  _1 = (t, e, n) => {
    if (!e.has(t)) throw TypeError("Cannot " + n);
  };
var Vn = (t, e, n) => (
    _1(t, e, "read from private field"), n ? n.call(t) : e.get(t)
  ),
  Hn = (t, e, n) => {
    if (e.has(t))
      throw TypeError("Cannot add the same private member more than once");
    e instanceof WeakSet ? e.add(t) : e.set(t, n);
  },
  Wn = (t, e, n, r) => (
    _1(t, e, "write to private field"), r ? r.call(t, n) : e.set(t, n), n
  );
function PA(t, e) {
  for (var n = 0; n < e.length; n++) {
    const r = e[n];
    if (typeof r != "string" && !Array.isArray(r)) {
      for (const i in r)
        if (i !== "default" && !(i in t)) {
          const s = Object.getOwnPropertyDescriptor(r, i);
          s &&
            Object.defineProperty(
              t,
              i,
              s.get ? s : { enumerable: !0, get: () => r[i] }
            );
        }
    }
  }
  return Object.freeze(
    Object.defineProperty(t, Symbol.toStringTag, { value: "Module" })
  );
}
(function () {
  const e = document.createElement("link").relList;
  if (e && e.supports && e.supports("modulepreload")) return;
  for (const i of document.querySelectorAll('link[rel="modulepreload"]')) r(i);
  new MutationObserver((i) => {
    for (const s of i)
      if (s.type === "childList")
        for (const o of s.addedNodes)
          o.tagName === "LINK" && o.rel === "modulepreload" && r(o);
  }).observe(document, { childList: !0, subtree: !0 });
  function n(i) {
    const s = {};
    return (
      i.integrity && (s.integrity = i.integrity),
      i.referrerPolicy && (s.referrerPolicy = i.referrerPolicy),
      i.crossOrigin === "use-credentials"
        ? (s.credentials = "include")
        : i.crossOrigin === "anonymous"
          ? (s.credentials = "omit")
          : (s.credentials = "same-origin"),
      s
    );
  }
  function r(i) {
    if (i.ep) return;
    i.ep = !0;
    const s = n(i);
    fetch(i.href, s);
  }
})();
function DA(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default")
    ? t.default
    : t;
}
function Br(t) {
  if (t.__esModule) return t;
  var e = t.default;
  if (typeof e == "function") {
    var n = function r() {
      return this instanceof r
        ? Reflect.construct(e, arguments, this.constructor)
        : e.apply(this, arguments);
    };
    n.prototype = e.prototype;
  } else n = {};
  return (
    Object.defineProperty(n, "__esModule", { value: !0 }),
    Object.keys(t).forEach(function (r) {
      var i = Object.getOwnPropertyDescriptor(t, r);
      Object.defineProperty(
        n,
        r,
        i.get
          ? i
          : {
              enumerable: !0,
              get: function () {
                return t[r];
              },
            }
      );
    }),
    n
  );
}
var Sb = { exports: {} },
  Pf = {},
  kb = { exports: {} },
  J = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Pa = Symbol.for("react.element"),
  RA = Symbol.for("react.portal"),
  LA = Symbol.for("react.fragment"),
  BA = Symbol.for("react.strict_mode"),
  NA = Symbol.for("react.profiler"),
  IA = Symbol.for("react.provider"),
  $A = Symbol.for("react.context"),
  FA = Symbol.for("react.forward_ref"),
  zA = Symbol.for("react.suspense"),
  jA = Symbol.for("react.memo"),
  VA = Symbol.for("react.lazy"),
  A1 = Symbol.iterator;
function HA(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (A1 && t[A1]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var Cb = {
    isMounted: function () {
      return !1;
    },
    enqueueForceUpdate: function () {},
    enqueueReplaceState: function () {},
    enqueueSetState: function () {},
  },
  _b = Object.assign,
  Ab = {};
function Eo(t, e, n) {
  (this.props = t),
    (this.context = e),
    (this.refs = Ab),
    (this.updater = n || Cb);
}
Eo.prototype.isReactComponent = {};
Eo.prototype.setState = function (t, e) {
  if (typeof t != "object" && typeof t != "function" && t != null)
    throw Error(
      "setState(...): takes an object of state variables to update or a function which returns an object of state variables."
    );
  this.updater.enqueueSetState(this, t, e, "setState");
};
Eo.prototype.forceUpdate = function (t) {
  this.updater.enqueueForceUpdate(this, t, "forceUpdate");
};
function Ob() {}
Ob.prototype = Eo.prototype;
function ug(t, e, n) {
  (this.props = t),
    (this.context = e),
    (this.refs = Ab),
    (this.updater = n || Cb);
}
var cg = (ug.prototype = new Ob());
cg.constructor = ug;
_b(cg, Eo.prototype);
cg.isPureReactComponent = !0;
var O1 = Array.isArray,
  Mb = Object.prototype.hasOwnProperty,
  fg = { current: null },
  Eb = { key: !0, ref: !0, __self: !0, __source: !0 };
function Tb(t, e, n) {
  var r,
    i = {},
    s = null,
    o = null;
  if (e != null)
    for (r in (e.ref !== void 0 && (o = e.ref),
    e.key !== void 0 && (s = "" + e.key),
    e))
      Mb.call(e, r) && !Eb.hasOwnProperty(r) && (i[r] = e[r]);
  var l = arguments.length - 2;
  if (l === 1) i.children = n;
  else if (1 < l) {
    for (var a = Array(l), u = 0; u < l; u++) a[u] = arguments[u + 2];
    i.children = a;
  }
  if (t && t.defaultProps)
    for (r in ((l = t.defaultProps), l)) i[r] === void 0 && (i[r] = l[r]);
  return {
    $$typeof: Pa,
    type: t,
    key: s,
    ref: o,
    props: i,
    _owner: fg.current,
  };
}
function WA(t, e) {
  return {
    $$typeof: Pa,
    type: t.type,
    key: e,
    ref: t.ref,
    props: t.props,
    _owner: t._owner,
  };
}
function hg(t) {
  return typeof t == "object" && t !== null && t.$$typeof === Pa;
}
function UA(t) {
  var e = { "=": "=0", ":": "=2" };
  return (
    "$" +
    t.replace(/[=:]/g, function (n) {
      return e[n];
    })
  );
}
var M1 = /\/+/g;
function Yh(t, e) {
  return typeof t == "object" && t !== null && t.key != null
    ? UA("" + t.key)
    : e.toString(36);
}
function ec(t, e, n, r, i) {
  var s = typeof t;
  (s === "undefined" || s === "boolean") && (t = null);
  var o = !1;
  if (t === null) o = !0;
  else
    switch (s) {
      case "string":
      case "number":
        o = !0;
        break;
      case "object":
        switch (t.$$typeof) {
          case Pa:
          case RA:
            o = !0;
        }
    }
  if (o)
    return (
      (o = t),
      (i = i(o)),
      (t = r === "" ? "." + Yh(o, 0) : r),
      O1(i)
        ? ((n = ""),
          t != null && (n = t.replace(M1, "$&/") + "/"),
          ec(i, e, n, "", function (u) {
            return u;
          }))
        : i != null &&
          (hg(i) &&
            (i = WA(
              i,
              n +
                (!i.key || (o && o.key === i.key)
                  ? ""
                  : ("" + i.key).replace(M1, "$&/") + "/") +
                t
            )),
          e.push(i)),
      1
    );
  if (((o = 0), (r = r === "" ? "." : r + ":"), O1(t)))
    for (var l = 0; l < t.length; l++) {
      s = t[l];
      var a = r + Yh(s, l);
      o += ec(s, e, n, a, i);
    }
  else if (((a = HA(t)), typeof a == "function"))
    for (t = a.call(t), l = 0; !(s = t.next()).done; )
      (s = s.value), (a = r + Yh(s, l++)), (o += ec(s, e, n, a, i));
  else if (s === "object")
    throw (
      ((e = String(t)),
      Error(
        "Objects are not valid as a React child (found: " +
          (e === "[object Object]"
            ? "object with keys {" + Object.keys(t).join(", ") + "}"
            : e) +
          "). If you meant to render a collection of children, use an array instead."
      ))
    );
  return o;
}
function lu(t, e, n) {
  if (t == null) return t;
  var r = [],
    i = 0;
  return (
    ec(t, r, "", "", function (s) {
      return e.call(n, s, i++);
    }),
    r
  );
}
function KA(t) {
  if (t._status === -1) {
    var e = t._result;
    (e = e()),
      e.then(
        function (n) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 1), (t._result = n));
        },
        function (n) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 2), (t._result = n));
        }
      ),
      t._status === -1 && ((t._status = 0), (t._result = e));
  }
  if (t._status === 1) return t._result.default;
  throw t._result;
}
var Mt = { current: null },
  tc = { transition: null },
  qA = {
    ReactCurrentDispatcher: Mt,
    ReactCurrentBatchConfig: tc,
    ReactCurrentOwner: fg,
  };
J.Children = {
  map: lu,
  forEach: function (t, e, n) {
    lu(
      t,
      function () {
        e.apply(this, arguments);
      },
      n
    );
  },
  count: function (t) {
    var e = 0;
    return (
      lu(t, function () {
        e++;
      }),
      e
    );
  },
  toArray: function (t) {
    return (
      lu(t, function (e) {
        return e;
      }) || []
    );
  },
  only: function (t) {
    if (!hg(t))
      throw Error(
        "React.Children.only expected to receive a single React element child."
      );
    return t;
  },
};
J.Component = Eo;
J.Fragment = LA;
J.Profiler = NA;
J.PureComponent = ug;
J.StrictMode = BA;
J.Suspense = zA;
J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = qA;
J.cloneElement = function (t, e, n) {
  if (t == null)
    throw Error(
      "React.cloneElement(...): The argument must be a React element, but you passed " +
        t +
        "."
    );
  var r = _b({}, t.props),
    i = t.key,
    s = t.ref,
    o = t._owner;
  if (e != null) {
    if (
      (e.ref !== void 0 && ((s = e.ref), (o = fg.current)),
      e.key !== void 0 && (i = "" + e.key),
      t.type && t.type.defaultProps)
    )
      var l = t.type.defaultProps;
    for (a in e)
      Mb.call(e, a) &&
        !Eb.hasOwnProperty(a) &&
        (r[a] = e[a] === void 0 && l !== void 0 ? l[a] : e[a]);
  }
  var a = arguments.length - 2;
  if (a === 1) r.children = n;
  else if (1 < a) {
    l = Array(a);
    for (var u = 0; u < a; u++) l[u] = arguments[u + 2];
    r.children = l;
  }
  return { $$typeof: Pa, type: t.type, key: i, ref: s, props: r, _owner: o };
};
J.createContext = function (t) {
  return (
    (t = {
      $$typeof: $A,
      _currentValue: t,
      _currentValue2: t,
      _threadCount: 0,
      Provider: null,
      Consumer: null,
      _defaultValue: null,
      _globalName: null,
    }),
    (t.Provider = { $$typeof: IA, _context: t }),
    (t.Consumer = t)
  );
};
J.createElement = Tb;
J.createFactory = function (t) {
  var e = Tb.bind(null, t);
  return (e.type = t), e;
};
J.createRef = function () {
  return { current: null };
};
J.forwardRef = function (t) {
  return { $$typeof: FA, render: t };
};
J.isValidElement = hg;
J.lazy = function (t) {
  return { $$typeof: VA, _payload: { _status: -1, _result: t }, _init: KA };
};
J.memo = function (t, e) {
  return { $$typeof: jA, type: t, compare: e === void 0 ? null : e };
};
J.startTransition = function (t) {
  var e = tc.transition;
  tc.transition = {};
  try {
    t();
  } finally {
    tc.transition = e;
  }
};
J.unstable_act = function () {
  throw Error("act(...) is not supported in production builds of React.");
};
J.useCallback = function (t, e) {
  return Mt.current.useCallback(t, e);
};
J.useContext = function (t) {
  return Mt.current.useContext(t);
};
J.useDebugValue = function () {};
J.useDeferredValue = function (t) {
  return Mt.current.useDeferredValue(t);
};
J.useEffect = function (t, e) {
  return Mt.current.useEffect(t, e);
};
J.useId = function () {
  return Mt.current.useId();
};
J.useImperativeHandle = function (t, e, n) {
  return Mt.current.useImperativeHandle(t, e, n);
};
J.useInsertionEffect = function (t, e) {
  return Mt.current.useInsertionEffect(t, e);
};
J.useLayoutEffect = function (t, e) {
  return Mt.current.useLayoutEffect(t, e);
};
J.useMemo = function (t, e) {
  return Mt.current.useMemo(t, e);
};
J.useReducer = function (t, e, n) {
  return Mt.current.useReducer(t, e, n);
};
J.useRef = function (t) {
  return Mt.current.useRef(t);
};
J.useState = function (t) {
  return Mt.current.useState(t);
};
J.useSyncExternalStore = function (t, e, n) {
  return Mt.current.useSyncExternalStore(t, e, n);
};
J.useTransition = function () {
  return Mt.current.useTransition();
};
J.version = "18.2.0";
kb.exports = J;
var H = kb.exports;
const oo = DA(H),
  E1 = PA({ __proto__: null, default: oo }, [H]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var GA = H,
  YA = Symbol.for("react.element"),
  XA = Symbol.for("react.fragment"),
  QA = Object.prototype.hasOwnProperty,
  JA = GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
  ZA = { key: !0, ref: !0, __self: !0, __source: !0 };
function Pb(t, e, n) {
  var r,
    i = {},
    s = null,
    o = null;
  n !== void 0 && (s = "" + n),
    e.key !== void 0 && (s = "" + e.key),
    e.ref !== void 0 && (o = e.ref);
  for (r in e) QA.call(e, r) && !ZA.hasOwnProperty(r) && (i[r] = e[r]);
  if (t && t.defaultProps)
    for (r in ((e = t.defaultProps), e)) i[r] === void 0 && (i[r] = e[r]);
  return {
    $$typeof: YA,
    type: t,
    key: s,
    ref: o,
    props: i,
    _owner: JA.current,
  };
}
Pf.Fragment = XA;
Pf.jsx = Pb;
Pf.jsxs = Pb;
Sb.exports = Pf;
var yi = Sb.exports;
function eO(t) {
  if (t.sheet) return t.sheet;
  for (var e = 0; e < document.styleSheets.length; e++)
    if (document.styleSheets[e].ownerNode === t) return document.styleSheets[e];
}
function tO(t) {
  var e = document.createElement("style");
  return (
    e.setAttribute("data-emotion", t.key),
    t.nonce !== void 0 && e.setAttribute("nonce", t.nonce),
    e.appendChild(document.createTextNode("")),
    e.setAttribute("data-s", ""),
    e
  );
}
var nO = (function () {
    function t(n) {
      var r = this;
      (this._insertTag = function (i) {
        var s;
        r.tags.length === 0
          ? r.insertionPoint
            ? (s = r.insertionPoint.nextSibling)
            : r.prepend
              ? (s = r.container.firstChild)
              : (s = r.before)
          : (s = r.tags[r.tags.length - 1].nextSibling),
          r.container.insertBefore(i, s),
          r.tags.push(i);
      }),
        (this.isSpeedy = n.speedy === void 0 ? !0 : n.speedy),
        (this.tags = []),
        (this.ctr = 0),
        (this.nonce = n.nonce),
        (this.key = n.key),
        (this.container = n.container),
        (this.prepend = n.prepend),
        (this.insertionPoint = n.insertionPoint),
        (this.before = null);
    }
    var e = t.prototype;
    return (
      (e.hydrate = function (r) {
        r.forEach(this._insertTag);
      }),
      (e.insert = function (r) {
        this.ctr % (this.isSpeedy ? 65e3 : 1) === 0 &&
          this._insertTag(tO(this));
        var i = this.tags[this.tags.length - 1];
        if (this.isSpeedy) {
          var s = eO(i);
          try {
            s.insertRule(r, s.cssRules.length);
          } catch {}
        } else i.appendChild(document.createTextNode(r));
        this.ctr++;
      }),
      (e.flush = function () {
        this.tags.forEach(function (r) {
          return r.parentNode && r.parentNode.removeChild(r);
        }),
          (this.tags = []),
          (this.ctr = 0);
      }),
      t
    );
  })(),
  dt = "-ms-",
  Ec = "-moz-",
  se = "-webkit-",
  Db = "comm",
  dg = "rule",
  pg = "decl",
  rO = "@import",
  Rb = "@keyframes",
  iO = "@layer",
  sO = Math.abs,
  Df = String.fromCharCode,
  oO = Object.assign;
function lO(t, e) {
  return tt(t, 0) ^ 45
    ? (((((((e << 2) ^ tt(t, 0)) << 2) ^ tt(t, 1)) << 2) ^ tt(t, 2)) << 2) ^
        tt(t, 3)
    : 0;
}
function Lb(t) {
  return t.trim();
}
function aO(t, e) {
  return (t = e.exec(t)) ? t[0] : t;
}
function oe(t, e, n) {
  return t.replace(e, n);
}
function np(t, e) {
  return t.indexOf(e);
}
function tt(t, e) {
  return t.charCodeAt(e) | 0;
}
function Dl(t, e, n) {
  return t.slice(e, n);
}
function Jn(t) {
  return t.length;
}
function mg(t) {
  return t.length;
}
function au(t, e) {
  return e.push(t), t;
}
function uO(t, e) {
  return t.map(e).join("");
}
var Rf = 1,
  lo = 1,
  Bb = 0,
  $t = 0,
  ze = 0,
  To = "";
function Lf(t, e, n, r, i, s, o) {
  return {
    value: t,
    root: e,
    parent: n,
    type: r,
    props: i,
    children: s,
    line: Rf,
    column: lo,
    length: o,
    return: "",
  };
}
function Wo(t, e) {
  return oO(Lf("", null, null, "", null, null, 0), t, { length: -t.length }, e);
}
function cO() {
  return ze;
}
function fO() {
  return (
    (ze = $t > 0 ? tt(To, --$t) : 0), lo--, ze === 10 && ((lo = 1), Rf--), ze
  );
}
function Yt() {
  return (
    (ze = $t < Bb ? tt(To, $t++) : 0), lo++, ze === 10 && ((lo = 1), Rf++), ze
  );
}
function lr() {
  return tt(To, $t);
}
function nc() {
  return $t;
}
function Da(t, e) {
  return Dl(To, t, e);
}
function Rl(t) {
  switch (t) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function Nb(t) {
  return (Rf = lo = 1), (Bb = Jn((To = t))), ($t = 0), [];
}
function Ib(t) {
  return (To = ""), t;
}
function rc(t) {
  return Lb(Da($t - 1, rp(t === 91 ? t + 2 : t === 40 ? t + 1 : t)));
}
function hO(t) {
  for (; (ze = lr()) && ze < 33; ) Yt();
  return Rl(t) > 2 || Rl(ze) > 3 ? "" : " ";
}
function dO(t, e) {
  for (
    ;
    --e &&
    Yt() &&
    !(ze < 48 || ze > 102 || (ze > 57 && ze < 65) || (ze > 70 && ze < 97));

  );
  return Da(t, nc() + (e < 6 && lr() == 32 && Yt() == 32));
}
function rp(t) {
  for (; Yt(); )
    switch (ze) {
      case t:
        return $t;
      case 34:
      case 39:
        t !== 34 && t !== 39 && rp(ze);
        break;
      case 40:
        t === 41 && rp(t);
        break;
      case 92:
        Yt();
        break;
    }
  return $t;
}
function pO(t, e) {
  for (; Yt() && t + ze !== 57; ) if (t + ze === 84 && lr() === 47) break;
  return "/*" + Da(e, $t - 1) + "*" + Df(t === 47 ? t : Yt());
}
function mO(t) {
  for (; !Rl(lr()); ) Yt();
  return Da(t, $t);
}
function gO(t) {
  return Ib(ic("", null, null, null, [""], (t = Nb(t)), 0, [0], t));
}
function ic(t, e, n, r, i, s, o, l, a) {
  for (
    var u = 0,
      c = 0,
      f = o,
      h = 0,
      d = 0,
      p = 0,
      m = 1,
      w = 1,
      g = 1,
      y = 0,
      v = "",
      b = i,
      x = s,
      S = r,
      k = v;
    w;

  )
    switch (((p = y), (y = Yt()))) {
      case 40:
        if (p != 108 && tt(k, f - 1) == 58) {
          np((k += oe(rc(y), "&", "&\f")), "&\f") != -1 && (g = -1);
          break;
        }
      case 34:
      case 39:
      case 91:
        k += rc(y);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        k += hO(p);
        break;
      case 92:
        k += dO(nc() - 1, 7);
        continue;
      case 47:
        switch (lr()) {
          case 42:
          case 47:
            au(yO(pO(Yt(), nc()), e, n), a);
            break;
          default:
            k += "/";
        }
        break;
      case 123 * m:
        l[u++] = Jn(k) * g;
      case 125 * m:
      case 59:
      case 0:
        switch (y) {
          case 0:
          case 125:
            w = 0;
          case 59 + c:
            g == -1 && (k = oe(k, /\f/g, "")),
              d > 0 &&
                Jn(k) - f &&
                au(
                  d > 32
                    ? P1(k + ";", r, n, f - 1)
                    : P1(oe(k, " ", "") + ";", r, n, f - 2),
                  a
                );
            break;
          case 59:
            k += ";";
          default:
            if (
              (au((S = T1(k, e, n, u, c, i, l, v, (b = []), (x = []), f)), s),
              y === 123)
            )
              if (c === 0) ic(k, e, S, S, b, s, f, l, x);
              else
                switch (h === 99 && tt(k, 3) === 110 ? 100 : h) {
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    ic(
                      t,
                      S,
                      S,
                      r && au(T1(t, S, S, 0, 0, i, l, v, i, (b = []), f), x),
                      i,
                      x,
                      f,
                      l,
                      r ? b : x
                    );
                    break;
                  default:
                    ic(k, S, S, S, [""], x, 0, l, x);
                }
        }
        (u = c = d = 0), (m = g = 1), (v = k = ""), (f = o);
        break;
      case 58:
        (f = 1 + Jn(k)), (d = p);
      default:
        if (m < 1) {
          if (y == 123) --m;
          else if (y == 125 && m++ == 0 && fO() == 125) continue;
        }
        switch (((k += Df(y)), y * m)) {
          case 38:
            g = c > 0 ? 1 : ((k += "\f"), -1);
            break;
          case 44:
            (l[u++] = (Jn(k) - 1) * g), (g = 1);
            break;
          case 64:
            lr() === 45 && (k += rc(Yt())),
              (h = lr()),
              (c = f = Jn((v = k += mO(nc())))),
              y++;
            break;
          case 45:
            p === 45 && Jn(k) == 2 && (m = 0);
        }
    }
  return s;
}
function T1(t, e, n, r, i, s, o, l, a, u, c) {
  for (
    var f = i - 1, h = i === 0 ? s : [""], d = mg(h), p = 0, m = 0, w = 0;
    p < r;
    ++p
  )
    for (var g = 0, y = Dl(t, f + 1, (f = sO((m = o[p])))), v = t; g < d; ++g)
      (v = Lb(m > 0 ? h[g] + " " + y : oe(y, /&\f/g, h[g]))) && (a[w++] = v);
  return Lf(t, e, n, i === 0 ? dg : l, a, u, c);
}
function yO(t, e, n) {
  return Lf(t, e, n, Db, Df(cO()), Dl(t, 2, -2), 0);
}
function P1(t, e, n, r) {
  return Lf(t, e, n, pg, Dl(t, 0, r), Dl(t, r + 1, -1), r);
}
function Ks(t, e) {
  for (var n = "", r = mg(t), i = 0; i < r; i++) n += e(t[i], i, t, e) || "";
  return n;
}
function vO(t, e, n, r) {
  switch (t.type) {
    case iO:
      if (t.children.length) break;
    case rO:
    case pg:
      return (t.return = t.return || t.value);
    case Db:
      return "";
    case Rb:
      return (t.return = t.value + "{" + Ks(t.children, r) + "}");
    case dg:
      t.value = t.props.join(",");
  }
  return Jn((n = Ks(t.children, r)))
    ? (t.return = t.value + "{" + n + "}")
    : "";
}
function wO(t) {
  var e = mg(t);
  return function (n, r, i, s) {
    for (var o = "", l = 0; l < e; l++) o += t[l](n, r, i, s) || "";
    return o;
  };
}
function bO(t) {
  return function (e) {
    e.root || ((e = e.return) && t(e));
  };
}
function $b(t) {
  var e = Object.create(null);
  return function (n) {
    return e[n] === void 0 && (e[n] = t(n)), e[n];
  };
}
var xO = function (e, n, r) {
    for (
      var i = 0, s = 0;
      (i = s), (s = lr()), i === 38 && s === 12 && (n[r] = 1), !Rl(s);

    )
      Yt();
    return Da(e, $t);
  },
  SO = function (e, n) {
    var r = -1,
      i = 44;
    do
      switch (Rl(i)) {
        case 0:
          i === 38 && lr() === 12 && (n[r] = 1), (e[r] += xO($t - 1, n, r));
          break;
        case 2:
          e[r] += rc(i);
          break;
        case 4:
          if (i === 44) {
            (e[++r] = lr() === 58 ? "&\f" : ""), (n[r] = e[r].length);
            break;
          }
        default:
          e[r] += Df(i);
      }
    while ((i = Yt()));
    return e;
  },
  kO = function (e, n) {
    return Ib(SO(Nb(e), n));
  },
  D1 = new WeakMap(),
  CO = function (e) {
    if (!(e.type !== "rule" || !e.parent || e.length < 1)) {
      for (
        var n = e.value,
          r = e.parent,
          i = e.column === r.column && e.line === r.line;
        r.type !== "rule";

      )
        if (((r = r.parent), !r)) return;
      if (
        !(e.props.length === 1 && n.charCodeAt(0) !== 58 && !D1.get(r)) &&
        !i
      ) {
        D1.set(e, !0);
        for (
          var s = [], o = kO(n, s), l = r.props, a = 0, u = 0;
          a < o.length;
          a++
        )
          for (var c = 0; c < l.length; c++, u++)
            e.props[u] = s[a] ? o[a].replace(/&\f/g, l[c]) : l[c] + " " + o[a];
      }
    }
  },
  _O = function (e) {
    if (e.type === "decl") {
      var n = e.value;
      n.charCodeAt(0) === 108 &&
        n.charCodeAt(2) === 98 &&
        ((e.return = ""), (e.value = ""));
    }
  };
function Fb(t, e) {
  switch (lO(t, e)) {
    case 5103:
      return se + "print-" + t + t;
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return se + t + t;
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return se + t + Ec + t + dt + t + t;
    case 6828:
    case 4268:
      return se + t + dt + t + t;
    case 6165:
      return se + t + dt + "flex-" + t + t;
    case 5187:
      return (
        se + t + oe(t, /(\w+).+(:[^]+)/, se + "box-$1$2" + dt + "flex-$1$2") + t
      );
    case 5443:
      return se + t + dt + "flex-item-" + oe(t, /flex-|-self/, "") + t;
    case 4675:
      return (
        se +
        t +
        dt +
        "flex-line-pack" +
        oe(t, /align-content|flex-|-self/, "") +
        t
      );
    case 5548:
      return se + t + dt + oe(t, "shrink", "negative") + t;
    case 5292:
      return se + t + dt + oe(t, "basis", "preferred-size") + t;
    case 6060:
      return (
        se +
        "box-" +
        oe(t, "-grow", "") +
        se +
        t +
        dt +
        oe(t, "grow", "positive") +
        t
      );
    case 4554:
      return se + oe(t, /([^-])(transform)/g, "$1" + se + "$2") + t;
    case 6187:
      return (
        oe(
          oe(oe(t, /(zoom-|grab)/, se + "$1"), /(image-set)/, se + "$1"),
          t,
          ""
        ) + t
      );
    case 5495:
    case 3959:
      return oe(t, /(image-set\([^]*)/, se + "$1$`$1");
    case 4968:
      return (
        oe(
          oe(t, /(.+:)(flex-)?(.*)/, se + "box-pack:$3" + dt + "flex-pack:$3"),
          /s.+-b[^;]+/,
          "justify"
        ) +
        se +
        t +
        t
      );
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return oe(t, /(.+)-inline(.+)/, se + "$1$2") + t;
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (Jn(t) - 1 - e > 6)
        switch (tt(t, e + 1)) {
          case 109:
            if (tt(t, e + 4) !== 45) break;
          case 102:
            return (
              oe(
                t,
                /(.+:)(.+)-([^]+)/,
                "$1" +
                  se +
                  "$2-$3$1" +
                  Ec +
                  (tt(t, e + 3) == 108 ? "$3" : "$2-$3")
              ) + t
            );
          case 115:
            return ~np(t, "stretch")
              ? Fb(oe(t, "stretch", "fill-available"), e) + t
              : t;
        }
      break;
    case 4949:
      if (tt(t, e + 1) !== 115) break;
    case 6444:
      switch (tt(t, Jn(t) - 3 - (~np(t, "!important") && 10))) {
        case 107:
          return oe(t, ":", ":" + se) + t;
        case 101:
          return (
            oe(
              t,
              /(.+:)([^;!]+)(;|!.+)?/,
              "$1" +
                se +
                (tt(t, 14) === 45 ? "inline-" : "") +
                "box$3$1" +
                se +
                "$2$3$1" +
                dt +
                "$2box$3"
            ) + t
          );
      }
      break;
    case 5936:
      switch (tt(t, e + 11)) {
        case 114:
          return se + t + dt + oe(t, /[svh]\w+-[tblr]{2}/, "tb") + t;
        case 108:
          return se + t + dt + oe(t, /[svh]\w+-[tblr]{2}/, "tb-rl") + t;
        case 45:
          return se + t + dt + oe(t, /[svh]\w+-[tblr]{2}/, "lr") + t;
      }
      return se + t + dt + t + t;
  }
  return t;
}
var AO = function (e, n, r, i) {
    if (e.length > -1 && !e.return)
      switch (e.type) {
        case pg:
          e.return = Fb(e.value, e.length);
          break;
        case Rb:
          return Ks([Wo(e, { value: oe(e.value, "@", "@" + se) })], i);
        case dg:
          if (e.length)
            return uO(e.props, function (s) {
              switch (aO(s, /(::plac\w+|:read-\w+)/)) {
                case ":read-only":
                case ":read-write":
                  return Ks(
                    [Wo(e, { props: [oe(s, /:(read-\w+)/, ":" + Ec + "$1")] })],
                    i
                  );
                case "::placeholder":
                  return Ks(
                    [
                      Wo(e, {
                        props: [oe(s, /:(plac\w+)/, ":" + se + "input-$1")],
                      }),
                      Wo(e, { props: [oe(s, /:(plac\w+)/, ":" + Ec + "$1")] }),
                      Wo(e, { props: [oe(s, /:(plac\w+)/, dt + "input-$1")] }),
                    ],
                    i
                  );
              }
              return "";
            });
      }
  },
  OO = [AO],
  zb = function (e) {
    var n = e.key;
    if (n === "css") {
      var r = document.querySelectorAll("style[data-emotion]:not([data-s])");
      Array.prototype.forEach.call(r, function (m) {
        var w = m.getAttribute("data-emotion");
        w.indexOf(" ") !== -1 &&
          (document.head.appendChild(m), m.setAttribute("data-s", ""));
      });
    }
    var i = e.stylisPlugins || OO,
      s = {},
      o,
      l = [];
    (o = e.container || document.head),
      Array.prototype.forEach.call(
        document.querySelectorAll('style[data-emotion^="' + n + ' "]'),
        function (m) {
          for (
            var w = m.getAttribute("data-emotion").split(" "), g = 1;
            g < w.length;
            g++
          )
            s[w[g]] = !0;
          l.push(m);
        }
      );
    var a,
      u = [CO, _O];
    {
      var c,
        f = [
          vO,
          bO(function (m) {
            c.insert(m);
          }),
        ],
        h = wO(u.concat(i, f)),
        d = function (w) {
          return Ks(gO(w), h);
        };
      a = function (w, g, y, v) {
        (c = y),
          d(w ? w + "{" + g.styles + "}" : g.styles),
          v && (p.inserted[g.name] = !0);
      };
    }
    var p = {
      key: n,
      sheet: new nO({
        key: n,
        container: o,
        nonce: e.nonce,
        speedy: e.speedy,
        prepend: e.prepend,
        insertionPoint: e.insertionPoint,
      }),
      nonce: e.nonce,
      inserted: s,
      registered: {},
      insert: a,
    };
    return p.sheet.hydrate(l), p;
  };
function ae() {
  return (
    (ae = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    ae.apply(this, arguments)
  );
}
const MO = Object.freeze(
  Object.defineProperty({ __proto__: null, default: ae }, Symbol.toStringTag, {
    value: "Module",
  })
);
var jb = { exports: {} },
  ce = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Je = typeof Symbol == "function" && Symbol.for,
  gg = Je ? Symbol.for("react.element") : 60103,
  yg = Je ? Symbol.for("react.portal") : 60106,
  Bf = Je ? Symbol.for("react.fragment") : 60107,
  Nf = Je ? Symbol.for("react.strict_mode") : 60108,
  If = Je ? Symbol.for("react.profiler") : 60114,
  $f = Je ? Symbol.for("react.provider") : 60109,
  Ff = Je ? Symbol.for("react.context") : 60110,
  vg = Je ? Symbol.for("react.async_mode") : 60111,
  zf = Je ? Symbol.for("react.concurrent_mode") : 60111,
  jf = Je ? Symbol.for("react.forward_ref") : 60112,
  Vf = Je ? Symbol.for("react.suspense") : 60113,
  EO = Je ? Symbol.for("react.suspense_list") : 60120,
  Hf = Je ? Symbol.for("react.memo") : 60115,
  Wf = Je ? Symbol.for("react.lazy") : 60116,
  TO = Je ? Symbol.for("react.block") : 60121,
  PO = Je ? Symbol.for("react.fundamental") : 60117,
  DO = Je ? Symbol.for("react.responder") : 60118,
  RO = Je ? Symbol.for("react.scope") : 60119;
function Jt(t) {
  if (typeof t == "object" && t !== null) {
    var e = t.$$typeof;
    switch (e) {
      case gg:
        switch (((t = t.type), t)) {
          case vg:
          case zf:
          case Bf:
          case If:
          case Nf:
          case Vf:
            return t;
          default:
            switch (((t = t && t.$$typeof), t)) {
              case Ff:
              case jf:
              case Wf:
              case Hf:
              case $f:
                return t;
              default:
                return e;
            }
        }
      case yg:
        return e;
    }
  }
}
function Vb(t) {
  return Jt(t) === zf;
}
ce.AsyncMode = vg;
ce.ConcurrentMode = zf;
ce.ContextConsumer = Ff;
ce.ContextProvider = $f;
ce.Element = gg;
ce.ForwardRef = jf;
ce.Fragment = Bf;
ce.Lazy = Wf;
ce.Memo = Hf;
ce.Portal = yg;
ce.Profiler = If;
ce.StrictMode = Nf;
ce.Suspense = Vf;
ce.isAsyncMode = function (t) {
  return Vb(t) || Jt(t) === vg;
};
ce.isConcurrentMode = Vb;
ce.isContextConsumer = function (t) {
  return Jt(t) === Ff;
};
ce.isContextProvider = function (t) {
  return Jt(t) === $f;
};
ce.isElement = function (t) {
  return typeof t == "object" && t !== null && t.$$typeof === gg;
};
ce.isForwardRef = function (t) {
  return Jt(t) === jf;
};
ce.isFragment = function (t) {
  return Jt(t) === Bf;
};
ce.isLazy = function (t) {
  return Jt(t) === Wf;
};
ce.isMemo = function (t) {
  return Jt(t) === Hf;
};
ce.isPortal = function (t) {
  return Jt(t) === yg;
};
ce.isProfiler = function (t) {
  return Jt(t) === If;
};
ce.isStrictMode = function (t) {
  return Jt(t) === Nf;
};
ce.isSuspense = function (t) {
  return Jt(t) === Vf;
};
ce.isValidElementType = function (t) {
  return (
    typeof t == "string" ||
    typeof t == "function" ||
    t === Bf ||
    t === zf ||
    t === If ||
    t === Nf ||
    t === Vf ||
    t === EO ||
    (typeof t == "object" &&
      t !== null &&
      (t.$$typeof === Wf ||
        t.$$typeof === Hf ||
        t.$$typeof === $f ||
        t.$$typeof === Ff ||
        t.$$typeof === jf ||
        t.$$typeof === PO ||
        t.$$typeof === DO ||
        t.$$typeof === RO ||
        t.$$typeof === TO))
  );
};
ce.typeOf = Jt;
jb.exports = ce;
var LO = jb.exports,
  Hb = LO,
  BO = {
    $$typeof: !0,
    render: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0,
  },
  NO = {
    $$typeof: !0,
    compare: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0,
    type: !0,
  },
  Wb = {};
Wb[Hb.ForwardRef] = BO;
Wb[Hb.Memo] = NO;
var IO = !0;
function Ub(t, e, n) {
  var r = "";
  return (
    n.split(" ").forEach(function (i) {
      t[i] !== void 0 ? e.push(t[i] + ";") : (r += i + " ");
    }),
    r
  );
}
var wg = function (e, n, r) {
    var i = e.key + "-" + n.name;
    (r === !1 || IO === !1) &&
      e.registered[i] === void 0 &&
      (e.registered[i] = n.styles);
  },
  bg = function (e, n, r) {
    wg(e, n, r);
    var i = e.key + "-" + n.name;
    if (e.inserted[n.name] === void 0) {
      var s = n;
      do e.insert(n === s ? "." + i : "", s, e.sheet, !0), (s = s.next);
      while (s !== void 0);
    }
  };
function $O(t) {
  for (var e = 0, n, r = 0, i = t.length; i >= 4; ++r, i -= 4)
    (n =
      (t.charCodeAt(r) & 255) |
      ((t.charCodeAt(++r) & 255) << 8) |
      ((t.charCodeAt(++r) & 255) << 16) |
      ((t.charCodeAt(++r) & 255) << 24)),
      (n = (n & 65535) * 1540483477 + (((n >>> 16) * 59797) << 16)),
      (n ^= n >>> 24),
      (e =
        ((n & 65535) * 1540483477 + (((n >>> 16) * 59797) << 16)) ^
        ((e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)));
  switch (i) {
    case 3:
      e ^= (t.charCodeAt(r + 2) & 255) << 16;
    case 2:
      e ^= (t.charCodeAt(r + 1) & 255) << 8;
    case 1:
      (e ^= t.charCodeAt(r) & 255),
        (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16));
  }
  return (
    (e ^= e >>> 13),
    (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)),
    ((e ^ (e >>> 15)) >>> 0).toString(36)
  );
}
var FO = {
    animationIterationCount: 1,
    aspectRatio: 1,
    borderImageOutset: 1,
    borderImageSlice: 1,
    borderImageWidth: 1,
    boxFlex: 1,
    boxFlexGroup: 1,
    boxOrdinalGroup: 1,
    columnCount: 1,
    columns: 1,
    flex: 1,
    flexGrow: 1,
    flexPositive: 1,
    flexShrink: 1,
    flexNegative: 1,
    flexOrder: 1,
    gridRow: 1,
    gridRowEnd: 1,
    gridRowSpan: 1,
    gridRowStart: 1,
    gridColumn: 1,
    gridColumnEnd: 1,
    gridColumnSpan: 1,
    gridColumnStart: 1,
    msGridRow: 1,
    msGridRowSpan: 1,
    msGridColumn: 1,
    msGridColumnSpan: 1,
    fontWeight: 1,
    lineHeight: 1,
    opacity: 1,
    order: 1,
    orphans: 1,
    tabSize: 1,
    widows: 1,
    zIndex: 1,
    zoom: 1,
    WebkitLineClamp: 1,
    fillOpacity: 1,
    floodOpacity: 1,
    stopOpacity: 1,
    strokeDasharray: 1,
    strokeDashoffset: 1,
    strokeMiterlimit: 1,
    strokeOpacity: 1,
    strokeWidth: 1,
  },
  zO = /[A-Z]|^ms/g,
  jO = /_EMO_([^_]+?)_([^]*?)_EMO_/g,
  Kb = function (e) {
    return e.charCodeAt(1) === 45;
  },
  R1 = function (e) {
    return e != null && typeof e != "boolean";
  },
  Xh = $b(function (t) {
    return Kb(t) ? t : t.replace(zO, "-$&").toLowerCase();
  }),
  L1 = function (e, n) {
    switch (e) {
      case "animation":
      case "animationName":
        if (typeof n == "string")
          return n.replace(jO, function (r, i, s) {
            return (Zn = { name: i, styles: s, next: Zn }), i;
          });
    }
    return FO[e] !== 1 && !Kb(e) && typeof n == "number" && n !== 0
      ? n + "px"
      : n;
  };
function Ll(t, e, n) {
  if (n == null) return "";
  if (n.__emotion_styles !== void 0) return n;
  switch (typeof n) {
    case "boolean":
      return "";
    case "object": {
      if (n.anim === 1)
        return (Zn = { name: n.name, styles: n.styles, next: Zn }), n.name;
      if (n.styles !== void 0) {
        var r = n.next;
        if (r !== void 0)
          for (; r !== void 0; )
            (Zn = { name: r.name, styles: r.styles, next: Zn }), (r = r.next);
        var i = n.styles + ";";
        return i;
      }
      return VO(t, e, n);
    }
    case "function": {
      if (t !== void 0) {
        var s = Zn,
          o = n(t);
        return (Zn = s), Ll(t, e, o);
      }
      break;
    }
  }
  if (e == null) return n;
  var l = e[n];
  return l !== void 0 ? l : n;
}
function VO(t, e, n) {
  var r = "";
  if (Array.isArray(n))
    for (var i = 0; i < n.length; i++) r += Ll(t, e, n[i]) + ";";
  else
    for (var s in n) {
      var o = n[s];
      if (typeof o != "object")
        e != null && e[o] !== void 0
          ? (r += s + "{" + e[o] + "}")
          : R1(o) && (r += Xh(s) + ":" + L1(s, o) + ";");
      else if (
        Array.isArray(o) &&
        typeof o[0] == "string" &&
        (e == null || e[o[0]] === void 0)
      )
        for (var l = 0; l < o.length; l++)
          R1(o[l]) && (r += Xh(s) + ":" + L1(s, o[l]) + ";");
      else {
        var a = Ll(t, e, o);
        switch (s) {
          case "animation":
          case "animationName": {
            r += Xh(s) + ":" + a + ";";
            break;
          }
          default:
            r += s + "{" + a + "}";
        }
      }
    }
  return r;
}
var B1 = /label:\s*([^\s;\n{]+)\s*(;|$)/g,
  Zn,
  Uf = function (e, n, r) {
    if (
      e.length === 1 &&
      typeof e[0] == "object" &&
      e[0] !== null &&
      e[0].styles !== void 0
    )
      return e[0];
    var i = !0,
      s = "";
    Zn = void 0;
    var o = e[0];
    o == null || o.raw === void 0
      ? ((i = !1), (s += Ll(r, n, o)))
      : (s += o[0]);
    for (var l = 1; l < e.length; l++) (s += Ll(r, n, e[l])), i && (s += o[l]);
    B1.lastIndex = 0;
    for (var a = "", u; (u = B1.exec(s)) !== null; ) a += "-" + u[1];
    var c = $O(s) + a;
    return { name: c, styles: s, next: Zn };
  },
  HO = function (e) {
    return e();
  },
  qb = E1.useInsertionEffect ? E1.useInsertionEffect : !1,
  Gb = qb || HO,
  N1 = qb || H.useLayoutEffect,
  Kf = {}.hasOwnProperty,
  Yb = H.createContext(typeof HTMLElement < "u" ? zb({ key: "css" }) : null),
  WO = Yb.Provider,
  xg = function (e) {
    return H.forwardRef(function (n, r) {
      var i = H.useContext(Yb);
      return e(n, i, r);
    });
  },
  Ra = H.createContext({}),
  ip = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__",
  Xb = function (e, n) {
    var r = {};
    for (var i in n) Kf.call(n, i) && (r[i] = n[i]);
    return (r[ip] = e), r;
  },
  UO = function (e) {
    var n = e.cache,
      r = e.serialized,
      i = e.isStringTag;
    return (
      wg(n, r, i),
      Gb(function () {
        return bg(n, r, i);
      }),
      null
    );
  },
  KO = xg(function (t, e, n) {
    var r = t.css;
    typeof r == "string" && e.registered[r] !== void 0 && (r = e.registered[r]);
    var i = t[ip],
      s = [r],
      o = "";
    typeof t.className == "string"
      ? (o = Ub(e.registered, s, t.className))
      : t.className != null && (o = t.className + " ");
    var l = Uf(s, void 0, H.useContext(Ra));
    o += e.key + "-" + l.name;
    var a = {};
    for (var u in t) Kf.call(t, u) && u !== "css" && u !== ip && (a[u] = t[u]);
    return (
      (a.ref = n),
      (a.className = o),
      H.createElement(
        H.Fragment,
        null,
        H.createElement(UO, {
          cache: e,
          serialized: l,
          isStringTag: typeof i == "string",
        }),
        H.createElement(i, a)
      )
    );
  }),
  Qb = KO,
  vi = yi.Fragment;
function C(t, e, n) {
  return Kf.call(e, "css") ? yi.jsx(Qb, Xb(t, e), n) : yi.jsx(t, e, n);
}
function qe(t, e, n) {
  return Kf.call(e, "css") ? yi.jsxs(Qb, Xb(t, e), n) : yi.jsxs(t, e, n);
}
var sp = {},
  Jb = { exports: {} },
  Zt = {},
  Zb = { exports: {} },
  e2 = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ (function (t) {
  function e(T, j) {
    var z = T.length;
    T.push(j);
    e: for (; 0 < z; ) {
      var G = (z - 1) >>> 1,
        re = T[G];
      if (0 < i(re, j)) (T[G] = j), (T[z] = re), (z = G);
      else break e;
    }
  }
  function n(T) {
    return T.length === 0 ? null : T[0];
  }
  function r(T) {
    if (T.length === 0) return null;
    var j = T[0],
      z = T.pop();
    if (z !== j) {
      T[0] = z;
      e: for (var G = 0, re = T.length, wt = re >>> 1; G < wt; ) {
        var He = 2 * (G + 1) - 1,
          zt = T[He],
          de = He + 1,
          $r = T[de];
        if (0 > i(zt, z))
          de < re && 0 > i($r, zt)
            ? ((T[G] = $r), (T[de] = z), (G = de))
            : ((T[G] = zt), (T[He] = z), (G = He));
        else if (de < re && 0 > i($r, z)) (T[G] = $r), (T[de] = z), (G = de);
        else break e;
      }
    }
    return j;
  }
  function i(T, j) {
    var z = T.sortIndex - j.sortIndex;
    return z !== 0 ? z : T.id - j.id;
  }
  if (typeof performance == "object" && typeof performance.now == "function") {
    var s = performance;
    t.unstable_now = function () {
      return s.now();
    };
  } else {
    var o = Date,
      l = o.now();
    t.unstable_now = function () {
      return o.now() - l;
    };
  }
  var a = [],
    u = [],
    c = 1,
    f = null,
    h = 3,
    d = !1,
    p = !1,
    m = !1,
    w = typeof setTimeout == "function" ? setTimeout : null,
    g = typeof clearTimeout == "function" ? clearTimeout : null,
    y = typeof setImmediate < "u" ? setImmediate : null;
  typeof navigator < "u" &&
    navigator.scheduling !== void 0 &&
    navigator.scheduling.isInputPending !== void 0 &&
    navigator.scheduling.isInputPending.bind(navigator.scheduling);
  function v(T) {
    for (var j = n(u); j !== null; ) {
      if (j.callback === null) r(u);
      else if (j.startTime <= T)
        r(u), (j.sortIndex = j.expirationTime), e(a, j);
      else break;
      j = n(u);
    }
  }
  function b(T) {
    if (((m = !1), v(T), !p))
      if (n(a) !== null) (p = !0), Ae(x);
      else {
        var j = n(u);
        j !== null && Pe(b, j.startTime - T);
      }
  }
  function x(T, j) {
    (p = !1), m && ((m = !1), g(_), (_ = -1)), (d = !0);
    var z = h;
    try {
      for (
        v(j), f = n(a);
        f !== null && (!(f.expirationTime > j) || (T && !L()));

      ) {
        var G = f.callback;
        if (typeof G == "function") {
          (f.callback = null), (h = f.priorityLevel);
          var re = G(f.expirationTime <= j);
          (j = t.unstable_now()),
            typeof re == "function" ? (f.callback = re) : f === n(a) && r(a),
            v(j);
        } else r(a);
        f = n(a);
      }
      if (f !== null) var wt = !0;
      else {
        var He = n(u);
        He !== null && Pe(b, He.startTime - j), (wt = !1);
      }
      return wt;
    } finally {
      (f = null), (h = z), (d = !1);
    }
  }
  var S = !1,
    k = null,
    _ = -1,
    E = 5,
    O = -1;
  function L() {
    return !(t.unstable_now() - O < E);
  }
  function F() {
    if (k !== null) {
      var T = t.unstable_now();
      O = T;
      var j = !0;
      try {
        j = k(!0, T);
      } finally {
        j ? V() : ((S = !1), (k = null));
      }
    } else S = !1;
  }
  var V;
  if (typeof y == "function")
    V = function () {
      y(F);
    };
  else if (typeof MessageChannel < "u") {
    var W = new MessageChannel(),
      X = W.port2;
    (W.port1.onmessage = F),
      (V = function () {
        X.postMessage(null);
      });
  } else
    V = function () {
      w(F, 0);
    };
  function Ae(T) {
    (k = T), S || ((S = !0), V());
  }
  function Pe(T, j) {
    _ = w(function () {
      T(t.unstable_now());
    }, j);
  }
  (t.unstable_IdlePriority = 5),
    (t.unstable_ImmediatePriority = 1),
    (t.unstable_LowPriority = 4),
    (t.unstable_NormalPriority = 3),
    (t.unstable_Profiling = null),
    (t.unstable_UserBlockingPriority = 2),
    (t.unstable_cancelCallback = function (T) {
      T.callback = null;
    }),
    (t.unstable_continueExecution = function () {
      p || d || ((p = !0), Ae(x));
    }),
    (t.unstable_forceFrameRate = function (T) {
      0 > T || 125 < T
        ? console.error(
            "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
          )
        : (E = 0 < T ? Math.floor(1e3 / T) : 5);
    }),
    (t.unstable_getCurrentPriorityLevel = function () {
      return h;
    }),
    (t.unstable_getFirstCallbackNode = function () {
      return n(a);
    }),
    (t.unstable_next = function (T) {
      switch (h) {
        case 1:
        case 2:
        case 3:
          var j = 3;
          break;
        default:
          j = h;
      }
      var z = h;
      h = j;
      try {
        return T();
      } finally {
        h = z;
      }
    }),
    (t.unstable_pauseExecution = function () {}),
    (t.unstable_requestPaint = function () {}),
    (t.unstable_runWithPriority = function (T, j) {
      switch (T) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          T = 3;
      }
      var z = h;
      h = T;
      try {
        return j();
      } finally {
        h = z;
      }
    }),
    (t.unstable_scheduleCallback = function (T, j, z) {
      var G = t.unstable_now();
      switch (
        (typeof z == "object" && z !== null
          ? ((z = z.delay), (z = typeof z == "number" && 0 < z ? G + z : G))
          : (z = G),
        T)
      ) {
        case 1:
          var re = -1;
          break;
        case 2:
          re = 250;
          break;
        case 5:
          re = 1073741823;
          break;
        case 4:
          re = 1e4;
          break;
        default:
          re = 5e3;
      }
      return (
        (re = z + re),
        (T = {
          id: c++,
          callback: j,
          priorityLevel: T,
          startTime: z,
          expirationTime: re,
          sortIndex: -1,
        }),
        z > G
          ? ((T.sortIndex = z),
            e(u, T),
            n(a) === null &&
              T === n(u) &&
              (m ? (g(_), (_ = -1)) : (m = !0), Pe(b, z - G)))
          : ((T.sortIndex = re), e(a, T), p || d || ((p = !0), Ae(x))),
        T
      );
    }),
    (t.unstable_shouldYield = L),
    (t.unstable_wrapCallback = function (T) {
      var j = h;
      return function () {
        var z = h;
        h = j;
        try {
          return T.apply(this, arguments);
        } finally {
          h = z;
        }
      };
    });
})(e2);
Zb.exports = e2;
var qO = Zb.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var t2 = H,
  Qt = qO;
function M(t) {
  for (
    var e = "https://reactjs.org/docs/error-decoder.html?invariant=" + t, n = 1;
    n < arguments.length;
    n++
  )
    e += "&args[]=" + encodeURIComponent(arguments[n]);
  return (
    "Minified React error #" +
    t +
    "; visit " +
    e +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
var n2 = new Set(),
  Bl = {};
function fs(t, e) {
  ao(t, e), ao(t + "Capture", e);
}
function ao(t, e) {
  for (Bl[t] = e, t = 0; t < e.length; t++) n2.add(e[t]);
}
var Or = !(
    typeof window > "u" ||
    typeof window.document > "u" ||
    typeof window.document.createElement > "u"
  ),
  op = Object.prototype.hasOwnProperty,
  GO =
    /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
  I1 = {},
  $1 = {};
function YO(t) {
  return op.call($1, t)
    ? !0
    : op.call(I1, t)
      ? !1
      : GO.test(t)
        ? ($1[t] = !0)
        : ((I1[t] = !0), !1);
}
function XO(t, e, n, r) {
  if (n !== null && n.type === 0) return !1;
  switch (typeof e) {
    case "function":
    case "symbol":
      return !0;
    case "boolean":
      return r
        ? !1
        : n !== null
          ? !n.acceptsBooleans
          : ((t = t.toLowerCase().slice(0, 5)), t !== "data-" && t !== "aria-");
    default:
      return !1;
  }
}
function QO(t, e, n, r) {
  if (e === null || typeof e > "u" || XO(t, e, n, r)) return !0;
  if (r) return !1;
  if (n !== null)
    switch (n.type) {
      case 3:
        return !e;
      case 4:
        return e === !1;
      case 5:
        return isNaN(e);
      case 6:
        return isNaN(e) || 1 > e;
    }
  return !1;
}
function Et(t, e, n, r, i, s, o) {
  (this.acceptsBooleans = e === 2 || e === 3 || e === 4),
    (this.attributeName = r),
    (this.attributeNamespace = i),
    (this.mustUseProperty = n),
    (this.propertyName = t),
    (this.type = e),
    (this.sanitizeURL = s),
    (this.removeEmptyString = o);
}
var at = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style"
  .split(" ")
  .forEach(function (t) {
    at[t] = new Et(t, 0, !1, t, null, !1, !1);
  });
[
  ["acceptCharset", "accept-charset"],
  ["className", "class"],
  ["htmlFor", "for"],
  ["httpEquiv", "http-equiv"],
].forEach(function (t) {
  var e = t[0];
  at[e] = new Et(e, 1, !1, t[1], null, !1, !1);
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function (t) {
  at[t] = new Et(t, 2, !1, t.toLowerCase(), null, !1, !1);
});
[
  "autoReverse",
  "externalResourcesRequired",
  "focusable",
  "preserveAlpha",
].forEach(function (t) {
  at[t] = new Et(t, 2, !1, t, null, !1, !1);
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope"
  .split(" ")
  .forEach(function (t) {
    at[t] = new Et(t, 3, !1, t.toLowerCase(), null, !1, !1);
  });
["checked", "multiple", "muted", "selected"].forEach(function (t) {
  at[t] = new Et(t, 3, !0, t, null, !1, !1);
});
["capture", "download"].forEach(function (t) {
  at[t] = new Et(t, 4, !1, t, null, !1, !1);
});
["cols", "rows", "size", "span"].forEach(function (t) {
  at[t] = new Et(t, 6, !1, t, null, !1, !1);
});
["rowSpan", "start"].forEach(function (t) {
  at[t] = new Et(t, 5, !1, t.toLowerCase(), null, !1, !1);
});
var Sg = /[\-:]([a-z])/g;
function kg(t) {
  return t[1].toUpperCase();
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height"
  .split(" ")
  .forEach(function (t) {
    var e = t.replace(Sg, kg);
    at[e] = new Et(e, 1, !1, t, null, !1, !1);
  });
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type"
  .split(" ")
  .forEach(function (t) {
    var e = t.replace(Sg, kg);
    at[e] = new Et(e, 1, !1, t, "http://www.w3.org/1999/xlink", !1, !1);
  });
["xml:base", "xml:lang", "xml:space"].forEach(function (t) {
  var e = t.replace(Sg, kg);
  at[e] = new Et(e, 1, !1, t, "http://www.w3.org/XML/1998/namespace", !1, !1);
});
["tabIndex", "crossOrigin"].forEach(function (t) {
  at[t] = new Et(t, 1, !1, t.toLowerCase(), null, !1, !1);
});
at.xlinkHref = new Et(
  "xlinkHref",
  1,
  !1,
  "xlink:href",
  "http://www.w3.org/1999/xlink",
  !0,
  !1
);
["src", "href", "action", "formAction"].forEach(function (t) {
  at[t] = new Et(t, 1, !1, t.toLowerCase(), null, !0, !0);
});
function Cg(t, e, n, r) {
  var i = at.hasOwnProperty(e) ? at[e] : null;
  (i !== null
    ? i.type !== 0
    : r ||
      !(2 < e.length) ||
      (e[0] !== "o" && e[0] !== "O") ||
      (e[1] !== "n" && e[1] !== "N")) &&
    (QO(e, n, i, r) && (n = null),
    r || i === null
      ? YO(e) && (n === null ? t.removeAttribute(e) : t.setAttribute(e, "" + n))
      : i.mustUseProperty
        ? (t[i.propertyName] = n === null ? (i.type === 3 ? !1 : "") : n)
        : ((e = i.attributeName),
          (r = i.attributeNamespace),
          n === null
            ? t.removeAttribute(e)
            : ((i = i.type),
              (n = i === 3 || (i === 4 && n === !0) ? "" : "" + n),
              r ? t.setAttributeNS(r, e, n) : t.setAttribute(e, n))));
}
var Nr = t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
  uu = Symbol.for("react.element"),
  Es = Symbol.for("react.portal"),
  Ts = Symbol.for("react.fragment"),
  _g = Symbol.for("react.strict_mode"),
  lp = Symbol.for("react.profiler"),
  r2 = Symbol.for("react.provider"),
  i2 = Symbol.for("react.context"),
  Ag = Symbol.for("react.forward_ref"),
  ap = Symbol.for("react.suspense"),
  up = Symbol.for("react.suspense_list"),
  Og = Symbol.for("react.memo"),
  Hr = Symbol.for("react.lazy"),
  s2 = Symbol.for("react.offscreen"),
  F1 = Symbol.iterator;
function Uo(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (F1 && t[F1]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var Te = Object.assign,
  Qh;
function ol(t) {
  if (Qh === void 0)
    try {
      throw Error();
    } catch (n) {
      var e = n.stack.trim().match(/\n( *(at )?)/);
      Qh = (e && e[1]) || "";
    }
  return (
    `
` +
    Qh +
    t
  );
}
var Jh = !1;
function Zh(t, e) {
  if (!t || Jh) return "";
  Jh = !0;
  var n = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    if (e)
      if (
        ((e = function () {
          throw Error();
        }),
        Object.defineProperty(e.prototype, "props", {
          set: function () {
            throw Error();
          },
        }),
        typeof Reflect == "object" && Reflect.construct)
      ) {
        try {
          Reflect.construct(e, []);
        } catch (u) {
          var r = u;
        }
        Reflect.construct(t, [], e);
      } else {
        try {
          e.call();
        } catch (u) {
          r = u;
        }
        t.call(e.prototype);
      }
    else {
      try {
        throw Error();
      } catch (u) {
        r = u;
      }
      t();
    }
  } catch (u) {
    if (u && r && typeof u.stack == "string") {
      for (
        var i = u.stack.split(`
`),
          s = r.stack.split(`
`),
          o = i.length - 1,
          l = s.length - 1;
        1 <= o && 0 <= l && i[o] !== s[l];

      )
        l--;
      for (; 1 <= o && 0 <= l; o--, l--)
        if (i[o] !== s[l]) {
          if (o !== 1 || l !== 1)
            do
              if ((o--, l--, 0 > l || i[o] !== s[l])) {
                var a =
                  `
` + i[o].replace(" at new ", " at ");
                return (
                  t.displayName &&
                    a.includes("<anonymous>") &&
                    (a = a.replace("<anonymous>", t.displayName)),
                  a
                );
              }
            while (1 <= o && 0 <= l);
          break;
        }
    }
  } finally {
    (Jh = !1), (Error.prepareStackTrace = n);
  }
  return (t = t ? t.displayName || t.name : "") ? ol(t) : "";
}
function JO(t) {
  switch (t.tag) {
    case 5:
      return ol(t.type);
    case 16:
      return ol("Lazy");
    case 13:
      return ol("Suspense");
    case 19:
      return ol("SuspenseList");
    case 0:
    case 2:
    case 15:
      return (t = Zh(t.type, !1)), t;
    case 11:
      return (t = Zh(t.type.render, !1)), t;
    case 1:
      return (t = Zh(t.type, !0)), t;
    default:
      return "";
  }
}
function cp(t) {
  if (t == null) return null;
  if (typeof t == "function") return t.displayName || t.name || null;
  if (typeof t == "string") return t;
  switch (t) {
    case Ts:
      return "Fragment";
    case Es:
      return "Portal";
    case lp:
      return "Profiler";
    case _g:
      return "StrictMode";
    case ap:
      return "Suspense";
    case up:
      return "SuspenseList";
  }
  if (typeof t == "object")
    switch (t.$$typeof) {
      case i2:
        return (t.displayName || "Context") + ".Consumer";
      case r2:
        return (t._context.displayName || "Context") + ".Provider";
      case Ag:
        var e = t.render;
        return (
          (t = t.displayName),
          t ||
            ((t = e.displayName || e.name || ""),
            (t = t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef")),
          t
        );
      case Og:
        return (
          (e = t.displayName || null), e !== null ? e : cp(t.type) || "Memo"
        );
      case Hr:
        (e = t._payload), (t = t._init);
        try {
          return cp(t(e));
        } catch {}
    }
  return null;
}
function ZO(t) {
  var e = t.type;
  switch (t.tag) {
    case 24:
      return "Cache";
    case 9:
      return (e.displayName || "Context") + ".Consumer";
    case 10:
      return (e._context.displayName || "Context") + ".Provider";
    case 18:
      return "DehydratedFragment";
    case 11:
      return (
        (t = e.render),
        (t = t.displayName || t.name || ""),
        e.displayName || (t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef")
      );
    case 7:
      return "Fragment";
    case 5:
      return e;
    case 4:
      return "Portal";
    case 3:
      return "Root";
    case 6:
      return "Text";
    case 16:
      return cp(e);
    case 8:
      return e === _g ? "StrictMode" : "Mode";
    case 22:
      return "Offscreen";
    case 12:
      return "Profiler";
    case 21:
      return "Scope";
    case 13:
      return "Suspense";
    case 19:
      return "SuspenseList";
    case 25:
      return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
      if (typeof e == "function") return e.displayName || e.name || null;
      if (typeof e == "string") return e;
  }
  return null;
}
function wi(t) {
  switch (typeof t) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
      return t;
    case "object":
      return t;
    default:
      return "";
  }
}
function o2(t) {
  var e = t.type;
  return (
    (t = t.nodeName) &&
    t.toLowerCase() === "input" &&
    (e === "checkbox" || e === "radio")
  );
}
function eM(t) {
  var e = o2(t) ? "checked" : "value",
    n = Object.getOwnPropertyDescriptor(t.constructor.prototype, e),
    r = "" + t[e];
  if (
    !t.hasOwnProperty(e) &&
    typeof n < "u" &&
    typeof n.get == "function" &&
    typeof n.set == "function"
  ) {
    var i = n.get,
      s = n.set;
    return (
      Object.defineProperty(t, e, {
        configurable: !0,
        get: function () {
          return i.call(this);
        },
        set: function (o) {
          (r = "" + o), s.call(this, o);
        },
      }),
      Object.defineProperty(t, e, { enumerable: n.enumerable }),
      {
        getValue: function () {
          return r;
        },
        setValue: function (o) {
          r = "" + o;
        },
        stopTracking: function () {
          (t._valueTracker = null), delete t[e];
        },
      }
    );
  }
}
function cu(t) {
  t._valueTracker || (t._valueTracker = eM(t));
}
function l2(t) {
  if (!t) return !1;
  var e = t._valueTracker;
  if (!e) return !0;
  var n = e.getValue(),
    r = "";
  return (
    t && (r = o2(t) ? (t.checked ? "true" : "false") : t.value),
    (t = r),
    t !== n ? (e.setValue(t), !0) : !1
  );
}
function Tc(t) {
  if (((t = t || (typeof document < "u" ? document : void 0)), typeof t > "u"))
    return null;
  try {
    return t.activeElement || t.body;
  } catch {
    return t.body;
  }
}
function fp(t, e) {
  var n = e.checked;
  return Te({}, e, {
    defaultChecked: void 0,
    defaultValue: void 0,
    value: void 0,
    checked: n ?? t._wrapperState.initialChecked,
  });
}
function z1(t, e) {
  var n = e.defaultValue == null ? "" : e.defaultValue,
    r = e.checked != null ? e.checked : e.defaultChecked;
  (n = wi(e.value != null ? e.value : n)),
    (t._wrapperState = {
      initialChecked: r,
      initialValue: n,
      controlled:
        e.type === "checkbox" || e.type === "radio"
          ? e.checked != null
          : e.value != null,
    });
}
function a2(t, e) {
  (e = e.checked), e != null && Cg(t, "checked", e, !1);
}
function hp(t, e) {
  a2(t, e);
  var n = wi(e.value),
    r = e.type;
  if (n != null)
    r === "number"
      ? ((n === 0 && t.value === "") || t.value != n) && (t.value = "" + n)
      : t.value !== "" + n && (t.value = "" + n);
  else if (r === "submit" || r === "reset") {
    t.removeAttribute("value");
    return;
  }
  e.hasOwnProperty("value")
    ? dp(t, e.type, n)
    : e.hasOwnProperty("defaultValue") && dp(t, e.type, wi(e.defaultValue)),
    e.checked == null &&
      e.defaultChecked != null &&
      (t.defaultChecked = !!e.defaultChecked);
}
function j1(t, e, n) {
  if (e.hasOwnProperty("value") || e.hasOwnProperty("defaultValue")) {
    var r = e.type;
    if (
      !(
        (r !== "submit" && r !== "reset") ||
        (e.value !== void 0 && e.value !== null)
      )
    )
      return;
    (e = "" + t._wrapperState.initialValue),
      n || e === t.value || (t.value = e),
      (t.defaultValue = e);
  }
  (n = t.name),
    n !== "" && (t.name = ""),
    (t.defaultChecked = !!t._wrapperState.initialChecked),
    n !== "" && (t.name = n);
}
function dp(t, e, n) {
  (e !== "number" || Tc(t.ownerDocument) !== t) &&
    (n == null
      ? (t.defaultValue = "" + t._wrapperState.initialValue)
      : t.defaultValue !== "" + n && (t.defaultValue = "" + n));
}
var ll = Array.isArray;
function qs(t, e, n, r) {
  if (((t = t.options), e)) {
    e = {};
    for (var i = 0; i < n.length; i++) e["$" + n[i]] = !0;
    for (n = 0; n < t.length; n++)
      (i = e.hasOwnProperty("$" + t[n].value)),
        t[n].selected !== i && (t[n].selected = i),
        i && r && (t[n].defaultSelected = !0);
  } else {
    for (n = "" + wi(n), e = null, i = 0; i < t.length; i++) {
      if (t[i].value === n) {
        (t[i].selected = !0), r && (t[i].defaultSelected = !0);
        return;
      }
      e !== null || t[i].disabled || (e = t[i]);
    }
    e !== null && (e.selected = !0);
  }
}
function pp(t, e) {
  if (e.dangerouslySetInnerHTML != null) throw Error(M(91));
  return Te({}, e, {
    value: void 0,
    defaultValue: void 0,
    children: "" + t._wrapperState.initialValue,
  });
}
function V1(t, e) {
  var n = e.value;
  if (n == null) {
    if (((n = e.children), (e = e.defaultValue), n != null)) {
      if (e != null) throw Error(M(92));
      if (ll(n)) {
        if (1 < n.length) throw Error(M(93));
        n = n[0];
      }
      e = n;
    }
    e == null && (e = ""), (n = e);
  }
  t._wrapperState = { initialValue: wi(n) };
}
function u2(t, e) {
  var n = wi(e.value),
    r = wi(e.defaultValue);
  n != null &&
    ((n = "" + n),
    n !== t.value && (t.value = n),
    e.defaultValue == null && t.defaultValue !== n && (t.defaultValue = n)),
    r != null && (t.defaultValue = "" + r);
}
function H1(t) {
  var e = t.textContent;
  e === t._wrapperState.initialValue && e !== "" && e !== null && (t.value = e);
}
function c2(t) {
  switch (t) {
    case "svg":
      return "http://www.w3.org/2000/svg";
    case "math":
      return "http://www.w3.org/1998/Math/MathML";
    default:
      return "http://www.w3.org/1999/xhtml";
  }
}
function mp(t, e) {
  return t == null || t === "http://www.w3.org/1999/xhtml"
    ? c2(e)
    : t === "http://www.w3.org/2000/svg" && e === "foreignObject"
      ? "http://www.w3.org/1999/xhtml"
      : t;
}
var fu,
  f2 = (function (t) {
    return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction
      ? function (e, n, r, i) {
          MSApp.execUnsafeLocalFunction(function () {
            return t(e, n, r, i);
          });
        }
      : t;
  })(function (t, e) {
    if (t.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in t)
      t.innerHTML = e;
    else {
      for (
        fu = fu || document.createElement("div"),
          fu.innerHTML = "<svg>" + e.valueOf().toString() + "</svg>",
          e = fu.firstChild;
        t.firstChild;

      )
        t.removeChild(t.firstChild);
      for (; e.firstChild; ) t.appendChild(e.firstChild);
    }
  });
function Nl(t, e) {
  if (e) {
    var n = t.firstChild;
    if (n && n === t.lastChild && n.nodeType === 3) {
      n.nodeValue = e;
      return;
    }
  }
  t.textContent = e;
}
var ml = {
    animationIterationCount: !0,
    aspectRatio: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0,
  },
  tM = ["Webkit", "ms", "Moz", "O"];
Object.keys(ml).forEach(function (t) {
  tM.forEach(function (e) {
    (e = e + t.charAt(0).toUpperCase() + t.substring(1)), (ml[e] = ml[t]);
  });
});
function h2(t, e, n) {
  return e == null || typeof e == "boolean" || e === ""
    ? ""
    : n || typeof e != "number" || e === 0 || (ml.hasOwnProperty(t) && ml[t])
      ? ("" + e).trim()
      : e + "px";
}
function d2(t, e) {
  t = t.style;
  for (var n in e)
    if (e.hasOwnProperty(n)) {
      var r = n.indexOf("--") === 0,
        i = h2(n, e[n], r);
      n === "float" && (n = "cssFloat"), r ? t.setProperty(n, i) : (t[n] = i);
    }
}
var nM = Te(
  { menuitem: !0 },
  {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0,
  }
);
function gp(t, e) {
  if (e) {
    if (nM[t] && (e.children != null || e.dangerouslySetInnerHTML != null))
      throw Error(M(137, t));
    if (e.dangerouslySetInnerHTML != null) {
      if (e.children != null) throw Error(M(60));
      if (
        typeof e.dangerouslySetInnerHTML != "object" ||
        !("__html" in e.dangerouslySetInnerHTML)
      )
        throw Error(M(61));
    }
    if (e.style != null && typeof e.style != "object") throw Error(M(62));
  }
}
function yp(t, e) {
  if (t.indexOf("-") === -1) return typeof e.is == "string";
  switch (t) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
      return !1;
    default:
      return !0;
  }
}
var vp = null;
function Mg(t) {
  return (
    (t = t.target || t.srcElement || window),
    t.correspondingUseElement && (t = t.correspondingUseElement),
    t.nodeType === 3 ? t.parentNode : t
  );
}
var wp = null,
  Gs = null,
  Ys = null;
function W1(t) {
  if ((t = Na(t))) {
    if (typeof wp != "function") throw Error(M(280));
    var e = t.stateNode;
    e && ((e = Qf(e)), wp(t.stateNode, t.type, e));
  }
}
function p2(t) {
  Gs ? (Ys ? Ys.push(t) : (Ys = [t])) : (Gs = t);
}
function m2() {
  if (Gs) {
    var t = Gs,
      e = Ys;
    if (((Ys = Gs = null), W1(t), e)) for (t = 0; t < e.length; t++) W1(e[t]);
  }
}
function g2(t, e) {
  return t(e);
}
function y2() {}
var ed = !1;
function v2(t, e, n) {
  if (ed) return t(e, n);
  ed = !0;
  try {
    return g2(t, e, n);
  } finally {
    (ed = !1), (Gs !== null || Ys !== null) && (y2(), m2());
  }
}
function Il(t, e) {
  var n = t.stateNode;
  if (n === null) return null;
  var r = Qf(n);
  if (r === null) return null;
  n = r[e];
  e: switch (e) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
      (r = !r.disabled) ||
        ((t = t.type),
        (r = !(
          t === "button" ||
          t === "input" ||
          t === "select" ||
          t === "textarea"
        ))),
        (t = !r);
      break e;
    default:
      t = !1;
  }
  if (t) return null;
  if (n && typeof n != "function") throw Error(M(231, e, typeof n));
  return n;
}
var bp = !1;
if (Or)
  try {
    var Ko = {};
    Object.defineProperty(Ko, "passive", {
      get: function () {
        bp = !0;
      },
    }),
      window.addEventListener("test", Ko, Ko),
      window.removeEventListener("test", Ko, Ko);
  } catch {
    bp = !1;
  }
function rM(t, e, n, r, i, s, o, l, a) {
  var u = Array.prototype.slice.call(arguments, 3);
  try {
    e.apply(n, u);
  } catch (c) {
    this.onError(c);
  }
}
var gl = !1,
  Pc = null,
  Dc = !1,
  xp = null,
  iM = {
    onError: function (t) {
      (gl = !0), (Pc = t);
    },
  };
function sM(t, e, n, r, i, s, o, l, a) {
  (gl = !1), (Pc = null), rM.apply(iM, arguments);
}
function oM(t, e, n, r, i, s, o, l, a) {
  if ((sM.apply(this, arguments), gl)) {
    if (gl) {
      var u = Pc;
      (gl = !1), (Pc = null);
    } else throw Error(M(198));
    Dc || ((Dc = !0), (xp = u));
  }
}
function hs(t) {
  var e = t,
    n = t;
  if (t.alternate) for (; e.return; ) e = e.return;
  else {
    t = e;
    do (e = t), e.flags & 4098 && (n = e.return), (t = e.return);
    while (t);
  }
  return e.tag === 3 ? n : null;
}
function w2(t) {
  if (t.tag === 13) {
    var e = t.memoizedState;
    if (
      (e === null && ((t = t.alternate), t !== null && (e = t.memoizedState)),
      e !== null)
    )
      return e.dehydrated;
  }
  return null;
}
function U1(t) {
  if (hs(t) !== t) throw Error(M(188));
}
function lM(t) {
  var e = t.alternate;
  if (!e) {
    if (((e = hs(t)), e === null)) throw Error(M(188));
    return e !== t ? null : t;
  }
  for (var n = t, r = e; ; ) {
    var i = n.return;
    if (i === null) break;
    var s = i.alternate;
    if (s === null) {
      if (((r = i.return), r !== null)) {
        n = r;
        continue;
      }
      break;
    }
    if (i.child === s.child) {
      for (s = i.child; s; ) {
        if (s === n) return U1(i), t;
        if (s === r) return U1(i), e;
        s = s.sibling;
      }
      throw Error(M(188));
    }
    if (n.return !== r.return) (n = i), (r = s);
    else {
      for (var o = !1, l = i.child; l; ) {
        if (l === n) {
          (o = !0), (n = i), (r = s);
          break;
        }
        if (l === r) {
          (o = !0), (r = i), (n = s);
          break;
        }
        l = l.sibling;
      }
      if (!o) {
        for (l = s.child; l; ) {
          if (l === n) {
            (o = !0), (n = s), (r = i);
            break;
          }
          if (l === r) {
            (o = !0), (r = s), (n = i);
            break;
          }
          l = l.sibling;
        }
        if (!o) throw Error(M(189));
      }
    }
    if (n.alternate !== r) throw Error(M(190));
  }
  if (n.tag !== 3) throw Error(M(188));
  return n.stateNode.current === n ? t : e;
}
function b2(t) {
  return (t = lM(t)), t !== null ? x2(t) : null;
}
function x2(t) {
  if (t.tag === 5 || t.tag === 6) return t;
  for (t = t.child; t !== null; ) {
    var e = x2(t);
    if (e !== null) return e;
    t = t.sibling;
  }
  return null;
}
var S2 = Qt.unstable_scheduleCallback,
  K1 = Qt.unstable_cancelCallback,
  aM = Qt.unstable_shouldYield,
  uM = Qt.unstable_requestPaint,
  Ie = Qt.unstable_now,
  cM = Qt.unstable_getCurrentPriorityLevel,
  Eg = Qt.unstable_ImmediatePriority,
  k2 = Qt.unstable_UserBlockingPriority,
  Rc = Qt.unstable_NormalPriority,
  fM = Qt.unstable_LowPriority,
  C2 = Qt.unstable_IdlePriority,
  qf = null,
  ar = null;
function hM(t) {
  if (ar && typeof ar.onCommitFiberRoot == "function")
    try {
      ar.onCommitFiberRoot(qf, t, void 0, (t.current.flags & 128) === 128);
    } catch {}
}
var Pn = Math.clz32 ? Math.clz32 : mM,
  dM = Math.log,
  pM = Math.LN2;
function mM(t) {
  return (t >>>= 0), t === 0 ? 32 : (31 - ((dM(t) / pM) | 0)) | 0;
}
var hu = 64,
  du = 4194304;
function al(t) {
  switch (t & -t) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return t & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return t & 130023424;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 1073741824;
    default:
      return t;
  }
}
function Lc(t, e) {
  var n = t.pendingLanes;
  if (n === 0) return 0;
  var r = 0,
    i = t.suspendedLanes,
    s = t.pingedLanes,
    o = n & 268435455;
  if (o !== 0) {
    var l = o & ~i;
    l !== 0 ? (r = al(l)) : ((s &= o), s !== 0 && (r = al(s)));
  } else (o = n & ~i), o !== 0 ? (r = al(o)) : s !== 0 && (r = al(s));
  if (r === 0) return 0;
  if (
    e !== 0 &&
    e !== r &&
    !(e & i) &&
    ((i = r & -r), (s = e & -e), i >= s || (i === 16 && (s & 4194240) !== 0))
  )
    return e;
  if ((r & 4 && (r |= n & 16), (e = t.entangledLanes), e !== 0))
    for (t = t.entanglements, e &= r; 0 < e; )
      (n = 31 - Pn(e)), (i = 1 << n), (r |= t[n]), (e &= ~i);
  return r;
}
function gM(t, e) {
  switch (t) {
    case 1:
    case 2:
    case 4:
      return e + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return e + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function yM(t, e) {
  for (
    var n = t.suspendedLanes,
      r = t.pingedLanes,
      i = t.expirationTimes,
      s = t.pendingLanes;
    0 < s;

  ) {
    var o = 31 - Pn(s),
      l = 1 << o,
      a = i[o];
    a === -1
      ? (!(l & n) || l & r) && (i[o] = gM(l, e))
      : a <= e && (t.expiredLanes |= l),
      (s &= ~l);
  }
}
function Sp(t) {
  return (
    (t = t.pendingLanes & -1073741825),
    t !== 0 ? t : t & 1073741824 ? 1073741824 : 0
  );
}
function _2() {
  var t = hu;
  return (hu <<= 1), !(hu & 4194240) && (hu = 64), t;
}
function td(t) {
  for (var e = [], n = 0; 31 > n; n++) e.push(t);
  return e;
}
function La(t, e, n) {
  (t.pendingLanes |= e),
    e !== 536870912 && ((t.suspendedLanes = 0), (t.pingedLanes = 0)),
    (t = t.eventTimes),
    (e = 31 - Pn(e)),
    (t[e] = n);
}
function vM(t, e) {
  var n = t.pendingLanes & ~e;
  (t.pendingLanes = e),
    (t.suspendedLanes = 0),
    (t.pingedLanes = 0),
    (t.expiredLanes &= e),
    (t.mutableReadLanes &= e),
    (t.entangledLanes &= e),
    (e = t.entanglements);
  var r = t.eventTimes;
  for (t = t.expirationTimes; 0 < n; ) {
    var i = 31 - Pn(n),
      s = 1 << i;
    (e[i] = 0), (r[i] = -1), (t[i] = -1), (n &= ~s);
  }
}
function Tg(t, e) {
  var n = (t.entangledLanes |= e);
  for (t = t.entanglements; n; ) {
    var r = 31 - Pn(n),
      i = 1 << r;
    (i & e) | (t[r] & e) && (t[r] |= e), (n &= ~i);
  }
}
var ue = 0;
function A2(t) {
  return (t &= -t), 1 < t ? (4 < t ? (t & 268435455 ? 16 : 536870912) : 4) : 1;
}
var O2,
  Pg,
  M2,
  E2,
  T2,
  kp = !1,
  pu = [],
  ii = null,
  si = null,
  oi = null,
  $l = new Map(),
  Fl = new Map(),
  qr = [],
  wM =
    "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(
      " "
    );
function q1(t, e) {
  switch (t) {
    case "focusin":
    case "focusout":
      ii = null;
      break;
    case "dragenter":
    case "dragleave":
      si = null;
      break;
    case "mouseover":
    case "mouseout":
      oi = null;
      break;
    case "pointerover":
    case "pointerout":
      $l.delete(e.pointerId);
      break;
    case "gotpointercapture":
    case "lostpointercapture":
      Fl.delete(e.pointerId);
  }
}
function qo(t, e, n, r, i, s) {
  return t === null || t.nativeEvent !== s
    ? ((t = {
        blockedOn: e,
        domEventName: n,
        eventSystemFlags: r,
        nativeEvent: s,
        targetContainers: [i],
      }),
      e !== null && ((e = Na(e)), e !== null && Pg(e)),
      t)
    : ((t.eventSystemFlags |= r),
      (e = t.targetContainers),
      i !== null && e.indexOf(i) === -1 && e.push(i),
      t);
}
function bM(t, e, n, r, i) {
  switch (e) {
    case "focusin":
      return (ii = qo(ii, t, e, n, r, i)), !0;
    case "dragenter":
      return (si = qo(si, t, e, n, r, i)), !0;
    case "mouseover":
      return (oi = qo(oi, t, e, n, r, i)), !0;
    case "pointerover":
      var s = i.pointerId;
      return $l.set(s, qo($l.get(s) || null, t, e, n, r, i)), !0;
    case "gotpointercapture":
      return (
        (s = i.pointerId), Fl.set(s, qo(Fl.get(s) || null, t, e, n, r, i)), !0
      );
  }
  return !1;
}
function P2(t) {
  var e = ji(t.target);
  if (e !== null) {
    var n = hs(e);
    if (n !== null) {
      if (((e = n.tag), e === 13)) {
        if (((e = w2(n)), e !== null)) {
          (t.blockedOn = e),
            T2(t.priority, function () {
              M2(n);
            });
          return;
        }
      } else if (e === 3 && n.stateNode.current.memoizedState.isDehydrated) {
        t.blockedOn = n.tag === 3 ? n.stateNode.containerInfo : null;
        return;
      }
    }
  }
  t.blockedOn = null;
}
function sc(t) {
  if (t.blockedOn !== null) return !1;
  for (var e = t.targetContainers; 0 < e.length; ) {
    var n = Cp(t.domEventName, t.eventSystemFlags, e[0], t.nativeEvent);
    if (n === null) {
      n = t.nativeEvent;
      var r = new n.constructor(n.type, n);
      (vp = r), n.target.dispatchEvent(r), (vp = null);
    } else return (e = Na(n)), e !== null && Pg(e), (t.blockedOn = n), !1;
    e.shift();
  }
  return !0;
}
function G1(t, e, n) {
  sc(t) && n.delete(e);
}
function xM() {
  (kp = !1),
    ii !== null && sc(ii) && (ii = null),
    si !== null && sc(si) && (si = null),
    oi !== null && sc(oi) && (oi = null),
    $l.forEach(G1),
    Fl.forEach(G1);
}
function Go(t, e) {
  t.blockedOn === e &&
    ((t.blockedOn = null),
    kp ||
      ((kp = !0),
      Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority, xM)));
}
function zl(t) {
  function e(i) {
    return Go(i, t);
  }
  if (0 < pu.length) {
    Go(pu[0], t);
    for (var n = 1; n < pu.length; n++) {
      var r = pu[n];
      r.blockedOn === t && (r.blockedOn = null);
    }
  }
  for (
    ii !== null && Go(ii, t),
      si !== null && Go(si, t),
      oi !== null && Go(oi, t),
      $l.forEach(e),
      Fl.forEach(e),
      n = 0;
    n < qr.length;
    n++
  )
    (r = qr[n]), r.blockedOn === t && (r.blockedOn = null);
  for (; 0 < qr.length && ((n = qr[0]), n.blockedOn === null); )
    P2(n), n.blockedOn === null && qr.shift();
}
var Xs = Nr.ReactCurrentBatchConfig,
  Bc = !0;
function SM(t, e, n, r) {
  var i = ue,
    s = Xs.transition;
  Xs.transition = null;
  try {
    (ue = 1), Dg(t, e, n, r);
  } finally {
    (ue = i), (Xs.transition = s);
  }
}
function kM(t, e, n, r) {
  var i = ue,
    s = Xs.transition;
  Xs.transition = null;
  try {
    (ue = 4), Dg(t, e, n, r);
  } finally {
    (ue = i), (Xs.transition = s);
  }
}
function Dg(t, e, n, r) {
  if (Bc) {
    var i = Cp(t, e, n, r);
    if (i === null) fd(t, e, r, Nc, n), q1(t, r);
    else if (bM(i, t, e, n, r)) r.stopPropagation();
    else if ((q1(t, r), e & 4 && -1 < wM.indexOf(t))) {
      for (; i !== null; ) {
        var s = Na(i);
        if (
          (s !== null && O2(s),
          (s = Cp(t, e, n, r)),
          s === null && fd(t, e, r, Nc, n),
          s === i)
        )
          break;
        i = s;
      }
      i !== null && r.stopPropagation();
    } else fd(t, e, r, null, n);
  }
}
var Nc = null;
function Cp(t, e, n, r) {
  if (((Nc = null), (t = Mg(r)), (t = ji(t)), t !== null))
    if (((e = hs(t)), e === null)) t = null;
    else if (((n = e.tag), n === 13)) {
      if (((t = w2(e)), t !== null)) return t;
      t = null;
    } else if (n === 3) {
      if (e.stateNode.current.memoizedState.isDehydrated)
        return e.tag === 3 ? e.stateNode.containerInfo : null;
      t = null;
    } else e !== t && (t = null);
  return (Nc = t), null;
}
function D2(t) {
  switch (t) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
      return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
      return 4;
    case "message":
      switch (cM()) {
        case Eg:
          return 1;
        case k2:
          return 4;
        case Rc:
        case fM:
          return 16;
        case C2:
          return 536870912;
        default:
          return 16;
      }
    default:
      return 16;
  }
}
var Qr = null,
  Rg = null,
  oc = null;
function R2() {
  if (oc) return oc;
  var t,
    e = Rg,
    n = e.length,
    r,
    i = "value" in Qr ? Qr.value : Qr.textContent,
    s = i.length;
  for (t = 0; t < n && e[t] === i[t]; t++);
  var o = n - t;
  for (r = 1; r <= o && e[n - r] === i[s - r]; r++);
  return (oc = i.slice(t, 1 < r ? 1 - r : void 0));
}
function lc(t) {
  var e = t.keyCode;
  return (
    "charCode" in t
      ? ((t = t.charCode), t === 0 && e === 13 && (t = 13))
      : (t = e),
    t === 10 && (t = 13),
    32 <= t || t === 13 ? t : 0
  );
}
function mu() {
  return !0;
}
function Y1() {
  return !1;
}
function en(t) {
  function e(n, r, i, s, o) {
    (this._reactName = n),
      (this._targetInst = i),
      (this.type = r),
      (this.nativeEvent = s),
      (this.target = o),
      (this.currentTarget = null);
    for (var l in t)
      t.hasOwnProperty(l) && ((n = t[l]), (this[l] = n ? n(s) : s[l]));
    return (
      (this.isDefaultPrevented = (
        s.defaultPrevented != null ? s.defaultPrevented : s.returnValue === !1
      )
        ? mu
        : Y1),
      (this.isPropagationStopped = Y1),
      this
    );
  }
  return (
    Te(e.prototype, {
      preventDefault: function () {
        this.defaultPrevented = !0;
        var n = this.nativeEvent;
        n &&
          (n.preventDefault
            ? n.preventDefault()
            : typeof n.returnValue != "unknown" && (n.returnValue = !1),
          (this.isDefaultPrevented = mu));
      },
      stopPropagation: function () {
        var n = this.nativeEvent;
        n &&
          (n.stopPropagation
            ? n.stopPropagation()
            : typeof n.cancelBubble != "unknown" && (n.cancelBubble = !0),
          (this.isPropagationStopped = mu));
      },
      persist: function () {},
      isPersistent: mu,
    }),
    e
  );
}
var Po = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function (t) {
      return t.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0,
  },
  Lg = en(Po),
  Ba = Te({}, Po, { view: 0, detail: 0 }),
  CM = en(Ba),
  nd,
  rd,
  Yo,
  Gf = Te({}, Ba, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: Bg,
    button: 0,
    buttons: 0,
    relatedTarget: function (t) {
      return t.relatedTarget === void 0
        ? t.fromElement === t.srcElement
          ? t.toElement
          : t.fromElement
        : t.relatedTarget;
    },
    movementX: function (t) {
      return "movementX" in t
        ? t.movementX
        : (t !== Yo &&
            (Yo && t.type === "mousemove"
              ? ((nd = t.screenX - Yo.screenX), (rd = t.screenY - Yo.screenY))
              : (rd = nd = 0),
            (Yo = t)),
          nd);
    },
    movementY: function (t) {
      return "movementY" in t ? t.movementY : rd;
    },
  }),
  X1 = en(Gf),
  _M = Te({}, Gf, { dataTransfer: 0 }),
  AM = en(_M),
  OM = Te({}, Ba, { relatedTarget: 0 }),
  id = en(OM),
  MM = Te({}, Po, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
  EM = en(MM),
  TM = Te({}, Po, {
    clipboardData: function (t) {
      return "clipboardData" in t ? t.clipboardData : window.clipboardData;
    },
  }),
  PM = en(TM),
  DM = Te({}, Po, { data: 0 }),
  Q1 = en(DM),
  RM = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified",
  },
  LM = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta",
  },
  BM = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey",
  };
function NM(t) {
  var e = this.nativeEvent;
  return e.getModifierState ? e.getModifierState(t) : (t = BM[t]) ? !!e[t] : !1;
}
function Bg() {
  return NM;
}
var IM = Te({}, Ba, {
    key: function (t) {
      if (t.key) {
        var e = RM[t.key] || t.key;
        if (e !== "Unidentified") return e;
      }
      return t.type === "keypress"
        ? ((t = lc(t)), t === 13 ? "Enter" : String.fromCharCode(t))
        : t.type === "keydown" || t.type === "keyup"
          ? LM[t.keyCode] || "Unidentified"
          : "";
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: Bg,
    charCode: function (t) {
      return t.type === "keypress" ? lc(t) : 0;
    },
    keyCode: function (t) {
      return t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0;
    },
    which: function (t) {
      return t.type === "keypress"
        ? lc(t)
        : t.type === "keydown" || t.type === "keyup"
          ? t.keyCode
          : 0;
    },
  }),
  $M = en(IM),
  FM = Te({}, Gf, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0,
  }),
  J1 = en(FM),
  zM = Te({}, Ba, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: Bg,
  }),
  jM = en(zM),
  VM = Te({}, Po, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
  HM = en(VM),
  WM = Te({}, Gf, {
    deltaX: function (t) {
      return "deltaX" in t ? t.deltaX : "wheelDeltaX" in t ? -t.wheelDeltaX : 0;
    },
    deltaY: function (t) {
      return "deltaY" in t
        ? t.deltaY
        : "wheelDeltaY" in t
          ? -t.wheelDeltaY
          : "wheelDelta" in t
            ? -t.wheelDelta
            : 0;
    },
    deltaZ: 0,
    deltaMode: 0,
  }),
  UM = en(WM),
  KM = [9, 13, 27, 32],
  Ng = Or && "CompositionEvent" in window,
  yl = null;
Or && "documentMode" in document && (yl = document.documentMode);
var qM = Or && "TextEvent" in window && !yl,
  L2 = Or && (!Ng || (yl && 8 < yl && 11 >= yl)),
  Z1 = " ",
  ey = !1;
function B2(t, e) {
  switch (t) {
    case "keyup":
      return KM.indexOf(e.keyCode) !== -1;
    case "keydown":
      return e.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
      return !0;
    default:
      return !1;
  }
}
function N2(t) {
  return (t = t.detail), typeof t == "object" && "data" in t ? t.data : null;
}
var Ps = !1;
function GM(t, e) {
  switch (t) {
    case "compositionend":
      return N2(e);
    case "keypress":
      return e.which !== 32 ? null : ((ey = !0), Z1);
    case "textInput":
      return (t = e.data), t === Z1 && ey ? null : t;
    default:
      return null;
  }
}
function YM(t, e) {
  if (Ps)
    return t === "compositionend" || (!Ng && B2(t, e))
      ? ((t = R2()), (oc = Rg = Qr = null), (Ps = !1), t)
      : null;
  switch (t) {
    case "paste":
      return null;
    case "keypress":
      if (!(e.ctrlKey || e.altKey || e.metaKey) || (e.ctrlKey && e.altKey)) {
        if (e.char && 1 < e.char.length) return e.char;
        if (e.which) return String.fromCharCode(e.which);
      }
      return null;
    case "compositionend":
      return L2 && e.locale !== "ko" ? null : e.data;
    default:
      return null;
  }
}
var XM = {
  color: !0,
  date: !0,
  datetime: !0,
  "datetime-local": !0,
  email: !0,
  month: !0,
  number: !0,
  password: !0,
  range: !0,
  search: !0,
  tel: !0,
  text: !0,
  time: !0,
  url: !0,
  week: !0,
};
function ty(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return e === "input" ? !!XM[t.type] : e === "textarea";
}
function I2(t, e, n, r) {
  p2(r),
    (e = Ic(e, "onChange")),
    0 < e.length &&
      ((n = new Lg("onChange", "change", null, n, r)),
      t.push({ event: n, listeners: e }));
}
var vl = null,
  jl = null;
function QM(t) {
  G2(t, 0);
}
function Yf(t) {
  var e = Ls(t);
  if (l2(e)) return t;
}
function JM(t, e) {
  if (t === "change") return e;
}
var $2 = !1;
if (Or) {
  var sd;
  if (Or) {
    var od = "oninput" in document;
    if (!od) {
      var ny = document.createElement("div");
      ny.setAttribute("oninput", "return;"),
        (od = typeof ny.oninput == "function");
    }
    sd = od;
  } else sd = !1;
  $2 = sd && (!document.documentMode || 9 < document.documentMode);
}
function ry() {
  vl && (vl.detachEvent("onpropertychange", F2), (jl = vl = null));
}
function F2(t) {
  if (t.propertyName === "value" && Yf(jl)) {
    var e = [];
    I2(e, jl, t, Mg(t)), v2(QM, e);
  }
}
function ZM(t, e, n) {
  t === "focusin"
    ? (ry(), (vl = e), (jl = n), vl.attachEvent("onpropertychange", F2))
    : t === "focusout" && ry();
}
function eE(t) {
  if (t === "selectionchange" || t === "keyup" || t === "keydown")
    return Yf(jl);
}
function tE(t, e) {
  if (t === "click") return Yf(e);
}
function nE(t, e) {
  if (t === "input" || t === "change") return Yf(e);
}
function rE(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var Bn = typeof Object.is == "function" ? Object.is : rE;
function Vl(t, e) {
  if (Bn(t, e)) return !0;
  if (typeof t != "object" || t === null || typeof e != "object" || e === null)
    return !1;
  var n = Object.keys(t),
    r = Object.keys(e);
  if (n.length !== r.length) return !1;
  for (r = 0; r < n.length; r++) {
    var i = n[r];
    if (!op.call(e, i) || !Bn(t[i], e[i])) return !1;
  }
  return !0;
}
function iy(t) {
  for (; t && t.firstChild; ) t = t.firstChild;
  return t;
}
function sy(t, e) {
  var n = iy(t);
  t = 0;
  for (var r; n; ) {
    if (n.nodeType === 3) {
      if (((r = t + n.textContent.length), t <= e && r >= e))
        return { node: n, offset: e - t };
      t = r;
    }
    e: {
      for (; n; ) {
        if (n.nextSibling) {
          n = n.nextSibling;
          break e;
        }
        n = n.parentNode;
      }
      n = void 0;
    }
    n = iy(n);
  }
}
function z2(t, e) {
  return t && e
    ? t === e
      ? !0
      : t && t.nodeType === 3
        ? !1
        : e && e.nodeType === 3
          ? z2(t, e.parentNode)
          : "contains" in t
            ? t.contains(e)
            : t.compareDocumentPosition
              ? !!(t.compareDocumentPosition(e) & 16)
              : !1
    : !1;
}
function j2() {
  for (var t = window, e = Tc(); e instanceof t.HTMLIFrameElement; ) {
    try {
      var n = typeof e.contentWindow.location.href == "string";
    } catch {
      n = !1;
    }
    if (n) t = e.contentWindow;
    else break;
    e = Tc(t.document);
  }
  return e;
}
function Ig(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return (
    e &&
    ((e === "input" &&
      (t.type === "text" ||
        t.type === "search" ||
        t.type === "tel" ||
        t.type === "url" ||
        t.type === "password")) ||
      e === "textarea" ||
      t.contentEditable === "true")
  );
}
function iE(t) {
  var e = j2(),
    n = t.focusedElem,
    r = t.selectionRange;
  if (
    e !== n &&
    n &&
    n.ownerDocument &&
    z2(n.ownerDocument.documentElement, n)
  ) {
    if (r !== null && Ig(n)) {
      if (
        ((e = r.start),
        (t = r.end),
        t === void 0 && (t = e),
        "selectionStart" in n)
      )
        (n.selectionStart = e), (n.selectionEnd = Math.min(t, n.value.length));
      else if (
        ((t = ((e = n.ownerDocument || document) && e.defaultView) || window),
        t.getSelection)
      ) {
        t = t.getSelection();
        var i = n.textContent.length,
          s = Math.min(r.start, i);
        (r = r.end === void 0 ? s : Math.min(r.end, i)),
          !t.extend && s > r && ((i = r), (r = s), (s = i)),
          (i = sy(n, s));
        var o = sy(n, r);
        i &&
          o &&
          (t.rangeCount !== 1 ||
            t.anchorNode !== i.node ||
            t.anchorOffset !== i.offset ||
            t.focusNode !== o.node ||
            t.focusOffset !== o.offset) &&
          ((e = e.createRange()),
          e.setStart(i.node, i.offset),
          t.removeAllRanges(),
          s > r
            ? (t.addRange(e), t.extend(o.node, o.offset))
            : (e.setEnd(o.node, o.offset), t.addRange(e)));
      }
    }
    for (e = [], t = n; (t = t.parentNode); )
      t.nodeType === 1 &&
        e.push({ element: t, left: t.scrollLeft, top: t.scrollTop });
    for (typeof n.focus == "function" && n.focus(), n = 0; n < e.length; n++)
      (t = e[n]),
        (t.element.scrollLeft = t.left),
        (t.element.scrollTop = t.top);
  }
}
var sE = Or && "documentMode" in document && 11 >= document.documentMode,
  Ds = null,
  _p = null,
  wl = null,
  Ap = !1;
function oy(t, e, n) {
  var r = n.window === n ? n.document : n.nodeType === 9 ? n : n.ownerDocument;
  Ap ||
    Ds == null ||
    Ds !== Tc(r) ||
    ((r = Ds),
    "selectionStart" in r && Ig(r)
      ? (r = { start: r.selectionStart, end: r.selectionEnd })
      : ((r = (
          (r.ownerDocument && r.ownerDocument.defaultView) ||
          window
        ).getSelection()),
        (r = {
          anchorNode: r.anchorNode,
          anchorOffset: r.anchorOffset,
          focusNode: r.focusNode,
          focusOffset: r.focusOffset,
        })),
    (wl && Vl(wl, r)) ||
      ((wl = r),
      (r = Ic(_p, "onSelect")),
      0 < r.length &&
        ((e = new Lg("onSelect", "select", null, e, n)),
        t.push({ event: e, listeners: r }),
        (e.target = Ds))));
}
function gu(t, e) {
  var n = {};
  return (
    (n[t.toLowerCase()] = e.toLowerCase()),
    (n["Webkit" + t] = "webkit" + e),
    (n["Moz" + t] = "moz" + e),
    n
  );
}
var Rs = {
    animationend: gu("Animation", "AnimationEnd"),
    animationiteration: gu("Animation", "AnimationIteration"),
    animationstart: gu("Animation", "AnimationStart"),
    transitionend: gu("Transition", "TransitionEnd"),
  },
  ld = {},
  V2 = {};
Or &&
  ((V2 = document.createElement("div").style),
  "AnimationEvent" in window ||
    (delete Rs.animationend.animation,
    delete Rs.animationiteration.animation,
    delete Rs.animationstart.animation),
  "TransitionEvent" in window || delete Rs.transitionend.transition);
function Xf(t) {
  if (ld[t]) return ld[t];
  if (!Rs[t]) return t;
  var e = Rs[t],
    n;
  for (n in e) if (e.hasOwnProperty(n) && n in V2) return (ld[t] = e[n]);
  return t;
}
var H2 = Xf("animationend"),
  W2 = Xf("animationiteration"),
  U2 = Xf("animationstart"),
  K2 = Xf("transitionend"),
  q2 = new Map(),
  ly =
    "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
      " "
    );
function Mi(t, e) {
  q2.set(t, e), fs(e, [t]);
}
for (var ad = 0; ad < ly.length; ad++) {
  var ud = ly[ad],
    oE = ud.toLowerCase(),
    lE = ud[0].toUpperCase() + ud.slice(1);
  Mi(oE, "on" + lE);
}
Mi(H2, "onAnimationEnd");
Mi(W2, "onAnimationIteration");
Mi(U2, "onAnimationStart");
Mi("dblclick", "onDoubleClick");
Mi("focusin", "onFocus");
Mi("focusout", "onBlur");
Mi(K2, "onTransitionEnd");
ao("onMouseEnter", ["mouseout", "mouseover"]);
ao("onMouseLeave", ["mouseout", "mouseover"]);
ao("onPointerEnter", ["pointerout", "pointerover"]);
ao("onPointerLeave", ["pointerout", "pointerover"]);
fs(
  "onChange",
  "change click focusin focusout input keydown keyup selectionchange".split(" ")
);
fs(
  "onSelect",
  "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
    " "
  )
);
fs("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
fs(
  "onCompositionEnd",
  "compositionend focusout keydown keypress keyup mousedown".split(" ")
);
fs(
  "onCompositionStart",
  "compositionstart focusout keydown keypress keyup mousedown".split(" ")
);
fs(
  "onCompositionUpdate",
  "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
);
var ul =
    "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
      " "
    ),
  aE = new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));
function ay(t, e, n) {
  var r = t.type || "unknown-event";
  (t.currentTarget = n), oM(r, e, void 0, t), (t.currentTarget = null);
}
function G2(t, e) {
  e = (e & 4) !== 0;
  for (var n = 0; n < t.length; n++) {
    var r = t[n],
      i = r.event;
    r = r.listeners;
    e: {
      var s = void 0;
      if (e)
        for (var o = r.length - 1; 0 <= o; o--) {
          var l = r[o],
            a = l.instance,
            u = l.currentTarget;
          if (((l = l.listener), a !== s && i.isPropagationStopped())) break e;
          ay(i, l, u), (s = a);
        }
      else
        for (o = 0; o < r.length; o++) {
          if (
            ((l = r[o]),
            (a = l.instance),
            (u = l.currentTarget),
            (l = l.listener),
            a !== s && i.isPropagationStopped())
          )
            break e;
          ay(i, l, u), (s = a);
        }
    }
  }
  if (Dc) throw ((t = xp), (Dc = !1), (xp = null), t);
}
function we(t, e) {
  var n = e[Pp];
  n === void 0 && (n = e[Pp] = new Set());
  var r = t + "__bubble";
  n.has(r) || (Y2(e, t, 2, !1), n.add(r));
}
function cd(t, e, n) {
  var r = 0;
  e && (r |= 4), Y2(n, t, r, e);
}
var yu = "_reactListening" + Math.random().toString(36).slice(2);
function Hl(t) {
  if (!t[yu]) {
    (t[yu] = !0),
      n2.forEach(function (n) {
        n !== "selectionchange" && (aE.has(n) || cd(n, !1, t), cd(n, !0, t));
      });
    var e = t.nodeType === 9 ? t : t.ownerDocument;
    e === null || e[yu] || ((e[yu] = !0), cd("selectionchange", !1, e));
  }
}
function Y2(t, e, n, r) {
  switch (D2(e)) {
    case 1:
      var i = SM;
      break;
    case 4:
      i = kM;
      break;
    default:
      i = Dg;
  }
  (n = i.bind(null, e, n, t)),
    (i = void 0),
    !bp ||
      (e !== "touchstart" && e !== "touchmove" && e !== "wheel") ||
      (i = !0),
    r
      ? i !== void 0
        ? t.addEventListener(e, n, { capture: !0, passive: i })
        : t.addEventListener(e, n, !0)
      : i !== void 0
        ? t.addEventListener(e, n, { passive: i })
        : t.addEventListener(e, n, !1);
}
function fd(t, e, n, r, i) {
  var s = r;
  if (!(e & 1) && !(e & 2) && r !== null)
    e: for (;;) {
      if (r === null) return;
      var o = r.tag;
      if (o === 3 || o === 4) {
        var l = r.stateNode.containerInfo;
        if (l === i || (l.nodeType === 8 && l.parentNode === i)) break;
        if (o === 4)
          for (o = r.return; o !== null; ) {
            var a = o.tag;
            if (
              (a === 3 || a === 4) &&
              ((a = o.stateNode.containerInfo),
              a === i || (a.nodeType === 8 && a.parentNode === i))
            )
              return;
            o = o.return;
          }
        for (; l !== null; ) {
          if (((o = ji(l)), o === null)) return;
          if (((a = o.tag), a === 5 || a === 6)) {
            r = s = o;
            continue e;
          }
          l = l.parentNode;
        }
      }
      r = r.return;
    }
  v2(function () {
    var u = s,
      c = Mg(n),
      f = [];
    e: {
      var h = q2.get(t);
      if (h !== void 0) {
        var d = Lg,
          p = t;
        switch (t) {
          case "keypress":
            if (lc(n) === 0) break e;
          case "keydown":
          case "keyup":
            d = $M;
            break;
          case "focusin":
            (p = "focus"), (d = id);
            break;
          case "focusout":
            (p = "blur"), (d = id);
            break;
          case "beforeblur":
          case "afterblur":
            d = id;
            break;
          case "click":
            if (n.button === 2) break e;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            d = X1;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            d = AM;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            d = jM;
            break;
          case H2:
          case W2:
          case U2:
            d = EM;
            break;
          case K2:
            d = HM;
            break;
          case "scroll":
            d = CM;
            break;
          case "wheel":
            d = UM;
            break;
          case "copy":
          case "cut":
          case "paste":
            d = PM;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            d = J1;
        }
        var m = (e & 4) !== 0,
          w = !m && t === "scroll",
          g = m ? (h !== null ? h + "Capture" : null) : h;
        m = [];
        for (var y = u, v; y !== null; ) {
          v = y;
          var b = v.stateNode;
          if (
            (v.tag === 5 &&
              b !== null &&
              ((v = b),
              g !== null && ((b = Il(y, g)), b != null && m.push(Wl(y, b, v)))),
            w)
          )
            break;
          y = y.return;
        }
        0 < m.length &&
          ((h = new d(h, p, null, n, c)), f.push({ event: h, listeners: m }));
      }
    }
    if (!(e & 7)) {
      e: {
        if (
          ((h = t === "mouseover" || t === "pointerover"),
          (d = t === "mouseout" || t === "pointerout"),
          h &&
            n !== vp &&
            (p = n.relatedTarget || n.fromElement) &&
            (ji(p) || p[Mr]))
        )
          break e;
        if (
          (d || h) &&
          ((h =
            c.window === c
              ? c
              : (h = c.ownerDocument)
                ? h.defaultView || h.parentWindow
                : window),
          d
            ? ((p = n.relatedTarget || n.toElement),
              (d = u),
              (p = p ? ji(p) : null),
              p !== null &&
                ((w = hs(p)), p !== w || (p.tag !== 5 && p.tag !== 6)) &&
                (p = null))
            : ((d = null), (p = u)),
          d !== p)
        ) {
          if (
            ((m = X1),
            (b = "onMouseLeave"),
            (g = "onMouseEnter"),
            (y = "mouse"),
            (t === "pointerout" || t === "pointerover") &&
              ((m = J1),
              (b = "onPointerLeave"),
              (g = "onPointerEnter"),
              (y = "pointer")),
            (w = d == null ? h : Ls(d)),
            (v = p == null ? h : Ls(p)),
            (h = new m(b, y + "leave", d, n, c)),
            (h.target = w),
            (h.relatedTarget = v),
            (b = null),
            ji(c) === u &&
              ((m = new m(g, y + "enter", p, n, c)),
              (m.target = v),
              (m.relatedTarget = w),
              (b = m)),
            (w = b),
            d && p)
          )
            t: {
              for (m = d, g = p, y = 0, v = m; v; v = vs(v)) y++;
              for (v = 0, b = g; b; b = vs(b)) v++;
              for (; 0 < y - v; ) (m = vs(m)), y--;
              for (; 0 < v - y; ) (g = vs(g)), v--;
              for (; y--; ) {
                if (m === g || (g !== null && m === g.alternate)) break t;
                (m = vs(m)), (g = vs(g));
              }
              m = null;
            }
          else m = null;
          d !== null && uy(f, h, d, m, !1),
            p !== null && w !== null && uy(f, w, p, m, !0);
        }
      }
      e: {
        if (
          ((h = u ? Ls(u) : window),
          (d = h.nodeName && h.nodeName.toLowerCase()),
          d === "select" || (d === "input" && h.type === "file"))
        )
          var x = JM;
        else if (ty(h))
          if ($2) x = nE;
          else {
            x = eE;
            var S = ZM;
          }
        else
          (d = h.nodeName) &&
            d.toLowerCase() === "input" &&
            (h.type === "checkbox" || h.type === "radio") &&
            (x = tE);
        if (x && (x = x(t, u))) {
          I2(f, x, n, c);
          break e;
        }
        S && S(t, h, u),
          t === "focusout" &&
            (S = h._wrapperState) &&
            S.controlled &&
            h.type === "number" &&
            dp(h, "number", h.value);
      }
      switch (((S = u ? Ls(u) : window), t)) {
        case "focusin":
          (ty(S) || S.contentEditable === "true") &&
            ((Ds = S), (_p = u), (wl = null));
          break;
        case "focusout":
          wl = _p = Ds = null;
          break;
        case "mousedown":
          Ap = !0;
          break;
        case "contextmenu":
        case "mouseup":
        case "dragend":
          (Ap = !1), oy(f, n, c);
          break;
        case "selectionchange":
          if (sE) break;
        case "keydown":
        case "keyup":
          oy(f, n, c);
      }
      var k;
      if (Ng)
        e: {
          switch (t) {
            case "compositionstart":
              var _ = "onCompositionStart";
              break e;
            case "compositionend":
              _ = "onCompositionEnd";
              break e;
            case "compositionupdate":
              _ = "onCompositionUpdate";
              break e;
          }
          _ = void 0;
        }
      else
        Ps
          ? B2(t, n) && (_ = "onCompositionEnd")
          : t === "keydown" && n.keyCode === 229 && (_ = "onCompositionStart");
      _ &&
        (L2 &&
          n.locale !== "ko" &&
          (Ps || _ !== "onCompositionStart"
            ? _ === "onCompositionEnd" && Ps && (k = R2())
            : ((Qr = c),
              (Rg = "value" in Qr ? Qr.value : Qr.textContent),
              (Ps = !0))),
        (S = Ic(u, _)),
        0 < S.length &&
          ((_ = new Q1(_, t, null, n, c)),
          f.push({ event: _, listeners: S }),
          k ? (_.data = k) : ((k = N2(n)), k !== null && (_.data = k)))),
        (k = qM ? GM(t, n) : YM(t, n)) &&
          ((u = Ic(u, "onBeforeInput")),
          0 < u.length &&
            ((c = new Q1("onBeforeInput", "beforeinput", null, n, c)),
            f.push({ event: c, listeners: u }),
            (c.data = k)));
    }
    G2(f, e);
  });
}
function Wl(t, e, n) {
  return { instance: t, listener: e, currentTarget: n };
}
function Ic(t, e) {
  for (var n = e + "Capture", r = []; t !== null; ) {
    var i = t,
      s = i.stateNode;
    i.tag === 5 &&
      s !== null &&
      ((i = s),
      (s = Il(t, n)),
      s != null && r.unshift(Wl(t, s, i)),
      (s = Il(t, e)),
      s != null && r.push(Wl(t, s, i))),
      (t = t.return);
  }
  return r;
}
function vs(t) {
  if (t === null) return null;
  do t = t.return;
  while (t && t.tag !== 5);
  return t || null;
}
function uy(t, e, n, r, i) {
  for (var s = e._reactName, o = []; n !== null && n !== r; ) {
    var l = n,
      a = l.alternate,
      u = l.stateNode;
    if (a !== null && a === r) break;
    l.tag === 5 &&
      u !== null &&
      ((l = u),
      i
        ? ((a = Il(n, s)), a != null && o.unshift(Wl(n, a, l)))
        : i || ((a = Il(n, s)), a != null && o.push(Wl(n, a, l)))),
      (n = n.return);
  }
  o.length !== 0 && t.push({ event: e, listeners: o });
}
var uE = /\r\n?/g,
  cE = /\u0000|\uFFFD/g;
function cy(t) {
  return (typeof t == "string" ? t : "" + t)
    .replace(
      uE,
      `
`
    )
    .replace(cE, "");
}
function vu(t, e, n) {
  if (((e = cy(e)), cy(t) !== e && n)) throw Error(M(425));
}
function $c() {}
var Op = null,
  Mp = null;
function Ep(t, e) {
  return (
    t === "textarea" ||
    t === "noscript" ||
    typeof e.children == "string" ||
    typeof e.children == "number" ||
    (typeof e.dangerouslySetInnerHTML == "object" &&
      e.dangerouslySetInnerHTML !== null &&
      e.dangerouslySetInnerHTML.__html != null)
  );
}
var Tp = typeof setTimeout == "function" ? setTimeout : void 0,
  fE = typeof clearTimeout == "function" ? clearTimeout : void 0,
  fy = typeof Promise == "function" ? Promise : void 0,
  hE =
    typeof queueMicrotask == "function"
      ? queueMicrotask
      : typeof fy < "u"
        ? function (t) {
            return fy.resolve(null).then(t).catch(dE);
          }
        : Tp;
function dE(t) {
  setTimeout(function () {
    throw t;
  });
}
function hd(t, e) {
  var n = e,
    r = 0;
  do {
    var i = n.nextSibling;
    if ((t.removeChild(n), i && i.nodeType === 8))
      if (((n = i.data), n === "/$")) {
        if (r === 0) {
          t.removeChild(i), zl(e);
          return;
        }
        r--;
      } else (n !== "$" && n !== "$?" && n !== "$!") || r++;
    n = i;
  } while (n);
  zl(e);
}
function li(t) {
  for (; t != null; t = t.nextSibling) {
    var e = t.nodeType;
    if (e === 1 || e === 3) break;
    if (e === 8) {
      if (((e = t.data), e === "$" || e === "$!" || e === "$?")) break;
      if (e === "/$") return null;
    }
  }
  return t;
}
function hy(t) {
  t = t.previousSibling;
  for (var e = 0; t; ) {
    if (t.nodeType === 8) {
      var n = t.data;
      if (n === "$" || n === "$!" || n === "$?") {
        if (e === 0) return t;
        e--;
      } else n === "/$" && e++;
    }
    t = t.previousSibling;
  }
  return null;
}
var Do = Math.random().toString(36).slice(2),
  tr = "__reactFiber$" + Do,
  Ul = "__reactProps$" + Do,
  Mr = "__reactContainer$" + Do,
  Pp = "__reactEvents$" + Do,
  pE = "__reactListeners$" + Do,
  mE = "__reactHandles$" + Do;
function ji(t) {
  var e = t[tr];
  if (e) return e;
  for (var n = t.parentNode; n; ) {
    if ((e = n[Mr] || n[tr])) {
      if (
        ((n = e.alternate),
        e.child !== null || (n !== null && n.child !== null))
      )
        for (t = hy(t); t !== null; ) {
          if ((n = t[tr])) return n;
          t = hy(t);
        }
      return e;
    }
    (t = n), (n = t.parentNode);
  }
  return null;
}
function Na(t) {
  return (
    (t = t[tr] || t[Mr]),
    !t || (t.tag !== 5 && t.tag !== 6 && t.tag !== 13 && t.tag !== 3) ? null : t
  );
}
function Ls(t) {
  if (t.tag === 5 || t.tag === 6) return t.stateNode;
  throw Error(M(33));
}
function Qf(t) {
  return t[Ul] || null;
}
var Dp = [],
  Bs = -1;
function Ei(t) {
  return { current: t };
}
function xe(t) {
  0 > Bs || ((t.current = Dp[Bs]), (Dp[Bs] = null), Bs--);
}
function ye(t, e) {
  Bs++, (Dp[Bs] = t.current), (t.current = e);
}
var bi = {},
  yt = Ei(bi),
  Bt = Ei(!1),
  Yi = bi;
function uo(t, e) {
  var n = t.type.contextTypes;
  if (!n) return bi;
  var r = t.stateNode;
  if (r && r.__reactInternalMemoizedUnmaskedChildContext === e)
    return r.__reactInternalMemoizedMaskedChildContext;
  var i = {},
    s;
  for (s in n) i[s] = e[s];
  return (
    r &&
      ((t = t.stateNode),
      (t.__reactInternalMemoizedUnmaskedChildContext = e),
      (t.__reactInternalMemoizedMaskedChildContext = i)),
    i
  );
}
function Nt(t) {
  return (t = t.childContextTypes), t != null;
}
function Fc() {
  xe(Bt), xe(yt);
}
function dy(t, e, n) {
  if (yt.current !== bi) throw Error(M(168));
  ye(yt, e), ye(Bt, n);
}
function X2(t, e, n) {
  var r = t.stateNode;
  if (((e = e.childContextTypes), typeof r.getChildContext != "function"))
    return n;
  r = r.getChildContext();
  for (var i in r) if (!(i in e)) throw Error(M(108, ZO(t) || "Unknown", i));
  return Te({}, n, r);
}
function zc(t) {
  return (
    (t =
      ((t = t.stateNode) && t.__reactInternalMemoizedMergedChildContext) || bi),
    (Yi = yt.current),
    ye(yt, t),
    ye(Bt, Bt.current),
    !0
  );
}
function py(t, e, n) {
  var r = t.stateNode;
  if (!r) throw Error(M(169));
  n
    ? ((t = X2(t, e, Yi)),
      (r.__reactInternalMemoizedMergedChildContext = t),
      xe(Bt),
      xe(yt),
      ye(yt, t))
    : xe(Bt),
    ye(Bt, n);
}
var br = null,
  Jf = !1,
  dd = !1;
function Q2(t) {
  br === null ? (br = [t]) : br.push(t);
}
function gE(t) {
  (Jf = !0), Q2(t);
}
function Ti() {
  if (!dd && br !== null) {
    dd = !0;
    var t = 0,
      e = ue;
    try {
      var n = br;
      for (ue = 1; t < n.length; t++) {
        var r = n[t];
        do r = r(!0);
        while (r !== null);
      }
      (br = null), (Jf = !1);
    } catch (i) {
      throw (br !== null && (br = br.slice(t + 1)), S2(Eg, Ti), i);
    } finally {
      (ue = e), (dd = !1);
    }
  }
  return null;
}
var Ns = [],
  Is = 0,
  jc = null,
  Vc = 0,
  rn = [],
  sn = 0,
  Xi = null,
  Sr = 1,
  kr = "";
function Ii(t, e) {
  (Ns[Is++] = Vc), (Ns[Is++] = jc), (jc = t), (Vc = e);
}
function J2(t, e, n) {
  (rn[sn++] = Sr), (rn[sn++] = kr), (rn[sn++] = Xi), (Xi = t);
  var r = Sr;
  t = kr;
  var i = 32 - Pn(r) - 1;
  (r &= ~(1 << i)), (n += 1);
  var s = 32 - Pn(e) + i;
  if (30 < s) {
    var o = i - (i % 5);
    (s = (r & ((1 << o) - 1)).toString(32)),
      (r >>= o),
      (i -= o),
      (Sr = (1 << (32 - Pn(e) + i)) | (n << i) | r),
      (kr = s + t);
  } else (Sr = (1 << s) | (n << i) | r), (kr = t);
}
function $g(t) {
  t.return !== null && (Ii(t, 1), J2(t, 1, 0));
}
function Fg(t) {
  for (; t === jc; )
    (jc = Ns[--Is]), (Ns[Is] = null), (Vc = Ns[--Is]), (Ns[Is] = null);
  for (; t === Xi; )
    (Xi = rn[--sn]),
      (rn[sn] = null),
      (kr = rn[--sn]),
      (rn[sn] = null),
      (Sr = rn[--sn]),
      (rn[sn] = null);
}
var Xt = null,
  qt = null,
  Ce = !1,
  En = null;
function Z2(t, e) {
  var n = cn(5, null, null, 0);
  (n.elementType = "DELETED"),
    (n.stateNode = e),
    (n.return = t),
    (e = t.deletions),
    e === null ? ((t.deletions = [n]), (t.flags |= 16)) : e.push(n);
}
function my(t, e) {
  switch (t.tag) {
    case 5:
      var n = t.type;
      return (
        (e =
          e.nodeType !== 1 || n.toLowerCase() !== e.nodeName.toLowerCase()
            ? null
            : e),
        e !== null
          ? ((t.stateNode = e), (Xt = t), (qt = li(e.firstChild)), !0)
          : !1
      );
    case 6:
      return (
        (e = t.pendingProps === "" || e.nodeType !== 3 ? null : e),
        e !== null ? ((t.stateNode = e), (Xt = t), (qt = null), !0) : !1
      );
    case 13:
      return (
        (e = e.nodeType !== 8 ? null : e),
        e !== null
          ? ((n = Xi !== null ? { id: Sr, overflow: kr } : null),
            (t.memoizedState = {
              dehydrated: e,
              treeContext: n,
              retryLane: 1073741824,
            }),
            (n = cn(18, null, null, 0)),
            (n.stateNode = e),
            (n.return = t),
            (t.child = n),
            (Xt = t),
            (qt = null),
            !0)
          : !1
      );
    default:
      return !1;
  }
}
function Rp(t) {
  return (t.mode & 1) !== 0 && (t.flags & 128) === 0;
}
function Lp(t) {
  if (Ce) {
    var e = qt;
    if (e) {
      var n = e;
      if (!my(t, e)) {
        if (Rp(t)) throw Error(M(418));
        e = li(n.nextSibling);
        var r = Xt;
        e && my(t, e)
          ? Z2(r, n)
          : ((t.flags = (t.flags & -4097) | 2), (Ce = !1), (Xt = t));
      }
    } else {
      if (Rp(t)) throw Error(M(418));
      (t.flags = (t.flags & -4097) | 2), (Ce = !1), (Xt = t);
    }
  }
}
function gy(t) {
  for (t = t.return; t !== null && t.tag !== 5 && t.tag !== 3 && t.tag !== 13; )
    t = t.return;
  Xt = t;
}
function wu(t) {
  if (t !== Xt) return !1;
  if (!Ce) return gy(t), (Ce = !0), !1;
  var e;
  if (
    ((e = t.tag !== 3) &&
      !(e = t.tag !== 5) &&
      ((e = t.type),
      (e = e !== "head" && e !== "body" && !Ep(t.type, t.memoizedProps))),
    e && (e = qt))
  ) {
    if (Rp(t)) throw (ex(), Error(M(418)));
    for (; e; ) Z2(t, e), (e = li(e.nextSibling));
  }
  if ((gy(t), t.tag === 13)) {
    if (((t = t.memoizedState), (t = t !== null ? t.dehydrated : null), !t))
      throw Error(M(317));
    e: {
      for (t = t.nextSibling, e = 0; t; ) {
        if (t.nodeType === 8) {
          var n = t.data;
          if (n === "/$") {
            if (e === 0) {
              qt = li(t.nextSibling);
              break e;
            }
            e--;
          } else (n !== "$" && n !== "$!" && n !== "$?") || e++;
        }
        t = t.nextSibling;
      }
      qt = null;
    }
  } else qt = Xt ? li(t.stateNode.nextSibling) : null;
  return !0;
}
function ex() {
  for (var t = qt; t; ) t = li(t.nextSibling);
}
function co() {
  (qt = Xt = null), (Ce = !1);
}
function zg(t) {
  En === null ? (En = [t]) : En.push(t);
}
var yE = Nr.ReactCurrentBatchConfig;
function On(t, e) {
  if (t && t.defaultProps) {
    (e = Te({}, e)), (t = t.defaultProps);
    for (var n in t) e[n] === void 0 && (e[n] = t[n]);
    return e;
  }
  return e;
}
var Hc = Ei(null),
  Wc = null,
  $s = null,
  jg = null;
function Vg() {
  jg = $s = Wc = null;
}
function Hg(t) {
  var e = Hc.current;
  xe(Hc), (t._currentValue = e);
}
function Bp(t, e, n) {
  for (; t !== null; ) {
    var r = t.alternate;
    if (
      ((t.childLanes & e) !== e
        ? ((t.childLanes |= e), r !== null && (r.childLanes |= e))
        : r !== null && (r.childLanes & e) !== e && (r.childLanes |= e),
      t === n)
    )
      break;
    t = t.return;
  }
}
function Qs(t, e) {
  (Wc = t),
    (jg = $s = null),
    (t = t.dependencies),
    t !== null &&
      t.firstContext !== null &&
      (t.lanes & e && (Dt = !0), (t.firstContext = null));
}
function yn(t) {
  var e = t._currentValue;
  if (jg !== t)
    if (((t = { context: t, memoizedValue: e, next: null }), $s === null)) {
      if (Wc === null) throw Error(M(308));
      ($s = t), (Wc.dependencies = { lanes: 0, firstContext: t });
    } else $s = $s.next = t;
  return e;
}
var Vi = null;
function Wg(t) {
  Vi === null ? (Vi = [t]) : Vi.push(t);
}
function tx(t, e, n, r) {
  var i = e.interleaved;
  return (
    i === null ? ((n.next = n), Wg(e)) : ((n.next = i.next), (i.next = n)),
    (e.interleaved = n),
    Er(t, r)
  );
}
function Er(t, e) {
  t.lanes |= e;
  var n = t.alternate;
  for (n !== null && (n.lanes |= e), n = t, t = t.return; t !== null; )
    (t.childLanes |= e),
      (n = t.alternate),
      n !== null && (n.childLanes |= e),
      (n = t),
      (t = t.return);
  return n.tag === 3 ? n.stateNode : null;
}
var Wr = !1;
function Ug(t) {
  t.updateQueue = {
    baseState: t.memoizedState,
    firstBaseUpdate: null,
    lastBaseUpdate: null,
    shared: { pending: null, interleaved: null, lanes: 0 },
    effects: null,
  };
}
function nx(t, e) {
  (t = t.updateQueue),
    e.updateQueue === t &&
      (e.updateQueue = {
        baseState: t.baseState,
        firstBaseUpdate: t.firstBaseUpdate,
        lastBaseUpdate: t.lastBaseUpdate,
        shared: t.shared,
        effects: t.effects,
      });
}
function Cr(t, e) {
  return {
    eventTime: t,
    lane: e,
    tag: 0,
    payload: null,
    callback: null,
    next: null,
  };
}
function ai(t, e, n) {
  var r = t.updateQueue;
  if (r === null) return null;
  if (((r = r.shared), ne & 2)) {
    var i = r.pending;
    return (
      i === null ? (e.next = e) : ((e.next = i.next), (i.next = e)),
      (r.pending = e),
      Er(t, n)
    );
  }
  return (
    (i = r.interleaved),
    i === null ? ((e.next = e), Wg(r)) : ((e.next = i.next), (i.next = e)),
    (r.interleaved = e),
    Er(t, n)
  );
}
function ac(t, e, n) {
  if (
    ((e = e.updateQueue), e !== null && ((e = e.shared), (n & 4194240) !== 0))
  ) {
    var r = e.lanes;
    (r &= t.pendingLanes), (n |= r), (e.lanes = n), Tg(t, n);
  }
}
function yy(t, e) {
  var n = t.updateQueue,
    r = t.alternate;
  if (r !== null && ((r = r.updateQueue), n === r)) {
    var i = null,
      s = null;
    if (((n = n.firstBaseUpdate), n !== null)) {
      do {
        var o = {
          eventTime: n.eventTime,
          lane: n.lane,
          tag: n.tag,
          payload: n.payload,
          callback: n.callback,
          next: null,
        };
        s === null ? (i = s = o) : (s = s.next = o), (n = n.next);
      } while (n !== null);
      s === null ? (i = s = e) : (s = s.next = e);
    } else i = s = e;
    (n = {
      baseState: r.baseState,
      firstBaseUpdate: i,
      lastBaseUpdate: s,
      shared: r.shared,
      effects: r.effects,
    }),
      (t.updateQueue = n);
    return;
  }
  (t = n.lastBaseUpdate),
    t === null ? (n.firstBaseUpdate = e) : (t.next = e),
    (n.lastBaseUpdate = e);
}
function Uc(t, e, n, r) {
  var i = t.updateQueue;
  Wr = !1;
  var s = i.firstBaseUpdate,
    o = i.lastBaseUpdate,
    l = i.shared.pending;
  if (l !== null) {
    i.shared.pending = null;
    var a = l,
      u = a.next;
    (a.next = null), o === null ? (s = u) : (o.next = u), (o = a);
    var c = t.alternate;
    c !== null &&
      ((c = c.updateQueue),
      (l = c.lastBaseUpdate),
      l !== o &&
        (l === null ? (c.firstBaseUpdate = u) : (l.next = u),
        (c.lastBaseUpdate = a)));
  }
  if (s !== null) {
    var f = i.baseState;
    (o = 0), (c = u = a = null), (l = s);
    do {
      var h = l.lane,
        d = l.eventTime;
      if ((r & h) === h) {
        c !== null &&
          (c = c.next =
            {
              eventTime: d,
              lane: 0,
              tag: l.tag,
              payload: l.payload,
              callback: l.callback,
              next: null,
            });
        e: {
          var p = t,
            m = l;
          switch (((h = e), (d = n), m.tag)) {
            case 1:
              if (((p = m.payload), typeof p == "function")) {
                f = p.call(d, f, h);
                break e;
              }
              f = p;
              break e;
            case 3:
              p.flags = (p.flags & -65537) | 128;
            case 0:
              if (
                ((p = m.payload),
                (h = typeof p == "function" ? p.call(d, f, h) : p),
                h == null)
              )
                break e;
              f = Te({}, f, h);
              break e;
            case 2:
              Wr = !0;
          }
        }
        l.callback !== null &&
          l.lane !== 0 &&
          ((t.flags |= 64),
          (h = i.effects),
          h === null ? (i.effects = [l]) : h.push(l));
      } else
        (d = {
          eventTime: d,
          lane: h,
          tag: l.tag,
          payload: l.payload,
          callback: l.callback,
          next: null,
        }),
          c === null ? ((u = c = d), (a = f)) : (c = c.next = d),
          (o |= h);
      if (((l = l.next), l === null)) {
        if (((l = i.shared.pending), l === null)) break;
        (h = l),
          (l = h.next),
          (h.next = null),
          (i.lastBaseUpdate = h),
          (i.shared.pending = null);
      }
    } while (!0);
    if (
      (c === null && (a = f),
      (i.baseState = a),
      (i.firstBaseUpdate = u),
      (i.lastBaseUpdate = c),
      (e = i.shared.interleaved),
      e !== null)
    ) {
      i = e;
      do (o |= i.lane), (i = i.next);
      while (i !== e);
    } else s === null && (i.shared.lanes = 0);
    (Ji |= o), (t.lanes = o), (t.memoizedState = f);
  }
}
function vy(t, e, n) {
  if (((t = e.effects), (e.effects = null), t !== null))
    for (e = 0; e < t.length; e++) {
      var r = t[e],
        i = r.callback;
      if (i !== null) {
        if (((r.callback = null), (r = n), typeof i != "function"))
          throw Error(M(191, i));
        i.call(r);
      }
    }
}
var rx = new t2.Component().refs;
function Np(t, e, n, r) {
  (e = t.memoizedState),
    (n = n(r, e)),
    (n = n == null ? e : Te({}, e, n)),
    (t.memoizedState = n),
    t.lanes === 0 && (t.updateQueue.baseState = n);
}
var Zf = {
  isMounted: function (t) {
    return (t = t._reactInternals) ? hs(t) === t : !1;
  },
  enqueueSetState: function (t, e, n) {
    t = t._reactInternals;
    var r = Ct(),
      i = ci(t),
      s = Cr(r, i);
    (s.payload = e),
      n != null && (s.callback = n),
      (e = ai(t, s, i)),
      e !== null && (Dn(e, t, i, r), ac(e, t, i));
  },
  enqueueReplaceState: function (t, e, n) {
    t = t._reactInternals;
    var r = Ct(),
      i = ci(t),
      s = Cr(r, i);
    (s.tag = 1),
      (s.payload = e),
      n != null && (s.callback = n),
      (e = ai(t, s, i)),
      e !== null && (Dn(e, t, i, r), ac(e, t, i));
  },
  enqueueForceUpdate: function (t, e) {
    t = t._reactInternals;
    var n = Ct(),
      r = ci(t),
      i = Cr(n, r);
    (i.tag = 2),
      e != null && (i.callback = e),
      (e = ai(t, i, r)),
      e !== null && (Dn(e, t, r, n), ac(e, t, r));
  },
};
function wy(t, e, n, r, i, s, o) {
  return (
    (t = t.stateNode),
    typeof t.shouldComponentUpdate == "function"
      ? t.shouldComponentUpdate(r, s, o)
      : e.prototype && e.prototype.isPureReactComponent
        ? !Vl(n, r) || !Vl(i, s)
        : !0
  );
}
function ix(t, e, n) {
  var r = !1,
    i = bi,
    s = e.contextType;
  return (
    typeof s == "object" && s !== null
      ? (s = yn(s))
      : ((i = Nt(e) ? Yi : yt.current),
        (r = e.contextTypes),
        (s = (r = r != null) ? uo(t, i) : bi)),
    (e = new e(n, s)),
    (t.memoizedState = e.state !== null && e.state !== void 0 ? e.state : null),
    (e.updater = Zf),
    (t.stateNode = e),
    (e._reactInternals = t),
    r &&
      ((t = t.stateNode),
      (t.__reactInternalMemoizedUnmaskedChildContext = i),
      (t.__reactInternalMemoizedMaskedChildContext = s)),
    e
  );
}
function by(t, e, n, r) {
  (t = e.state),
    typeof e.componentWillReceiveProps == "function" &&
      e.componentWillReceiveProps(n, r),
    typeof e.UNSAFE_componentWillReceiveProps == "function" &&
      e.UNSAFE_componentWillReceiveProps(n, r),
    e.state !== t && Zf.enqueueReplaceState(e, e.state, null);
}
function Ip(t, e, n, r) {
  var i = t.stateNode;
  (i.props = n), (i.state = t.memoizedState), (i.refs = rx), Ug(t);
  var s = e.contextType;
  typeof s == "object" && s !== null
    ? (i.context = yn(s))
    : ((s = Nt(e) ? Yi : yt.current), (i.context = uo(t, s))),
    (i.state = t.memoizedState),
    (s = e.getDerivedStateFromProps),
    typeof s == "function" && (Np(t, e, s, n), (i.state = t.memoizedState)),
    typeof e.getDerivedStateFromProps == "function" ||
      typeof i.getSnapshotBeforeUpdate == "function" ||
      (typeof i.UNSAFE_componentWillMount != "function" &&
        typeof i.componentWillMount != "function") ||
      ((e = i.state),
      typeof i.componentWillMount == "function" && i.componentWillMount(),
      typeof i.UNSAFE_componentWillMount == "function" &&
        i.UNSAFE_componentWillMount(),
      e !== i.state && Zf.enqueueReplaceState(i, i.state, null),
      Uc(t, n, i, r),
      (i.state = t.memoizedState)),
    typeof i.componentDidMount == "function" && (t.flags |= 4194308);
}
function Xo(t, e, n) {
  if (
    ((t = n.ref), t !== null && typeof t != "function" && typeof t != "object")
  ) {
    if (n._owner) {
      if (((n = n._owner), n)) {
        if (n.tag !== 1) throw Error(M(309));
        var r = n.stateNode;
      }
      if (!r) throw Error(M(147, t));
      var i = r,
        s = "" + t;
      return e !== null &&
        e.ref !== null &&
        typeof e.ref == "function" &&
        e.ref._stringRef === s
        ? e.ref
        : ((e = function (o) {
            var l = i.refs;
            l === rx && (l = i.refs = {}),
              o === null ? delete l[s] : (l[s] = o);
          }),
          (e._stringRef = s),
          e);
    }
    if (typeof t != "string") throw Error(M(284));
    if (!n._owner) throw Error(M(290, t));
  }
  return t;
}
function bu(t, e) {
  throw (
    ((t = Object.prototype.toString.call(e)),
    Error(
      M(
        31,
        t === "[object Object]"
          ? "object with keys {" + Object.keys(e).join(", ") + "}"
          : t
      )
    ))
  );
}
function xy(t) {
  var e = t._init;
  return e(t._payload);
}
function sx(t) {
  function e(g, y) {
    if (t) {
      var v = g.deletions;
      v === null ? ((g.deletions = [y]), (g.flags |= 16)) : v.push(y);
    }
  }
  function n(g, y) {
    if (!t) return null;
    for (; y !== null; ) e(g, y), (y = y.sibling);
    return null;
  }
  function r(g, y) {
    for (g = new Map(); y !== null; )
      y.key !== null ? g.set(y.key, y) : g.set(y.index, y), (y = y.sibling);
    return g;
  }
  function i(g, y) {
    return (g = fi(g, y)), (g.index = 0), (g.sibling = null), g;
  }
  function s(g, y, v) {
    return (
      (g.index = v),
      t
        ? ((v = g.alternate),
          v !== null
            ? ((v = v.index), v < y ? ((g.flags |= 2), y) : v)
            : ((g.flags |= 2), y))
        : ((g.flags |= 1048576), y)
    );
  }
  function o(g) {
    return t && g.alternate === null && (g.flags |= 2), g;
  }
  function l(g, y, v, b) {
    return y === null || y.tag !== 6
      ? ((y = bd(v, g.mode, b)), (y.return = g), y)
      : ((y = i(y, v)), (y.return = g), y);
  }
  function a(g, y, v, b) {
    var x = v.type;
    return x === Ts
      ? c(g, y, v.props.children, b, v.key)
      : y !== null &&
          (y.elementType === x ||
            (typeof x == "object" &&
              x !== null &&
              x.$$typeof === Hr &&
              xy(x) === y.type))
        ? ((b = i(y, v.props)), (b.ref = Xo(g, y, v)), (b.return = g), b)
        : ((b = pc(v.type, v.key, v.props, null, g.mode, b)),
          (b.ref = Xo(g, y, v)),
          (b.return = g),
          b);
  }
  function u(g, y, v, b) {
    return y === null ||
      y.tag !== 4 ||
      y.stateNode.containerInfo !== v.containerInfo ||
      y.stateNode.implementation !== v.implementation
      ? ((y = xd(v, g.mode, b)), (y.return = g), y)
      : ((y = i(y, v.children || [])), (y.return = g), y);
  }
  function c(g, y, v, b, x) {
    return y === null || y.tag !== 7
      ? ((y = qi(v, g.mode, b, x)), (y.return = g), y)
      : ((y = i(y, v)), (y.return = g), y);
  }
  function f(g, y, v) {
    if ((typeof y == "string" && y !== "") || typeof y == "number")
      return (y = bd("" + y, g.mode, v)), (y.return = g), y;
    if (typeof y == "object" && y !== null) {
      switch (y.$$typeof) {
        case uu:
          return (
            (v = pc(y.type, y.key, y.props, null, g.mode, v)),
            (v.ref = Xo(g, null, y)),
            (v.return = g),
            v
          );
        case Es:
          return (y = xd(y, g.mode, v)), (y.return = g), y;
        case Hr:
          var b = y._init;
          return f(g, b(y._payload), v);
      }
      if (ll(y) || Uo(y))
        return (y = qi(y, g.mode, v, null)), (y.return = g), y;
      bu(g, y);
    }
    return null;
  }
  function h(g, y, v, b) {
    var x = y !== null ? y.key : null;
    if ((typeof v == "string" && v !== "") || typeof v == "number")
      return x !== null ? null : l(g, y, "" + v, b);
    if (typeof v == "object" && v !== null) {
      switch (v.$$typeof) {
        case uu:
          return v.key === x ? a(g, y, v, b) : null;
        case Es:
          return v.key === x ? u(g, y, v, b) : null;
        case Hr:
          return (x = v._init), h(g, y, x(v._payload), b);
      }
      if (ll(v) || Uo(v)) return x !== null ? null : c(g, y, v, b, null);
      bu(g, v);
    }
    return null;
  }
  function d(g, y, v, b, x) {
    if ((typeof b == "string" && b !== "") || typeof b == "number")
      return (g = g.get(v) || null), l(y, g, "" + b, x);
    if (typeof b == "object" && b !== null) {
      switch (b.$$typeof) {
        case uu:
          return (g = g.get(b.key === null ? v : b.key) || null), a(y, g, b, x);
        case Es:
          return (g = g.get(b.key === null ? v : b.key) || null), u(y, g, b, x);
        case Hr:
          var S = b._init;
          return d(g, y, v, S(b._payload), x);
      }
      if (ll(b) || Uo(b)) return (g = g.get(v) || null), c(y, g, b, x, null);
      bu(y, b);
    }
    return null;
  }
  function p(g, y, v, b) {
    for (
      var x = null, S = null, k = y, _ = (y = 0), E = null;
      k !== null && _ < v.length;
      _++
    ) {
      k.index > _ ? ((E = k), (k = null)) : (E = k.sibling);
      var O = h(g, k, v[_], b);
      if (O === null) {
        k === null && (k = E);
        break;
      }
      t && k && O.alternate === null && e(g, k),
        (y = s(O, y, _)),
        S === null ? (x = O) : (S.sibling = O),
        (S = O),
        (k = E);
    }
    if (_ === v.length) return n(g, k), Ce && Ii(g, _), x;
    if (k === null) {
      for (; _ < v.length; _++)
        (k = f(g, v[_], b)),
          k !== null &&
            ((y = s(k, y, _)), S === null ? (x = k) : (S.sibling = k), (S = k));
      return Ce && Ii(g, _), x;
    }
    for (k = r(g, k); _ < v.length; _++)
      (E = d(k, g, _, v[_], b)),
        E !== null &&
          (t && E.alternate !== null && k.delete(E.key === null ? _ : E.key),
          (y = s(E, y, _)),
          S === null ? (x = E) : (S.sibling = E),
          (S = E));
    return (
      t &&
        k.forEach(function (L) {
          return e(g, L);
        }),
      Ce && Ii(g, _),
      x
    );
  }
  function m(g, y, v, b) {
    var x = Uo(v);
    if (typeof x != "function") throw Error(M(150));
    if (((v = x.call(v)), v == null)) throw Error(M(151));
    for (
      var S = (x = null), k = y, _ = (y = 0), E = null, O = v.next();
      k !== null && !O.done;
      _++, O = v.next()
    ) {
      k.index > _ ? ((E = k), (k = null)) : (E = k.sibling);
      var L = h(g, k, O.value, b);
      if (L === null) {
        k === null && (k = E);
        break;
      }
      t && k && L.alternate === null && e(g, k),
        (y = s(L, y, _)),
        S === null ? (x = L) : (S.sibling = L),
        (S = L),
        (k = E);
    }
    if (O.done) return n(g, k), Ce && Ii(g, _), x;
    if (k === null) {
      for (; !O.done; _++, O = v.next())
        (O = f(g, O.value, b)),
          O !== null &&
            ((y = s(O, y, _)), S === null ? (x = O) : (S.sibling = O), (S = O));
      return Ce && Ii(g, _), x;
    }
    for (k = r(g, k); !O.done; _++, O = v.next())
      (O = d(k, g, _, O.value, b)),
        O !== null &&
          (t && O.alternate !== null && k.delete(O.key === null ? _ : O.key),
          (y = s(O, y, _)),
          S === null ? (x = O) : (S.sibling = O),
          (S = O));
    return (
      t &&
        k.forEach(function (F) {
          return e(g, F);
        }),
      Ce && Ii(g, _),
      x
    );
  }
  function w(g, y, v, b) {
    if (
      (typeof v == "object" &&
        v !== null &&
        v.type === Ts &&
        v.key === null &&
        (v = v.props.children),
      typeof v == "object" && v !== null)
    ) {
      switch (v.$$typeof) {
        case uu:
          e: {
            for (var x = v.key, S = y; S !== null; ) {
              if (S.key === x) {
                if (((x = v.type), x === Ts)) {
                  if (S.tag === 7) {
                    n(g, S.sibling),
                      (y = i(S, v.props.children)),
                      (y.return = g),
                      (g = y);
                    break e;
                  }
                } else if (
                  S.elementType === x ||
                  (typeof x == "object" &&
                    x !== null &&
                    x.$$typeof === Hr &&
                    xy(x) === S.type)
                ) {
                  n(g, S.sibling),
                    (y = i(S, v.props)),
                    (y.ref = Xo(g, S, v)),
                    (y.return = g),
                    (g = y);
                  break e;
                }
                n(g, S);
                break;
              } else e(g, S);
              S = S.sibling;
            }
            v.type === Ts
              ? ((y = qi(v.props.children, g.mode, b, v.key)),
                (y.return = g),
                (g = y))
              : ((b = pc(v.type, v.key, v.props, null, g.mode, b)),
                (b.ref = Xo(g, y, v)),
                (b.return = g),
                (g = b));
          }
          return o(g);
        case Es:
          e: {
            for (S = v.key; y !== null; ) {
              if (y.key === S)
                if (
                  y.tag === 4 &&
                  y.stateNode.containerInfo === v.containerInfo &&
                  y.stateNode.implementation === v.implementation
                ) {
                  n(g, y.sibling),
                    (y = i(y, v.children || [])),
                    (y.return = g),
                    (g = y);
                  break e;
                } else {
                  n(g, y);
                  break;
                }
              else e(g, y);
              y = y.sibling;
            }
            (y = xd(v, g.mode, b)), (y.return = g), (g = y);
          }
          return o(g);
        case Hr:
          return (S = v._init), w(g, y, S(v._payload), b);
      }
      if (ll(v)) return p(g, y, v, b);
      if (Uo(v)) return m(g, y, v, b);
      bu(g, v);
    }
    return (typeof v == "string" && v !== "") || typeof v == "number"
      ? ((v = "" + v),
        y !== null && y.tag === 6
          ? (n(g, y.sibling), (y = i(y, v)), (y.return = g), (g = y))
          : (n(g, y), (y = bd(v, g.mode, b)), (y.return = g), (g = y)),
        o(g))
      : n(g, y);
  }
  return w;
}
var fo = sx(!0),
  ox = sx(!1),
  Ia = {},
  ur = Ei(Ia),
  Kl = Ei(Ia),
  ql = Ei(Ia);
function Hi(t) {
  if (t === Ia) throw Error(M(174));
  return t;
}
function Kg(t, e) {
  switch ((ye(ql, e), ye(Kl, t), ye(ur, Ia), (t = e.nodeType), t)) {
    case 9:
    case 11:
      e = (e = e.documentElement) ? e.namespaceURI : mp(null, "");
      break;
    default:
      (t = t === 8 ? e.parentNode : e),
        (e = t.namespaceURI || null),
        (t = t.tagName),
        (e = mp(e, t));
  }
  xe(ur), ye(ur, e);
}
function ho() {
  xe(ur), xe(Kl), xe(ql);
}
function lx(t) {
  Hi(ql.current);
  var e = Hi(ur.current),
    n = mp(e, t.type);
  e !== n && (ye(Kl, t), ye(ur, n));
}
function qg(t) {
  Kl.current === t && (xe(ur), xe(Kl));
}
var Oe = Ei(0);
function Kc(t) {
  for (var e = t; e !== null; ) {
    if (e.tag === 13) {
      var n = e.memoizedState;
      if (
        n !== null &&
        ((n = n.dehydrated), n === null || n.data === "$?" || n.data === "$!")
      )
        return e;
    } else if (e.tag === 19 && e.memoizedProps.revealOrder !== void 0) {
      if (e.flags & 128) return e;
    } else if (e.child !== null) {
      (e.child.return = e), (e = e.child);
      continue;
    }
    if (e === t) break;
    for (; e.sibling === null; ) {
      if (e.return === null || e.return === t) return null;
      e = e.return;
    }
    (e.sibling.return = e.return), (e = e.sibling);
  }
  return null;
}
var pd = [];
function Gg() {
  for (var t = 0; t < pd.length; t++)
    pd[t]._workInProgressVersionPrimary = null;
  pd.length = 0;
}
var uc = Nr.ReactCurrentDispatcher,
  md = Nr.ReactCurrentBatchConfig,
  Qi = 0,
  Ee = null,
  Ue = null,
  Xe = null,
  qc = !1,
  bl = !1,
  Gl = 0,
  vE = 0;
function ft() {
  throw Error(M(321));
}
function Yg(t, e) {
  if (e === null) return !1;
  for (var n = 0; n < e.length && n < t.length; n++)
    if (!Bn(t[n], e[n])) return !1;
  return !0;
}
function Xg(t, e, n, r, i, s) {
  if (
    ((Qi = s),
    (Ee = e),
    (e.memoizedState = null),
    (e.updateQueue = null),
    (e.lanes = 0),
    (uc.current = t === null || t.memoizedState === null ? SE : kE),
    (t = n(r, i)),
    bl)
  ) {
    s = 0;
    do {
      if (((bl = !1), (Gl = 0), 25 <= s)) throw Error(M(301));
      (s += 1),
        (Xe = Ue = null),
        (e.updateQueue = null),
        (uc.current = CE),
        (t = n(r, i));
    } while (bl);
  }
  if (
    ((uc.current = Gc),
    (e = Ue !== null && Ue.next !== null),
    (Qi = 0),
    (Xe = Ue = Ee = null),
    (qc = !1),
    e)
  )
    throw Error(M(300));
  return t;
}
function Qg() {
  var t = Gl !== 0;
  return (Gl = 0), t;
}
function Qn() {
  var t = {
    memoizedState: null,
    baseState: null,
    baseQueue: null,
    queue: null,
    next: null,
  };
  return Xe === null ? (Ee.memoizedState = Xe = t) : (Xe = Xe.next = t), Xe;
}
function vn() {
  if (Ue === null) {
    var t = Ee.alternate;
    t = t !== null ? t.memoizedState : null;
  } else t = Ue.next;
  var e = Xe === null ? Ee.memoizedState : Xe.next;
  if (e !== null) (Xe = e), (Ue = t);
  else {
    if (t === null) throw Error(M(310));
    (Ue = t),
      (t = {
        memoizedState: Ue.memoizedState,
        baseState: Ue.baseState,
        baseQueue: Ue.baseQueue,
        queue: Ue.queue,
        next: null,
      }),
      Xe === null ? (Ee.memoizedState = Xe = t) : (Xe = Xe.next = t);
  }
  return Xe;
}
function Yl(t, e) {
  return typeof e == "function" ? e(t) : e;
}
function gd(t) {
  var e = vn(),
    n = e.queue;
  if (n === null) throw Error(M(311));
  n.lastRenderedReducer = t;
  var r = Ue,
    i = r.baseQueue,
    s = n.pending;
  if (s !== null) {
    if (i !== null) {
      var o = i.next;
      (i.next = s.next), (s.next = o);
    }
    (r.baseQueue = i = s), (n.pending = null);
  }
  if (i !== null) {
    (s = i.next), (r = r.baseState);
    var l = (o = null),
      a = null,
      u = s;
    do {
      var c = u.lane;
      if ((Qi & c) === c)
        a !== null &&
          (a = a.next =
            {
              lane: 0,
              action: u.action,
              hasEagerState: u.hasEagerState,
              eagerState: u.eagerState,
              next: null,
            }),
          (r = u.hasEagerState ? u.eagerState : t(r, u.action));
      else {
        var f = {
          lane: c,
          action: u.action,
          hasEagerState: u.hasEagerState,
          eagerState: u.eagerState,
          next: null,
        };
        a === null ? ((l = a = f), (o = r)) : (a = a.next = f),
          (Ee.lanes |= c),
          (Ji |= c);
      }
      u = u.next;
    } while (u !== null && u !== s);
    a === null ? (o = r) : (a.next = l),
      Bn(r, e.memoizedState) || (Dt = !0),
      (e.memoizedState = r),
      (e.baseState = o),
      (e.baseQueue = a),
      (n.lastRenderedState = r);
  }
  if (((t = n.interleaved), t !== null)) {
    i = t;
    do (s = i.lane), (Ee.lanes |= s), (Ji |= s), (i = i.next);
    while (i !== t);
  } else i === null && (n.lanes = 0);
  return [e.memoizedState, n.dispatch];
}
function yd(t) {
  var e = vn(),
    n = e.queue;
  if (n === null) throw Error(M(311));
  n.lastRenderedReducer = t;
  var r = n.dispatch,
    i = n.pending,
    s = e.memoizedState;
  if (i !== null) {
    n.pending = null;
    var o = (i = i.next);
    do (s = t(s, o.action)), (o = o.next);
    while (o !== i);
    Bn(s, e.memoizedState) || (Dt = !0),
      (e.memoizedState = s),
      e.baseQueue === null && (e.baseState = s),
      (n.lastRenderedState = s);
  }
  return [s, r];
}
function ax() {}
function ux(t, e) {
  var n = Ee,
    r = vn(),
    i = e(),
    s = !Bn(r.memoizedState, i);
  if (
    (s && ((r.memoizedState = i), (Dt = !0)),
    (r = r.queue),
    Jg(hx.bind(null, n, r, t), [t]),
    r.getSnapshot !== e || s || (Xe !== null && Xe.memoizedState.tag & 1))
  ) {
    if (
      ((n.flags |= 2048),
      Xl(9, fx.bind(null, n, r, i, e), void 0, null),
      Qe === null)
    )
      throw Error(M(349));
    Qi & 30 || cx(n, e, i);
  }
  return i;
}
function cx(t, e, n) {
  (t.flags |= 16384),
    (t = { getSnapshot: e, value: n }),
    (e = Ee.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (Ee.updateQueue = e),
        (e.stores = [t]))
      : ((n = e.stores), n === null ? (e.stores = [t]) : n.push(t));
}
function fx(t, e, n, r) {
  (e.value = n), (e.getSnapshot = r), dx(e) && px(t);
}
function hx(t, e, n) {
  return n(function () {
    dx(e) && px(t);
  });
}
function dx(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var n = e();
    return !Bn(t, n);
  } catch {
    return !0;
  }
}
function px(t) {
  var e = Er(t, 1);
  e !== null && Dn(e, t, 1, -1);
}
function Sy(t) {
  var e = Qn();
  return (
    typeof t == "function" && (t = t()),
    (e.memoizedState = e.baseState = t),
    (t = {
      pending: null,
      interleaved: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: Yl,
      lastRenderedState: t,
    }),
    (e.queue = t),
    (t = t.dispatch = xE.bind(null, Ee, t)),
    [e.memoizedState, t]
  );
}
function Xl(t, e, n, r) {
  return (
    (t = { tag: t, create: e, destroy: n, deps: r, next: null }),
    (e = Ee.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (Ee.updateQueue = e),
        (e.lastEffect = t.next = t))
      : ((n = e.lastEffect),
        n === null
          ? (e.lastEffect = t.next = t)
          : ((r = n.next), (n.next = t), (t.next = r), (e.lastEffect = t))),
    t
  );
}
function mx() {
  return vn().memoizedState;
}
function cc(t, e, n, r) {
  var i = Qn();
  (Ee.flags |= t),
    (i.memoizedState = Xl(1 | e, n, void 0, r === void 0 ? null : r));
}
function eh(t, e, n, r) {
  var i = vn();
  r = r === void 0 ? null : r;
  var s = void 0;
  if (Ue !== null) {
    var o = Ue.memoizedState;
    if (((s = o.destroy), r !== null && Yg(r, o.deps))) {
      i.memoizedState = Xl(e, n, s, r);
      return;
    }
  }
  (Ee.flags |= t), (i.memoizedState = Xl(1 | e, n, s, r));
}
function ky(t, e) {
  return cc(8390656, 8, t, e);
}
function Jg(t, e) {
  return eh(2048, 8, t, e);
}
function gx(t, e) {
  return eh(4, 2, t, e);
}
function yx(t, e) {
  return eh(4, 4, t, e);
}
function vx(t, e) {
  if (typeof e == "function")
    return (
      (t = t()),
      e(t),
      function () {
        e(null);
      }
    );
  if (e != null)
    return (
      (t = t()),
      (e.current = t),
      function () {
        e.current = null;
      }
    );
}
function wx(t, e, n) {
  return (
    (n = n != null ? n.concat([t]) : null), eh(4, 4, vx.bind(null, e, t), n)
  );
}
function Zg() {}
function bx(t, e) {
  var n = vn();
  e = e === void 0 ? null : e;
  var r = n.memoizedState;
  return r !== null && e !== null && Yg(e, r[1])
    ? r[0]
    : ((n.memoizedState = [t, e]), t);
}
function xx(t, e) {
  var n = vn();
  e = e === void 0 ? null : e;
  var r = n.memoizedState;
  return r !== null && e !== null && Yg(e, r[1])
    ? r[0]
    : ((t = t()), (n.memoizedState = [t, e]), t);
}
function Sx(t, e, n) {
  return Qi & 21
    ? (Bn(n, e) || ((n = _2()), (Ee.lanes |= n), (Ji |= n), (t.baseState = !0)),
      e)
    : (t.baseState && ((t.baseState = !1), (Dt = !0)), (t.memoizedState = n));
}
function wE(t, e) {
  var n = ue;
  (ue = n !== 0 && 4 > n ? n : 4), t(!0);
  var r = md.transition;
  md.transition = {};
  try {
    t(!1), e();
  } finally {
    (ue = n), (md.transition = r);
  }
}
function kx() {
  return vn().memoizedState;
}
function bE(t, e, n) {
  var r = ci(t);
  if (
    ((n = {
      lane: r,
      action: n,
      hasEagerState: !1,
      eagerState: null,
      next: null,
    }),
    Cx(t))
  )
    _x(e, n);
  else if (((n = tx(t, e, n, r)), n !== null)) {
    var i = Ct();
    Dn(n, t, r, i), Ax(n, e, r);
  }
}
function xE(t, e, n) {
  var r = ci(t),
    i = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null };
  if (Cx(t)) _x(e, i);
  else {
    var s = t.alternate;
    if (
      t.lanes === 0 &&
      (s === null || s.lanes === 0) &&
      ((s = e.lastRenderedReducer), s !== null)
    )
      try {
        var o = e.lastRenderedState,
          l = s(o, n);
        if (((i.hasEagerState = !0), (i.eagerState = l), Bn(l, o))) {
          var a = e.interleaved;
          a === null
            ? ((i.next = i), Wg(e))
            : ((i.next = a.next), (a.next = i)),
            (e.interleaved = i);
          return;
        }
      } catch {
      } finally {
      }
    (n = tx(t, e, i, r)),
      n !== null && ((i = Ct()), Dn(n, t, r, i), Ax(n, e, r));
  }
}
function Cx(t) {
  var e = t.alternate;
  return t === Ee || (e !== null && e === Ee);
}
function _x(t, e) {
  bl = qc = !0;
  var n = t.pending;
  n === null ? (e.next = e) : ((e.next = n.next), (n.next = e)),
    (t.pending = e);
}
function Ax(t, e, n) {
  if (n & 4194240) {
    var r = e.lanes;
    (r &= t.pendingLanes), (n |= r), (e.lanes = n), Tg(t, n);
  }
}
var Gc = {
    readContext: yn,
    useCallback: ft,
    useContext: ft,
    useEffect: ft,
    useImperativeHandle: ft,
    useInsertionEffect: ft,
    useLayoutEffect: ft,
    useMemo: ft,
    useReducer: ft,
    useRef: ft,
    useState: ft,
    useDebugValue: ft,
    useDeferredValue: ft,
    useTransition: ft,
    useMutableSource: ft,
    useSyncExternalStore: ft,
    useId: ft,
    unstable_isNewReconciler: !1,
  },
  SE = {
    readContext: yn,
    useCallback: function (t, e) {
      return (Qn().memoizedState = [t, e === void 0 ? null : e]), t;
    },
    useContext: yn,
    useEffect: ky,
    useImperativeHandle: function (t, e, n) {
      return (
        (n = n != null ? n.concat([t]) : null),
        cc(4194308, 4, vx.bind(null, e, t), n)
      );
    },
    useLayoutEffect: function (t, e) {
      return cc(4194308, 4, t, e);
    },
    useInsertionEffect: function (t, e) {
      return cc(4, 2, t, e);
    },
    useMemo: function (t, e) {
      var n = Qn();
      return (
        (e = e === void 0 ? null : e), (t = t()), (n.memoizedState = [t, e]), t
      );
    },
    useReducer: function (t, e, n) {
      var r = Qn();
      return (
        (e = n !== void 0 ? n(e) : e),
        (r.memoizedState = r.baseState = e),
        (t = {
          pending: null,
          interleaved: null,
          lanes: 0,
          dispatch: null,
          lastRenderedReducer: t,
          lastRenderedState: e,
        }),
        (r.queue = t),
        (t = t.dispatch = bE.bind(null, Ee, t)),
        [r.memoizedState, t]
      );
    },
    useRef: function (t) {
      var e = Qn();
      return (t = { current: t }), (e.memoizedState = t);
    },
    useState: Sy,
    useDebugValue: Zg,
    useDeferredValue: function (t) {
      return (Qn().memoizedState = t);
    },
    useTransition: function () {
      var t = Sy(!1),
        e = t[0];
      return (t = wE.bind(null, t[1])), (Qn().memoizedState = t), [e, t];
    },
    useMutableSource: function () {},
    useSyncExternalStore: function (t, e, n) {
      var r = Ee,
        i = Qn();
      if (Ce) {
        if (n === void 0) throw Error(M(407));
        n = n();
      } else {
        if (((n = e()), Qe === null)) throw Error(M(349));
        Qi & 30 || cx(r, e, n);
      }
      i.memoizedState = n;
      var s = { value: n, getSnapshot: e };
      return (
        (i.queue = s),
        ky(hx.bind(null, r, s, t), [t]),
        (r.flags |= 2048),
        Xl(9, fx.bind(null, r, s, n, e), void 0, null),
        n
      );
    },
    useId: function () {
      var t = Qn(),
        e = Qe.identifierPrefix;
      if (Ce) {
        var n = kr,
          r = Sr;
        (n = (r & ~(1 << (32 - Pn(r) - 1))).toString(32) + n),
          (e = ":" + e + "R" + n),
          (n = Gl++),
          0 < n && (e += "H" + n.toString(32)),
          (e += ":");
      } else (n = vE++), (e = ":" + e + "r" + n.toString(32) + ":");
      return (t.memoizedState = e);
    },
    unstable_isNewReconciler: !1,
  },
  kE = {
    readContext: yn,
    useCallback: bx,
    useContext: yn,
    useEffect: Jg,
    useImperativeHandle: wx,
    useInsertionEffect: gx,
    useLayoutEffect: yx,
    useMemo: xx,
    useReducer: gd,
    useRef: mx,
    useState: function () {
      return gd(Yl);
    },
    useDebugValue: Zg,
    useDeferredValue: function (t) {
      var e = vn();
      return Sx(e, Ue.memoizedState, t);
    },
    useTransition: function () {
      var t = gd(Yl)[0],
        e = vn().memoizedState;
      return [t, e];
    },
    useMutableSource: ax,
    useSyncExternalStore: ux,
    useId: kx,
    unstable_isNewReconciler: !1,
  },
  CE = {
    readContext: yn,
    useCallback: bx,
    useContext: yn,
    useEffect: Jg,
    useImperativeHandle: wx,
    useInsertionEffect: gx,
    useLayoutEffect: yx,
    useMemo: xx,
    useReducer: yd,
    useRef: mx,
    useState: function () {
      return yd(Yl);
    },
    useDebugValue: Zg,
    useDeferredValue: function (t) {
      var e = vn();
      return Ue === null ? (e.memoizedState = t) : Sx(e, Ue.memoizedState, t);
    },
    useTransition: function () {
      var t = yd(Yl)[0],
        e = vn().memoizedState;
      return [t, e];
    },
    useMutableSource: ax,
    useSyncExternalStore: ux,
    useId: kx,
    unstable_isNewReconciler: !1,
  };
function po(t, e) {
  try {
    var n = "",
      r = e;
    do (n += JO(r)), (r = r.return);
    while (r);
    var i = n;
  } catch (s) {
    i =
      `
Error generating stack: ` +
      s.message +
      `
` +
      s.stack;
  }
  return { value: t, source: e, stack: i, digest: null };
}
function vd(t, e, n) {
  return { value: t, source: null, stack: n ?? null, digest: e ?? null };
}
function $p(t, e) {
  try {
    console.error(e.value);
  } catch (n) {
    setTimeout(function () {
      throw n;
    });
  }
}
var _E = typeof WeakMap == "function" ? WeakMap : Map;
function Ox(t, e, n) {
  (n = Cr(-1, n)), (n.tag = 3), (n.payload = { element: null });
  var r = e.value;
  return (
    (n.callback = function () {
      Xc || ((Xc = !0), (Gp = r)), $p(t, e);
    }),
    n
  );
}
function Mx(t, e, n) {
  (n = Cr(-1, n)), (n.tag = 3);
  var r = t.type.getDerivedStateFromError;
  if (typeof r == "function") {
    var i = e.value;
    (n.payload = function () {
      return r(i);
    }),
      (n.callback = function () {
        $p(t, e);
      });
  }
  var s = t.stateNode;
  return (
    s !== null &&
      typeof s.componentDidCatch == "function" &&
      (n.callback = function () {
        $p(t, e),
          typeof r != "function" &&
            (ui === null ? (ui = new Set([this])) : ui.add(this));
        var o = e.stack;
        this.componentDidCatch(e.value, {
          componentStack: o !== null ? o : "",
        });
      }),
    n
  );
}
function Cy(t, e, n) {
  var r = t.pingCache;
  if (r === null) {
    r = t.pingCache = new _E();
    var i = new Set();
    r.set(e, i);
  } else (i = r.get(e)), i === void 0 && ((i = new Set()), r.set(e, i));
  i.has(n) || (i.add(n), (t = FE.bind(null, t, e, n)), e.then(t, t));
}
function _y(t) {
  do {
    var e;
    if (
      ((e = t.tag === 13) &&
        ((e = t.memoizedState), (e = e !== null ? e.dehydrated !== null : !0)),
      e)
    )
      return t;
    t = t.return;
  } while (t !== null);
  return null;
}
function Ay(t, e, n, r, i) {
  return t.mode & 1
    ? ((t.flags |= 65536), (t.lanes = i), t)
    : (t === e
        ? (t.flags |= 65536)
        : ((t.flags |= 128),
          (n.flags |= 131072),
          (n.flags &= -52805),
          n.tag === 1 &&
            (n.alternate === null
              ? (n.tag = 17)
              : ((e = Cr(-1, 1)), (e.tag = 2), ai(n, e, 1))),
          (n.lanes |= 1)),
      t);
}
var AE = Nr.ReactCurrentOwner,
  Dt = !1;
function xt(t, e, n, r) {
  e.child = t === null ? ox(e, null, n, r) : fo(e, t.child, n, r);
}
function Oy(t, e, n, r, i) {
  n = n.render;
  var s = e.ref;
  return (
    Qs(e, i),
    (r = Xg(t, e, n, r, s, i)),
    (n = Qg()),
    t !== null && !Dt
      ? ((e.updateQueue = t.updateQueue),
        (e.flags &= -2053),
        (t.lanes &= ~i),
        Tr(t, e, i))
      : (Ce && n && $g(e), (e.flags |= 1), xt(t, e, r, i), e.child)
  );
}
function My(t, e, n, r, i) {
  if (t === null) {
    var s = n.type;
    return typeof s == "function" &&
      !l0(s) &&
      s.defaultProps === void 0 &&
      n.compare === null &&
      n.defaultProps === void 0
      ? ((e.tag = 15), (e.type = s), Ex(t, e, s, r, i))
      : ((t = pc(n.type, null, r, e, e.mode, i)),
        (t.ref = e.ref),
        (t.return = e),
        (e.child = t));
  }
  if (((s = t.child), !(t.lanes & i))) {
    var o = s.memoizedProps;
    if (
      ((n = n.compare), (n = n !== null ? n : Vl), n(o, r) && t.ref === e.ref)
    )
      return Tr(t, e, i);
  }
  return (
    (e.flags |= 1),
    (t = fi(s, r)),
    (t.ref = e.ref),
    (t.return = e),
    (e.child = t)
  );
}
function Ex(t, e, n, r, i) {
  if (t !== null) {
    var s = t.memoizedProps;
    if (Vl(s, r) && t.ref === e.ref)
      if (((Dt = !1), (e.pendingProps = r = s), (t.lanes & i) !== 0))
        t.flags & 131072 && (Dt = !0);
      else return (e.lanes = t.lanes), Tr(t, e, i);
  }
  return Fp(t, e, n, r, i);
}
function Tx(t, e, n) {
  var r = e.pendingProps,
    i = r.children,
    s = t !== null ? t.memoizedState : null;
  if (r.mode === "hidden")
    if (!(e.mode & 1))
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        ye(zs, Ht),
        (Ht |= n);
    else {
      if (!(n & 1073741824))
        return (
          (t = s !== null ? s.baseLanes | n : n),
          (e.lanes = e.childLanes = 1073741824),
          (e.memoizedState = {
            baseLanes: t,
            cachePool: null,
            transitions: null,
          }),
          (e.updateQueue = null),
          ye(zs, Ht),
          (Ht |= t),
          null
        );
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        (r = s !== null ? s.baseLanes : n),
        ye(zs, Ht),
        (Ht |= r);
    }
  else
    s !== null ? ((r = s.baseLanes | n), (e.memoizedState = null)) : (r = n),
      ye(zs, Ht),
      (Ht |= r);
  return xt(t, e, i, n), e.child;
}
function Px(t, e) {
  var n = e.ref;
  ((t === null && n !== null) || (t !== null && t.ref !== n)) &&
    ((e.flags |= 512), (e.flags |= 2097152));
}
function Fp(t, e, n, r, i) {
  var s = Nt(n) ? Yi : yt.current;
  return (
    (s = uo(e, s)),
    Qs(e, i),
    (n = Xg(t, e, n, r, s, i)),
    (r = Qg()),
    t !== null && !Dt
      ? ((e.updateQueue = t.updateQueue),
        (e.flags &= -2053),
        (t.lanes &= ~i),
        Tr(t, e, i))
      : (Ce && r && $g(e), (e.flags |= 1), xt(t, e, n, i), e.child)
  );
}
function Ey(t, e, n, r, i) {
  if (Nt(n)) {
    var s = !0;
    zc(e);
  } else s = !1;
  if ((Qs(e, i), e.stateNode === null))
    fc(t, e), ix(e, n, r), Ip(e, n, r, i), (r = !0);
  else if (t === null) {
    var o = e.stateNode,
      l = e.memoizedProps;
    o.props = l;
    var a = o.context,
      u = n.contextType;
    typeof u == "object" && u !== null
      ? (u = yn(u))
      : ((u = Nt(n) ? Yi : yt.current), (u = uo(e, u)));
    var c = n.getDerivedStateFromProps,
      f =
        typeof c == "function" ||
        typeof o.getSnapshotBeforeUpdate == "function";
    f ||
      (typeof o.UNSAFE_componentWillReceiveProps != "function" &&
        typeof o.componentWillReceiveProps != "function") ||
      ((l !== r || a !== u) && by(e, o, r, u)),
      (Wr = !1);
    var h = e.memoizedState;
    (o.state = h),
      Uc(e, r, o, i),
      (a = e.memoizedState),
      l !== r || h !== a || Bt.current || Wr
        ? (typeof c == "function" && (Np(e, n, c, r), (a = e.memoizedState)),
          (l = Wr || wy(e, n, l, r, h, a, u))
            ? (f ||
                (typeof o.UNSAFE_componentWillMount != "function" &&
                  typeof o.componentWillMount != "function") ||
                (typeof o.componentWillMount == "function" &&
                  o.componentWillMount(),
                typeof o.UNSAFE_componentWillMount == "function" &&
                  o.UNSAFE_componentWillMount()),
              typeof o.componentDidMount == "function" && (e.flags |= 4194308))
            : (typeof o.componentDidMount == "function" && (e.flags |= 4194308),
              (e.memoizedProps = r),
              (e.memoizedState = a)),
          (o.props = r),
          (o.state = a),
          (o.context = u),
          (r = l))
        : (typeof o.componentDidMount == "function" && (e.flags |= 4194308),
          (r = !1));
  } else {
    (o = e.stateNode),
      nx(t, e),
      (l = e.memoizedProps),
      (u = e.type === e.elementType ? l : On(e.type, l)),
      (o.props = u),
      (f = e.pendingProps),
      (h = o.context),
      (a = n.contextType),
      typeof a == "object" && a !== null
        ? (a = yn(a))
        : ((a = Nt(n) ? Yi : yt.current), (a = uo(e, a)));
    var d = n.getDerivedStateFromProps;
    (c =
      typeof d == "function" ||
      typeof o.getSnapshotBeforeUpdate == "function") ||
      (typeof o.UNSAFE_componentWillReceiveProps != "function" &&
        typeof o.componentWillReceiveProps != "function") ||
      ((l !== f || h !== a) && by(e, o, r, a)),
      (Wr = !1),
      (h = e.memoizedState),
      (o.state = h),
      Uc(e, r, o, i);
    var p = e.memoizedState;
    l !== f || h !== p || Bt.current || Wr
      ? (typeof d == "function" && (Np(e, n, d, r), (p = e.memoizedState)),
        (u = Wr || wy(e, n, u, r, h, p, a) || !1)
          ? (c ||
              (typeof o.UNSAFE_componentWillUpdate != "function" &&
                typeof o.componentWillUpdate != "function") ||
              (typeof o.componentWillUpdate == "function" &&
                o.componentWillUpdate(r, p, a),
              typeof o.UNSAFE_componentWillUpdate == "function" &&
                o.UNSAFE_componentWillUpdate(r, p, a)),
            typeof o.componentDidUpdate == "function" && (e.flags |= 4),
            typeof o.getSnapshotBeforeUpdate == "function" && (e.flags |= 1024))
          : (typeof o.componentDidUpdate != "function" ||
              (l === t.memoizedProps && h === t.memoizedState) ||
              (e.flags |= 4),
            typeof o.getSnapshotBeforeUpdate != "function" ||
              (l === t.memoizedProps && h === t.memoizedState) ||
              (e.flags |= 1024),
            (e.memoizedProps = r),
            (e.memoizedState = p)),
        (o.props = r),
        (o.state = p),
        (o.context = a),
        (r = u))
      : (typeof o.componentDidUpdate != "function" ||
          (l === t.memoizedProps && h === t.memoizedState) ||
          (e.flags |= 4),
        typeof o.getSnapshotBeforeUpdate != "function" ||
          (l === t.memoizedProps && h === t.memoizedState) ||
          (e.flags |= 1024),
        (r = !1));
  }
  return zp(t, e, n, r, s, i);
}
function zp(t, e, n, r, i, s) {
  Px(t, e);
  var o = (e.flags & 128) !== 0;
  if (!r && !o) return i && py(e, n, !1), Tr(t, e, s);
  (r = e.stateNode), (AE.current = e);
  var l =
    o && typeof n.getDerivedStateFromError != "function" ? null : r.render();
  return (
    (e.flags |= 1),
    t !== null && o
      ? ((e.child = fo(e, t.child, null, s)), (e.child = fo(e, null, l, s)))
      : xt(t, e, l, s),
    (e.memoizedState = r.state),
    i && py(e, n, !0),
    e.child
  );
}
function Dx(t) {
  var e = t.stateNode;
  e.pendingContext
    ? dy(t, e.pendingContext, e.pendingContext !== e.context)
    : e.context && dy(t, e.context, !1),
    Kg(t, e.containerInfo);
}
function Ty(t, e, n, r, i) {
  return co(), zg(i), (e.flags |= 256), xt(t, e, n, r), e.child;
}
var jp = { dehydrated: null, treeContext: null, retryLane: 0 };
function Vp(t) {
  return { baseLanes: t, cachePool: null, transitions: null };
}
function Rx(t, e, n) {
  var r = e.pendingProps,
    i = Oe.current,
    s = !1,
    o = (e.flags & 128) !== 0,
    l;
  if (
    ((l = o) ||
      (l = t !== null && t.memoizedState === null ? !1 : (i & 2) !== 0),
    l
      ? ((s = !0), (e.flags &= -129))
      : (t === null || t.memoizedState !== null) && (i |= 1),
    ye(Oe, i & 1),
    t === null)
  )
    return (
      Lp(e),
      (t = e.memoizedState),
      t !== null && ((t = t.dehydrated), t !== null)
        ? (e.mode & 1
            ? t.data === "$!"
              ? (e.lanes = 8)
              : (e.lanes = 1073741824)
            : (e.lanes = 1),
          null)
        : ((o = r.children),
          (t = r.fallback),
          s
            ? ((r = e.mode),
              (s = e.child),
              (o = { mode: "hidden", children: o }),
              !(r & 1) && s !== null
                ? ((s.childLanes = 0), (s.pendingProps = o))
                : (s = rh(o, r, 0, null)),
              (t = qi(t, r, n, null)),
              (s.return = e),
              (t.return = e),
              (s.sibling = t),
              (e.child = s),
              (e.child.memoizedState = Vp(n)),
              (e.memoizedState = jp),
              t)
            : e0(e, o))
    );
  if (((i = t.memoizedState), i !== null && ((l = i.dehydrated), l !== null)))
    return OE(t, e, o, r, l, i, n);
  if (s) {
    (s = r.fallback), (o = e.mode), (i = t.child), (l = i.sibling);
    var a = { mode: "hidden", children: r.children };
    return (
      !(o & 1) && e.child !== i
        ? ((r = e.child),
          (r.childLanes = 0),
          (r.pendingProps = a),
          (e.deletions = null))
        : ((r = fi(i, a)), (r.subtreeFlags = i.subtreeFlags & 14680064)),
      l !== null ? (s = fi(l, s)) : ((s = qi(s, o, n, null)), (s.flags |= 2)),
      (s.return = e),
      (r.return = e),
      (r.sibling = s),
      (e.child = r),
      (r = s),
      (s = e.child),
      (o = t.child.memoizedState),
      (o =
        o === null
          ? Vp(n)
          : {
              baseLanes: o.baseLanes | n,
              cachePool: null,
              transitions: o.transitions,
            }),
      (s.memoizedState = o),
      (s.childLanes = t.childLanes & ~n),
      (e.memoizedState = jp),
      r
    );
  }
  return (
    (s = t.child),
    (t = s.sibling),
    (r = fi(s, { mode: "visible", children: r.children })),
    !(e.mode & 1) && (r.lanes = n),
    (r.return = e),
    (r.sibling = null),
    t !== null &&
      ((n = e.deletions),
      n === null ? ((e.deletions = [t]), (e.flags |= 16)) : n.push(t)),
    (e.child = r),
    (e.memoizedState = null),
    r
  );
}
function e0(t, e) {
  return (
    (e = rh({ mode: "visible", children: e }, t.mode, 0, null)),
    (e.return = t),
    (t.child = e)
  );
}
function xu(t, e, n, r) {
  return (
    r !== null && zg(r),
    fo(e, t.child, null, n),
    (t = e0(e, e.pendingProps.children)),
    (t.flags |= 2),
    (e.memoizedState = null),
    t
  );
}
function OE(t, e, n, r, i, s, o) {
  if (n)
    return e.flags & 256
      ? ((e.flags &= -257), (r = vd(Error(M(422)))), xu(t, e, o, r))
      : e.memoizedState !== null
        ? ((e.child = t.child), (e.flags |= 128), null)
        : ((s = r.fallback),
          (i = e.mode),
          (r = rh({ mode: "visible", children: r.children }, i, 0, null)),
          (s = qi(s, i, o, null)),
          (s.flags |= 2),
          (r.return = e),
          (s.return = e),
          (r.sibling = s),
          (e.child = r),
          e.mode & 1 && fo(e, t.child, null, o),
          (e.child.memoizedState = Vp(o)),
          (e.memoizedState = jp),
          s);
  if (!(e.mode & 1)) return xu(t, e, o, null);
  if (i.data === "$!") {
    if (((r = i.nextSibling && i.nextSibling.dataset), r)) var l = r.dgst;
    return (r = l), (s = Error(M(419))), (r = vd(s, r, void 0)), xu(t, e, o, r);
  }
  if (((l = (o & t.childLanes) !== 0), Dt || l)) {
    if (((r = Qe), r !== null)) {
      switch (o & -o) {
        case 4:
          i = 2;
          break;
        case 16:
          i = 8;
          break;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          i = 32;
          break;
        case 536870912:
          i = 268435456;
          break;
        default:
          i = 0;
      }
      (i = i & (r.suspendedLanes | o) ? 0 : i),
        i !== 0 &&
          i !== s.retryLane &&
          ((s.retryLane = i), Er(t, i), Dn(r, t, i, -1));
    }
    return o0(), (r = vd(Error(M(421)))), xu(t, e, o, r);
  }
  return i.data === "$?"
    ? ((e.flags |= 128),
      (e.child = t.child),
      (e = zE.bind(null, t)),
      (i._reactRetry = e),
      null)
    : ((t = s.treeContext),
      (qt = li(i.nextSibling)),
      (Xt = e),
      (Ce = !0),
      (En = null),
      t !== null &&
        ((rn[sn++] = Sr),
        (rn[sn++] = kr),
        (rn[sn++] = Xi),
        (Sr = t.id),
        (kr = t.overflow),
        (Xi = e)),
      (e = e0(e, r.children)),
      (e.flags |= 4096),
      e);
}
function Py(t, e, n) {
  t.lanes |= e;
  var r = t.alternate;
  r !== null && (r.lanes |= e), Bp(t.return, e, n);
}
function wd(t, e, n, r, i) {
  var s = t.memoizedState;
  s === null
    ? (t.memoizedState = {
        isBackwards: e,
        rendering: null,
        renderingStartTime: 0,
        last: r,
        tail: n,
        tailMode: i,
      })
    : ((s.isBackwards = e),
      (s.rendering = null),
      (s.renderingStartTime = 0),
      (s.last = r),
      (s.tail = n),
      (s.tailMode = i));
}
function Lx(t, e, n) {
  var r = e.pendingProps,
    i = r.revealOrder,
    s = r.tail;
  if ((xt(t, e, r.children, n), (r = Oe.current), r & 2))
    (r = (r & 1) | 2), (e.flags |= 128);
  else {
    if (t !== null && t.flags & 128)
      e: for (t = e.child; t !== null; ) {
        if (t.tag === 13) t.memoizedState !== null && Py(t, n, e);
        else if (t.tag === 19) Py(t, n, e);
        else if (t.child !== null) {
          (t.child.return = t), (t = t.child);
          continue;
        }
        if (t === e) break e;
        for (; t.sibling === null; ) {
          if (t.return === null || t.return === e) break e;
          t = t.return;
        }
        (t.sibling.return = t.return), (t = t.sibling);
      }
    r &= 1;
  }
  if ((ye(Oe, r), !(e.mode & 1))) e.memoizedState = null;
  else
    switch (i) {
      case "forwards":
        for (n = e.child, i = null; n !== null; )
          (t = n.alternate),
            t !== null && Kc(t) === null && (i = n),
            (n = n.sibling);
        (n = i),
          n === null
            ? ((i = e.child), (e.child = null))
            : ((i = n.sibling), (n.sibling = null)),
          wd(e, !1, i, n, s);
        break;
      case "backwards":
        for (n = null, i = e.child, e.child = null; i !== null; ) {
          if (((t = i.alternate), t !== null && Kc(t) === null)) {
            e.child = i;
            break;
          }
          (t = i.sibling), (i.sibling = n), (n = i), (i = t);
        }
        wd(e, !0, n, null, s);
        break;
      case "together":
        wd(e, !1, null, null, void 0);
        break;
      default:
        e.memoizedState = null;
    }
  return e.child;
}
function fc(t, e) {
  !(e.mode & 1) &&
    t !== null &&
    ((t.alternate = null), (e.alternate = null), (e.flags |= 2));
}
function Tr(t, e, n) {
  if (
    (t !== null && (e.dependencies = t.dependencies),
    (Ji |= e.lanes),
    !(n & e.childLanes))
  )
    return null;
  if (t !== null && e.child !== t.child) throw Error(M(153));
  if (e.child !== null) {
    for (
      t = e.child, n = fi(t, t.pendingProps), e.child = n, n.return = e;
      t.sibling !== null;

    )
      (t = t.sibling), (n = n.sibling = fi(t, t.pendingProps)), (n.return = e);
    n.sibling = null;
  }
  return e.child;
}
function ME(t, e, n) {
  switch (e.tag) {
    case 3:
      Dx(e), co();
      break;
    case 5:
      lx(e);
      break;
    case 1:
      Nt(e.type) && zc(e);
      break;
    case 4:
      Kg(e, e.stateNode.containerInfo);
      break;
    case 10:
      var r = e.type._context,
        i = e.memoizedProps.value;
      ye(Hc, r._currentValue), (r._currentValue = i);
      break;
    case 13:
      if (((r = e.memoizedState), r !== null))
        return r.dehydrated !== null
          ? (ye(Oe, Oe.current & 1), (e.flags |= 128), null)
          : n & e.child.childLanes
            ? Rx(t, e, n)
            : (ye(Oe, Oe.current & 1),
              (t = Tr(t, e, n)),
              t !== null ? t.sibling : null);
      ye(Oe, Oe.current & 1);
      break;
    case 19:
      if (((r = (n & e.childLanes) !== 0), t.flags & 128)) {
        if (r) return Lx(t, e, n);
        e.flags |= 128;
      }
      if (
        ((i = e.memoizedState),
        i !== null &&
          ((i.rendering = null), (i.tail = null), (i.lastEffect = null)),
        ye(Oe, Oe.current),
        r)
      )
        break;
      return null;
    case 22:
    case 23:
      return (e.lanes = 0), Tx(t, e, n);
  }
  return Tr(t, e, n);
}
var Bx, Hp, Nx, Ix;
Bx = function (t, e) {
  for (var n = e.child; n !== null; ) {
    if (n.tag === 5 || n.tag === 6) t.appendChild(n.stateNode);
    else if (n.tag !== 4 && n.child !== null) {
      (n.child.return = n), (n = n.child);
      continue;
    }
    if (n === e) break;
    for (; n.sibling === null; ) {
      if (n.return === null || n.return === e) return;
      n = n.return;
    }
    (n.sibling.return = n.return), (n = n.sibling);
  }
};
Hp = function () {};
Nx = function (t, e, n, r) {
  var i = t.memoizedProps;
  if (i !== r) {
    (t = e.stateNode), Hi(ur.current);
    var s = null;
    switch (n) {
      case "input":
        (i = fp(t, i)), (r = fp(t, r)), (s = []);
        break;
      case "select":
        (i = Te({}, i, { value: void 0 })),
          (r = Te({}, r, { value: void 0 })),
          (s = []);
        break;
      case "textarea":
        (i = pp(t, i)), (r = pp(t, r)), (s = []);
        break;
      default:
        typeof i.onClick != "function" &&
          typeof r.onClick == "function" &&
          (t.onclick = $c);
    }
    gp(n, r);
    var o;
    n = null;
    for (u in i)
      if (!r.hasOwnProperty(u) && i.hasOwnProperty(u) && i[u] != null)
        if (u === "style") {
          var l = i[u];
          for (o in l) l.hasOwnProperty(o) && (n || (n = {}), (n[o] = ""));
        } else
          u !== "dangerouslySetInnerHTML" &&
            u !== "children" &&
            u !== "suppressContentEditableWarning" &&
            u !== "suppressHydrationWarning" &&
            u !== "autoFocus" &&
            (Bl.hasOwnProperty(u)
              ? s || (s = [])
              : (s = s || []).push(u, null));
    for (u in r) {
      var a = r[u];
      if (
        ((l = i != null ? i[u] : void 0),
        r.hasOwnProperty(u) && a !== l && (a != null || l != null))
      )
        if (u === "style")
          if (l) {
            for (o in l)
              !l.hasOwnProperty(o) ||
                (a && a.hasOwnProperty(o)) ||
                (n || (n = {}), (n[o] = ""));
            for (o in a)
              a.hasOwnProperty(o) &&
                l[o] !== a[o] &&
                (n || (n = {}), (n[o] = a[o]));
          } else n || (s || (s = []), s.push(u, n)), (n = a);
        else
          u === "dangerouslySetInnerHTML"
            ? ((a = a ? a.__html : void 0),
              (l = l ? l.__html : void 0),
              a != null && l !== a && (s = s || []).push(u, a))
            : u === "children"
              ? (typeof a != "string" && typeof a != "number") ||
                (s = s || []).push(u, "" + a)
              : u !== "suppressContentEditableWarning" &&
                u !== "suppressHydrationWarning" &&
                (Bl.hasOwnProperty(u)
                  ? (a != null && u === "onScroll" && we("scroll", t),
                    s || l === a || (s = []))
                  : (s = s || []).push(u, a));
    }
    n && (s = s || []).push("style", n);
    var u = s;
    (e.updateQueue = u) && (e.flags |= 4);
  }
};
Ix = function (t, e, n, r) {
  n !== r && (e.flags |= 4);
};
function Qo(t, e) {
  if (!Ce)
    switch (t.tailMode) {
      case "hidden":
        e = t.tail;
        for (var n = null; e !== null; )
          e.alternate !== null && (n = e), (e = e.sibling);
        n === null ? (t.tail = null) : (n.sibling = null);
        break;
      case "collapsed":
        n = t.tail;
        for (var r = null; n !== null; )
          n.alternate !== null && (r = n), (n = n.sibling);
        r === null
          ? e || t.tail === null
            ? (t.tail = null)
            : (t.tail.sibling = null)
          : (r.sibling = null);
    }
}
function ht(t) {
  var e = t.alternate !== null && t.alternate.child === t.child,
    n = 0,
    r = 0;
  if (e)
    for (var i = t.child; i !== null; )
      (n |= i.lanes | i.childLanes),
        (r |= i.subtreeFlags & 14680064),
        (r |= i.flags & 14680064),
        (i.return = t),
        (i = i.sibling);
  else
    for (i = t.child; i !== null; )
      (n |= i.lanes | i.childLanes),
        (r |= i.subtreeFlags),
        (r |= i.flags),
        (i.return = t),
        (i = i.sibling);
  return (t.subtreeFlags |= r), (t.childLanes = n), e;
}
function EE(t, e, n) {
  var r = e.pendingProps;
  switch ((Fg(e), e.tag)) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return ht(e), null;
    case 1:
      return Nt(e.type) && Fc(), ht(e), null;
    case 3:
      return (
        (r = e.stateNode),
        ho(),
        xe(Bt),
        xe(yt),
        Gg(),
        r.pendingContext &&
          ((r.context = r.pendingContext), (r.pendingContext = null)),
        (t === null || t.child === null) &&
          (wu(e)
            ? (e.flags |= 4)
            : t === null ||
              (t.memoizedState.isDehydrated && !(e.flags & 256)) ||
              ((e.flags |= 1024), En !== null && (Qp(En), (En = null)))),
        Hp(t, e),
        ht(e),
        null
      );
    case 5:
      qg(e);
      var i = Hi(ql.current);
      if (((n = e.type), t !== null && e.stateNode != null))
        Nx(t, e, n, r, i),
          t.ref !== e.ref && ((e.flags |= 512), (e.flags |= 2097152));
      else {
        if (!r) {
          if (e.stateNode === null) throw Error(M(166));
          return ht(e), null;
        }
        if (((t = Hi(ur.current)), wu(e))) {
          (r = e.stateNode), (n = e.type);
          var s = e.memoizedProps;
          switch (((r[tr] = e), (r[Ul] = s), (t = (e.mode & 1) !== 0), n)) {
            case "dialog":
              we("cancel", r), we("close", r);
              break;
            case "iframe":
            case "object":
            case "embed":
              we("load", r);
              break;
            case "video":
            case "audio":
              for (i = 0; i < ul.length; i++) we(ul[i], r);
              break;
            case "source":
              we("error", r);
              break;
            case "img":
            case "image":
            case "link":
              we("error", r), we("load", r);
              break;
            case "details":
              we("toggle", r);
              break;
            case "input":
              z1(r, s), we("invalid", r);
              break;
            case "select":
              (r._wrapperState = { wasMultiple: !!s.multiple }),
                we("invalid", r);
              break;
            case "textarea":
              V1(r, s), we("invalid", r);
          }
          gp(n, s), (i = null);
          for (var o in s)
            if (s.hasOwnProperty(o)) {
              var l = s[o];
              o === "children"
                ? typeof l == "string"
                  ? r.textContent !== l &&
                    (s.suppressHydrationWarning !== !0 &&
                      vu(r.textContent, l, t),
                    (i = ["children", l]))
                  : typeof l == "number" &&
                    r.textContent !== "" + l &&
                    (s.suppressHydrationWarning !== !0 &&
                      vu(r.textContent, l, t),
                    (i = ["children", "" + l]))
                : Bl.hasOwnProperty(o) &&
                  l != null &&
                  o === "onScroll" &&
                  we("scroll", r);
            }
          switch (n) {
            case "input":
              cu(r), j1(r, s, !0);
              break;
            case "textarea":
              cu(r), H1(r);
              break;
            case "select":
            case "option":
              break;
            default:
              typeof s.onClick == "function" && (r.onclick = $c);
          }
          (r = i), (e.updateQueue = r), r !== null && (e.flags |= 4);
        } else {
          (o = i.nodeType === 9 ? i : i.ownerDocument),
            t === "http://www.w3.org/1999/xhtml" && (t = c2(n)),
            t === "http://www.w3.org/1999/xhtml"
              ? n === "script"
                ? ((t = o.createElement("div")),
                  (t.innerHTML = "<script></script>"),
                  (t = t.removeChild(t.firstChild)))
                : typeof r.is == "string"
                  ? (t = o.createElement(n, { is: r.is }))
                  : ((t = o.createElement(n)),
                    n === "select" &&
                      ((o = t),
                      r.multiple
                        ? (o.multiple = !0)
                        : r.size && (o.size = r.size)))
              : (t = o.createElementNS(t, n)),
            (t[tr] = e),
            (t[Ul] = r),
            Bx(t, e, !1, !1),
            (e.stateNode = t);
          e: {
            switch (((o = yp(n, r)), n)) {
              case "dialog":
                we("cancel", t), we("close", t), (i = r);
                break;
              case "iframe":
              case "object":
              case "embed":
                we("load", t), (i = r);
                break;
              case "video":
              case "audio":
                for (i = 0; i < ul.length; i++) we(ul[i], t);
                i = r;
                break;
              case "source":
                we("error", t), (i = r);
                break;
              case "img":
              case "image":
              case "link":
                we("error", t), we("load", t), (i = r);
                break;
              case "details":
                we("toggle", t), (i = r);
                break;
              case "input":
                z1(t, r), (i = fp(t, r)), we("invalid", t);
                break;
              case "option":
                i = r;
                break;
              case "select":
                (t._wrapperState = { wasMultiple: !!r.multiple }),
                  (i = Te({}, r, { value: void 0 })),
                  we("invalid", t);
                break;
              case "textarea":
                V1(t, r), (i = pp(t, r)), we("invalid", t);
                break;
              default:
                i = r;
            }
            gp(n, i), (l = i);
            for (s in l)
              if (l.hasOwnProperty(s)) {
                var a = l[s];
                s === "style"
                  ? d2(t, a)
                  : s === "dangerouslySetInnerHTML"
                    ? ((a = a ? a.__html : void 0), a != null && f2(t, a))
                    : s === "children"
                      ? typeof a == "string"
                        ? (n !== "textarea" || a !== "") && Nl(t, a)
                        : typeof a == "number" && Nl(t, "" + a)
                      : s !== "suppressContentEditableWarning" &&
                        s !== "suppressHydrationWarning" &&
                        s !== "autoFocus" &&
                        (Bl.hasOwnProperty(s)
                          ? a != null && s === "onScroll" && we("scroll", t)
                          : a != null && Cg(t, s, a, o));
              }
            switch (n) {
              case "input":
                cu(t), j1(t, r, !1);
                break;
              case "textarea":
                cu(t), H1(t);
                break;
              case "option":
                r.value != null && t.setAttribute("value", "" + wi(r.value));
                break;
              case "select":
                (t.multiple = !!r.multiple),
                  (s = r.value),
                  s != null
                    ? qs(t, !!r.multiple, s, !1)
                    : r.defaultValue != null &&
                      qs(t, !!r.multiple, r.defaultValue, !0);
                break;
              default:
                typeof i.onClick == "function" && (t.onclick = $c);
            }
            switch (n) {
              case "button":
              case "input":
              case "select":
              case "textarea":
                r = !!r.autoFocus;
                break e;
              case "img":
                r = !0;
                break e;
              default:
                r = !1;
            }
          }
          r && (e.flags |= 4);
        }
        e.ref !== null && ((e.flags |= 512), (e.flags |= 2097152));
      }
      return ht(e), null;
    case 6:
      if (t && e.stateNode != null) Ix(t, e, t.memoizedProps, r);
      else {
        if (typeof r != "string" && e.stateNode === null) throw Error(M(166));
        if (((n = Hi(ql.current)), Hi(ur.current), wu(e))) {
          if (
            ((r = e.stateNode),
            (n = e.memoizedProps),
            (r[tr] = e),
            (s = r.nodeValue !== n) && ((t = Xt), t !== null))
          )
            switch (t.tag) {
              case 3:
                vu(r.nodeValue, n, (t.mode & 1) !== 0);
                break;
              case 5:
                t.memoizedProps.suppressHydrationWarning !== !0 &&
                  vu(r.nodeValue, n, (t.mode & 1) !== 0);
            }
          s && (e.flags |= 4);
        } else
          (r = (n.nodeType === 9 ? n : n.ownerDocument).createTextNode(r)),
            (r[tr] = e),
            (e.stateNode = r);
      }
      return ht(e), null;
    case 13:
      if (
        (xe(Oe),
        (r = e.memoizedState),
        t === null ||
          (t.memoizedState !== null && t.memoizedState.dehydrated !== null))
      ) {
        if (Ce && qt !== null && e.mode & 1 && !(e.flags & 128))
          ex(), co(), (e.flags |= 98560), (s = !1);
        else if (((s = wu(e)), r !== null && r.dehydrated !== null)) {
          if (t === null) {
            if (!s) throw Error(M(318));
            if (
              ((s = e.memoizedState),
              (s = s !== null ? s.dehydrated : null),
              !s)
            )
              throw Error(M(317));
            s[tr] = e;
          } else
            co(), !(e.flags & 128) && (e.memoizedState = null), (e.flags |= 4);
          ht(e), (s = !1);
        } else En !== null && (Qp(En), (En = null)), (s = !0);
        if (!s) return e.flags & 65536 ? e : null;
      }
      return e.flags & 128
        ? ((e.lanes = n), e)
        : ((r = r !== null),
          r !== (t !== null && t.memoizedState !== null) &&
            r &&
            ((e.child.flags |= 8192),
            e.mode & 1 &&
              (t === null || Oe.current & 1 ? Ge === 0 && (Ge = 3) : o0())),
          e.updateQueue !== null && (e.flags |= 4),
          ht(e),
          null);
    case 4:
      return (
        ho(), Hp(t, e), t === null && Hl(e.stateNode.containerInfo), ht(e), null
      );
    case 10:
      return Hg(e.type._context), ht(e), null;
    case 17:
      return Nt(e.type) && Fc(), ht(e), null;
    case 19:
      if ((xe(Oe), (s = e.memoizedState), s === null)) return ht(e), null;
      if (((r = (e.flags & 128) !== 0), (o = s.rendering), o === null))
        if (r) Qo(s, !1);
        else {
          if (Ge !== 0 || (t !== null && t.flags & 128))
            for (t = e.child; t !== null; ) {
              if (((o = Kc(t)), o !== null)) {
                for (
                  e.flags |= 128,
                    Qo(s, !1),
                    r = o.updateQueue,
                    r !== null && ((e.updateQueue = r), (e.flags |= 4)),
                    e.subtreeFlags = 0,
                    r = n,
                    n = e.child;
                  n !== null;

                )
                  (s = n),
                    (t = r),
                    (s.flags &= 14680066),
                    (o = s.alternate),
                    o === null
                      ? ((s.childLanes = 0),
                        (s.lanes = t),
                        (s.child = null),
                        (s.subtreeFlags = 0),
                        (s.memoizedProps = null),
                        (s.memoizedState = null),
                        (s.updateQueue = null),
                        (s.dependencies = null),
                        (s.stateNode = null))
                      : ((s.childLanes = o.childLanes),
                        (s.lanes = o.lanes),
                        (s.child = o.child),
                        (s.subtreeFlags = 0),
                        (s.deletions = null),
                        (s.memoizedProps = o.memoizedProps),
                        (s.memoizedState = o.memoizedState),
                        (s.updateQueue = o.updateQueue),
                        (s.type = o.type),
                        (t = o.dependencies),
                        (s.dependencies =
                          t === null
                            ? null
                            : {
                                lanes: t.lanes,
                                firstContext: t.firstContext,
                              })),
                    (n = n.sibling);
                return ye(Oe, (Oe.current & 1) | 2), e.child;
              }
              t = t.sibling;
            }
          s.tail !== null &&
            Ie() > mo &&
            ((e.flags |= 128), (r = !0), Qo(s, !1), (e.lanes = 4194304));
        }
      else {
        if (!r)
          if (((t = Kc(o)), t !== null)) {
            if (
              ((e.flags |= 128),
              (r = !0),
              (n = t.updateQueue),
              n !== null && ((e.updateQueue = n), (e.flags |= 4)),
              Qo(s, !0),
              s.tail === null && s.tailMode === "hidden" && !o.alternate && !Ce)
            )
              return ht(e), null;
          } else
            2 * Ie() - s.renderingStartTime > mo &&
              n !== 1073741824 &&
              ((e.flags |= 128), (r = !0), Qo(s, !1), (e.lanes = 4194304));
        s.isBackwards
          ? ((o.sibling = e.child), (e.child = o))
          : ((n = s.last),
            n !== null ? (n.sibling = o) : (e.child = o),
            (s.last = o));
      }
      return s.tail !== null
        ? ((e = s.tail),
          (s.rendering = e),
          (s.tail = e.sibling),
          (s.renderingStartTime = Ie()),
          (e.sibling = null),
          (n = Oe.current),
          ye(Oe, r ? (n & 1) | 2 : n & 1),
          e)
        : (ht(e), null);
    case 22:
    case 23:
      return (
        s0(),
        (r = e.memoizedState !== null),
        t !== null && (t.memoizedState !== null) !== r && (e.flags |= 8192),
        r && e.mode & 1
          ? Ht & 1073741824 && (ht(e), e.subtreeFlags & 6 && (e.flags |= 8192))
          : ht(e),
        null
      );
    case 24:
      return null;
    case 25:
      return null;
  }
  throw Error(M(156, e.tag));
}
function TE(t, e) {
  switch ((Fg(e), e.tag)) {
    case 1:
      return (
        Nt(e.type) && Fc(),
        (t = e.flags),
        t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 3:
      return (
        ho(),
        xe(Bt),
        xe(yt),
        Gg(),
        (t = e.flags),
        t & 65536 && !(t & 128) ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 5:
      return qg(e), null;
    case 13:
      if (
        (xe(Oe), (t = e.memoizedState), t !== null && t.dehydrated !== null)
      ) {
        if (e.alternate === null) throw Error(M(340));
        co();
      }
      return (
        (t = e.flags), t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 19:
      return xe(Oe), null;
    case 4:
      return ho(), null;
    case 10:
      return Hg(e.type._context), null;
    case 22:
    case 23:
      return s0(), null;
    case 24:
      return null;
    default:
      return null;
  }
}
var Su = !1,
  mt = !1,
  PE = typeof WeakSet == "function" ? WeakSet : Set,
  B = null;
function Fs(t, e) {
  var n = t.ref;
  if (n !== null)
    if (typeof n == "function")
      try {
        n(null);
      } catch (r) {
        Le(t, e, r);
      }
    else n.current = null;
}
function Wp(t, e, n) {
  try {
    n();
  } catch (r) {
    Le(t, e, r);
  }
}
var Dy = !1;
function DE(t, e) {
  if (((Op = Bc), (t = j2()), Ig(t))) {
    if ("selectionStart" in t)
      var n = { start: t.selectionStart, end: t.selectionEnd };
    else
      e: {
        n = ((n = t.ownerDocument) && n.defaultView) || window;
        var r = n.getSelection && n.getSelection();
        if (r && r.rangeCount !== 0) {
          n = r.anchorNode;
          var i = r.anchorOffset,
            s = r.focusNode;
          r = r.focusOffset;
          try {
            n.nodeType, s.nodeType;
          } catch {
            n = null;
            break e;
          }
          var o = 0,
            l = -1,
            a = -1,
            u = 0,
            c = 0,
            f = t,
            h = null;
          t: for (;;) {
            for (
              var d;
              f !== n || (i !== 0 && f.nodeType !== 3) || (l = o + i),
                f !== s || (r !== 0 && f.nodeType !== 3) || (a = o + r),
                f.nodeType === 3 && (o += f.nodeValue.length),
                (d = f.firstChild) !== null;

            )
              (h = f), (f = d);
            for (;;) {
              if (f === t) break t;
              if (
                (h === n && ++u === i && (l = o),
                h === s && ++c === r && (a = o),
                (d = f.nextSibling) !== null)
              )
                break;
              (f = h), (h = f.parentNode);
            }
            f = d;
          }
          n = l === -1 || a === -1 ? null : { start: l, end: a };
        } else n = null;
      }
    n = n || { start: 0, end: 0 };
  } else n = null;
  for (Mp = { focusedElem: t, selectionRange: n }, Bc = !1, B = e; B !== null; )
    if (((e = B), (t = e.child), (e.subtreeFlags & 1028) !== 0 && t !== null))
      (t.return = e), (B = t);
    else
      for (; B !== null; ) {
        e = B;
        try {
          var p = e.alternate;
          if (e.flags & 1024)
            switch (e.tag) {
              case 0:
              case 11:
              case 15:
                break;
              case 1:
                if (p !== null) {
                  var m = p.memoizedProps,
                    w = p.memoizedState,
                    g = e.stateNode,
                    y = g.getSnapshotBeforeUpdate(
                      e.elementType === e.type ? m : On(e.type, m),
                      w
                    );
                  g.__reactInternalSnapshotBeforeUpdate = y;
                }
                break;
              case 3:
                var v = e.stateNode.containerInfo;
                v.nodeType === 1
                  ? (v.textContent = "")
                  : v.nodeType === 9 &&
                    v.documentElement &&
                    v.removeChild(v.documentElement);
                break;
              case 5:
              case 6:
              case 4:
              case 17:
                break;
              default:
                throw Error(M(163));
            }
        } catch (b) {
          Le(e, e.return, b);
        }
        if (((t = e.sibling), t !== null)) {
          (t.return = e.return), (B = t);
          break;
        }
        B = e.return;
      }
  return (p = Dy), (Dy = !1), p;
}
function xl(t, e, n) {
  var r = e.updateQueue;
  if (((r = r !== null ? r.lastEffect : null), r !== null)) {
    var i = (r = r.next);
    do {
      if ((i.tag & t) === t) {
        var s = i.destroy;
        (i.destroy = void 0), s !== void 0 && Wp(e, n, s);
      }
      i = i.next;
    } while (i !== r);
  }
}
function th(t, e) {
  if (
    ((e = e.updateQueue), (e = e !== null ? e.lastEffect : null), e !== null)
  ) {
    var n = (e = e.next);
    do {
      if ((n.tag & t) === t) {
        var r = n.create;
        n.destroy = r();
      }
      n = n.next;
    } while (n !== e);
  }
}
function Up(t) {
  var e = t.ref;
  if (e !== null) {
    var n = t.stateNode;
    switch (t.tag) {
      case 5:
        t = n;
        break;
      default:
        t = n;
    }
    typeof e == "function" ? e(t) : (e.current = t);
  }
}
function $x(t) {
  var e = t.alternate;
  e !== null && ((t.alternate = null), $x(e)),
    (t.child = null),
    (t.deletions = null),
    (t.sibling = null),
    t.tag === 5 &&
      ((e = t.stateNode),
      e !== null &&
        (delete e[tr], delete e[Ul], delete e[Pp], delete e[pE], delete e[mE])),
    (t.stateNode = null),
    (t.return = null),
    (t.dependencies = null),
    (t.memoizedProps = null),
    (t.memoizedState = null),
    (t.pendingProps = null),
    (t.stateNode = null),
    (t.updateQueue = null);
}
function Fx(t) {
  return t.tag === 5 || t.tag === 3 || t.tag === 4;
}
function Ry(t) {
  e: for (;;) {
    for (; t.sibling === null; ) {
      if (t.return === null || Fx(t.return)) return null;
      t = t.return;
    }
    for (
      t.sibling.return = t.return, t = t.sibling;
      t.tag !== 5 && t.tag !== 6 && t.tag !== 18;

    ) {
      if (t.flags & 2 || t.child === null || t.tag === 4) continue e;
      (t.child.return = t), (t = t.child);
    }
    if (!(t.flags & 2)) return t.stateNode;
  }
}
function Kp(t, e, n) {
  var r = t.tag;
  if (r === 5 || r === 6)
    (t = t.stateNode),
      e
        ? n.nodeType === 8
          ? n.parentNode.insertBefore(t, e)
          : n.insertBefore(t, e)
        : (n.nodeType === 8
            ? ((e = n.parentNode), e.insertBefore(t, n))
            : ((e = n), e.appendChild(t)),
          (n = n._reactRootContainer),
          n != null || e.onclick !== null || (e.onclick = $c));
  else if (r !== 4 && ((t = t.child), t !== null))
    for (Kp(t, e, n), t = t.sibling; t !== null; ) Kp(t, e, n), (t = t.sibling);
}
function qp(t, e, n) {
  var r = t.tag;
  if (r === 5 || r === 6)
    (t = t.stateNode), e ? n.insertBefore(t, e) : n.appendChild(t);
  else if (r !== 4 && ((t = t.child), t !== null))
    for (qp(t, e, n), t = t.sibling; t !== null; ) qp(t, e, n), (t = t.sibling);
}
var Ze = null,
  Mn = !1;
function zr(t, e, n) {
  for (n = n.child; n !== null; ) zx(t, e, n), (n = n.sibling);
}
function zx(t, e, n) {
  if (ar && typeof ar.onCommitFiberUnmount == "function")
    try {
      ar.onCommitFiberUnmount(qf, n);
    } catch {}
  switch (n.tag) {
    case 5:
      mt || Fs(n, e);
    case 6:
      var r = Ze,
        i = Mn;
      (Ze = null),
        zr(t, e, n),
        (Ze = r),
        (Mn = i),
        Ze !== null &&
          (Mn
            ? ((t = Ze),
              (n = n.stateNode),
              t.nodeType === 8 ? t.parentNode.removeChild(n) : t.removeChild(n))
            : Ze.removeChild(n.stateNode));
      break;
    case 18:
      Ze !== null &&
        (Mn
          ? ((t = Ze),
            (n = n.stateNode),
            t.nodeType === 8
              ? hd(t.parentNode, n)
              : t.nodeType === 1 && hd(t, n),
            zl(t))
          : hd(Ze, n.stateNode));
      break;
    case 4:
      (r = Ze),
        (i = Mn),
        (Ze = n.stateNode.containerInfo),
        (Mn = !0),
        zr(t, e, n),
        (Ze = r),
        (Mn = i);
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      if (
        !mt &&
        ((r = n.updateQueue), r !== null && ((r = r.lastEffect), r !== null))
      ) {
        i = r = r.next;
        do {
          var s = i,
            o = s.destroy;
          (s = s.tag),
            o !== void 0 && (s & 2 || s & 4) && Wp(n, e, o),
            (i = i.next);
        } while (i !== r);
      }
      zr(t, e, n);
      break;
    case 1:
      if (
        !mt &&
        (Fs(n, e),
        (r = n.stateNode),
        typeof r.componentWillUnmount == "function")
      )
        try {
          (r.props = n.memoizedProps),
            (r.state = n.memoizedState),
            r.componentWillUnmount();
        } catch (l) {
          Le(n, e, l);
        }
      zr(t, e, n);
      break;
    case 21:
      zr(t, e, n);
      break;
    case 22:
      n.mode & 1
        ? ((mt = (r = mt) || n.memoizedState !== null), zr(t, e, n), (mt = r))
        : zr(t, e, n);
      break;
    default:
      zr(t, e, n);
  }
}
function Ly(t) {
  var e = t.updateQueue;
  if (e !== null) {
    t.updateQueue = null;
    var n = t.stateNode;
    n === null && (n = t.stateNode = new PE()),
      e.forEach(function (r) {
        var i = jE.bind(null, t, r);
        n.has(r) || (n.add(r), r.then(i, i));
      });
  }
}
function _n(t, e) {
  var n = e.deletions;
  if (n !== null)
    for (var r = 0; r < n.length; r++) {
      var i = n[r];
      try {
        var s = t,
          o = e,
          l = o;
        e: for (; l !== null; ) {
          switch (l.tag) {
            case 5:
              (Ze = l.stateNode), (Mn = !1);
              break e;
            case 3:
              (Ze = l.stateNode.containerInfo), (Mn = !0);
              break e;
            case 4:
              (Ze = l.stateNode.containerInfo), (Mn = !0);
              break e;
          }
          l = l.return;
        }
        if (Ze === null) throw Error(M(160));
        zx(s, o, i), (Ze = null), (Mn = !1);
        var a = i.alternate;
        a !== null && (a.return = null), (i.return = null);
      } catch (u) {
        Le(i, e, u);
      }
    }
  if (e.subtreeFlags & 12854)
    for (e = e.child; e !== null; ) jx(e, t), (e = e.sibling);
}
function jx(t, e) {
  var n = t.alternate,
    r = t.flags;
  switch (t.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      if ((_n(e, t), Un(t), r & 4)) {
        try {
          xl(3, t, t.return), th(3, t);
        } catch (m) {
          Le(t, t.return, m);
        }
        try {
          xl(5, t, t.return);
        } catch (m) {
          Le(t, t.return, m);
        }
      }
      break;
    case 1:
      _n(e, t), Un(t), r & 512 && n !== null && Fs(n, n.return);
      break;
    case 5:
      if (
        (_n(e, t),
        Un(t),
        r & 512 && n !== null && Fs(n, n.return),
        t.flags & 32)
      ) {
        var i = t.stateNode;
        try {
          Nl(i, "");
        } catch (m) {
          Le(t, t.return, m);
        }
      }
      if (r & 4 && ((i = t.stateNode), i != null)) {
        var s = t.memoizedProps,
          o = n !== null ? n.memoizedProps : s,
          l = t.type,
          a = t.updateQueue;
        if (((t.updateQueue = null), a !== null))
          try {
            l === "input" && s.type === "radio" && s.name != null && a2(i, s),
              yp(l, o);
            var u = yp(l, s);
            for (o = 0; o < a.length; o += 2) {
              var c = a[o],
                f = a[o + 1];
              c === "style"
                ? d2(i, f)
                : c === "dangerouslySetInnerHTML"
                  ? f2(i, f)
                  : c === "children"
                    ? Nl(i, f)
                    : Cg(i, c, f, u);
            }
            switch (l) {
              case "input":
                hp(i, s);
                break;
              case "textarea":
                u2(i, s);
                break;
              case "select":
                var h = i._wrapperState.wasMultiple;
                i._wrapperState.wasMultiple = !!s.multiple;
                var d = s.value;
                d != null
                  ? qs(i, !!s.multiple, d, !1)
                  : h !== !!s.multiple &&
                    (s.defaultValue != null
                      ? qs(i, !!s.multiple, s.defaultValue, !0)
                      : qs(i, !!s.multiple, s.multiple ? [] : "", !1));
            }
            i[Ul] = s;
          } catch (m) {
            Le(t, t.return, m);
          }
      }
      break;
    case 6:
      if ((_n(e, t), Un(t), r & 4)) {
        if (t.stateNode === null) throw Error(M(162));
        (i = t.stateNode), (s = t.memoizedProps);
        try {
          i.nodeValue = s;
        } catch (m) {
          Le(t, t.return, m);
        }
      }
      break;
    case 3:
      if (
        (_n(e, t), Un(t), r & 4 && n !== null && n.memoizedState.isDehydrated)
      )
        try {
          zl(e.containerInfo);
        } catch (m) {
          Le(t, t.return, m);
        }
      break;
    case 4:
      _n(e, t), Un(t);
      break;
    case 13:
      _n(e, t),
        Un(t),
        (i = t.child),
        i.flags & 8192 &&
          ((s = i.memoizedState !== null),
          (i.stateNode.isHidden = s),
          !s ||
            (i.alternate !== null && i.alternate.memoizedState !== null) ||
            (r0 = Ie())),
        r & 4 && Ly(t);
      break;
    case 22:
      if (
        ((c = n !== null && n.memoizedState !== null),
        t.mode & 1 ? ((mt = (u = mt) || c), _n(e, t), (mt = u)) : _n(e, t),
        Un(t),
        r & 8192)
      ) {
        if (
          ((u = t.memoizedState !== null),
          (t.stateNode.isHidden = u) && !c && t.mode & 1)
        )
          for (B = t, c = t.child; c !== null; ) {
            for (f = B = c; B !== null; ) {
              switch (((h = B), (d = h.child), h.tag)) {
                case 0:
                case 11:
                case 14:
                case 15:
                  xl(4, h, h.return);
                  break;
                case 1:
                  Fs(h, h.return);
                  var p = h.stateNode;
                  if (typeof p.componentWillUnmount == "function") {
                    (r = h), (n = h.return);
                    try {
                      (e = r),
                        (p.props = e.memoizedProps),
                        (p.state = e.memoizedState),
                        p.componentWillUnmount();
                    } catch (m) {
                      Le(r, n, m);
                    }
                  }
                  break;
                case 5:
                  Fs(h, h.return);
                  break;
                case 22:
                  if (h.memoizedState !== null) {
                    Ny(f);
                    continue;
                  }
              }
              d !== null ? ((d.return = h), (B = d)) : Ny(f);
            }
            c = c.sibling;
          }
        e: for (c = null, f = t; ; ) {
          if (f.tag === 5) {
            if (c === null) {
              c = f;
              try {
                (i = f.stateNode),
                  u
                    ? ((s = i.style),
                      typeof s.setProperty == "function"
                        ? s.setProperty("display", "none", "important")
                        : (s.display = "none"))
                    : ((l = f.stateNode),
                      (a = f.memoizedProps.style),
                      (o =
                        a != null && a.hasOwnProperty("display")
                          ? a.display
                          : null),
                      (l.style.display = h2("display", o)));
              } catch (m) {
                Le(t, t.return, m);
              }
            }
          } else if (f.tag === 6) {
            if (c === null)
              try {
                f.stateNode.nodeValue = u ? "" : f.memoizedProps;
              } catch (m) {
                Le(t, t.return, m);
              }
          } else if (
            ((f.tag !== 22 && f.tag !== 23) ||
              f.memoizedState === null ||
              f === t) &&
            f.child !== null
          ) {
            (f.child.return = f), (f = f.child);
            continue;
          }
          if (f === t) break e;
          for (; f.sibling === null; ) {
            if (f.return === null || f.return === t) break e;
            c === f && (c = null), (f = f.return);
          }
          c === f && (c = null), (f.sibling.return = f.return), (f = f.sibling);
        }
      }
      break;
    case 19:
      _n(e, t), Un(t), r & 4 && Ly(t);
      break;
    case 21:
      break;
    default:
      _n(e, t), Un(t);
  }
}
function Un(t) {
  var e = t.flags;
  if (e & 2) {
    try {
      e: {
        for (var n = t.return; n !== null; ) {
          if (Fx(n)) {
            var r = n;
            break e;
          }
          n = n.return;
        }
        throw Error(M(160));
      }
      switch (r.tag) {
        case 5:
          var i = r.stateNode;
          r.flags & 32 && (Nl(i, ""), (r.flags &= -33));
          var s = Ry(t);
          qp(t, s, i);
          break;
        case 3:
        case 4:
          var o = r.stateNode.containerInfo,
            l = Ry(t);
          Kp(t, l, o);
          break;
        default:
          throw Error(M(161));
      }
    } catch (a) {
      Le(t, t.return, a);
    }
    t.flags &= -3;
  }
  e & 4096 && (t.flags &= -4097);
}
function RE(t, e, n) {
  (B = t), Vx(t);
}
function Vx(t, e, n) {
  for (var r = (t.mode & 1) !== 0; B !== null; ) {
    var i = B,
      s = i.child;
    if (i.tag === 22 && r) {
      var o = i.memoizedState !== null || Su;
      if (!o) {
        var l = i.alternate,
          a = (l !== null && l.memoizedState !== null) || mt;
        l = Su;
        var u = mt;
        if (((Su = o), (mt = a) && !u))
          for (B = i; B !== null; )
            (o = B),
              (a = o.child),
              o.tag === 22 && o.memoizedState !== null
                ? Iy(i)
                : a !== null
                  ? ((a.return = o), (B = a))
                  : Iy(i);
        for (; s !== null; ) (B = s), Vx(s), (s = s.sibling);
        (B = i), (Su = l), (mt = u);
      }
      By(t);
    } else
      i.subtreeFlags & 8772 && s !== null ? ((s.return = i), (B = s)) : By(t);
  }
}
function By(t) {
  for (; B !== null; ) {
    var e = B;
    if (e.flags & 8772) {
      var n = e.alternate;
      try {
        if (e.flags & 8772)
          switch (e.tag) {
            case 0:
            case 11:
            case 15:
              mt || th(5, e);
              break;
            case 1:
              var r = e.stateNode;
              if (e.flags & 4 && !mt)
                if (n === null) r.componentDidMount();
                else {
                  var i =
                    e.elementType === e.type
                      ? n.memoizedProps
                      : On(e.type, n.memoizedProps);
                  r.componentDidUpdate(
                    i,
                    n.memoizedState,
                    r.__reactInternalSnapshotBeforeUpdate
                  );
                }
              var s = e.updateQueue;
              s !== null && vy(e, s, r);
              break;
            case 3:
              var o = e.updateQueue;
              if (o !== null) {
                if (((n = null), e.child !== null))
                  switch (e.child.tag) {
                    case 5:
                      n = e.child.stateNode;
                      break;
                    case 1:
                      n = e.child.stateNode;
                  }
                vy(e, o, n);
              }
              break;
            case 5:
              var l = e.stateNode;
              if (n === null && e.flags & 4) {
                n = l;
                var a = e.memoizedProps;
                switch (e.type) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    a.autoFocus && n.focus();
                    break;
                  case "img":
                    a.src && (n.src = a.src);
                }
              }
              break;
            case 6:
              break;
            case 4:
              break;
            case 12:
              break;
            case 13:
              if (e.memoizedState === null) {
                var u = e.alternate;
                if (u !== null) {
                  var c = u.memoizedState;
                  if (c !== null) {
                    var f = c.dehydrated;
                    f !== null && zl(f);
                  }
                }
              }
              break;
            case 19:
            case 17:
            case 21:
            case 22:
            case 23:
            case 25:
              break;
            default:
              throw Error(M(163));
          }
        mt || (e.flags & 512 && Up(e));
      } catch (h) {
        Le(e, e.return, h);
      }
    }
    if (e === t) {
      B = null;
      break;
    }
    if (((n = e.sibling), n !== null)) {
      (n.return = e.return), (B = n);
      break;
    }
    B = e.return;
  }
}
function Ny(t) {
  for (; B !== null; ) {
    var e = B;
    if (e === t) {
      B = null;
      break;
    }
    var n = e.sibling;
    if (n !== null) {
      (n.return = e.return), (B = n);
      break;
    }
    B = e.return;
  }
}
function Iy(t) {
  for (; B !== null; ) {
    var e = B;
    try {
      switch (e.tag) {
        case 0:
        case 11:
        case 15:
          var n = e.return;
          try {
            th(4, e);
          } catch (a) {
            Le(e, n, a);
          }
          break;
        case 1:
          var r = e.stateNode;
          if (typeof r.componentDidMount == "function") {
            var i = e.return;
            try {
              r.componentDidMount();
            } catch (a) {
              Le(e, i, a);
            }
          }
          var s = e.return;
          try {
            Up(e);
          } catch (a) {
            Le(e, s, a);
          }
          break;
        case 5:
          var o = e.return;
          try {
            Up(e);
          } catch (a) {
            Le(e, o, a);
          }
      }
    } catch (a) {
      Le(e, e.return, a);
    }
    if (e === t) {
      B = null;
      break;
    }
    var l = e.sibling;
    if (l !== null) {
      (l.return = e.return), (B = l);
      break;
    }
    B = e.return;
  }
}
var LE = Math.ceil,
  Yc = Nr.ReactCurrentDispatcher,
  t0 = Nr.ReactCurrentOwner,
  pn = Nr.ReactCurrentBatchConfig,
  ne = 0,
  Qe = null,
  je = null,
  lt = 0,
  Ht = 0,
  zs = Ei(0),
  Ge = 0,
  Ql = null,
  Ji = 0,
  nh = 0,
  n0 = 0,
  Sl = null,
  Tt = null,
  r0 = 0,
  mo = 1 / 0,
  wr = null,
  Xc = !1,
  Gp = null,
  ui = null,
  ku = !1,
  Jr = null,
  Qc = 0,
  kl = 0,
  Yp = null,
  hc = -1,
  dc = 0;
function Ct() {
  return ne & 6 ? Ie() : hc !== -1 ? hc : (hc = Ie());
}
function ci(t) {
  return t.mode & 1
    ? ne & 2 && lt !== 0
      ? lt & -lt
      : yE.transition !== null
        ? (dc === 0 && (dc = _2()), dc)
        : ((t = ue),
          t !== 0 || ((t = window.event), (t = t === void 0 ? 16 : D2(t.type))),
          t)
    : 1;
}
function Dn(t, e, n, r) {
  if (50 < kl) throw ((kl = 0), (Yp = null), Error(M(185)));
  La(t, n, r),
    (!(ne & 2) || t !== Qe) &&
      (t === Qe && (!(ne & 2) && (nh |= n), Ge === 4 && Gr(t, lt)),
      It(t, r),
      n === 1 && ne === 0 && !(e.mode & 1) && ((mo = Ie() + 500), Jf && Ti()));
}
function It(t, e) {
  var n = t.callbackNode;
  yM(t, e);
  var r = Lc(t, t === Qe ? lt : 0);
  if (r === 0)
    n !== null && K1(n), (t.callbackNode = null), (t.callbackPriority = 0);
  else if (((e = r & -r), t.callbackPriority !== e)) {
    if ((n != null && K1(n), e === 1))
      t.tag === 0 ? gE($y.bind(null, t)) : Q2($y.bind(null, t)),
        hE(function () {
          !(ne & 6) && Ti();
        }),
        (n = null);
    else {
      switch (A2(r)) {
        case 1:
          n = Eg;
          break;
        case 4:
          n = k2;
          break;
        case 16:
          n = Rc;
          break;
        case 536870912:
          n = C2;
          break;
        default:
          n = Rc;
      }
      n = Xx(n, Hx.bind(null, t));
    }
    (t.callbackPriority = e), (t.callbackNode = n);
  }
}
function Hx(t, e) {
  if (((hc = -1), (dc = 0), ne & 6)) throw Error(M(327));
  var n = t.callbackNode;
  if (Js() && t.callbackNode !== n) return null;
  var r = Lc(t, t === Qe ? lt : 0);
  if (r === 0) return null;
  if (r & 30 || r & t.expiredLanes || e) e = Jc(t, r);
  else {
    e = r;
    var i = ne;
    ne |= 2;
    var s = Ux();
    (Qe !== t || lt !== e) && ((wr = null), (mo = Ie() + 500), Ki(t, e));
    do
      try {
        IE();
        break;
      } catch (l) {
        Wx(t, l);
      }
    while (!0);
    Vg(),
      (Yc.current = s),
      (ne = i),
      je !== null ? (e = 0) : ((Qe = null), (lt = 0), (e = Ge));
  }
  if (e !== 0) {
    if (
      (e === 2 && ((i = Sp(t)), i !== 0 && ((r = i), (e = Xp(t, i)))), e === 1)
    )
      throw ((n = Ql), Ki(t, 0), Gr(t, r), It(t, Ie()), n);
    if (e === 6) Gr(t, r);
    else {
      if (
        ((i = t.current.alternate),
        !(r & 30) &&
          !BE(i) &&
          ((e = Jc(t, r)),
          e === 2 && ((s = Sp(t)), s !== 0 && ((r = s), (e = Xp(t, s)))),
          e === 1))
      )
        throw ((n = Ql), Ki(t, 0), Gr(t, r), It(t, Ie()), n);
      switch (((t.finishedWork = i), (t.finishedLanes = r), e)) {
        case 0:
        case 1:
          throw Error(M(345));
        case 2:
          $i(t, Tt, wr);
          break;
        case 3:
          if (
            (Gr(t, r), (r & 130023424) === r && ((e = r0 + 500 - Ie()), 10 < e))
          ) {
            if (Lc(t, 0) !== 0) break;
            if (((i = t.suspendedLanes), (i & r) !== r)) {
              Ct(), (t.pingedLanes |= t.suspendedLanes & i);
              break;
            }
            t.timeoutHandle = Tp($i.bind(null, t, Tt, wr), e);
            break;
          }
          $i(t, Tt, wr);
          break;
        case 4:
          if ((Gr(t, r), (r & 4194240) === r)) break;
          for (e = t.eventTimes, i = -1; 0 < r; ) {
            var o = 31 - Pn(r);
            (s = 1 << o), (o = e[o]), o > i && (i = o), (r &= ~s);
          }
          if (
            ((r = i),
            (r = Ie() - r),
            (r =
              (120 > r
                ? 120
                : 480 > r
                  ? 480
                  : 1080 > r
                    ? 1080
                    : 1920 > r
                      ? 1920
                      : 3e3 > r
                        ? 3e3
                        : 4320 > r
                          ? 4320
                          : 1960 * LE(r / 1960)) - r),
            10 < r)
          ) {
            t.timeoutHandle = Tp($i.bind(null, t, Tt, wr), r);
            break;
          }
          $i(t, Tt, wr);
          break;
        case 5:
          $i(t, Tt, wr);
          break;
        default:
          throw Error(M(329));
      }
    }
  }
  return It(t, Ie()), t.callbackNode === n ? Hx.bind(null, t) : null;
}
function Xp(t, e) {
  var n = Sl;
  return (
    t.current.memoizedState.isDehydrated && (Ki(t, e).flags |= 256),
    (t = Jc(t, e)),
    t !== 2 && ((e = Tt), (Tt = n), e !== null && Qp(e)),
    t
  );
}
function Qp(t) {
  Tt === null ? (Tt = t) : Tt.push.apply(Tt, t);
}
function BE(t) {
  for (var e = t; ; ) {
    if (e.flags & 16384) {
      var n = e.updateQueue;
      if (n !== null && ((n = n.stores), n !== null))
        for (var r = 0; r < n.length; r++) {
          var i = n[r],
            s = i.getSnapshot;
          i = i.value;
          try {
            if (!Bn(s(), i)) return !1;
          } catch {
            return !1;
          }
        }
    }
    if (((n = e.child), e.subtreeFlags & 16384 && n !== null))
      (n.return = e), (e = n);
    else {
      if (e === t) break;
      for (; e.sibling === null; ) {
        if (e.return === null || e.return === t) return !0;
        e = e.return;
      }
      (e.sibling.return = e.return), (e = e.sibling);
    }
  }
  return !0;
}
function Gr(t, e) {
  for (
    e &= ~n0,
      e &= ~nh,
      t.suspendedLanes |= e,
      t.pingedLanes &= ~e,
      t = t.expirationTimes;
    0 < e;

  ) {
    var n = 31 - Pn(e),
      r = 1 << n;
    (t[n] = -1), (e &= ~r);
  }
}
function $y(t) {
  if (ne & 6) throw Error(M(327));
  Js();
  var e = Lc(t, 0);
  if (!(e & 1)) return It(t, Ie()), null;
  var n = Jc(t, e);
  if (t.tag !== 0 && n === 2) {
    var r = Sp(t);
    r !== 0 && ((e = r), (n = Xp(t, r)));
  }
  if (n === 1) throw ((n = Ql), Ki(t, 0), Gr(t, e), It(t, Ie()), n);
  if (n === 6) throw Error(M(345));
  return (
    (t.finishedWork = t.current.alternate),
    (t.finishedLanes = e),
    $i(t, Tt, wr),
    It(t, Ie()),
    null
  );
}
function i0(t, e) {
  var n = ne;
  ne |= 1;
  try {
    return t(e);
  } finally {
    (ne = n), ne === 0 && ((mo = Ie() + 500), Jf && Ti());
  }
}
function Zi(t) {
  Jr !== null && Jr.tag === 0 && !(ne & 6) && Js();
  var e = ne;
  ne |= 1;
  var n = pn.transition,
    r = ue;
  try {
    if (((pn.transition = null), (ue = 1), t)) return t();
  } finally {
    (ue = r), (pn.transition = n), (ne = e), !(ne & 6) && Ti();
  }
}
function s0() {
  (Ht = zs.current), xe(zs);
}
function Ki(t, e) {
  (t.finishedWork = null), (t.finishedLanes = 0);
  var n = t.timeoutHandle;
  if ((n !== -1 && ((t.timeoutHandle = -1), fE(n)), je !== null))
    for (n = je.return; n !== null; ) {
      var r = n;
      switch ((Fg(r), r.tag)) {
        case 1:
          (r = r.type.childContextTypes), r != null && Fc();
          break;
        case 3:
          ho(), xe(Bt), xe(yt), Gg();
          break;
        case 5:
          qg(r);
          break;
        case 4:
          ho();
          break;
        case 13:
          xe(Oe);
          break;
        case 19:
          xe(Oe);
          break;
        case 10:
          Hg(r.type._context);
          break;
        case 22:
        case 23:
          s0();
      }
      n = n.return;
    }
  if (
    ((Qe = t),
    (je = t = fi(t.current, null)),
    (lt = Ht = e),
    (Ge = 0),
    (Ql = null),
    (n0 = nh = Ji = 0),
    (Tt = Sl = null),
    Vi !== null)
  ) {
    for (e = 0; e < Vi.length; e++)
      if (((n = Vi[e]), (r = n.interleaved), r !== null)) {
        n.interleaved = null;
        var i = r.next,
          s = n.pending;
        if (s !== null) {
          var o = s.next;
          (s.next = i), (r.next = o);
        }
        n.pending = r;
      }
    Vi = null;
  }
  return t;
}
function Wx(t, e) {
  do {
    var n = je;
    try {
      if ((Vg(), (uc.current = Gc), qc)) {
        for (var r = Ee.memoizedState; r !== null; ) {
          var i = r.queue;
          i !== null && (i.pending = null), (r = r.next);
        }
        qc = !1;
      }
      if (
        ((Qi = 0),
        (Xe = Ue = Ee = null),
        (bl = !1),
        (Gl = 0),
        (t0.current = null),
        n === null || n.return === null)
      ) {
        (Ge = 1), (Ql = e), (je = null);
        break;
      }
      e: {
        var s = t,
          o = n.return,
          l = n,
          a = e;
        if (
          ((e = lt),
          (l.flags |= 32768),
          a !== null && typeof a == "object" && typeof a.then == "function")
        ) {
          var u = a,
            c = l,
            f = c.tag;
          if (!(c.mode & 1) && (f === 0 || f === 11 || f === 15)) {
            var h = c.alternate;
            h
              ? ((c.updateQueue = h.updateQueue),
                (c.memoizedState = h.memoizedState),
                (c.lanes = h.lanes))
              : ((c.updateQueue = null), (c.memoizedState = null));
          }
          var d = _y(o);
          if (d !== null) {
            (d.flags &= -257),
              Ay(d, o, l, s, e),
              d.mode & 1 && Cy(s, u, e),
              (e = d),
              (a = u);
            var p = e.updateQueue;
            if (p === null) {
              var m = new Set();
              m.add(a), (e.updateQueue = m);
            } else p.add(a);
            break e;
          } else {
            if (!(e & 1)) {
              Cy(s, u, e), o0();
              break e;
            }
            a = Error(M(426));
          }
        } else if (Ce && l.mode & 1) {
          var w = _y(o);
          if (w !== null) {
            !(w.flags & 65536) && (w.flags |= 256),
              Ay(w, o, l, s, e),
              zg(po(a, l));
            break e;
          }
        }
        (s = a = po(a, l)),
          Ge !== 4 && (Ge = 2),
          Sl === null ? (Sl = [s]) : Sl.push(s),
          (s = o);
        do {
          switch (s.tag) {
            case 3:
              (s.flags |= 65536), (e &= -e), (s.lanes |= e);
              var g = Ox(s, a, e);
              yy(s, g);
              break e;
            case 1:
              l = a;
              var y = s.type,
                v = s.stateNode;
              if (
                !(s.flags & 128) &&
                (typeof y.getDerivedStateFromError == "function" ||
                  (v !== null &&
                    typeof v.componentDidCatch == "function" &&
                    (ui === null || !ui.has(v))))
              ) {
                (s.flags |= 65536), (e &= -e), (s.lanes |= e);
                var b = Mx(s, l, e);
                yy(s, b);
                break e;
              }
          }
          s = s.return;
        } while (s !== null);
      }
      qx(n);
    } catch (x) {
      (e = x), je === n && n !== null && (je = n = n.return);
      continue;
    }
    break;
  } while (!0);
}
function Ux() {
  var t = Yc.current;
  return (Yc.current = Gc), t === null ? Gc : t;
}
function o0() {
  (Ge === 0 || Ge === 3 || Ge === 2) && (Ge = 4),
    Qe === null || (!(Ji & 268435455) && !(nh & 268435455)) || Gr(Qe, lt);
}
function Jc(t, e) {
  var n = ne;
  ne |= 2;
  var r = Ux();
  (Qe !== t || lt !== e) && ((wr = null), Ki(t, e));
  do
    try {
      NE();
      break;
    } catch (i) {
      Wx(t, i);
    }
  while (!0);
  if ((Vg(), (ne = n), (Yc.current = r), je !== null)) throw Error(M(261));
  return (Qe = null), (lt = 0), Ge;
}
function NE() {
  for (; je !== null; ) Kx(je);
}
function IE() {
  for (; je !== null && !aM(); ) Kx(je);
}
function Kx(t) {
  var e = Yx(t.alternate, t, Ht);
  (t.memoizedProps = t.pendingProps),
    e === null ? qx(t) : (je = e),
    (t0.current = null);
}
function qx(t) {
  var e = t;
  do {
    var n = e.alternate;
    if (((t = e.return), e.flags & 32768)) {
      if (((n = TE(n, e)), n !== null)) {
        (n.flags &= 32767), (je = n);
        return;
      }
      if (t !== null)
        (t.flags |= 32768), (t.subtreeFlags = 0), (t.deletions = null);
      else {
        (Ge = 6), (je = null);
        return;
      }
    } else if (((n = EE(n, e, Ht)), n !== null)) {
      je = n;
      return;
    }
    if (((e = e.sibling), e !== null)) {
      je = e;
      return;
    }
    je = e = t;
  } while (e !== null);
  Ge === 0 && (Ge = 5);
}
function $i(t, e, n) {
  var r = ue,
    i = pn.transition;
  try {
    (pn.transition = null), (ue = 1), $E(t, e, n, r);
  } finally {
    (pn.transition = i), (ue = r);
  }
  return null;
}
function $E(t, e, n, r) {
  do Js();
  while (Jr !== null);
  if (ne & 6) throw Error(M(327));
  n = t.finishedWork;
  var i = t.finishedLanes;
  if (n === null) return null;
  if (((t.finishedWork = null), (t.finishedLanes = 0), n === t.current))
    throw Error(M(177));
  (t.callbackNode = null), (t.callbackPriority = 0);
  var s = n.lanes | n.childLanes;
  if (
    (vM(t, s),
    t === Qe && ((je = Qe = null), (lt = 0)),
    (!(n.subtreeFlags & 2064) && !(n.flags & 2064)) ||
      ku ||
      ((ku = !0),
      Xx(Rc, function () {
        return Js(), null;
      })),
    (s = (n.flags & 15990) !== 0),
    n.subtreeFlags & 15990 || s)
  ) {
    (s = pn.transition), (pn.transition = null);
    var o = ue;
    ue = 1;
    var l = ne;
    (ne |= 4),
      (t0.current = null),
      DE(t, n),
      jx(n, t),
      iE(Mp),
      (Bc = !!Op),
      (Mp = Op = null),
      (t.current = n),
      RE(n),
      uM(),
      (ne = l),
      (ue = o),
      (pn.transition = s);
  } else t.current = n;
  if (
    (ku && ((ku = !1), (Jr = t), (Qc = i)),
    (s = t.pendingLanes),
    s === 0 && (ui = null),
    hM(n.stateNode),
    It(t, Ie()),
    e !== null)
  )
    for (r = t.onRecoverableError, n = 0; n < e.length; n++)
      (i = e[n]), r(i.value, { componentStack: i.stack, digest: i.digest });
  if (Xc) throw ((Xc = !1), (t = Gp), (Gp = null), t);
  return (
    Qc & 1 && t.tag !== 0 && Js(),
    (s = t.pendingLanes),
    s & 1 ? (t === Yp ? kl++ : ((kl = 0), (Yp = t))) : (kl = 0),
    Ti(),
    null
  );
}
function Js() {
  if (Jr !== null) {
    var t = A2(Qc),
      e = pn.transition,
      n = ue;
    try {
      if (((pn.transition = null), (ue = 16 > t ? 16 : t), Jr === null))
        var r = !1;
      else {
        if (((t = Jr), (Jr = null), (Qc = 0), ne & 6)) throw Error(M(331));
        var i = ne;
        for (ne |= 4, B = t.current; B !== null; ) {
          var s = B,
            o = s.child;
          if (B.flags & 16) {
            var l = s.deletions;
            if (l !== null) {
              for (var a = 0; a < l.length; a++) {
                var u = l[a];
                for (B = u; B !== null; ) {
                  var c = B;
                  switch (c.tag) {
                    case 0:
                    case 11:
                    case 15:
                      xl(8, c, s);
                  }
                  var f = c.child;
                  if (f !== null) (f.return = c), (B = f);
                  else
                    for (; B !== null; ) {
                      c = B;
                      var h = c.sibling,
                        d = c.return;
                      if (($x(c), c === u)) {
                        B = null;
                        break;
                      }
                      if (h !== null) {
                        (h.return = d), (B = h);
                        break;
                      }
                      B = d;
                    }
                }
              }
              var p = s.alternate;
              if (p !== null) {
                var m = p.child;
                if (m !== null) {
                  p.child = null;
                  do {
                    var w = m.sibling;
                    (m.sibling = null), (m = w);
                  } while (m !== null);
                }
              }
              B = s;
            }
          }
          if (s.subtreeFlags & 2064 && o !== null) (o.return = s), (B = o);
          else
            e: for (; B !== null; ) {
              if (((s = B), s.flags & 2048))
                switch (s.tag) {
                  case 0:
                  case 11:
                  case 15:
                    xl(9, s, s.return);
                }
              var g = s.sibling;
              if (g !== null) {
                (g.return = s.return), (B = g);
                break e;
              }
              B = s.return;
            }
        }
        var y = t.current;
        for (B = y; B !== null; ) {
          o = B;
          var v = o.child;
          if (o.subtreeFlags & 2064 && v !== null) (v.return = o), (B = v);
          else
            e: for (o = y; B !== null; ) {
              if (((l = B), l.flags & 2048))
                try {
                  switch (l.tag) {
                    case 0:
                    case 11:
                    case 15:
                      th(9, l);
                  }
                } catch (x) {
                  Le(l, l.return, x);
                }
              if (l === o) {
                B = null;
                break e;
              }
              var b = l.sibling;
              if (b !== null) {
                (b.return = l.return), (B = b);
                break e;
              }
              B = l.return;
            }
        }
        if (
          ((ne = i), Ti(), ar && typeof ar.onPostCommitFiberRoot == "function")
        )
          try {
            ar.onPostCommitFiberRoot(qf, t);
          } catch {}
        r = !0;
      }
      return r;
    } finally {
      (ue = n), (pn.transition = e);
    }
  }
  return !1;
}
function Fy(t, e, n) {
  (e = po(n, e)),
    (e = Ox(t, e, 1)),
    (t = ai(t, e, 1)),
    (e = Ct()),
    t !== null && (La(t, 1, e), It(t, e));
}
function Le(t, e, n) {
  if (t.tag === 3) Fy(t, t, n);
  else
    for (; e !== null; ) {
      if (e.tag === 3) {
        Fy(e, t, n);
        break;
      } else if (e.tag === 1) {
        var r = e.stateNode;
        if (
          typeof e.type.getDerivedStateFromError == "function" ||
          (typeof r.componentDidCatch == "function" &&
            (ui === null || !ui.has(r)))
        ) {
          (t = po(n, t)),
            (t = Mx(e, t, 1)),
            (e = ai(e, t, 1)),
            (t = Ct()),
            e !== null && (La(e, 1, t), It(e, t));
          break;
        }
      }
      e = e.return;
    }
}
function FE(t, e, n) {
  var r = t.pingCache;
  r !== null && r.delete(e),
    (e = Ct()),
    (t.pingedLanes |= t.suspendedLanes & n),
    Qe === t &&
      (lt & n) === n &&
      (Ge === 4 || (Ge === 3 && (lt & 130023424) === lt && 500 > Ie() - r0)
        ? Ki(t, 0)
        : (n0 |= n)),
    It(t, e);
}
function Gx(t, e) {
  e === 0 &&
    (t.mode & 1
      ? ((e = du), (du <<= 1), !(du & 130023424) && (du = 4194304))
      : (e = 1));
  var n = Ct();
  (t = Er(t, e)), t !== null && (La(t, e, n), It(t, n));
}
function zE(t) {
  var e = t.memoizedState,
    n = 0;
  e !== null && (n = e.retryLane), Gx(t, n);
}
function jE(t, e) {
  var n = 0;
  switch (t.tag) {
    case 13:
      var r = t.stateNode,
        i = t.memoizedState;
      i !== null && (n = i.retryLane);
      break;
    case 19:
      r = t.stateNode;
      break;
    default:
      throw Error(M(314));
  }
  r !== null && r.delete(e), Gx(t, n);
}
var Yx;
Yx = function (t, e, n) {
  if (t !== null)
    if (t.memoizedProps !== e.pendingProps || Bt.current) Dt = !0;
    else {
      if (!(t.lanes & n) && !(e.flags & 128)) return (Dt = !1), ME(t, e, n);
      Dt = !!(t.flags & 131072);
    }
  else (Dt = !1), Ce && e.flags & 1048576 && J2(e, Vc, e.index);
  switch (((e.lanes = 0), e.tag)) {
    case 2:
      var r = e.type;
      fc(t, e), (t = e.pendingProps);
      var i = uo(e, yt.current);
      Qs(e, n), (i = Xg(null, e, r, t, i, n));
      var s = Qg();
      return (
        (e.flags |= 1),
        typeof i == "object" &&
        i !== null &&
        typeof i.render == "function" &&
        i.$$typeof === void 0
          ? ((e.tag = 1),
            (e.memoizedState = null),
            (e.updateQueue = null),
            Nt(r) ? ((s = !0), zc(e)) : (s = !1),
            (e.memoizedState =
              i.state !== null && i.state !== void 0 ? i.state : null),
            Ug(e),
            (i.updater = Zf),
            (e.stateNode = i),
            (i._reactInternals = e),
            Ip(e, r, t, n),
            (e = zp(null, e, r, !0, s, n)))
          : ((e.tag = 0), Ce && s && $g(e), xt(null, e, i, n), (e = e.child)),
        e
      );
    case 16:
      r = e.elementType;
      e: {
        switch (
          (fc(t, e),
          (t = e.pendingProps),
          (i = r._init),
          (r = i(r._payload)),
          (e.type = r),
          (i = e.tag = HE(r)),
          (t = On(r, t)),
          i)
        ) {
          case 0:
            e = Fp(null, e, r, t, n);
            break e;
          case 1:
            e = Ey(null, e, r, t, n);
            break e;
          case 11:
            e = Oy(null, e, r, t, n);
            break e;
          case 14:
            e = My(null, e, r, On(r.type, t), n);
            break e;
        }
        throw Error(M(306, r, ""));
      }
      return e;
    case 0:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : On(r, i)),
        Fp(t, e, r, i, n)
      );
    case 1:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : On(r, i)),
        Ey(t, e, r, i, n)
      );
    case 3:
      e: {
        if ((Dx(e), t === null)) throw Error(M(387));
        (r = e.pendingProps),
          (s = e.memoizedState),
          (i = s.element),
          nx(t, e),
          Uc(e, r, null, n);
        var o = e.memoizedState;
        if (((r = o.element), s.isDehydrated))
          if (
            ((s = {
              element: r,
              isDehydrated: !1,
              cache: o.cache,
              pendingSuspenseBoundaries: o.pendingSuspenseBoundaries,
              transitions: o.transitions,
            }),
            (e.updateQueue.baseState = s),
            (e.memoizedState = s),
            e.flags & 256)
          ) {
            (i = po(Error(M(423)), e)), (e = Ty(t, e, r, n, i));
            break e;
          } else if (r !== i) {
            (i = po(Error(M(424)), e)), (e = Ty(t, e, r, n, i));
            break e;
          } else
            for (
              qt = li(e.stateNode.containerInfo.firstChild),
                Xt = e,
                Ce = !0,
                En = null,
                n = ox(e, null, r, n),
                e.child = n;
              n;

            )
              (n.flags = (n.flags & -3) | 4096), (n = n.sibling);
        else {
          if ((co(), r === i)) {
            e = Tr(t, e, n);
            break e;
          }
          xt(t, e, r, n);
        }
        e = e.child;
      }
      return e;
    case 5:
      return (
        lx(e),
        t === null && Lp(e),
        (r = e.type),
        (i = e.pendingProps),
        (s = t !== null ? t.memoizedProps : null),
        (o = i.children),
        Ep(r, i) ? (o = null) : s !== null && Ep(r, s) && (e.flags |= 32),
        Px(t, e),
        xt(t, e, o, n),
        e.child
      );
    case 6:
      return t === null && Lp(e), null;
    case 13:
      return Rx(t, e, n);
    case 4:
      return (
        Kg(e, e.stateNode.containerInfo),
        (r = e.pendingProps),
        t === null ? (e.child = fo(e, null, r, n)) : xt(t, e, r, n),
        e.child
      );
    case 11:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : On(r, i)),
        Oy(t, e, r, i, n)
      );
    case 7:
      return xt(t, e, e.pendingProps, n), e.child;
    case 8:
      return xt(t, e, e.pendingProps.children, n), e.child;
    case 12:
      return xt(t, e, e.pendingProps.children, n), e.child;
    case 10:
      e: {
        if (
          ((r = e.type._context),
          (i = e.pendingProps),
          (s = e.memoizedProps),
          (o = i.value),
          ye(Hc, r._currentValue),
          (r._currentValue = o),
          s !== null)
        )
          if (Bn(s.value, o)) {
            if (s.children === i.children && !Bt.current) {
              e = Tr(t, e, n);
              break e;
            }
          } else
            for (s = e.child, s !== null && (s.return = e); s !== null; ) {
              var l = s.dependencies;
              if (l !== null) {
                o = s.child;
                for (var a = l.firstContext; a !== null; ) {
                  if (a.context === r) {
                    if (s.tag === 1) {
                      (a = Cr(-1, n & -n)), (a.tag = 2);
                      var u = s.updateQueue;
                      if (u !== null) {
                        u = u.shared;
                        var c = u.pending;
                        c === null
                          ? (a.next = a)
                          : ((a.next = c.next), (c.next = a)),
                          (u.pending = a);
                      }
                    }
                    (s.lanes |= n),
                      (a = s.alternate),
                      a !== null && (a.lanes |= n),
                      Bp(s.return, n, e),
                      (l.lanes |= n);
                    break;
                  }
                  a = a.next;
                }
              } else if (s.tag === 10) o = s.type === e.type ? null : s.child;
              else if (s.tag === 18) {
                if (((o = s.return), o === null)) throw Error(M(341));
                (o.lanes |= n),
                  (l = o.alternate),
                  l !== null && (l.lanes |= n),
                  Bp(o, n, e),
                  (o = s.sibling);
              } else o = s.child;
              if (o !== null) o.return = s;
              else
                for (o = s; o !== null; ) {
                  if (o === e) {
                    o = null;
                    break;
                  }
                  if (((s = o.sibling), s !== null)) {
                    (s.return = o.return), (o = s);
                    break;
                  }
                  o = o.return;
                }
              s = o;
            }
        xt(t, e, i.children, n), (e = e.child);
      }
      return e;
    case 9:
      return (
        (i = e.type),
        (r = e.pendingProps.children),
        Qs(e, n),
        (i = yn(i)),
        (r = r(i)),
        (e.flags |= 1),
        xt(t, e, r, n),
        e.child
      );
    case 14:
      return (
        (r = e.type),
        (i = On(r, e.pendingProps)),
        (i = On(r.type, i)),
        My(t, e, r, i, n)
      );
    case 15:
      return Ex(t, e, e.type, e.pendingProps, n);
    case 17:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : On(r, i)),
        fc(t, e),
        (e.tag = 1),
        Nt(r) ? ((t = !0), zc(e)) : (t = !1),
        Qs(e, n),
        ix(e, r, i),
        Ip(e, r, i, n),
        zp(null, e, r, !0, t, n)
      );
    case 19:
      return Lx(t, e, n);
    case 22:
      return Tx(t, e, n);
  }
  throw Error(M(156, e.tag));
};
function Xx(t, e) {
  return S2(t, e);
}
function VE(t, e, n, r) {
  (this.tag = t),
    (this.key = n),
    (this.sibling =
      this.child =
      this.return =
      this.stateNode =
      this.type =
      this.elementType =
        null),
    (this.index = 0),
    (this.ref = null),
    (this.pendingProps = e),
    (this.dependencies =
      this.memoizedState =
      this.updateQueue =
      this.memoizedProps =
        null),
    (this.mode = r),
    (this.subtreeFlags = this.flags = 0),
    (this.deletions = null),
    (this.childLanes = this.lanes = 0),
    (this.alternate = null);
}
function cn(t, e, n, r) {
  return new VE(t, e, n, r);
}
function l0(t) {
  return (t = t.prototype), !(!t || !t.isReactComponent);
}
function HE(t) {
  if (typeof t == "function") return l0(t) ? 1 : 0;
  if (t != null) {
    if (((t = t.$$typeof), t === Ag)) return 11;
    if (t === Og) return 14;
  }
  return 2;
}
function fi(t, e) {
  var n = t.alternate;
  return (
    n === null
      ? ((n = cn(t.tag, e, t.key, t.mode)),
        (n.elementType = t.elementType),
        (n.type = t.type),
        (n.stateNode = t.stateNode),
        (n.alternate = t),
        (t.alternate = n))
      : ((n.pendingProps = e),
        (n.type = t.type),
        (n.flags = 0),
        (n.subtreeFlags = 0),
        (n.deletions = null)),
    (n.flags = t.flags & 14680064),
    (n.childLanes = t.childLanes),
    (n.lanes = t.lanes),
    (n.child = t.child),
    (n.memoizedProps = t.memoizedProps),
    (n.memoizedState = t.memoizedState),
    (n.updateQueue = t.updateQueue),
    (e = t.dependencies),
    (n.dependencies =
      e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }),
    (n.sibling = t.sibling),
    (n.index = t.index),
    (n.ref = t.ref),
    n
  );
}
function pc(t, e, n, r, i, s) {
  var o = 2;
  if (((r = t), typeof t == "function")) l0(t) && (o = 1);
  else if (typeof t == "string") o = 5;
  else
    e: switch (t) {
      case Ts:
        return qi(n.children, i, s, e);
      case _g:
        (o = 8), (i |= 8);
        break;
      case lp:
        return (
          (t = cn(12, n, e, i | 2)), (t.elementType = lp), (t.lanes = s), t
        );
      case ap:
        return (t = cn(13, n, e, i)), (t.elementType = ap), (t.lanes = s), t;
      case up:
        return (t = cn(19, n, e, i)), (t.elementType = up), (t.lanes = s), t;
      case s2:
        return rh(n, i, s, e);
      default:
        if (typeof t == "object" && t !== null)
          switch (t.$$typeof) {
            case r2:
              o = 10;
              break e;
            case i2:
              o = 9;
              break e;
            case Ag:
              o = 11;
              break e;
            case Og:
              o = 14;
              break e;
            case Hr:
              (o = 16), (r = null);
              break e;
          }
        throw Error(M(130, t == null ? t : typeof t, ""));
    }
  return (
    (e = cn(o, n, e, i)), (e.elementType = t), (e.type = r), (e.lanes = s), e
  );
}
function qi(t, e, n, r) {
  return (t = cn(7, t, r, e)), (t.lanes = n), t;
}
function rh(t, e, n, r) {
  return (
    (t = cn(22, t, r, e)),
    (t.elementType = s2),
    (t.lanes = n),
    (t.stateNode = { isHidden: !1 }),
    t
  );
}
function bd(t, e, n) {
  return (t = cn(6, t, null, e)), (t.lanes = n), t;
}
function xd(t, e, n) {
  return (
    (e = cn(4, t.children !== null ? t.children : [], t.key, e)),
    (e.lanes = n),
    (e.stateNode = {
      containerInfo: t.containerInfo,
      pendingChildren: null,
      implementation: t.implementation,
    }),
    e
  );
}
function WE(t, e, n, r, i) {
  (this.tag = e),
    (this.containerInfo = t),
    (this.finishedWork =
      this.pingCache =
      this.current =
      this.pendingChildren =
        null),
    (this.timeoutHandle = -1),
    (this.callbackNode = this.pendingContext = this.context = null),
    (this.callbackPriority = 0),
    (this.eventTimes = td(0)),
    (this.expirationTimes = td(-1)),
    (this.entangledLanes =
      this.finishedLanes =
      this.mutableReadLanes =
      this.expiredLanes =
      this.pingedLanes =
      this.suspendedLanes =
      this.pendingLanes =
        0),
    (this.entanglements = td(0)),
    (this.identifierPrefix = r),
    (this.onRecoverableError = i),
    (this.mutableSourceEagerHydrationData = null);
}
function a0(t, e, n, r, i, s, o, l, a) {
  return (
    (t = new WE(t, e, n, l, a)),
    e === 1 ? ((e = 1), s === !0 && (e |= 8)) : (e = 0),
    (s = cn(3, null, null, e)),
    (t.current = s),
    (s.stateNode = t),
    (s.memoizedState = {
      element: r,
      isDehydrated: n,
      cache: null,
      transitions: null,
      pendingSuspenseBoundaries: null,
    }),
    Ug(s),
    t
  );
}
function UE(t, e, n) {
  var r = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
  return {
    $$typeof: Es,
    key: r == null ? null : "" + r,
    children: t,
    containerInfo: e,
    implementation: n,
  };
}
function Qx(t) {
  if (!t) return bi;
  t = t._reactInternals;
  e: {
    if (hs(t) !== t || t.tag !== 1) throw Error(M(170));
    var e = t;
    do {
      switch (e.tag) {
        case 3:
          e = e.stateNode.context;
          break e;
        case 1:
          if (Nt(e.type)) {
            e = e.stateNode.__reactInternalMemoizedMergedChildContext;
            break e;
          }
      }
      e = e.return;
    } while (e !== null);
    throw Error(M(171));
  }
  if (t.tag === 1) {
    var n = t.type;
    if (Nt(n)) return X2(t, n, e);
  }
  return e;
}
function Jx(t, e, n, r, i, s, o, l, a) {
  return (
    (t = a0(n, r, !0, t, i, s, o, l, a)),
    (t.context = Qx(null)),
    (n = t.current),
    (r = Ct()),
    (i = ci(n)),
    (s = Cr(r, i)),
    (s.callback = e ?? null),
    ai(n, s, i),
    (t.current.lanes = i),
    La(t, i, r),
    It(t, r),
    t
  );
}
function ih(t, e, n, r) {
  var i = e.current,
    s = Ct(),
    o = ci(i);
  return (
    (n = Qx(n)),
    e.context === null ? (e.context = n) : (e.pendingContext = n),
    (e = Cr(s, o)),
    (e.payload = { element: t }),
    (r = r === void 0 ? null : r),
    r !== null && (e.callback = r),
    (t = ai(i, e, o)),
    t !== null && (Dn(t, i, o, s), ac(t, i, o)),
    o
  );
}
function Zc(t) {
  if (((t = t.current), !t.child)) return null;
  switch (t.child.tag) {
    case 5:
      return t.child.stateNode;
    default:
      return t.child.stateNode;
  }
}
function zy(t, e) {
  if (((t = t.memoizedState), t !== null && t.dehydrated !== null)) {
    var n = t.retryLane;
    t.retryLane = n !== 0 && n < e ? n : e;
  }
}
function u0(t, e) {
  zy(t, e), (t = t.alternate) && zy(t, e);
}
function KE() {
  return null;
}
var Zx =
  typeof reportError == "function"
    ? reportError
    : function (t) {
        console.error(t);
      };
function c0(t) {
  this._internalRoot = t;
}
sh.prototype.render = c0.prototype.render = function (t) {
  var e = this._internalRoot;
  if (e === null) throw Error(M(409));
  ih(t, e, null, null);
};
sh.prototype.unmount = c0.prototype.unmount = function () {
  var t = this._internalRoot;
  if (t !== null) {
    this._internalRoot = null;
    var e = t.containerInfo;
    Zi(function () {
      ih(null, t, null, null);
    }),
      (e[Mr] = null);
  }
};
function sh(t) {
  this._internalRoot = t;
}
sh.prototype.unstable_scheduleHydration = function (t) {
  if (t) {
    var e = E2();
    t = { blockedOn: null, target: t, priority: e };
    for (var n = 0; n < qr.length && e !== 0 && e < qr[n].priority; n++);
    qr.splice(n, 0, t), n === 0 && P2(t);
  }
};
function f0(t) {
  return !(!t || (t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11));
}
function oh(t) {
  return !(
    !t ||
    (t.nodeType !== 1 &&
      t.nodeType !== 9 &&
      t.nodeType !== 11 &&
      (t.nodeType !== 8 || t.nodeValue !== " react-mount-point-unstable "))
  );
}
function jy() {}
function qE(t, e, n, r, i) {
  if (i) {
    if (typeof r == "function") {
      var s = r;
      r = function () {
        var u = Zc(o);
        s.call(u);
      };
    }
    var o = Jx(e, r, t, 0, null, !1, !1, "", jy);
    return (
      (t._reactRootContainer = o),
      (t[Mr] = o.current),
      Hl(t.nodeType === 8 ? t.parentNode : t),
      Zi(),
      o
    );
  }
  for (; (i = t.lastChild); ) t.removeChild(i);
  if (typeof r == "function") {
    var l = r;
    r = function () {
      var u = Zc(a);
      l.call(u);
    };
  }
  var a = a0(t, 0, !1, null, null, !1, !1, "", jy);
  return (
    (t._reactRootContainer = a),
    (t[Mr] = a.current),
    Hl(t.nodeType === 8 ? t.parentNode : t),
    Zi(function () {
      ih(e, a, n, r);
    }),
    a
  );
}
function lh(t, e, n, r, i) {
  var s = n._reactRootContainer;
  if (s) {
    var o = s;
    if (typeof i == "function") {
      var l = i;
      i = function () {
        var a = Zc(o);
        l.call(a);
      };
    }
    ih(e, o, t, i);
  } else o = qE(n, e, t, i, r);
  return Zc(o);
}
O2 = function (t) {
  switch (t.tag) {
    case 3:
      var e = t.stateNode;
      if (e.current.memoizedState.isDehydrated) {
        var n = al(e.pendingLanes);
        n !== 0 &&
          (Tg(e, n | 1), It(e, Ie()), !(ne & 6) && ((mo = Ie() + 500), Ti()));
      }
      break;
    case 13:
      Zi(function () {
        var r = Er(t, 1);
        if (r !== null) {
          var i = Ct();
          Dn(r, t, 1, i);
        }
      }),
        u0(t, 1);
  }
};
Pg = function (t) {
  if (t.tag === 13) {
    var e = Er(t, 134217728);
    if (e !== null) {
      var n = Ct();
      Dn(e, t, 134217728, n);
    }
    u0(t, 134217728);
  }
};
M2 = function (t) {
  if (t.tag === 13) {
    var e = ci(t),
      n = Er(t, e);
    if (n !== null) {
      var r = Ct();
      Dn(n, t, e, r);
    }
    u0(t, e);
  }
};
E2 = function () {
  return ue;
};
T2 = function (t, e) {
  var n = ue;
  try {
    return (ue = t), e();
  } finally {
    ue = n;
  }
};
wp = function (t, e, n) {
  switch (e) {
    case "input":
      if ((hp(t, n), (e = n.name), n.type === "radio" && e != null)) {
        for (n = t; n.parentNode; ) n = n.parentNode;
        for (
          n = n.querySelectorAll(
            "input[name=" + JSON.stringify("" + e) + '][type="radio"]'
          ),
            e = 0;
          e < n.length;
          e++
        ) {
          var r = n[e];
          if (r !== t && r.form === t.form) {
            var i = Qf(r);
            if (!i) throw Error(M(90));
            l2(r), hp(r, i);
          }
        }
      }
      break;
    case "textarea":
      u2(t, n);
      break;
    case "select":
      (e = n.value), e != null && qs(t, !!n.multiple, e, !1);
  }
};
g2 = i0;
y2 = Zi;
var GE = { usingClientEntryPoint: !1, Events: [Na, Ls, Qf, p2, m2, i0] },
  Jo = {
    findFiberByHostInstance: ji,
    bundleType: 0,
    version: "18.2.0",
    rendererPackageName: "react-dom",
  },
  YE = {
    bundleType: Jo.bundleType,
    version: Jo.version,
    rendererPackageName: Jo.rendererPackageName,
    rendererConfig: Jo.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setErrorHandler: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: Nr.ReactCurrentDispatcher,
    findHostInstanceByFiber: function (t) {
      return (t = b2(t)), t === null ? null : t.stateNode;
    },
    findFiberByHostInstance: Jo.findFiberByHostInstance || KE,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null,
    reconcilerVersion: "18.2.0-next-9e3b772b8-20220608",
  };
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
  var Cu = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (!Cu.isDisabled && Cu.supportsFiber)
    try {
      (qf = Cu.inject(YE)), (ar = Cu);
    } catch {}
}
Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = GE;
Zt.createPortal = function (t, e) {
  var n = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
  if (!f0(e)) throw Error(M(200));
  return UE(t, e, null, n);
};
Zt.createRoot = function (t, e) {
  if (!f0(t)) throw Error(M(299));
  var n = !1,
    r = "",
    i = Zx;
  return (
    e != null &&
      (e.unstable_strictMode === !0 && (n = !0),
      e.identifierPrefix !== void 0 && (r = e.identifierPrefix),
      e.onRecoverableError !== void 0 && (i = e.onRecoverableError)),
    (e = a0(t, 1, !1, null, null, n, !1, r, i)),
    (t[Mr] = e.current),
    Hl(t.nodeType === 8 ? t.parentNode : t),
    new c0(e)
  );
};
Zt.findDOMNode = function (t) {
  if (t == null) return null;
  if (t.nodeType === 1) return t;
  var e = t._reactInternals;
  if (e === void 0)
    throw typeof t.render == "function"
      ? Error(M(188))
      : ((t = Object.keys(t).join(",")), Error(M(268, t)));
  return (t = b2(e)), (t = t === null ? null : t.stateNode), t;
};
Zt.flushSync = function (t) {
  return Zi(t);
};
Zt.hydrate = function (t, e, n) {
  if (!oh(e)) throw Error(M(200));
  return lh(null, t, e, !0, n);
};
Zt.hydrateRoot = function (t, e, n) {
  if (!f0(t)) throw Error(M(405));
  var r = (n != null && n.hydratedSources) || null,
    i = !1,
    s = "",
    o = Zx;
  if (
    (n != null &&
      (n.unstable_strictMode === !0 && (i = !0),
      n.identifierPrefix !== void 0 && (s = n.identifierPrefix),
      n.onRecoverableError !== void 0 && (o = n.onRecoverableError)),
    (e = Jx(e, null, t, 1, n ?? null, i, !1, s, o)),
    (t[Mr] = e.current),
    Hl(t),
    r)
  )
    for (t = 0; t < r.length; t++)
      (n = r[t]),
        (i = n._getVersion),
        (i = i(n._source)),
        e.mutableSourceEagerHydrationData == null
          ? (e.mutableSourceEagerHydrationData = [n, i])
          : e.mutableSourceEagerHydrationData.push(n, i);
  return new sh(e);
};
Zt.render = function (t, e, n) {
  if (!oh(e)) throw Error(M(200));
  return lh(null, t, e, !1, n);
};
Zt.unmountComponentAtNode = function (t) {
  if (!oh(t)) throw Error(M(40));
  return t._reactRootContainer
    ? (Zi(function () {
        lh(null, null, t, !1, function () {
          (t._reactRootContainer = null), (t[Mr] = null);
        });
      }),
      !0)
    : !1;
};
Zt.unstable_batchedUpdates = i0;
Zt.unstable_renderSubtreeIntoContainer = function (t, e, n, r) {
  if (!oh(n)) throw Error(M(200));
  if (t == null || t._reactInternals === void 0) throw Error(M(38));
  return lh(t, e, n, !1, r);
};
Zt.version = "18.2.0-next-9e3b772b8-20220608";
function eS() {
  if (
    !(
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
    )
  )
    try {
      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eS);
    } catch (t) {
      console.error(t);
    }
}
eS(), (Jb.exports = Zt);
var tS = Jb.exports,
  Vy = tS;
(sp.createRoot = Vy.createRoot), (sp.hydrateRoot = Vy.hydrateRoot);
var h0 = xg(function (t, e) {
  var n = t.styles,
    r = Uf([n], void 0, H.useContext(Ra)),
    i = H.useRef();
  return (
    N1(
      function () {
        var s = e.key + "-global",
          o = new e.sheet.constructor({
            key: s,
            nonce: e.sheet.nonce,
            container: e.sheet.container,
            speedy: e.sheet.isSpeedy,
          }),
          l = !1,
          a = document.querySelector(
            'style[data-emotion="' + s + " " + r.name + '"]'
          );
        return (
          e.sheet.tags.length && (o.before = e.sheet.tags[0]),
          a !== null &&
            ((l = !0), a.setAttribute("data-emotion", s), o.hydrate([a])),
          (i.current = [o, l]),
          function () {
            o.flush();
          }
        );
      },
      [e]
    ),
    N1(
      function () {
        var s = i.current,
          o = s[0],
          l = s[1];
        if (l) {
          s[1] = !1;
          return;
        }
        if ((r.next !== void 0 && bg(e, r.next, !0), o.tags.length)) {
          var a = o.tags[o.tags.length - 1].nextElementSibling;
          (o.before = a), o.flush();
        }
        e.insert("", r, o, !1);
      },
      [e, r.name]
    ),
    null
  );
});
function ah() {
  for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
    e[n] = arguments[n];
  return Uf(e);
}
var XE = function () {
  var e = ah.apply(void 0, arguments),
    n = "animation-" + e.name;
  return {
    name: n,
    styles: "@keyframes " + n + "{" + e.styles + "}",
    anim: 1,
    toString: function () {
      return "_EMO_" + this.name + "_" + this.styles + "_EMO_";
    },
  };
};
function Z(t) {
  for (
    var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1;
    r < e;
    r++
  )
    n[r - 1] = arguments[r];
  throw new Error(
    typeof t == "number"
      ? "[MobX] minified error nr: " +
        t +
        (n.length ? " " + n.map(String).join(",") : "") +
        ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts"
      : "[MobX] " + t
  );
}
var QE = {};
function d0() {
  return typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
      ? window
      : typeof global < "u"
        ? global
        : typeof self < "u"
          ? self
          : QE;
}
var nS = Object.assign,
  ef = Object.getOwnPropertyDescriptor,
  cr = Object.defineProperty,
  $a = Object.prototype,
  Jp = [];
Object.freeze(Jp);
var p0 = {};
Object.freeze(p0);
var JE = typeof Proxy < "u",
  ZE = Object.toString();
function rS() {
  JE || Z("Proxy not available");
}
function iS(t) {
  var e = !1;
  return function () {
    if (!e) return (e = !0), t.apply(this, arguments);
  };
}
var js = function () {};
function Nn(t) {
  return typeof t == "function";
}
function es(t) {
  var e = typeof t;
  switch (e) {
    case "string":
    case "symbol":
    case "number":
      return !0;
  }
  return !1;
}
function uh(t) {
  return t !== null && typeof t == "object";
}
function xi(t) {
  if (!uh(t)) return !1;
  var e = Object.getPrototypeOf(t);
  if (e == null) return !0;
  var n = Object.hasOwnProperty.call(e, "constructor") && e.constructor;
  return typeof n == "function" && n.toString() === ZE;
}
function sS(t) {
  var e = t == null ? void 0 : t.constructor;
  return e
    ? e.name === "GeneratorFunction" || e.displayName === "GeneratorFunction"
    : !1;
}
function ch(t, e, n) {
  cr(t, e, { enumerable: !1, writable: !0, configurable: !0, value: n });
}
function oS(t, e, n) {
  cr(t, e, { enumerable: !1, writable: !1, configurable: !0, value: n });
}
function Pi(t, e) {
  var n = "isMobX" + t;
  return (
    (e.prototype[n] = !0),
    function (r) {
      return uh(r) && r[n] === !0;
    }
  );
}
function Ro(t) {
  return t instanceof Map;
}
function Fa(t) {
  return t instanceof Set;
}
var lS = typeof Object.getOwnPropertySymbols < "u";
function e5(t) {
  var e = Object.keys(t);
  if (!lS) return e;
  var n = Object.getOwnPropertySymbols(t);
  return n.length
    ? [].concat(
        e,
        n.filter(function (r) {
          return $a.propertyIsEnumerable.call(t, r);
        })
      )
    : e;
}
var fh =
  typeof Reflect < "u" && Reflect.ownKeys
    ? Reflect.ownKeys
    : lS
      ? function (t) {
          return Object.getOwnPropertyNames(t).concat(
            Object.getOwnPropertySymbols(t)
          );
        }
      : Object.getOwnPropertyNames;
function aS(t) {
  return t === null ? null : typeof t == "object" ? "" + t : t;
}
function _r(t, e) {
  return $a.hasOwnProperty.call(t, e);
}
var t5 =
  Object.getOwnPropertyDescriptors ||
  function (e) {
    var n = {};
    return (
      fh(e).forEach(function (r) {
        n[r] = ef(e, r);
      }),
      n
    );
  };
function Hy(t, e) {
  for (var n = 0; n < e.length; n++) {
    var r = e[n];
    (r.enumerable = r.enumerable || !1),
      (r.configurable = !0),
      "value" in r && (r.writable = !0),
      Object.defineProperty(t, i5(r.key), r);
  }
}
function m0(t, e, n) {
  return (
    e && Hy(t.prototype, e),
    n && Hy(t, n),
    Object.defineProperty(t, "prototype", { writable: !1 }),
    t
  );
}
function ts() {
  return (
    (ts = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    ts.apply(this, arguments)
  );
}
function uS(t, e) {
  (t.prototype = Object.create(e.prototype)),
    (t.prototype.constructor = t),
    Zp(t, e);
}
function Zp(t, e) {
  return (
    (Zp = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (r, i) {
          return (r.__proto__ = i), r;
        }),
    Zp(t, e)
  );
}
function Sd(t) {
  if (t === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called"
    );
  return t;
}
function n5(t, e) {
  if (t) {
    if (typeof t == "string") return Wy(t, e);
    var n = Object.prototype.toString.call(t).slice(8, -1);
    if (
      (n === "Object" && t.constructor && (n = t.constructor.name),
      n === "Map" || n === "Set")
    )
      return Array.from(t);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
      return Wy(t, e);
  }
}
function Wy(t, e) {
  (e == null || e > t.length) && (e = t.length);
  for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
  return r;
}
function Vs(t, e) {
  var n = (typeof Symbol < "u" && t[Symbol.iterator]) || t["@@iterator"];
  if (n) return (n = n.call(t)).next.bind(n);
  if (
    Array.isArray(t) ||
    (n = n5(t)) ||
    (e && t && typeof t.length == "number")
  ) {
    n && (t = n);
    var r = 0;
    return function () {
      return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function r5(t, e) {
  if (typeof t != "object" || t === null) return t;
  var n = t[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(t, e || "default");
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function i5(t) {
  var e = r5(t, "string");
  return typeof e == "symbol" ? e : String(e);
}
var ir = Symbol("mobx-stored-annotations");
function fr(t) {
  function e(n, r) {
    if (za(r)) return t.decorate_20223_(n, r);
    Lo(n, r, t);
  }
  return Object.assign(e, t);
}
function Lo(t, e, n) {
  _r(t, ir) || ch(t, ir, ts({}, t[ir])), d5(n) || (t[ir][e] = n);
}
function s5(t) {
  return _r(t, ir) || ch(t, ir, ts({}, t[ir])), t[ir];
}
function za(t) {
  return typeof t == "object" && typeof t.kind == "string";
}
var K = Symbol("mobx administration"),
  ja = (function () {
    function t(n) {
      n === void 0 && (n = "Atom"),
        (this.name_ = void 0),
        (this.isPendingUnobservation_ = !1),
        (this.isBeingObserved_ = !1),
        (this.observers_ = new Set()),
        (this.diffValue_ = 0),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = ie.NOT_TRACKING_),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        (this.name_ = n);
    }
    var e = t.prototype;
    return (
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (r) {
            return r();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (r) {
            return r();
          });
      }),
      (e.reportObserved = function () {
        return OS(this);
      }),
      (e.reportChanged = function () {
        fn(), MS(this), hn();
      }),
      (e.toString = function () {
        return this.name_;
      }),
      t
    );
  })(),
  g0 = Pi("Atom", ja);
function cS(t, e, n) {
  e === void 0 && (e = js), n === void 0 && (n = js);
  var r = new ja(t);
  return e !== js && b3(r, e), n !== js && LS(r, n), r;
}
function o5(t, e) {
  return t === e;
}
function l5(t, e) {
  return S0(t, e);
}
function a5(t, e) {
  return S0(t, e, 1);
}
function u5(t, e) {
  return Object.is
    ? Object.is(t, e)
    : t === e
      ? t !== 0 || 1 / t === 1 / e
      : t !== t && e !== e;
}
var go = { identity: o5, structural: l5, default: u5, shallow: a5 };
function ns(t, e, n) {
  return w0(t)
    ? t
    : Array.isArray(t)
      ? he.array(t, { name: n })
      : xi(t)
        ? he.object(t, void 0, { name: n })
        : Ro(t)
          ? he.map(t, { name: n })
          : Fa(t)
            ? he.set(t, { name: n })
            : typeof t == "function" && !gh(t) && !ea(t)
              ? sS(t)
                ? vo(t)
                : Zl(n, t)
              : t;
}
function c5(t, e, n) {
  if (t == null || wo(t) || Ka(t) || Di(t) || ps(t)) return t;
  if (Array.isArray(t)) return he.array(t, { name: n, deep: !1 });
  if (xi(t)) return he.object(t, void 0, { name: n, deep: !1 });
  if (Ro(t)) return he.map(t, { name: n, deep: !1 });
  if (Fa(t)) return he.set(t, { name: n, deep: !1 });
}
function hh(t) {
  return t;
}
function f5(t, e) {
  return S0(t, e) ? e : t;
}
var h5 = "override";
function d5(t) {
  return t.annotationType_ === h5;
}
function Va(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: p5,
    extend_: m5,
    decorate_20223_: g5,
  };
}
function p5(t, e, n, r) {
  var i;
  if ((i = this.options_) != null && i.bound)
    return this.extend_(t, e, n, !1) === null ? 0 : 1;
  if (r === t.target_) return this.extend_(t, e, n, !1) === null ? 0 : 2;
  if (gh(n.value)) return 1;
  var s = fS(t, this, e, n, !1);
  return cr(r, e, s), 2;
}
function m5(t, e, n, r) {
  var i = fS(t, this, e, n);
  return t.defineProperty_(e, i, r);
}
function g5(t, e) {
  var n = e.kind,
    r = e.name,
    i = e.addInitializer,
    s = this,
    o = function (u) {
      var c, f, h, d;
      return rs(
        (c = (f = s.options_) == null ? void 0 : f.name) != null
          ? c
          : r.toString(),
        u,
        (h = (d = s.options_) == null ? void 0 : d.autoAction) != null ? h : !1
      );
    };
  if (n == "field") {
    i(function () {
      Lo(this, r, s);
    });
    return;
  }
  if (n == "method") {
    var l;
    return (
      gh(t) || (t = o(t)),
      (l = this.options_) != null &&
        l.bound &&
        i(function () {
          var a = this,
            u = a[r].bind(a);
          (u.isMobxAction = !0), (a[r] = u);
        }),
      t
    );
  }
  Z(
    "Cannot apply '" +
      s.annotationType_ +
      "' to '" +
      String(r) +
      "' (kind: " +
      n +
      "):" +
      (`
'` +
        s.annotationType_ +
        "' can only be used on properties with a function value.")
  );
}
function y5(t, e, n, r) {
  e.annotationType_, r.value;
}
function fS(t, e, n, r, i) {
  var s, o, l, a, u, c, f;
  i === void 0 && (i = D.safeDescriptors), y5(t, e, n, r);
  var h = r.value;
  if ((s = e.options_) != null && s.bound) {
    var d;
    h = h.bind((d = t.proxy_) != null ? d : t.target_);
  }
  return {
    value: rs(
      (o = (l = e.options_) == null ? void 0 : l.name) != null
        ? o
        : n.toString(),
      h,
      (a = (u = e.options_) == null ? void 0 : u.autoAction) != null ? a : !1,
      (c = e.options_) != null && c.bound
        ? (f = t.proxy_) != null
          ? f
          : t.target_
        : void 0
    ),
    configurable: i ? t.isPlainObject_ : !0,
    enumerable: !1,
    writable: !i,
  };
}
function hS(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: v5,
    extend_: w5,
    decorate_20223_: b5,
  };
}
function v5(t, e, n, r) {
  var i;
  if (r === t.target_) return this.extend_(t, e, n, !1) === null ? 0 : 2;
  if (
    (i = this.options_) != null &&
    i.bound &&
    (!_r(t.target_, e) || !ea(t.target_[e])) &&
    this.extend_(t, e, n, !1) === null
  )
    return 0;
  if (ea(n.value)) return 1;
  var s = dS(t, this, e, n, !1, !1);
  return cr(r, e, s), 2;
}
function w5(t, e, n, r) {
  var i,
    s = dS(t, this, e, n, (i = this.options_) == null ? void 0 : i.bound);
  return t.defineProperty_(e, s, r);
}
function b5(t, e) {
  var n,
    r = e.name,
    i = e.addInitializer;
  return (
    ea(t) || (t = vo(t)),
    (n = this.options_) != null &&
      n.bound &&
      i(function () {
        var s = this,
          o = s[r].bind(s);
        (o.isMobXFlow = !0), (s[r] = o);
      }),
    t
  );
}
function x5(t, e, n, r) {
  e.annotationType_, r.value;
}
function dS(t, e, n, r, i, s) {
  s === void 0 && (s = D.safeDescriptors), x5(t, e, n, r);
  var o = r.value;
  if ((ea(o) || (o = vo(o)), i)) {
    var l;
    (o = o.bind((l = t.proxy_) != null ? l : t.target_)), (o.isMobXFlow = !0);
  }
  return {
    value: o,
    configurable: s ? t.isPlainObject_ : !0,
    enumerable: !1,
    writable: !s,
  };
}
function y0(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: S5,
    extend_: k5,
    decorate_20223_: C5,
  };
}
function S5(t, e, n) {
  return this.extend_(t, e, n, !1) === null ? 0 : 1;
}
function k5(t, e, n, r) {
  return (
    _5(t, this, e, n),
    t.defineComputedProperty_(
      e,
      ts({}, this.options_, { get: n.get, set: n.set }),
      r
    )
  );
}
function C5(t, e) {
  var n = this,
    r = e.name,
    i = e.addInitializer;
  return (
    i(function () {
      var s = Bo(this)[K],
        o = ts({}, n.options_, { get: t, context: this });
      o.name || (o.name = "ObservableObject." + r.toString()),
        s.values_.set(r, new yo(o));
    }),
    function () {
      return this[K].getObservablePropValue_(r);
    }
  );
}
function _5(t, e, n, r) {
  e.annotationType_, r.get;
}
function dh(t, e) {
  return {
    annotationType_: t,
    options_: e,
    make_: A5,
    extend_: O5,
    decorate_20223_: M5,
  };
}
function A5(t, e, n) {
  return this.extend_(t, e, n, !1) === null ? 0 : 1;
}
function O5(t, e, n, r) {
  var i, s;
  return (
    E5(t, this),
    t.defineObservableProperty_(
      e,
      n.value,
      (i = (s = this.options_) == null ? void 0 : s.enhancer) != null ? i : ns,
      r
    )
  );
}
function M5(t, e) {
  var n = this,
    r = e.kind,
    i = e.name,
    s = new WeakSet();
  function o(l, a) {
    var u,
      c,
      f = Bo(l)[K],
      h = new di(
        a,
        (u = (c = n.options_) == null ? void 0 : c.enhancer) != null ? u : ns,
        "ObservableObject." + i.toString(),
        !1
      );
    f.values_.set(i, h), s.add(l);
  }
  if (r == "accessor")
    return {
      get: function () {
        return (
          s.has(this) || o(this, t.get.call(this)),
          this[K].getObservablePropValue_(i)
        );
      },
      set: function (a) {
        return s.has(this) || o(this, a), this[K].setObservablePropValue_(i, a);
      },
      init: function (a) {
        return s.has(this) || o(this, a), a;
      },
    };
}
function E5(t, e, n, r) {
  e.annotationType_;
}
var T5 = "true",
  P5 = pS();
function pS(t) {
  return {
    annotationType_: T5,
    options_: t,
    make_: D5,
    extend_: R5,
    decorate_20223_: L5,
  };
}
function D5(t, e, n, r) {
  var i, s;
  if (n.get) return hi.make_(t, e, n, r);
  if (n.set) {
    var o = rs(e.toString(), n.set);
    return r === t.target_
      ? t.defineProperty_(e, {
          configurable: D.safeDescriptors ? t.isPlainObject_ : !0,
          set: o,
        }) === null
        ? 0
        : 2
      : (cr(r, e, { configurable: !0, set: o }), 2);
  }
  if (r !== t.target_ && typeof n.value == "function") {
    var l;
    if (sS(n.value)) {
      var a,
        u = (a = this.options_) != null && a.autoBind ? vo.bound : vo;
      return u.make_(t, e, n, r);
    }
    var c = (l = this.options_) != null && l.autoBind ? Zl.bound : Zl;
    return c.make_(t, e, n, r);
  }
  var f = ((i = this.options_) == null ? void 0 : i.deep) === !1 ? he.ref : he;
  if (
    typeof n.value == "function" &&
    (s = this.options_) != null &&
    s.autoBind
  ) {
    var h;
    n.value = n.value.bind((h = t.proxy_) != null ? h : t.target_);
  }
  return f.make_(t, e, n, r);
}
function R5(t, e, n, r) {
  var i, s;
  if (n.get) return hi.extend_(t, e, n, r);
  if (n.set)
    return t.defineProperty_(
      e,
      {
        configurable: D.safeDescriptors ? t.isPlainObject_ : !0,
        set: rs(e.toString(), n.set),
      },
      r
    );
  if (
    typeof n.value == "function" &&
    (i = this.options_) != null &&
    i.autoBind
  ) {
    var o;
    n.value = n.value.bind((o = t.proxy_) != null ? o : t.target_);
  }
  var l = ((s = this.options_) == null ? void 0 : s.deep) === !1 ? he.ref : he;
  return l.extend_(t, e, n, r);
}
function L5(t, e) {
  Z("'" + this.annotationType_ + "' cannot be used as a decorator");
}
var B5 = "observable",
  N5 = "observable.ref",
  I5 = "observable.shallow",
  $5 = "observable.struct",
  mS = { deep: !0, name: void 0, defaultDecorator: void 0, proxy: !0 };
Object.freeze(mS);
function _u(t) {
  return t || mS;
}
var em = dh(B5),
  F5 = dh(N5, { enhancer: hh }),
  z5 = dh(I5, { enhancer: c5 }),
  j5 = dh($5, { enhancer: f5 }),
  gS = fr(em);
function Au(t) {
  return t.deep === !0 ? ns : t.deep === !1 ? hh : H5(t.defaultDecorator);
}
function V5(t) {
  var e;
  return t ? ((e = t.defaultDecorator) != null ? e : pS(t)) : void 0;
}
function H5(t) {
  var e, n;
  return t && (e = (n = t.options_) == null ? void 0 : n.enhancer) != null
    ? e
    : ns;
}
function yS(t, e, n) {
  if (za(e)) return em.decorate_20223_(t, e);
  if (es(e)) {
    Lo(t, e, em);
    return;
  }
  return w0(t)
    ? t
    : xi(t)
      ? he.object(t, e, n)
      : Array.isArray(t)
        ? he.array(t, e)
        : Ro(t)
          ? he.map(t, e)
          : Fa(t)
            ? he.set(t, e)
            : typeof t == "object" && t !== null
              ? t
              : he.box(t, e);
}
nS(yS, gS);
var W5 = {
    box: function (e, n) {
      var r = _u(n);
      return new di(e, Au(r), r.name, !0, r.equals);
    },
    array: function (e, n) {
      var r = _u(n);
      return (D.useProxies === !1 || r.proxy === !1 ? q3 : I3)(
        e,
        Au(r),
        r.name
      );
    },
    map: function (e, n) {
      var r = _u(n);
      return new jS(e, Au(r), r.name);
    },
    set: function (e, n) {
      var r = _u(n);
      return new WS(e, Au(r), r.name);
    },
    object: function (e, n, r) {
      return ms(function () {
        return C3(
          D.useProxies === !1 || (r == null ? void 0 : r.proxy) === !1
            ? Bo({}, r)
            : R3({}, r),
          e,
          n
        );
      });
    },
    ref: fr(F5),
    shallow: fr(z5),
    deep: gS,
    struct: fr(j5),
  },
  he = nS(yS, W5),
  vS = "computed",
  U5 = "computed.struct",
  tm = y0(vS),
  K5 = y0(U5, { equals: go.structural }),
  hi = function (e, n) {
    if (za(n)) return tm.decorate_20223_(e, n);
    if (es(n)) return Lo(e, n, tm);
    if (xi(e)) return fr(y0(vS, e));
    var r = xi(n) ? n : {};
    return (r.get = e), r.name || (r.name = e.name || ""), new yo(r);
  };
Object.assign(hi, tm);
hi.struct = fr(K5);
var Uy,
  Ky,
  tf = 0,
  q5 = 1,
  G5 =
    (Uy =
      (Ky = ef(function () {}, "name")) == null ? void 0 : Ky.configurable) !=
    null
      ? Uy
      : !1,
  qy = { value: "action", configurable: !0, writable: !1, enumerable: !1 };
function rs(t, e, n, r) {
  n === void 0 && (n = !1);
  function i() {
    return Y5(t, n, e, r || this, arguments);
  }
  return (
    (i.isMobxAction = !0),
    (i.toString = function () {
      return e.toString();
    }),
    G5 && ((qy.value = t), cr(i, "name", qy)),
    i
  );
}
function Y5(t, e, n, r, i) {
  var s = X5(t, e);
  try {
    return n.apply(r, i);
  } catch (o) {
    throw ((s.error_ = o), o);
  } finally {
    Q5(s);
  }
}
function X5(t, e, n, r) {
  var i = !1,
    s = 0,
    o = D.trackingDerivation,
    l = !e || !o;
  fn();
  var a = D.allowStateChanges;
  l && (ds(), (a = ph(!0)));
  var u = v0(!0),
    c = {
      runAsAction_: l,
      prevDerivation_: o,
      prevAllowStateChanges_: a,
      prevAllowStateReads_: u,
      notifySpy_: i,
      startTime_: s,
      actionId_: q5++,
      parentActionId_: tf,
    };
  return (tf = c.actionId_), c;
}
function Q5(t) {
  tf !== t.actionId_ && Z(30),
    (tf = t.parentActionId_),
    t.error_ !== void 0 && (D.suppressReactionErrors = !0),
    mh(t.prevAllowStateChanges_),
    Cl(t.prevAllowStateReads_),
    hn(),
    t.runAsAction_ && Ar(t.prevDerivation_),
    (D.suppressReactionErrors = !1);
}
function J5(t, e) {
  var n = ph(t);
  try {
    return e();
  } finally {
    mh(n);
  }
}
function ph(t) {
  var e = D.allowStateChanges;
  return (D.allowStateChanges = t), e;
}
function mh(t) {
  D.allowStateChanges = t;
}
var wS;
wS = Symbol.toPrimitive;
var di = (function (t) {
    uS(e, t);
    function e(r, i, s, o, l) {
      var a;
      return (
        s === void 0 && (s = "ObservableValue"),
        l === void 0 && (l = go.default),
        (a = t.call(this, s) || this),
        (a.enhancer = void 0),
        (a.name_ = void 0),
        (a.equals = void 0),
        (a.hasUnreportedChange_ = !1),
        (a.interceptors_ = void 0),
        (a.changeListeners_ = void 0),
        (a.value_ = void 0),
        (a.dehancer = void 0),
        (a.enhancer = i),
        (a.name_ = s),
        (a.equals = l),
        (a.value_ = i(r, void 0, s)),
        a
      );
    }
    var n = e.prototype;
    return (
      (n.dehanceValue = function (i) {
        return this.dehancer !== void 0 ? this.dehancer(i) : i;
      }),
      (n.set = function (i) {
        this.value_,
          (i = this.prepareNewValue_(i)),
          i !== D.UNCHANGED && this.setNewValue_(i);
      }),
      (n.prepareNewValue_ = function (i) {
        if (ln(this)) {
          var s = an(this, { object: this, type: hr, newValue: i });
          if (!s) return D.UNCHANGED;
          i = s.newValue;
        }
        return (
          (i = this.enhancer(i, this.value_, this.name_)),
          this.equals(this.value_, i) ? D.UNCHANGED : i
        );
      }),
      (n.setNewValue_ = function (i) {
        var s = this.value_;
        (this.value_ = i),
          this.reportChanged(),
          Rn(this) &&
            Ln(this, { type: hr, object: this, newValue: i, oldValue: s });
      }),
      (n.get = function () {
        return this.reportObserved(), this.dehanceValue(this.value_);
      }),
      (n.intercept_ = function (i) {
        return Wa(this, i);
      }),
      (n.observe_ = function (i, s) {
        return (
          s &&
            i({
              observableKind: "value",
              debugObjectName: this.name_,
              object: this,
              type: hr,
              newValue: this.value_,
              oldValue: void 0,
            }),
          Ua(this, i)
        );
      }),
      (n.raw = function () {
        return this.value_;
      }),
      (n.toJSON = function () {
        return this.get();
      }),
      (n.toString = function () {
        return this.name_ + "[" + this.value_ + "]";
      }),
      (n.valueOf = function () {
        return aS(this.get());
      }),
      (n[wS] = function () {
        return this.valueOf();
      }),
      e
    );
  })(ja),
  Z5 = Pi("ObservableValue", di),
  bS;
bS = Symbol.toPrimitive;
var yo = (function () {
    function t(n) {
      (this.dependenciesState_ = ie.NOT_TRACKING_),
        (this.observing_ = []),
        (this.newObserving_ = null),
        (this.isBeingObserved_ = !1),
        (this.isPendingUnobservation_ = !1),
        (this.observers_ = new Set()),
        (this.diffValue_ = 0),
        (this.runId_ = 0),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = ie.UP_TO_DATE_),
        (this.unboundDepsCount_ = 0),
        (this.value_ = new rf(null)),
        (this.name_ = void 0),
        (this.triggeredBy_ = void 0),
        (this.isComputing_ = !1),
        (this.isRunningSetter_ = !1),
        (this.derivation = void 0),
        (this.setter_ = void 0),
        (this.isTracing_ = nf.NONE),
        (this.scope_ = void 0),
        (this.equals_ = void 0),
        (this.requiresReaction_ = void 0),
        (this.keepAlive_ = void 0),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        n.get || Z(31),
        (this.derivation = n.get),
        (this.name_ = n.name || "ComputedValue"),
        n.set && (this.setter_ = rs("ComputedValue-setter", n.set)),
        (this.equals_ =
          n.equals ||
          (n.compareStructural || n.struct ? go.structural : go.default)),
        (this.scope_ = n.context),
        (this.requiresReaction_ = n.requiresReaction),
        (this.keepAlive_ = !!n.keepAlive);
    }
    var e = t.prototype;
    return (
      (e.onBecomeStale_ = function () {
        i3(this);
      }),
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (r) {
            return r();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (r) {
            return r();
          });
      }),
      (e.get = function () {
        if (
          (this.isComputing_ && Z(32, this.name_, this.derivation),
          D.inBatch === 0 && this.observers_.size === 0 && !this.keepAlive_)
        )
          nm(this) &&
            (this.warnAboutUntrackedRead_(),
            fn(),
            (this.value_ = this.computeValue_(!1)),
            hn());
        else if ((OS(this), nm(this))) {
          var r = D.trackingContext;
          this.keepAlive_ && !r && (D.trackingContext = this),
            this.trackAndCompute() && r3(this),
            (D.trackingContext = r);
        }
        var i = this.value_;
        if (mc(i)) throw i.cause;
        return i;
      }),
      (e.set = function (r) {
        if (this.setter_) {
          this.isRunningSetter_ && Z(33, this.name_),
            (this.isRunningSetter_ = !0);
          try {
            this.setter_.call(this.scope_, r);
          } finally {
            this.isRunningSetter_ = !1;
          }
        } else Z(34, this.name_);
      }),
      (e.trackAndCompute = function () {
        var r = this.value_,
          i = this.dependenciesState_ === ie.NOT_TRACKING_,
          s = this.computeValue_(!0),
          o = i || mc(r) || mc(s) || !this.equals_(r, s);
        return o && (this.value_ = s), o;
      }),
      (e.computeValue_ = function (r) {
        this.isComputing_ = !0;
        var i = ph(!1),
          s;
        if (r) s = xS(this, this.derivation, this.scope_);
        else if (D.disableErrorBoundaries === !0)
          s = this.derivation.call(this.scope_);
        else
          try {
            s = this.derivation.call(this.scope_);
          } catch (o) {
            s = new rf(o);
          }
        return mh(i), (this.isComputing_ = !1), s;
      }),
      (e.suspend_ = function () {
        this.keepAlive_ || (rm(this), (this.value_ = void 0));
      }),
      (e.observe_ = function (r, i) {
        var s = this,
          o = !0,
          l = void 0;
        return p3(function () {
          var a = s.get();
          if (!o || i) {
            var u = ds();
            r({
              observableKind: "computed",
              debugObjectName: s.name_,
              type: hr,
              object: s,
              newValue: a,
              oldValue: l,
            }),
              Ar(u);
          }
          (o = !1), (l = a);
        });
      }),
      (e.warnAboutUntrackedRead_ = function () {}),
      (e.toString = function () {
        return this.name_ + "[" + this.derivation.toString() + "]";
      }),
      (e.valueOf = function () {
        return aS(this.get());
      }),
      (e[bS] = function () {
        return this.valueOf();
      }),
      t
    );
  })(),
  Ha = Pi("ComputedValue", yo),
  ie;
(function (t) {
  (t[(t.NOT_TRACKING_ = -1)] = "NOT_TRACKING_"),
    (t[(t.UP_TO_DATE_ = 0)] = "UP_TO_DATE_"),
    (t[(t.POSSIBLY_STALE_ = 1)] = "POSSIBLY_STALE_"),
    (t[(t.STALE_ = 2)] = "STALE_");
})(ie || (ie = {}));
var nf;
(function (t) {
  (t[(t.NONE = 0)] = "NONE"),
    (t[(t.LOG = 1)] = "LOG"),
    (t[(t.BREAK = 2)] = "BREAK");
})(nf || (nf = {}));
var rf = function (e) {
  (this.cause = void 0), (this.cause = e);
};
function mc(t) {
  return t instanceof rf;
}
function nm(t) {
  switch (t.dependenciesState_) {
    case ie.UP_TO_DATE_:
      return !1;
    case ie.NOT_TRACKING_:
    case ie.STALE_:
      return !0;
    case ie.POSSIBLY_STALE_: {
      for (
        var e = v0(!0), n = ds(), r = t.observing_, i = r.length, s = 0;
        s < i;
        s++
      ) {
        var o = r[s];
        if (Ha(o)) {
          if (D.disableErrorBoundaries) o.get();
          else
            try {
              o.get();
            } catch {
              return Ar(n), Cl(e), !0;
            }
          if (t.dependenciesState_ === ie.STALE_) return Ar(n), Cl(e), !0;
        }
      }
      return kS(t), Ar(n), Cl(e), !1;
    }
  }
}
function xS(t, e, n) {
  var r = v0(!0);
  kS(t),
    (t.newObserving_ = new Array(t.runId_ === 0 ? 100 : t.observing_.length)),
    (t.unboundDepsCount_ = 0),
    (t.runId_ = ++D.runId);
  var i = D.trackingDerivation;
  (D.trackingDerivation = t), D.inBatch++;
  var s;
  if (D.disableErrorBoundaries === !0) s = e.call(n);
  else
    try {
      s = e.call(n);
    } catch (o) {
      s = new rf(o);
    }
  return D.inBatch--, (D.trackingDerivation = i), e3(t), Cl(r), s;
}
function e3(t) {
  for (
    var e = t.observing_,
      n = (t.observing_ = t.newObserving_),
      r = ie.UP_TO_DATE_,
      i = 0,
      s = t.unboundDepsCount_,
      o = 0;
    o < s;
    o++
  ) {
    var l = n[o];
    l.diffValue_ === 0 && ((l.diffValue_ = 1), i !== o && (n[i] = l), i++),
      l.dependenciesState_ > r && (r = l.dependenciesState_);
  }
  for (n.length = i, t.newObserving_ = null, s = e.length; s--; ) {
    var a = e[s];
    a.diffValue_ === 0 && _S(a, t), (a.diffValue_ = 0);
  }
  for (; i--; ) {
    var u = n[i];
    u.diffValue_ === 1 && ((u.diffValue_ = 0), n3(u, t));
  }
  r !== ie.UP_TO_DATE_ && ((t.dependenciesState_ = r), t.onBecomeStale_());
}
function rm(t) {
  var e = t.observing_;
  t.observing_ = [];
  for (var n = e.length; n--; ) _S(e[n], t);
  t.dependenciesState_ = ie.NOT_TRACKING_;
}
function SS(t) {
  var e = ds();
  try {
    return t();
  } finally {
    Ar(e);
  }
}
function ds() {
  var t = D.trackingDerivation;
  return (D.trackingDerivation = null), t;
}
function Ar(t) {
  D.trackingDerivation = t;
}
function v0(t) {
  var e = D.allowStateReads;
  return (D.allowStateReads = t), e;
}
function Cl(t) {
  D.allowStateReads = t;
}
function kS(t) {
  if (t.dependenciesState_ !== ie.UP_TO_DATE_) {
    t.dependenciesState_ = ie.UP_TO_DATE_;
    for (var e = t.observing_, n = e.length; n--; )
      e[n].lowestObserverState_ = ie.UP_TO_DATE_;
  }
}
var gc = function () {
    (this.version = 6),
      (this.UNCHANGED = {}),
      (this.trackingDerivation = null),
      (this.trackingContext = null),
      (this.runId = 0),
      (this.mobxGuid = 0),
      (this.inBatch = 0),
      (this.pendingUnobservations = []),
      (this.pendingReactions = []),
      (this.isRunningReactions = !1),
      (this.allowStateChanges = !1),
      (this.allowStateReads = !0),
      (this.enforceActions = !0),
      (this.spyListeners = []),
      (this.globalReactionErrorHandlers = []),
      (this.computedRequiresReaction = !1),
      (this.reactionRequiresObservable = !1),
      (this.observableRequiresReaction = !1),
      (this.disableErrorBoundaries = !1),
      (this.suppressReactionErrors = !1),
      (this.useProxies = !0),
      (this.verifyProxies = !1),
      (this.safeDescriptors = !0);
  },
  yc = !0,
  CS = !1,
  D = (function () {
    var t = d0();
    return (
      t.__mobxInstanceCount > 0 && !t.__mobxGlobals && (yc = !1),
      t.__mobxGlobals &&
        t.__mobxGlobals.version !== new gc().version &&
        (yc = !1),
      yc
        ? t.__mobxGlobals
          ? ((t.__mobxInstanceCount += 1),
            t.__mobxGlobals.UNCHANGED || (t.__mobxGlobals.UNCHANGED = {}),
            t.__mobxGlobals)
          : ((t.__mobxInstanceCount = 1), (t.__mobxGlobals = new gc()))
        : (setTimeout(function () {
            CS || Z(35);
          }, 1),
          new gc())
    );
  })();
function t3() {
  if (
    ((D.pendingReactions.length || D.inBatch || D.isRunningReactions) && Z(36),
    (CS = !0),
    yc)
  ) {
    var t = d0();
    --t.__mobxInstanceCount === 0 && (t.__mobxGlobals = void 0), (D = new gc());
  }
}
function n3(t, e) {
  t.observers_.add(e),
    t.lowestObserverState_ > e.dependenciesState_ &&
      (t.lowestObserverState_ = e.dependenciesState_);
}
function _S(t, e) {
  t.observers_.delete(e), t.observers_.size === 0 && AS(t);
}
function AS(t) {
  t.isPendingUnobservation_ === !1 &&
    ((t.isPendingUnobservation_ = !0), D.pendingUnobservations.push(t));
}
function fn() {
  D.inBatch++;
}
function hn() {
  if (--D.inBatch === 0) {
    ES();
    for (var t = D.pendingUnobservations, e = 0; e < t.length; e++) {
      var n = t[e];
      (n.isPendingUnobservation_ = !1),
        n.observers_.size === 0 &&
          (n.isBeingObserved_ && ((n.isBeingObserved_ = !1), n.onBUO()),
          n instanceof yo && n.suspend_());
    }
    D.pendingUnobservations = [];
  }
}
function OS(t) {
  var e = D.trackingDerivation;
  return e !== null
    ? (e.runId_ !== t.lastAccessedBy_ &&
        ((t.lastAccessedBy_ = e.runId_),
        (e.newObserving_[e.unboundDepsCount_++] = t),
        !t.isBeingObserved_ &&
          D.trackingContext &&
          ((t.isBeingObserved_ = !0), t.onBO())),
      t.isBeingObserved_)
    : (t.observers_.size === 0 && D.inBatch > 0 && AS(t), !1);
}
function MS(t) {
  t.lowestObserverState_ !== ie.STALE_ &&
    ((t.lowestObserverState_ = ie.STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === ie.UP_TO_DATE_ && e.onBecomeStale_(),
        (e.dependenciesState_ = ie.STALE_);
    }));
}
function r3(t) {
  t.lowestObserverState_ !== ie.STALE_ &&
    ((t.lowestObserverState_ = ie.STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === ie.POSSIBLY_STALE_
        ? (e.dependenciesState_ = ie.STALE_)
        : e.dependenciesState_ === ie.UP_TO_DATE_ &&
          (t.lowestObserverState_ = ie.UP_TO_DATE_);
    }));
}
function i3(t) {
  t.lowestObserverState_ === ie.UP_TO_DATE_ &&
    ((t.lowestObserverState_ = ie.POSSIBLY_STALE_),
    t.observers_.forEach(function (e) {
      e.dependenciesState_ === ie.UP_TO_DATE_ &&
        ((e.dependenciesState_ = ie.POSSIBLY_STALE_), e.onBecomeStale_());
    }));
}
var Jl = (function () {
    function t(n, r, i, s) {
      n === void 0 && (n = "Reaction"),
        (this.name_ = void 0),
        (this.onInvalidate_ = void 0),
        (this.errorHandler_ = void 0),
        (this.requiresObservable_ = void 0),
        (this.observing_ = []),
        (this.newObserving_ = []),
        (this.dependenciesState_ = ie.NOT_TRACKING_),
        (this.diffValue_ = 0),
        (this.runId_ = 0),
        (this.unboundDepsCount_ = 0),
        (this.isDisposed_ = !1),
        (this.isScheduled_ = !1),
        (this.isTrackPending_ = !1),
        (this.isRunning_ = !1),
        (this.isTracing_ = nf.NONE),
        (this.name_ = n),
        (this.onInvalidate_ = r),
        (this.errorHandler_ = i),
        (this.requiresObservable_ = s);
    }
    var e = t.prototype;
    return (
      (e.onBecomeStale_ = function () {
        this.schedule_();
      }),
      (e.schedule_ = function () {
        this.isScheduled_ ||
          ((this.isScheduled_ = !0), D.pendingReactions.push(this), ES());
      }),
      (e.isScheduled = function () {
        return this.isScheduled_;
      }),
      (e.runReaction_ = function () {
        if (!this.isDisposed_) {
          fn(), (this.isScheduled_ = !1);
          var r = D.trackingContext;
          if (((D.trackingContext = this), nm(this))) {
            this.isTrackPending_ = !0;
            try {
              this.onInvalidate_();
            } catch (i) {
              this.reportExceptionInDerivation_(i);
            }
          }
          (D.trackingContext = r), hn();
        }
      }),
      (e.track = function (r) {
        if (!this.isDisposed_) {
          fn(), (this.isRunning_ = !0);
          var i = D.trackingContext;
          D.trackingContext = this;
          var s = xS(this, r, void 0);
          (D.trackingContext = i),
            (this.isRunning_ = !1),
            (this.isTrackPending_ = !1),
            this.isDisposed_ && rm(this),
            mc(s) && this.reportExceptionInDerivation_(s.cause),
            hn();
        }
      }),
      (e.reportExceptionInDerivation_ = function (r) {
        var i = this;
        if (this.errorHandler_) {
          this.errorHandler_(r, this);
          return;
        }
        if (D.disableErrorBoundaries) throw r;
        var s = "[mobx] uncaught error in '" + this + "'";
        D.suppressReactionErrors || console.error(s, r),
          D.globalReactionErrorHandlers.forEach(function (o) {
            return o(r, i);
          });
      }),
      (e.dispose = function () {
        this.isDisposed_ ||
          ((this.isDisposed_ = !0), this.isRunning_ || (fn(), rm(this), hn()));
      }),
      (e.getDisposer_ = function (r) {
        var i = this,
          s = function o() {
            i.dispose(),
              r == null ||
                r.removeEventListener == null ||
                r.removeEventListener("abort", o);
          };
        return (
          r == null ||
            r.addEventListener == null ||
            r.addEventListener("abort", s),
          (s[K] = this),
          s
        );
      }),
      (e.toString = function () {
        return "Reaction[" + this.name_ + "]";
      }),
      (e.trace = function (r) {}),
      t
    );
  })(),
  s3 = 100,
  im = function (e) {
    return e();
  };
function ES() {
  D.inBatch > 0 || D.isRunningReactions || im(o3);
}
function o3() {
  D.isRunningReactions = !0;
  for (var t = D.pendingReactions, e = 0; t.length > 0; ) {
    ++e === s3 &&
      (console.error("[mobx] cycle in reaction: " + t[0]), t.splice(0));
    for (var n = t.splice(0), r = 0, i = n.length; r < i; r++)
      n[r].runReaction_();
  }
  D.isRunningReactions = !1;
}
var sf = Pi("Reaction", Jl);
function l3(t) {
  var e = im;
  im = function (r) {
    return t(function () {
      return e(r);
    });
  };
}
function _l() {
  return !1;
}
function a3(t) {
  return (
    console.warn("[mobx.spy] Is a no-op in production builds"), function () {}
  );
}
var TS = "action",
  u3 = "action.bound",
  PS = "autoAction",
  c3 = "autoAction.bound",
  f3 = "<unnamed action>",
  sm = Va(TS),
  h3 = Va(u3, { bound: !0 }),
  om = Va(PS, { autoAction: !0 }),
  d3 = Va(c3, { autoAction: !0, bound: !0 });
function DS(t) {
  var e = function (r, i) {
    if (Nn(r)) return rs(r.name || f3, r, t);
    if (Nn(i)) return rs(r, i, t);
    if (za(i)) return (t ? om : sm).decorate_20223_(r, i);
    if (es(i)) return Lo(r, i, t ? om : sm);
    if (es(r)) return fr(Va(t ? PS : TS, { name: r, autoAction: t }));
  };
  return e;
}
var Be = DS(!1);
Object.assign(Be, sm);
var Zl = DS(!0);
Object.assign(Zl, om);
Be.bound = fr(h3);
Zl.bound = fr(d3);
function gh(t) {
  return Nn(t) && t.isMobxAction === !0;
}
function p3(t, e) {
  var n, r, i, s, o;
  e === void 0 && (e = p0);
  var l = (n = (r = e) == null ? void 0 : r.name) != null ? n : "Autorun",
    a = !e.scheduler && !e.delay,
    u;
  if (a)
    u = new Jl(
      l,
      function () {
        this.track(h);
      },
      e.onError,
      e.requiresObservable
    );
  else {
    var c = RS(e),
      f = !1;
    u = new Jl(
      l,
      function () {
        f ||
          ((f = !0),
          c(function () {
            (f = !1), u.isDisposed_ || u.track(h);
          }));
      },
      e.onError,
      e.requiresObservable
    );
  }
  function h() {
    t(u);
  }
  return (
    ((i = e) != null && (s = i.signal) != null && s.aborted) || u.schedule_(),
    u.getDisposer_((o = e) == null ? void 0 : o.signal)
  );
}
var m3 = function (e) {
  return e();
};
function RS(t) {
  return t.scheduler
    ? t.scheduler
    : t.delay
      ? function (e) {
          return setTimeout(e, t.delay);
        }
      : m3;
}
function g3(t, e, n) {
  var r, i, s, o;
  n === void 0 && (n = p0);
  var l = (r = n.name) != null ? r : "Reaction",
    a = Be(l, n.onError ? y3(n.onError, e) : e),
    u = !n.scheduler && !n.delay,
    c = RS(n),
    f = !0,
    h = !1,
    d,
    p = n.compareStructural ? go.structural : n.equals || go.default,
    m = new Jl(
      l,
      function () {
        f || u ? w() : h || ((h = !0), c(w));
      },
      n.onError,
      n.requiresObservable
    );
  function w() {
    if (((h = !1), !m.isDisposed_)) {
      var g = !1,
        y = d;
      m.track(function () {
        var v = J5(!1, function () {
          return t(m);
        });
        (g = f || !p(d, v)), (d = v);
      }),
        ((f && n.fireImmediately) || (!f && g)) && a(d, y, m),
        (f = !1);
    }
  }
  return (
    ((i = n) != null && (s = i.signal) != null && s.aborted) || m.schedule_(),
    m.getDisposer_((o = n) == null ? void 0 : o.signal)
  );
}
function y3(t, e) {
  return function () {
    try {
      return e.apply(this, arguments);
    } catch (n) {
      t.call(this, n);
    }
  };
}
var v3 = "onBO",
  w3 = "onBUO";
function b3(t, e, n) {
  return BS(v3, t, e, n);
}
function LS(t, e, n) {
  return BS(w3, t, e, n);
}
function BS(t, e, n, r) {
  var i = typeof r == "function" ? bo(e, n) : bo(e),
    s = Nn(r) ? r : n,
    o = t + "L";
  return (
    i[o] ? i[o].add(s) : (i[o] = new Set([s])),
    function () {
      var l = i[o];
      l && (l.delete(s), l.size === 0 && delete i[o]);
    }
  );
}
var x3 = "never",
  Ou = "always",
  S3 = "observed";
function k3(t) {
  t.isolateGlobalState === !0 && t3();
  var e = t.useProxies,
    n = t.enforceActions;
  if (
    (e !== void 0 &&
      (D.useProxies = e === Ou ? !0 : e === x3 ? !1 : typeof Proxy < "u"),
    e === "ifavailable" && (D.verifyProxies = !0),
    n !== void 0)
  ) {
    var r = n === Ou ? Ou : n === S3;
    (D.enforceActions = r), (D.allowStateChanges = !(r === !0 || r === Ou));
  }
  [
    "computedRequiresReaction",
    "reactionRequiresObservable",
    "observableRequiresReaction",
    "disableErrorBoundaries",
    "safeDescriptors",
  ].forEach(function (i) {
    i in t && (D[i] = !!t[i]);
  }),
    (D.allowStateReads = !D.observableRequiresReaction),
    t.reactionScheduler && l3(t.reactionScheduler);
}
function C3(t, e, n, r) {
  var i = t5(e);
  return (
    ms(function () {
      var s = Bo(t, r)[K];
      fh(i).forEach(function (o) {
        s.extend_(o, i[o], n && o in n ? n[o] : !0);
      });
    }),
    t
  );
}
function _3(t, e) {
  return NS(bo(t, e));
}
function NS(t) {
  var e = { name: t.name_ };
  return (
    t.observing_ &&
      t.observing_.length > 0 &&
      (e.dependencies = A3(t.observing_).map(NS)),
    e
  );
}
function A3(t) {
  return Array.from(new Set(t));
}
var O3 = 0;
function IS() {
  this.message = "FLOW_CANCELLED";
}
IS.prototype = Object.create(Error.prototype);
var kd = hS("flow"),
  M3 = hS("flow.bound", { bound: !0 }),
  vo = Object.assign(function (e, n) {
    if (za(n)) return kd.decorate_20223_(e, n);
    if (es(n)) return Lo(e, n, kd);
    var r = e,
      i = r.name || "<unnamed flow>",
      s = function () {
        var l = this,
          a = arguments,
          u = ++O3,
          c = Be(i + " - runid: " + u + " - init", r).apply(l, a),
          f,
          h = void 0,
          d = new Promise(function (p, m) {
            var w = 0;
            f = m;
            function g(b) {
              h = void 0;
              var x;
              try {
                x = Be(i + " - runid: " + u + " - yield " + w++, c.next).call(
                  c,
                  b
                );
              } catch (S) {
                return m(S);
              }
              v(x);
            }
            function y(b) {
              h = void 0;
              var x;
              try {
                x = Be(i + " - runid: " + u + " - yield " + w++, c.throw).call(
                  c,
                  b
                );
              } catch (S) {
                return m(S);
              }
              v(x);
            }
            function v(b) {
              if (Nn(b == null ? void 0 : b.then)) {
                b.then(v, m);
                return;
              }
              return b.done
                ? p(b.value)
                : ((h = Promise.resolve(b.value)), h.then(g, y));
            }
            g(void 0);
          });
        return (
          (d.cancel = Be(i + " - runid: " + u + " - cancel", function () {
            try {
              h && Gy(h);
              var p = c.return(void 0),
                m = Promise.resolve(p.value);
              m.then(js, js), Gy(m), f(new IS());
            } catch (w) {
              f(w);
            }
          })),
          d
        );
      };
    return (s.isMobXFlow = !0), s;
  }, kd);
vo.bound = fr(M3);
function Gy(t) {
  Nn(t.cancel) && t.cancel();
}
function ea(t) {
  return (t == null ? void 0 : t.isMobXFlow) === !0;
}
function E3(t, e) {
  return t
    ? e !== void 0
      ? wo(t)
        ? t[K].values_.has(e)
        : !1
      : wo(t) || !!t[K] || g0(t) || sf(t) || Ha(t)
    : !1;
}
function w0(t) {
  return E3(t);
}
function T3(t) {
  if (wo(t)) return t[K].ownKeys_();
  Z(38);
}
function Mu(t, e, n) {
  return t.set(e, n), n;
}
function As(t, e) {
  if (t == null || typeof t != "object" || t instanceof Date || !w0(t))
    return t;
  if (Z5(t) || Ha(t)) return As(t.get(), e);
  if (e.has(t)) return e.get(t);
  if (Ka(t)) {
    var n = Mu(e, t, new Array(t.length));
    return (
      t.forEach(function (o, l) {
        n[l] = As(o, e);
      }),
      n
    );
  }
  if (ps(t)) {
    var r = Mu(e, t, new Set());
    return (
      t.forEach(function (o) {
        r.add(As(o, e));
      }),
      r
    );
  }
  if (Di(t)) {
    var i = Mu(e, t, new Map());
    return (
      t.forEach(function (o, l) {
        i.set(l, As(o, e));
      }),
      i
    );
  } else {
    var s = Mu(e, t, {});
    return (
      T3(t).forEach(function (o) {
        $a.propertyIsEnumerable.call(t, o) && (s[o] = As(t[o], e));
      }),
      s
    );
  }
}
function P3(t, e) {
  return As(t, new Map());
}
function xr(t, e) {
  e === void 0 && (e = void 0), fn();
  try {
    return t.apply(e);
  } finally {
    hn();
  }
}
function ws(t) {
  return t[K];
}
var D3 = {
  has: function (e, n) {
    return ws(e).has_(n);
  },
  get: function (e, n) {
    return ws(e).get_(n);
  },
  set: function (e, n, r) {
    var i;
    return es(n) ? ((i = ws(e).set_(n, r, !0)) != null ? i : !0) : !1;
  },
  deleteProperty: function (e, n) {
    var r;
    return es(n) ? ((r = ws(e).delete_(n, !0)) != null ? r : !0) : !1;
  },
  defineProperty: function (e, n, r) {
    var i;
    return (i = ws(e).defineProperty_(n, r)) != null ? i : !0;
  },
  ownKeys: function (e) {
    return ws(e).ownKeys_();
  },
  preventExtensions: function (e) {
    Z(13);
  },
};
function R3(t, e) {
  var n, r;
  return (
    rS(),
    (t = Bo(t, e)),
    (r = (n = t[K]).proxy_) != null ? r : (n.proxy_ = new Proxy(t, D3))
  );
}
function ln(t) {
  return t.interceptors_ !== void 0 && t.interceptors_.length > 0;
}
function Wa(t, e) {
  var n = t.interceptors_ || (t.interceptors_ = []);
  return (
    n.push(e),
    iS(function () {
      var r = n.indexOf(e);
      r !== -1 && n.splice(r, 1);
    })
  );
}
function an(t, e) {
  var n = ds();
  try {
    for (
      var r = [].concat(t.interceptors_ || []), i = 0, s = r.length;
      i < s && ((e = r[i](e)), e && !e.type && Z(14), !!e);
      i++
    );
    return e;
  } finally {
    Ar(n);
  }
}
function Rn(t) {
  return t.changeListeners_ !== void 0 && t.changeListeners_.length > 0;
}
function Ua(t, e) {
  var n = t.changeListeners_ || (t.changeListeners_ = []);
  return (
    n.push(e),
    iS(function () {
      var r = n.indexOf(e);
      r !== -1 && n.splice(r, 1);
    })
  );
}
function Ln(t, e) {
  var n = ds(),
    r = t.changeListeners_;
  if (r) {
    r = r.slice();
    for (var i = 0, s = r.length; i < s; i++) r[i](e);
    Ar(n);
  }
}
function L3(t, e, n) {
  return (
    ms(function () {
      var r,
        i = Bo(t, n)[K];
      (r = e) != null || (e = s5(t)),
        fh(e).forEach(function (s) {
          return i.make_(s, e[s]);
        });
    }),
    t
  );
}
var Yy = "splice",
  hr = "update",
  B3 = 1e4,
  N3 = {
    get: function (e, n) {
      var r = e[K];
      return n === K
        ? r
        : n === "length"
          ? r.getArrayLength_()
          : typeof n == "string" && !isNaN(n)
            ? r.get_(parseInt(n))
            : _r(of, n)
              ? of[n]
              : e[n];
    },
    set: function (e, n, r) {
      var i = e[K];
      return (
        n === "length" && i.setArrayLength_(r),
        typeof n == "symbol" || isNaN(n) ? (e[n] = r) : i.set_(parseInt(n), r),
        !0
      );
    },
    preventExtensions: function () {
      Z(15);
    },
  },
  b0 = (function () {
    function t(n, r, i, s) {
      n === void 0 && (n = "ObservableArray"),
        (this.owned_ = void 0),
        (this.legacyMode_ = void 0),
        (this.atom_ = void 0),
        (this.values_ = []),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.enhancer_ = void 0),
        (this.dehancer = void 0),
        (this.proxy_ = void 0),
        (this.lastKnownLength_ = 0),
        (this.owned_ = i),
        (this.legacyMode_ = s),
        (this.atom_ = new ja(n)),
        (this.enhancer_ = function (o, l) {
          return r(o, l, "ObservableArray[..]");
        });
    }
    var e = t.prototype;
    return (
      (e.dehanceValue_ = function (r) {
        return this.dehancer !== void 0 ? this.dehancer(r) : r;
      }),
      (e.dehanceValues_ = function (r) {
        return this.dehancer !== void 0 && r.length > 0
          ? r.map(this.dehancer)
          : r;
      }),
      (e.intercept_ = function (r) {
        return Wa(this, r);
      }),
      (e.observe_ = function (r, i) {
        return (
          i === void 0 && (i = !1),
          i &&
            r({
              observableKind: "array",
              object: this.proxy_,
              debugObjectName: this.atom_.name_,
              type: "splice",
              index: 0,
              added: this.values_.slice(),
              addedCount: this.values_.length,
              removed: [],
              removedCount: 0,
            }),
          Ua(this, r)
        );
      }),
      (e.getArrayLength_ = function () {
        return this.atom_.reportObserved(), this.values_.length;
      }),
      (e.setArrayLength_ = function (r) {
        (typeof r != "number" || isNaN(r) || r < 0) && Z("Out of range: " + r);
        var i = this.values_.length;
        if (r !== i)
          if (r > i) {
            for (var s = new Array(r - i), o = 0; o < r - i; o++) s[o] = void 0;
            this.spliceWithArray_(i, 0, s);
          } else this.spliceWithArray_(r, i - r);
      }),
      (e.updateArrayLength_ = function (r, i) {
        r !== this.lastKnownLength_ && Z(16),
          (this.lastKnownLength_ += i),
          this.legacyMode_ && i > 0 && GS(r + i + 1);
      }),
      (e.spliceWithArray_ = function (r, i, s) {
        var o = this;
        this.atom_;
        var l = this.values_.length;
        if (
          (r === void 0
            ? (r = 0)
            : r > l
              ? (r = l)
              : r < 0 && (r = Math.max(0, l + r)),
          arguments.length === 1
            ? (i = l - r)
            : i == null
              ? (i = 0)
              : (i = Math.max(0, Math.min(i, l - r))),
          s === void 0 && (s = Jp),
          ln(this))
        ) {
          var a = an(this, {
            object: this.proxy_,
            type: Yy,
            index: r,
            removedCount: i,
            added: s,
          });
          if (!a) return Jp;
          (i = a.removedCount), (s = a.added);
        }
        if (
          ((s =
            s.length === 0
              ? s
              : s.map(function (f) {
                  return o.enhancer_(f, void 0);
                })),
          this.legacyMode_)
        ) {
          var u = s.length - i;
          this.updateArrayLength_(l, u);
        }
        var c = this.spliceItemsIntoValues_(r, i, s);
        return (
          (i !== 0 || s.length !== 0) && this.notifyArraySplice_(r, s, c),
          this.dehanceValues_(c)
        );
      }),
      (e.spliceItemsIntoValues_ = function (r, i, s) {
        if (s.length < B3) {
          var o;
          return (o = this.values_).splice.apply(o, [r, i].concat(s));
        } else {
          var l = this.values_.slice(r, r + i),
            a = this.values_.slice(r + i);
          this.values_.length += s.length - i;
          for (var u = 0; u < s.length; u++) this.values_[r + u] = s[u];
          for (var c = 0; c < a.length; c++)
            this.values_[r + s.length + c] = a[c];
          return l;
        }
      }),
      (e.notifyArrayChildUpdate_ = function (r, i, s) {
        var o = !this.owned_ && _l(),
          l = Rn(this),
          a =
            l || o
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  type: hr,
                  debugObjectName: this.atom_.name_,
                  index: r,
                  newValue: i,
                  oldValue: s,
                }
              : null;
        this.atom_.reportChanged(), l && Ln(this, a);
      }),
      (e.notifyArraySplice_ = function (r, i, s) {
        var o = !this.owned_ && _l(),
          l = Rn(this),
          a =
            l || o
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  debugObjectName: this.atom_.name_,
                  type: Yy,
                  index: r,
                  removed: s,
                  added: i,
                  removedCount: s.length,
                  addedCount: i.length,
                }
              : null;
        this.atom_.reportChanged(), l && Ln(this, a);
      }),
      (e.get_ = function (r) {
        if (this.legacyMode_ && r >= this.values_.length) {
          console.warn("[mobx] Out of bounds read: " + r);
          return;
        }
        return this.atom_.reportObserved(), this.dehanceValue_(this.values_[r]);
      }),
      (e.set_ = function (r, i) {
        var s = this.values_;
        if (
          (this.legacyMode_ && r > s.length && Z(17, r, s.length), r < s.length)
        ) {
          this.atom_;
          var o = s[r];
          if (ln(this)) {
            var l = an(this, {
              type: hr,
              object: this.proxy_,
              index: r,
              newValue: i,
            });
            if (!l) return;
            i = l.newValue;
          }
          i = this.enhancer_(i, o);
          var a = i !== o;
          a && ((s[r] = i), this.notifyArrayChildUpdate_(r, i, o));
        } else {
          for (
            var u = new Array(r + 1 - s.length), c = 0;
            c < u.length - 1;
            c++
          )
            u[c] = void 0;
          (u[u.length - 1] = i), this.spliceWithArray_(s.length, 0, u);
        }
      }),
      t
    );
  })();
function I3(t, e, n, r) {
  return (
    n === void 0 && (n = "ObservableArray"),
    r === void 0 && (r = !1),
    rS(),
    ms(function () {
      var i = new b0(n, e, r, !1);
      oS(i.values_, K, i);
      var s = new Proxy(i.values_, N3);
      return (i.proxy_ = s), t && t.length && i.spliceWithArray_(0, 0, t), s;
    })
  );
}
var of = {
  clear: function () {
    return this.splice(0);
  },
  replace: function (e) {
    var n = this[K];
    return n.spliceWithArray_(0, n.values_.length, e);
  },
  toJSON: function () {
    return this.slice();
  },
  splice: function (e, n) {
    for (
      var r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), s = 2;
      s < r;
      s++
    )
      i[s - 2] = arguments[s];
    var o = this[K];
    switch (arguments.length) {
      case 0:
        return [];
      case 1:
        return o.spliceWithArray_(e);
      case 2:
        return o.spliceWithArray_(e, n);
    }
    return o.spliceWithArray_(e, n, i);
  },
  spliceWithArray: function (e, n, r) {
    return this[K].spliceWithArray_(e, n, r);
  },
  push: function () {
    for (
      var e = this[K], n = arguments.length, r = new Array(n), i = 0;
      i < n;
      i++
    )
      r[i] = arguments[i];
    return e.spliceWithArray_(e.values_.length, 0, r), e.values_.length;
  },
  pop: function () {
    return this.splice(Math.max(this[K].values_.length - 1, 0), 1)[0];
  },
  shift: function () {
    return this.splice(0, 1)[0];
  },
  unshift: function () {
    for (
      var e = this[K], n = arguments.length, r = new Array(n), i = 0;
      i < n;
      i++
    )
      r[i] = arguments[i];
    return e.spliceWithArray_(0, 0, r), e.values_.length;
  },
  reverse: function () {
    return (
      D.trackingDerivation && Z(37, "reverse"),
      this.replace(this.slice().reverse()),
      this
    );
  },
  sort: function () {
    D.trackingDerivation && Z(37, "sort");
    var e = this.slice();
    return e.sort.apply(e, arguments), this.replace(e), this;
  },
  remove: function (e) {
    var n = this[K],
      r = n.dehanceValues_(n.values_).indexOf(e);
    return r > -1 ? (this.splice(r, 1), !0) : !1;
  },
};
ve("at", tn);
ve("concat", tn);
ve("flat", tn);
ve("includes", tn);
ve("indexOf", tn);
ve("join", tn);
ve("lastIndexOf", tn);
ve("slice", tn);
ve("toString", tn);
ve("toLocaleString", tn);
ve("toSorted", tn);
ve("toSpliced", tn);
ve("with", tn);
ve("every", Fn);
ve("filter", Fn);
ve("find", Fn);
ve("findIndex", Fn);
ve("findLast", Fn);
ve("findLastIndex", Fn);
ve("flatMap", Fn);
ve("forEach", Fn);
ve("map", Fn);
ve("some", Fn);
ve("toReversed", Fn);
ve("reduce", $S);
ve("reduceRight", $S);
function ve(t, e) {
  typeof Array.prototype[t] == "function" && (of[t] = e(t));
}
function tn(t) {
  return function () {
    var e = this[K];
    e.atom_.reportObserved();
    var n = e.dehanceValues_(e.values_);
    return n[t].apply(n, arguments);
  };
}
function Fn(t) {
  return function (e, n) {
    var r = this,
      i = this[K];
    i.atom_.reportObserved();
    var s = i.dehanceValues_(i.values_);
    return s[t](function (o, l) {
      return e.call(n, o, l, r);
    });
  };
}
function $S(t) {
  return function () {
    var e = this,
      n = this[K];
    n.atom_.reportObserved();
    var r = n.dehanceValues_(n.values_),
      i = arguments[0];
    return (
      (arguments[0] = function (s, o, l) {
        return i(s, o, l, e);
      }),
      r[t].apply(r, arguments)
    );
  };
}
var $3 = Pi("ObservableArrayAdministration", b0);
function Ka(t) {
  return uh(t) && $3(t[K]);
}
var FS,
  zS,
  F3 = {},
  Zr = "add",
  lf = "delete";
FS = Symbol.iterator;
zS = Symbol.toStringTag;
var jS = (function () {
    function t(n, r, i) {
      var s = this;
      r === void 0 && (r = ns),
        i === void 0 && (i = "ObservableMap"),
        (this.enhancer_ = void 0),
        (this.name_ = void 0),
        (this[K] = F3),
        (this.data_ = void 0),
        (this.hasMap_ = void 0),
        (this.keysAtom_ = void 0),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = r),
        (this.name_ = i),
        Nn(Map) || Z(18),
        ms(function () {
          (s.keysAtom_ = cS("ObservableMap.keys()")),
            (s.data_ = new Map()),
            (s.hasMap_ = new Map()),
            n && s.merge(n);
        });
    }
    var e = t.prototype;
    return (
      (e.has_ = function (r) {
        return this.data_.has(r);
      }),
      (e.has = function (r) {
        var i = this;
        if (!D.trackingDerivation) return this.has_(r);
        var s = this.hasMap_.get(r);
        if (!s) {
          var o = (s = new di(this.has_(r), hh, "ObservableMap.key?", !1));
          this.hasMap_.set(r, o),
            LS(o, function () {
              return i.hasMap_.delete(r);
            });
        }
        return s.get();
      }),
      (e.set = function (r, i) {
        var s = this.has_(r);
        if (ln(this)) {
          var o = an(this, {
            type: s ? hr : Zr,
            object: this,
            newValue: i,
            name: r,
          });
          if (!o) return this;
          i = o.newValue;
        }
        return s ? this.updateValue_(r, i) : this.addValue_(r, i), this;
      }),
      (e.delete = function (r) {
        var i = this;
        if ((this.keysAtom_, ln(this))) {
          var s = an(this, { type: lf, object: this, name: r });
          if (!s) return !1;
        }
        if (this.has_(r)) {
          var o = _l(),
            l = Rn(this),
            a =
              l || o
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: lf,
                    object: this,
                    oldValue: this.data_.get(r).value_,
                    name: r,
                  }
                : null;
          return (
            xr(function () {
              var u;
              i.keysAtom_.reportChanged(),
                (u = i.hasMap_.get(r)) == null || u.setNewValue_(!1);
              var c = i.data_.get(r);
              c.setNewValue_(void 0), i.data_.delete(r);
            }),
            l && Ln(this, a),
            !0
          );
        }
        return !1;
      }),
      (e.updateValue_ = function (r, i) {
        var s = this.data_.get(r);
        if (((i = s.prepareNewValue_(i)), i !== D.UNCHANGED)) {
          var o = _l(),
            l = Rn(this),
            a =
              l || o
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: hr,
                    object: this,
                    oldValue: s.value_,
                    name: r,
                    newValue: i,
                  }
                : null;
          s.setNewValue_(i), l && Ln(this, a);
        }
      }),
      (e.addValue_ = function (r, i) {
        var s = this;
        this.keysAtom_,
          xr(function () {
            var u,
              c = new di(i, s.enhancer_, "ObservableMap.key", !1);
            s.data_.set(r, c),
              (i = c.value_),
              (u = s.hasMap_.get(r)) == null || u.setNewValue_(!0),
              s.keysAtom_.reportChanged();
          });
        var o = _l(),
          l = Rn(this),
          a =
            l || o
              ? {
                  observableKind: "map",
                  debugObjectName: this.name_,
                  type: Zr,
                  object: this,
                  name: r,
                  newValue: i,
                }
              : null;
        l && Ln(this, a);
      }),
      (e.get = function (r) {
        return this.has(r)
          ? this.dehanceValue_(this.data_.get(r).get())
          : this.dehanceValue_(void 0);
      }),
      (e.dehanceValue_ = function (r) {
        return this.dehancer !== void 0 ? this.dehancer(r) : r;
      }),
      (e.keys = function () {
        return this.keysAtom_.reportObserved(), this.data_.keys();
      }),
      (e.values = function () {
        var r = this,
          i = this.keys();
        return ta({
          next: function () {
            var o = i.next(),
              l = o.done,
              a = o.value;
            return { done: l, value: l ? void 0 : r.get(a) };
          },
        });
      }),
      (e.entries = function () {
        var r = this,
          i = this.keys();
        return ta({
          next: function () {
            var o = i.next(),
              l = o.done,
              a = o.value;
            return { done: l, value: l ? void 0 : [a, r.get(a)] };
          },
        });
      }),
      (e[FS] = function () {
        return this.entries();
      }),
      (e.forEach = function (r, i) {
        for (var s = Vs(this), o; !(o = s()).done; ) {
          var l = o.value,
            a = l[0],
            u = l[1];
          r.call(i, u, a, this);
        }
      }),
      (e.merge = function (r) {
        var i = this;
        return (
          Di(r) && (r = new Map(r)),
          xr(function () {
            xi(r)
              ? e5(r).forEach(function (s) {
                  return i.set(s, r[s]);
                })
              : Array.isArray(r)
                ? r.forEach(function (s) {
                    var o = s[0],
                      l = s[1];
                    return i.set(o, l);
                  })
                : Ro(r)
                  ? (r.constructor !== Map && Z(19, r),
                    r.forEach(function (s, o) {
                      return i.set(o, s);
                    }))
                  : r != null && Z(20, r);
          }),
          this
        );
      }),
      (e.clear = function () {
        var r = this;
        xr(function () {
          SS(function () {
            for (var i = Vs(r.keys()), s; !(s = i()).done; ) {
              var o = s.value;
              r.delete(o);
            }
          });
        });
      }),
      (e.replace = function (r) {
        var i = this;
        return (
          xr(function () {
            for (
              var s = z3(r), o = new Map(), l = !1, a = Vs(i.data_.keys()), u;
              !(u = a()).done;

            ) {
              var c = u.value;
              if (!s.has(c)) {
                var f = i.delete(c);
                if (f) l = !0;
                else {
                  var h = i.data_.get(c);
                  o.set(c, h);
                }
              }
            }
            for (var d = Vs(s.entries()), p; !(p = d()).done; ) {
              var m = p.value,
                w = m[0],
                g = m[1],
                y = i.data_.has(w);
              if ((i.set(w, g), i.data_.has(w))) {
                var v = i.data_.get(w);
                o.set(w, v), y || (l = !0);
              }
            }
            if (!l)
              if (i.data_.size !== o.size) i.keysAtom_.reportChanged();
              else
                for (
                  var b = i.data_.keys(),
                    x = o.keys(),
                    S = b.next(),
                    k = x.next();
                  !S.done;

                ) {
                  if (S.value !== k.value) {
                    i.keysAtom_.reportChanged();
                    break;
                  }
                  (S = b.next()), (k = x.next());
                }
            i.data_ = o;
          }),
          this
        );
      }),
      (e.toString = function () {
        return "[object ObservableMap]";
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.observe_ = function (r, i) {
        return Ua(this, r);
      }),
      (e.intercept_ = function (r) {
        return Wa(this, r);
      }),
      m0(t, [
        {
          key: "size",
          get: function () {
            return this.keysAtom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: zS,
          get: function () {
            return "Map";
          },
        },
      ]),
      t
    );
  })(),
  Di = Pi("ObservableMap", jS);
function z3(t) {
  if (Ro(t) || Di(t)) return t;
  if (Array.isArray(t)) return new Map(t);
  if (xi(t)) {
    var e = new Map();
    for (var n in t) e.set(n, t[n]);
    return e;
  } else return Z(21, t);
}
var VS,
  HS,
  j3 = {};
VS = Symbol.iterator;
HS = Symbol.toStringTag;
var WS = (function () {
    function t(n, r, i) {
      var s = this;
      r === void 0 && (r = ns),
        i === void 0 && (i = "ObservableSet"),
        (this.name_ = void 0),
        (this[K] = j3),
        (this.data_ = new Set()),
        (this.atom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = void 0),
        (this.name_ = i),
        Nn(Set) || Z(22),
        (this.enhancer_ = function (o, l) {
          return r(o, l, i);
        }),
        ms(function () {
          (s.atom_ = cS(s.name_)), n && s.replace(n);
        });
    }
    var e = t.prototype;
    return (
      (e.dehanceValue_ = function (r) {
        return this.dehancer !== void 0 ? this.dehancer(r) : r;
      }),
      (e.clear = function () {
        var r = this;
        xr(function () {
          SS(function () {
            for (var i = Vs(r.data_.values()), s; !(s = i()).done; ) {
              var o = s.value;
              r.delete(o);
            }
          });
        });
      }),
      (e.forEach = function (r, i) {
        for (var s = Vs(this), o; !(o = s()).done; ) {
          var l = o.value;
          r.call(i, l, l, this);
        }
      }),
      (e.add = function (r) {
        var i = this;
        if ((this.atom_, ln(this))) {
          var s = an(this, { type: Zr, object: this, newValue: r });
          if (!s) return this;
        }
        if (!this.has(r)) {
          xr(function () {
            i.data_.add(i.enhancer_(r, void 0)), i.atom_.reportChanged();
          });
          var o = !1,
            l = Rn(this),
            a =
              l || o
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: Zr,
                    object: this,
                    newValue: r,
                  }
                : null;
          l && Ln(this, a);
        }
        return this;
      }),
      (e.delete = function (r) {
        var i = this;
        if (ln(this)) {
          var s = an(this, { type: lf, object: this, oldValue: r });
          if (!s) return !1;
        }
        if (this.has(r)) {
          var o = !1,
            l = Rn(this),
            a =
              l || o
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: lf,
                    object: this,
                    oldValue: r,
                  }
                : null;
          return (
            xr(function () {
              i.atom_.reportChanged(), i.data_.delete(r);
            }),
            l && Ln(this, a),
            !0
          );
        }
        return !1;
      }),
      (e.has = function (r) {
        return (
          this.atom_.reportObserved(), this.data_.has(this.dehanceValue_(r))
        );
      }),
      (e.entries = function () {
        var r = 0,
          i = Array.from(this.keys()),
          s = Array.from(this.values());
        return ta({
          next: function () {
            var l = r;
            return (
              (r += 1),
              l < s.length ? { value: [i[l], s[l]], done: !1 } : { done: !0 }
            );
          },
        });
      }),
      (e.keys = function () {
        return this.values();
      }),
      (e.values = function () {
        this.atom_.reportObserved();
        var r = this,
          i = 0,
          s = Array.from(this.data_.values());
        return ta({
          next: function () {
            return i < s.length
              ? { value: r.dehanceValue_(s[i++]), done: !1 }
              : { done: !0 };
          },
        });
      }),
      (e.replace = function (r) {
        var i = this;
        return (
          ps(r) && (r = new Set(r)),
          xr(function () {
            Array.isArray(r)
              ? (i.clear(),
                r.forEach(function (s) {
                  return i.add(s);
                }))
              : Fa(r)
                ? (i.clear(),
                  r.forEach(function (s) {
                    return i.add(s);
                  }))
                : r != null && Z("Cannot initialize set from " + r);
          }),
          this
        );
      }),
      (e.observe_ = function (r, i) {
        return Ua(this, r);
      }),
      (e.intercept_ = function (r) {
        return Wa(this, r);
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.toString = function () {
        return "[object ObservableSet]";
      }),
      (e[VS] = function () {
        return this.values();
      }),
      m0(t, [
        {
          key: "size",
          get: function () {
            return this.atom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: HS,
          get: function () {
            return "Set";
          },
        },
      ]),
      t
    );
  })(),
  ps = Pi("ObservableSet", WS),
  Xy = Object.create(null),
  Qy = "remove",
  US = (function () {
    function t(n, r, i, s) {
      r === void 0 && (r = new Map()),
        s === void 0 && (s = P5),
        (this.target_ = void 0),
        (this.values_ = void 0),
        (this.name_ = void 0),
        (this.defaultAnnotation_ = void 0),
        (this.keysAtom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.proxy_ = void 0),
        (this.isPlainObject_ = void 0),
        (this.appliedAnnotations_ = void 0),
        (this.pendingKeys_ = void 0),
        (this.target_ = n),
        (this.values_ = r),
        (this.name_ = i),
        (this.defaultAnnotation_ = s),
        (this.keysAtom_ = new ja("ObservableObject.keys")),
        (this.isPlainObject_ = xi(this.target_));
    }
    var e = t.prototype;
    return (
      (e.getObservablePropValue_ = function (r) {
        return this.values_.get(r).get();
      }),
      (e.setObservablePropValue_ = function (r, i) {
        var s = this.values_.get(r);
        if (s instanceof yo) return s.set(i), !0;
        if (ln(this)) {
          var o = an(this, {
            type: hr,
            object: this.proxy_ || this.target_,
            name: r,
            newValue: i,
          });
          if (!o) return null;
          i = o.newValue;
        }
        if (((i = s.prepareNewValue_(i)), i !== D.UNCHANGED)) {
          var l = Rn(this),
            a = !1,
            u =
              l || a
                ? {
                    type: hr,
                    observableKind: "object",
                    debugObjectName: this.name_,
                    object: this.proxy_ || this.target_,
                    oldValue: s.value_,
                    name: r,
                    newValue: i,
                  }
                : null;
          s.setNewValue_(i), l && Ln(this, u);
        }
        return !0;
      }),
      (e.get_ = function (r) {
        return (
          D.trackingDerivation && !_r(this.target_, r) && this.has_(r),
          this.target_[r]
        );
      }),
      (e.set_ = function (r, i, s) {
        return (
          s === void 0 && (s = !1),
          _r(this.target_, r)
            ? this.values_.has(r)
              ? this.setObservablePropValue_(r, i)
              : s
                ? Reflect.set(this.target_, r, i)
                : ((this.target_[r] = i), !0)
            : this.extend_(
                r,
                { value: i, enumerable: !0, writable: !0, configurable: !0 },
                this.defaultAnnotation_,
                s
              )
        );
      }),
      (e.has_ = function (r) {
        if (!D.trackingDerivation) return r in this.target_;
        this.pendingKeys_ || (this.pendingKeys_ = new Map());
        var i = this.pendingKeys_.get(r);
        return (
          i ||
            ((i = new di(r in this.target_, hh, "ObservableObject.key?", !1)),
            this.pendingKeys_.set(r, i)),
          i.get()
        );
      }),
      (e.make_ = function (r, i) {
        if ((i === !0 && (i = this.defaultAnnotation_), i !== !1)) {
          if (!(r in this.target_)) {
            var s;
            if ((s = this.target_[ir]) != null && s[r]) return;
            Z(1, i.annotationType_, this.name_ + "." + r.toString());
          }
          for (var o = this.target_; o && o !== $a; ) {
            var l = ef(o, r);
            if (l) {
              var a = i.make_(this, r, l, o);
              if (a === 0) return;
              if (a === 1) break;
            }
            o = Object.getPrototypeOf(o);
          }
          Zy(this, i, r);
        }
      }),
      (e.extend_ = function (r, i, s, o) {
        if (
          (o === void 0 && (o = !1),
          s === !0 && (s = this.defaultAnnotation_),
          s === !1)
        )
          return this.defineProperty_(r, i, o);
        var l = s.extend_(this, r, i, o);
        return l && Zy(this, s, r), l;
      }),
      (e.defineProperty_ = function (r, i, s) {
        s === void 0 && (s = !1), this.keysAtom_;
        try {
          fn();
          var o = this.delete_(r);
          if (!o) return o;
          if (ln(this)) {
            var l = an(this, {
              object: this.proxy_ || this.target_,
              name: r,
              type: Zr,
              newValue: i.value,
            });
            if (!l) return null;
            var a = l.newValue;
            i.value !== a && (i = ts({}, i, { value: a }));
          }
          if (s) {
            if (!Reflect.defineProperty(this.target_, r, i)) return !1;
          } else cr(this.target_, r, i);
          this.notifyPropertyAddition_(r, i.value);
        } finally {
          hn();
        }
        return !0;
      }),
      (e.defineObservableProperty_ = function (r, i, s, o) {
        o === void 0 && (o = !1), this.keysAtom_;
        try {
          fn();
          var l = this.delete_(r);
          if (!l) return l;
          if (ln(this)) {
            var a = an(this, {
              object: this.proxy_ || this.target_,
              name: r,
              type: Zr,
              newValue: i,
            });
            if (!a) return null;
            i = a.newValue;
          }
          var u = Jy(r),
            c = {
              configurable: D.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !0,
              get: u.get,
              set: u.set,
            };
          if (o) {
            if (!Reflect.defineProperty(this.target_, r, c)) return !1;
          } else cr(this.target_, r, c);
          var f = new di(i, s, "ObservableObject.key", !1);
          this.values_.set(r, f), this.notifyPropertyAddition_(r, f.value_);
        } finally {
          hn();
        }
        return !0;
      }),
      (e.defineComputedProperty_ = function (r, i, s) {
        s === void 0 && (s = !1), this.keysAtom_;
        try {
          fn();
          var o = this.delete_(r);
          if (!o) return o;
          if (ln(this)) {
            var l = an(this, {
              object: this.proxy_ || this.target_,
              name: r,
              type: Zr,
              newValue: void 0,
            });
            if (!l) return null;
          }
          i.name || (i.name = "ObservableObject.key"),
            (i.context = this.proxy_ || this.target_);
          var a = Jy(r),
            u = {
              configurable: D.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !1,
              get: a.get,
              set: a.set,
            };
          if (s) {
            if (!Reflect.defineProperty(this.target_, r, u)) return !1;
          } else cr(this.target_, r, u);
          this.values_.set(r, new yo(i)),
            this.notifyPropertyAddition_(r, void 0);
        } finally {
          hn();
        }
        return !0;
      }),
      (e.delete_ = function (r, i) {
        if ((i === void 0 && (i = !1), this.keysAtom_, !_r(this.target_, r)))
          return !0;
        if (ln(this)) {
          var s = an(this, {
            object: this.proxy_ || this.target_,
            name: r,
            type: Qy,
          });
          if (!s) return null;
        }
        try {
          var o, l;
          fn();
          var a = Rn(this),
            u = !1,
            c = this.values_.get(r),
            f = void 0;
          if (!c && (a || u)) {
            var h;
            f = (h = ef(this.target_, r)) == null ? void 0 : h.value;
          }
          if (i) {
            if (!Reflect.deleteProperty(this.target_, r)) return !1;
          } else delete this.target_[r];
          if (
            (c &&
              (this.values_.delete(r),
              c instanceof di && (f = c.value_),
              MS(c)),
            this.keysAtom_.reportChanged(),
            (o = this.pendingKeys_) == null ||
              (l = o.get(r)) == null ||
              l.set(r in this.target_),
            a || u)
          ) {
            var d = {
              type: Qy,
              observableKind: "object",
              object: this.proxy_ || this.target_,
              debugObjectName: this.name_,
              oldValue: f,
              name: r,
            };
            a && Ln(this, d);
          }
        } finally {
          hn();
        }
        return !0;
      }),
      (e.observe_ = function (r, i) {
        return Ua(this, r);
      }),
      (e.intercept_ = function (r) {
        return Wa(this, r);
      }),
      (e.notifyPropertyAddition_ = function (r, i) {
        var s,
          o,
          l = Rn(this),
          a = !1;
        if (l || a) {
          var u =
            l || a
              ? {
                  type: Zr,
                  observableKind: "object",
                  debugObjectName: this.name_,
                  object: this.proxy_ || this.target_,
                  name: r,
                  newValue: i,
                }
              : null;
          l && Ln(this, u);
        }
        (s = this.pendingKeys_) == null || (o = s.get(r)) == null || o.set(!0),
          this.keysAtom_.reportChanged();
      }),
      (e.ownKeys_ = function () {
        return this.keysAtom_.reportObserved(), fh(this.target_);
      }),
      (e.keys_ = function () {
        return this.keysAtom_.reportObserved(), Object.keys(this.target_);
      }),
      t
    );
  })();
function Bo(t, e) {
  var n;
  if (_r(t, K)) return t;
  var r = (n = e == null ? void 0 : e.name) != null ? n : "ObservableObject",
    i = new US(t, new Map(), String(r), V5(e));
  return ch(t, K, i), t;
}
var V3 = Pi("ObservableObjectAdministration", US);
function Jy(t) {
  return (
    Xy[t] ||
    (Xy[t] = {
      get: function () {
        return this[K].getObservablePropValue_(t);
      },
      set: function (n) {
        return this[K].setObservablePropValue_(t, n);
      },
    })
  );
}
function wo(t) {
  return uh(t) ? V3(t[K]) : !1;
}
function Zy(t, e, n) {
  var r;
  (r = t.target_[ir]) == null || delete r[n];
}
var H3 = qS(0),
  W3 = (function () {
    var t = !1,
      e = {};
    return (
      Object.defineProperty(e, "0", {
        set: function () {
          t = !0;
        },
      }),
      (Object.create(e)[0] = 1),
      t === !1
    );
  })(),
  Cd = 0,
  KS = function () {};
function U3(t, e) {
  Object.setPrototypeOf
    ? Object.setPrototypeOf(t.prototype, e)
    : t.prototype.__proto__ !== void 0
      ? (t.prototype.__proto__ = e)
      : (t.prototype = e);
}
U3(KS, Array.prototype);
var x0 = (function (t, e, n) {
  uS(r, t);
  function r(s, o, l, a) {
    var u;
    return (
      l === void 0 && (l = "ObservableArray"),
      a === void 0 && (a = !1),
      (u = t.call(this) || this),
      ms(function () {
        var c = new b0(l, o, a, !0);
        (c.proxy_ = Sd(u)),
          oS(Sd(u), K, c),
          s && s.length && u.spliceWithArray(0, 0, s),
          W3 && Object.defineProperty(Sd(u), "0", H3);
      }),
      u
    );
  }
  var i = r.prototype;
  return (
    (i.concat = function () {
      this[K].atom_.reportObserved();
      for (var o = arguments.length, l = new Array(o), a = 0; a < o; a++)
        l[a] = arguments[a];
      return Array.prototype.concat.apply(
        this.slice(),
        l.map(function (u) {
          return Ka(u) ? u.slice() : u;
        })
      );
    }),
    (i[n] = function () {
      var s = this,
        o = 0;
      return ta({
        next: function () {
          return o < s.length
            ? { value: s[o++], done: !1 }
            : { done: !0, value: void 0 };
        },
      });
    }),
    m0(r, [
      {
        key: "length",
        get: function () {
          return this[K].getArrayLength_();
        },
        set: function (o) {
          this[K].setArrayLength_(o);
        },
      },
      {
        key: e,
        get: function () {
          return "Array";
        },
      },
    ]),
    r
  );
})(KS, Symbol.toStringTag, Symbol.iterator);
Object.entries(of).forEach(function (t) {
  var e = t[0],
    n = t[1];
  e !== "concat" && ch(x0.prototype, e, n);
});
function qS(t) {
  return {
    enumerable: !1,
    configurable: !0,
    get: function () {
      return this[K].get_(t);
    },
    set: function (n) {
      this[K].set_(t, n);
    },
  };
}
function K3(t) {
  cr(x0.prototype, "" + t, qS(t));
}
function GS(t) {
  if (t > Cd) {
    for (var e = Cd; e < t + 100; e++) K3(e);
    Cd = t;
  }
}
GS(1e3);
function q3(t, e, n) {
  return new x0(t, e, n);
}
function bo(t, e) {
  if (typeof t == "object" && t !== null) {
    if (Ka(t)) return e !== void 0 && Z(23), t[K].atom_;
    if (ps(t)) return t.atom_;
    if (Di(t)) {
      if (e === void 0) return t.keysAtom_;
      var n = t.data_.get(e) || t.hasMap_.get(e);
      return n || Z(25, e, lm(t)), n;
    }
    if (wo(t)) {
      if (!e) return Z(26);
      var r = t[K].values_.get(e);
      return r || Z(27, e, lm(t)), r;
    }
    if (g0(t) || Ha(t) || sf(t)) return t;
  } else if (Nn(t) && sf(t[K])) return t[K];
  Z(28);
}
function YS(t, e) {
  if ((t || Z(29), e !== void 0)) return YS(bo(t, e));
  if (g0(t) || Ha(t) || sf(t) || Di(t) || ps(t)) return t;
  if (t[K]) return t[K];
  Z(24, t);
}
function lm(t, e) {
  var n;
  if (e !== void 0) n = bo(t, e);
  else {
    if (gh(t)) return t.name;
    wo(t) || Di(t) || ps(t) ? (n = YS(t)) : (n = bo(t));
  }
  return n.name_;
}
function ms(t) {
  var e = ds(),
    n = ph(!0);
  fn();
  try {
    return t();
  } finally {
    hn(), mh(n), Ar(e);
  }
}
var ev = $a.toString;
function S0(t, e, n) {
  return n === void 0 && (n = -1), am(t, e, n);
}
function am(t, e, n, r, i) {
  if (t === e) return t !== 0 || 1 / t === 1 / e;
  if (t == null || e == null) return !1;
  if (t !== t) return e !== e;
  var s = typeof t;
  if (s !== "function" && s !== "object" && typeof e != "object") return !1;
  var o = ev.call(t);
  if (o !== ev.call(e)) return !1;
  switch (o) {
    case "[object RegExp]":
    case "[object String]":
      return "" + t == "" + e;
    case "[object Number]":
      return +t != +t ? +e != +e : +t == 0 ? 1 / +t === 1 / e : +t == +e;
    case "[object Date]":
    case "[object Boolean]":
      return +t == +e;
    case "[object Symbol]":
      return (
        typeof Symbol < "u" && Symbol.valueOf.call(t) === Symbol.valueOf.call(e)
      );
    case "[object Map]":
    case "[object Set]":
      n >= 0 && n++;
      break;
  }
  (t = tv(t)), (e = tv(e));
  var l = o === "[object Array]";
  if (!l) {
    if (typeof t != "object" || typeof e != "object") return !1;
    var a = t.constructor,
      u = e.constructor;
    if (
      a !== u &&
      !(Nn(a) && a instanceof a && Nn(u) && u instanceof u) &&
      "constructor" in t &&
      "constructor" in e
    )
      return !1;
  }
  if (n === 0) return !1;
  n < 0 && (n = -1), (r = r || []), (i = i || []);
  for (var c = r.length; c--; ) if (r[c] === t) return i[c] === e;
  if ((r.push(t), i.push(e), l)) {
    if (((c = t.length), c !== e.length)) return !1;
    for (; c--; ) if (!am(t[c], e[c], n - 1, r, i)) return !1;
  } else {
    var f = Object.keys(t),
      h;
    if (((c = f.length), Object.keys(e).length !== c)) return !1;
    for (; c--; )
      if (((h = f[c]), !(_r(e, h) && am(t[h], e[h], n - 1, r, i)))) return !1;
  }
  return r.pop(), i.pop(), !0;
}
function tv(t) {
  return Ka(t)
    ? t.slice()
    : Ro(t) || Di(t) || Fa(t) || ps(t)
      ? Array.from(t.entries())
      : t;
}
function ta(t) {
  return (t[Symbol.iterator] = G3), t;
}
function G3() {
  return this;
}
["Symbol", "Map", "Set"].forEach(function (t) {
  var e = d0();
  typeof e[t] > "u" &&
    Z("MobX requires global '" + t + "' to be available or polyfilled");
});
typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ == "object" &&
  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
    spy: a3,
    extras: { getDebugName: lm },
    $mobx: K,
  });
if (!H.useState)
  throw new Error("mobx-react-lite requires React with Hooks support");
if (!L3)
  throw new Error(
    "mobx-react-lite@3 requires mobx at least version 6 to be available"
  );
function Y3(t) {
  t();
}
function X3(t) {
  t || (t = Y3), k3({ reactionScheduler: t });
}
function Q3(t) {
  return _3(t);
}
var J3 = 1e4,
  Z3 = 1e4,
  eT = (function () {
    function t(e) {
      var n = this;
      Object.defineProperty(this, "finalize", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: e,
      }),
        Object.defineProperty(this, "registrations", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: new Map(),
        }),
        Object.defineProperty(this, "sweepTimeout", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: void 0,
        }),
        Object.defineProperty(this, "sweep", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function (r) {
            r === void 0 && (r = J3),
              clearTimeout(n.sweepTimeout),
              (n.sweepTimeout = void 0);
            var i = Date.now();
            n.registrations.forEach(function (s, o) {
              i - s.registeredAt >= r &&
                (n.finalize(s.value), n.registrations.delete(o));
            }),
              n.registrations.size > 0 && n.scheduleSweep();
          },
        }),
        Object.defineProperty(this, "finalizeAllImmediately", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function () {
            n.sweep(0);
          },
        });
    }
    return (
      Object.defineProperty(t.prototype, "register", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e, n, r) {
          this.registrations.set(r, { value: n, registeredAt: Date.now() }),
            this.scheduleSweep();
        },
      }),
      Object.defineProperty(t.prototype, "unregister", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e) {
          this.registrations.delete(e);
        },
      }),
      Object.defineProperty(t.prototype, "scheduleSweep", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function () {
          this.sweepTimeout === void 0 &&
            (this.sweepTimeout = setTimeout(this.sweep, Z3));
        },
      }),
      t
    );
  })(),
  tT = typeof FinalizationRegistry < "u" ? FinalizationRegistry : eT,
  um = new tT(function (t) {
    var e;
    (e = t.reaction) === null || e === void 0 || e.dispose(),
      (t.reaction = null);
  }),
  XS = { exports: {} },
  QS = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var xo = H;
function nT(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var rT = typeof Object.is == "function" ? Object.is : nT,
  iT = xo.useState,
  sT = xo.useEffect,
  oT = xo.useLayoutEffect,
  lT = xo.useDebugValue;
function aT(t, e) {
  var n = e(),
    r = iT({ inst: { value: n, getSnapshot: e } }),
    i = r[0].inst,
    s = r[1];
  return (
    oT(
      function () {
        (i.value = n), (i.getSnapshot = e), _d(i) && s({ inst: i });
      },
      [t, n, e]
    ),
    sT(
      function () {
        return (
          _d(i) && s({ inst: i }),
          t(function () {
            _d(i) && s({ inst: i });
          })
        );
      },
      [t]
    ),
    lT(n),
    n
  );
}
function _d(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var n = e();
    return !rT(t, n);
  } catch {
    return !0;
  }
}
function uT(t, e) {
  return e();
}
var cT =
  typeof window > "u" ||
  typeof window.document > "u" ||
  typeof window.document.createElement > "u"
    ? uT
    : aT;
QS.useSyncExternalStore =
  xo.useSyncExternalStore !== void 0 ? xo.useSyncExternalStore : cT;
XS.exports = QS;
var fT = XS.exports;
function nv(t) {
  t.reaction = new Jl("observer".concat(t.name), function () {
    var e;
    (t.stateVersion = Symbol()),
      (e = t.onStoreChange) === null || e === void 0 || e.call(t);
  });
}
function hT(t, e) {
  e === void 0 && (e = "observed");
  var n = oo.useRef(null);
  if (!n.current) {
    var r = {
      reaction: null,
      onStoreChange: null,
      stateVersion: Symbol(),
      name: e,
      subscribe: function (l) {
        return (
          um.unregister(r),
          (r.onStoreChange = l),
          r.reaction || (nv(r), (r.stateVersion = Symbol())),
          function () {
            var a;
            (r.onStoreChange = null),
              (a = r.reaction) === null || a === void 0 || a.dispose(),
              (r.reaction = null);
          }
        );
      },
      getSnapshot: function () {
        return r.stateVersion;
      },
    };
    n.current = r;
  }
  var i = n.current;
  i.reaction || (nv(i), um.register(n, i, i)),
    oo.useDebugValue(i.reaction, Q3),
    fT.useSyncExternalStore(i.subscribe, i.getSnapshot, i.getSnapshot);
  var s, o;
  if (
    (i.reaction.track(function () {
      try {
        s = t();
      } catch (l) {
        o = l;
      }
    }),
    o)
  )
    throw o;
  return s;
}
var Ad,
  Od,
  JS = typeof Symbol == "function" && Symbol.for,
  dT =
    (Od =
      (Ad = Object.getOwnPropertyDescriptor(function () {}, "name")) === null ||
      Ad === void 0
        ? void 0
        : Ad.configurable) !== null && Od !== void 0
      ? Od
      : !1,
  rv = JS
    ? Symbol.for("react.forward_ref")
    : typeof H.forwardRef == "function" &&
      H.forwardRef(function (t) {
        return null;
      }).$$typeof,
  iv = JS
    ? Symbol.for("react.memo")
    : typeof H.memo == "function" &&
      H.memo(function (t) {
        return null;
      }).$$typeof;
function zn(t, e) {
  var n;
  if (iv && t.$$typeof === iv)
    throw new Error(
      "[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you."
    );
  var r =
      (n = e == null ? void 0 : e.forwardRef) !== null && n !== void 0 ? n : !1,
    i = t,
    s = t.displayName || t.name;
  if (
    rv &&
    t.$$typeof === rv &&
    ((r = !0), (i = t.render), typeof i != "function")
  )
    throw new Error(
      "[mobx-react-lite] `render` property of ForwardRef was not a function"
    );
  var o = function (l, a) {
    return hT(function () {
      return i(l, a);
    }, s);
  };
  return (
    (o.displayName = t.displayName),
    dT &&
      Object.defineProperty(o, "name", {
        value: t.name,
        writable: !0,
        configurable: !0,
      }),
    t.contextTypes && (o.contextTypes = t.contextTypes),
    r && (o = H.forwardRef(o)),
    (o = H.memo(o)),
    mT(t, o),
    o
  );
}
var pT = { $$typeof: !0, render: !0, compare: !0, type: !0, displayName: !0 };
function mT(t, e) {
  Object.keys(t).forEach(function (n) {
    pT[n] || Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(t, n));
  });
}
var Md;
X3(tS.unstable_batchedUpdates);
Md = um.finalizeAllImmediately;
const gT = 1024;
let yT = 0,
  Ed = class {
    constructor(e, n) {
      (this.from = e), (this.to = n);
    }
  };
class Q {
  constructor(e = {}) {
    (this.id = yT++),
      (this.perNode = !!e.perNode),
      (this.deserialize =
        e.deserialize ||
        (() => {
          throw new Error(
            "This node type doesn't define a deserialize function"
          );
        }));
  }
  add(e) {
    if (this.perNode)
      throw new RangeError("Can't add per-node props to node types");
    return (
      typeof e != "function" && (e = Ft.match(e)),
      (n) => {
        let r = e(n);
        return r === void 0 ? null : [this, r];
      }
    );
  }
}
Q.closedBy = new Q({ deserialize: (t) => t.split(" ") });
Q.openedBy = new Q({ deserialize: (t) => t.split(" ") });
Q.group = new Q({ deserialize: (t) => t.split(" ") });
Q.isolate = new Q({
  deserialize: (t) => {
    if (t && t != "rtl" && t != "ltr" && t != "auto")
      throw new RangeError("Invalid value for isolate: " + t);
    return t || "auto";
  },
});
Q.contextHash = new Q({ perNode: !0 });
Q.lookAhead = new Q({ perNode: !0 });
Q.mounted = new Q({ perNode: !0 });
class af {
  constructor(e, n, r) {
    (this.tree = e), (this.overlay = n), (this.parser = r);
  }
  static get(e) {
    return e && e.props && e.props[Q.mounted.id];
  }
}
const vT = Object.create(null);
class Ft {
  constructor(e, n, r, i = 0) {
    (this.name = e), (this.props = n), (this.id = r), (this.flags = i);
  }
  static define(e) {
    let n = e.props && e.props.length ? Object.create(null) : vT,
      r =
        (e.top ? 1 : 0) |
        (e.skipped ? 2 : 0) |
        (e.error ? 4 : 0) |
        (e.name == null ? 8 : 0),
      i = new Ft(e.name || "", n, e.id, r);
    if (e.props) {
      for (let s of e.props)
        if ((Array.isArray(s) || (s = s(i)), s)) {
          if (s[0].perNode)
            throw new RangeError("Can't store a per-node prop on a node type");
          n[s[0].id] = s[1];
        }
    }
    return i;
  }
  prop(e) {
    return this.props[e.id];
  }
  get isTop() {
    return (this.flags & 1) > 0;
  }
  get isSkipped() {
    return (this.flags & 2) > 0;
  }
  get isError() {
    return (this.flags & 4) > 0;
  }
  get isAnonymous() {
    return (this.flags & 8) > 0;
  }
  is(e) {
    if (typeof e == "string") {
      if (this.name == e) return !0;
      let n = this.prop(Q.group);
      return n ? n.indexOf(e) > -1 : !1;
    }
    return this.id == e;
  }
  static match(e) {
    let n = Object.create(null);
    for (let r in e) for (let i of r.split(" ")) n[i] = e[r];
    return (r) => {
      for (let i = r.prop(Q.group), s = -1; s < (i ? i.length : 0); s++) {
        let o = n[s < 0 ? r.name : i[s]];
        if (o) return o;
      }
    };
  }
}
Ft.none = new Ft("", Object.create(null), 0, 8);
class k0 {
  constructor(e) {
    this.types = e;
    for (let n = 0; n < e.length; n++)
      if (e[n].id != n)
        throw new RangeError(
          "Node type ids should correspond to array positions when creating a node set"
        );
  }
  extend(...e) {
    let n = [];
    for (let r of this.types) {
      let i = null;
      for (let s of e) {
        let o = s(r);
        o && (i || (i = Object.assign({}, r.props)), (i[o[0].id] = o[1]));
      }
      n.push(i ? new Ft(r.name, i, r.id, r.flags) : r);
    }
    return new k0(n);
  }
}
const Eu = new WeakMap(),
  sv = new WeakMap();
var nt;
(function (t) {
  (t[(t.ExcludeBuffers = 1)] = "ExcludeBuffers"),
    (t[(t.IncludeAnonymous = 2)] = "IncludeAnonymous"),
    (t[(t.IgnoreMounts = 4)] = "IgnoreMounts"),
    (t[(t.IgnoreOverlays = 8)] = "IgnoreOverlays");
})(nt || (nt = {}));
class Me {
  constructor(e, n, r, i, s) {
    if (
      ((this.type = e),
      (this.children = n),
      (this.positions = r),
      (this.length = i),
      (this.props = null),
      s && s.length)
    ) {
      this.props = Object.create(null);
      for (let [o, l] of s) this.props[typeof o == "number" ? o : o.id] = l;
    }
  }
  toString() {
    let e = af.get(this);
    if (e && !e.overlay) return e.tree.toString();
    let n = "";
    for (let r of this.children) {
      let i = r.toString();
      i && (n && (n += ","), (n += i));
    }
    return this.type.name
      ? (/\W/.test(this.type.name) && !this.type.isError
          ? JSON.stringify(this.type.name)
          : this.type.name) + (n.length ? "(" + n + ")" : "")
      : n;
  }
  cursor(e = 0) {
    return new fm(this.topNode, e);
  }
  cursorAt(e, n = 0, r = 0) {
    let i = Eu.get(this) || this.topNode,
      s = new fm(i);
    return s.moveTo(e, n), Eu.set(this, s._tree), s;
  }
  get topNode() {
    return new mn(this, 0, 0, null);
  }
  resolve(e, n = 0) {
    let r = na(Eu.get(this) || this.topNode, e, n, !1);
    return Eu.set(this, r), r;
  }
  resolveInner(e, n = 0) {
    let r = na(sv.get(this) || this.topNode, e, n, !0);
    return sv.set(this, r), r;
  }
  resolveStack(e, n = 0) {
    return xT(this, e, n);
  }
  iterate(e) {
    let { enter: n, leave: r, from: i = 0, to: s = this.length } = e,
      o = e.mode || 0,
      l = (o & nt.IncludeAnonymous) > 0;
    for (let a = this.cursor(o | nt.IncludeAnonymous); ; ) {
      let u = !1;
      if (
        a.from <= s &&
        a.to >= i &&
        ((!l && a.type.isAnonymous) || n(a) !== !1)
      ) {
        if (a.firstChild()) continue;
        u = !0;
      }
      for (; u && r && (l || !a.type.isAnonymous) && r(a), !a.nextSibling(); ) {
        if (!a.parent()) return;
        u = !0;
      }
    }
  }
  prop(e) {
    return e.perNode
      ? this.props
        ? this.props[e.id]
        : void 0
      : this.type.prop(e);
  }
  get propValues() {
    let e = [];
    if (this.props) for (let n in this.props) e.push([+n, this.props[n]]);
    return e;
  }
  balance(e = {}) {
    return this.children.length <= 8
      ? this
      : A0(
          Ft.none,
          this.children,
          this.positions,
          0,
          this.children.length,
          0,
          this.length,
          (n, r, i) => new Me(this.type, n, r, i, this.propValues),
          e.makeTree || ((n, r, i) => new Me(Ft.none, n, r, i))
        );
  }
  static build(e) {
    return ST(e);
  }
}
Me.empty = new Me(Ft.none, [], [], 0);
class C0 {
  constructor(e, n) {
    (this.buffer = e), (this.index = n);
  }
  get id() {
    return this.buffer[this.index - 4];
  }
  get start() {
    return this.buffer[this.index - 3];
  }
  get end() {
    return this.buffer[this.index - 2];
  }
  get size() {
    return this.buffer[this.index - 1];
  }
  get pos() {
    return this.index;
  }
  next() {
    this.index -= 4;
  }
  fork() {
    return new C0(this.buffer, this.index);
  }
}
class Si {
  constructor(e, n, r) {
    (this.buffer = e), (this.length = n), (this.set = r);
  }
  get type() {
    return Ft.none;
  }
  toString() {
    let e = [];
    for (let n = 0; n < this.buffer.length; )
      e.push(this.childString(n)), (n = this.buffer[n + 3]);
    return e.join(",");
  }
  childString(e) {
    let n = this.buffer[e],
      r = this.buffer[e + 3],
      i = this.set.types[n],
      s = i.name;
    if (
      (/\W/.test(s) && !i.isError && (s = JSON.stringify(s)), (e += 4), r == e)
    )
      return s;
    let o = [];
    for (; e < r; ) o.push(this.childString(e)), (e = this.buffer[e + 3]);
    return s + "(" + o.join(",") + ")";
  }
  findChild(e, n, r, i, s) {
    let { buffer: o } = this,
      l = -1;
    for (
      let a = e;
      a != n && !(ZS(s, i, o[a + 1], o[a + 2]) && ((l = a), r > 0));
      a = o[a + 3]
    );
    return l;
  }
  slice(e, n, r) {
    let i = this.buffer,
      s = new Uint16Array(n - e),
      o = 0;
    for (let l = e, a = 0; l < n; ) {
      (s[a++] = i[l++]), (s[a++] = i[l++] - r);
      let u = (s[a++] = i[l++] - r);
      (s[a++] = i[l++] - e), (o = Math.max(o, u));
    }
    return new Si(s, o, this.set);
  }
}
function ZS(t, e, n, r) {
  switch (t) {
    case -2:
      return n < e;
    case -1:
      return r >= e && n < e;
    case 0:
      return n < e && r > e;
    case 1:
      return n <= e && r > e;
    case 2:
      return r > e;
    case 4:
      return !0;
  }
}
function na(t, e, n, r) {
  for (
    var i;
    t.from == t.to ||
    (n < 1 ? t.from >= e : t.from > e) ||
    (n > -1 ? t.to <= e : t.to < e);

  ) {
    let o = !r && t instanceof mn && t.index < 0 ? null : t.parent;
    if (!o) return t;
    t = o;
  }
  let s = r ? 0 : nt.IgnoreOverlays;
  if (r)
    for (let o = t, l = o.parent; l; o = l, l = o.parent)
      o instanceof mn &&
        o.index < 0 &&
        ((i = l.enter(e, n, s)) === null || i === void 0 ? void 0 : i.from) !=
          o.from &&
        (t = l);
  for (;;) {
    let o = t.enter(e, n, s);
    if (!o) return t;
    t = o;
  }
}
class ek {
  cursor(e = 0) {
    return new fm(this, e);
  }
  getChild(e, n = null, r = null) {
    let i = ov(this, e, n, r);
    return i.length ? i[0] : null;
  }
  getChildren(e, n = null, r = null) {
    return ov(this, e, n, r);
  }
  resolve(e, n = 0) {
    return na(this, e, n, !1);
  }
  resolveInner(e, n = 0) {
    return na(this, e, n, !0);
  }
  matchContext(e) {
    return cm(this, e);
  }
  enterUnfinishedNodesBefore(e) {
    let n = this.childBefore(e),
      r = this;
    for (; n; ) {
      let i = n.lastChild;
      if (!i || i.to != n.to) break;
      i.type.isError && i.from == i.to
        ? ((r = n), (n = i.prevSibling))
        : (n = i);
    }
    return r;
  }
  get node() {
    return this;
  }
  get next() {
    return this.parent;
  }
}
class mn extends ek {
  constructor(e, n, r, i) {
    super(),
      (this._tree = e),
      (this.from = n),
      (this.index = r),
      (this._parent = i);
  }
  get type() {
    return this._tree.type;
  }
  get name() {
    return this._tree.type.name;
  }
  get to() {
    return this.from + this._tree.length;
  }
  nextChild(e, n, r, i, s = 0) {
    for (let o = this; ; ) {
      for (
        let { children: l, positions: a } = o._tree, u = n > 0 ? l.length : -1;
        e != u;
        e += n
      ) {
        let c = l[e],
          f = a[e] + o.from;
        if (ZS(i, r, f, f + c.length)) {
          if (c instanceof Si) {
            if (s & nt.ExcludeBuffers) continue;
            let h = c.findChild(0, c.buffer.length, n, r - f, i);
            if (h > -1) return new ei(new wT(o, c, e, f), null, h);
          } else if (s & nt.IncludeAnonymous || !c.type.isAnonymous || _0(c)) {
            let h;
            if (!(s & nt.IgnoreMounts) && (h = af.get(c)) && !h.overlay)
              return new mn(h.tree, f, e, o);
            let d = new mn(c, f, e, o);
            return s & nt.IncludeAnonymous || !d.type.isAnonymous
              ? d
              : d.nextChild(n < 0 ? c.children.length - 1 : 0, n, r, i);
          }
        }
      }
      if (
        s & nt.IncludeAnonymous ||
        !o.type.isAnonymous ||
        (o.index >= 0
          ? (e = o.index + n)
          : (e = n < 0 ? -1 : o._parent._tree.children.length),
        (o = o._parent),
        !o)
      )
        return null;
    }
  }
  get firstChild() {
    return this.nextChild(0, 1, 0, 4);
  }
  get lastChild() {
    return this.nextChild(this._tree.children.length - 1, -1, 0, 4);
  }
  childAfter(e) {
    return this.nextChild(0, 1, e, 2);
  }
  childBefore(e) {
    return this.nextChild(this._tree.children.length - 1, -1, e, -2);
  }
  enter(e, n, r = 0) {
    let i;
    if (!(r & nt.IgnoreOverlays) && (i = af.get(this._tree)) && i.overlay) {
      let s = e - this.from;
      for (let { from: o, to: l } of i.overlay)
        if ((n > 0 ? o <= s : o < s) && (n < 0 ? l >= s : l > s))
          return new mn(i.tree, i.overlay[0].from + this.from, -1, this);
    }
    return this.nextChild(0, 1, e, n, r);
  }
  nextSignificantParent() {
    let e = this;
    for (; e.type.isAnonymous && e._parent; ) e = e._parent;
    return e;
  }
  get parent() {
    return this._parent ? this._parent.nextSignificantParent() : null;
  }
  get nextSibling() {
    return this._parent && this.index >= 0
      ? this._parent.nextChild(this.index + 1, 1, 0, 4)
      : null;
  }
  get prevSibling() {
    return this._parent && this.index >= 0
      ? this._parent.nextChild(this.index - 1, -1, 0, 4)
      : null;
  }
  get tree() {
    return this._tree;
  }
  toTree() {
    return this._tree;
  }
  toString() {
    return this._tree.toString();
  }
}
function ov(t, e, n, r) {
  let i = t.cursor(),
    s = [];
  if (!i.firstChild()) return s;
  if (n != null) {
    for (let o = !1; !o; ) if (((o = i.type.is(n)), !i.nextSibling())) return s;
  }
  for (;;) {
    if (r != null && i.type.is(r)) return s;
    if ((i.type.is(e) && s.push(i.node), !i.nextSibling()))
      return r == null ? s : [];
  }
}
function cm(t, e, n = e.length - 1) {
  for (let r = t.parent; n >= 0; r = r.parent) {
    if (!r) return !1;
    if (!r.type.isAnonymous) {
      if (e[n] && e[n] != r.name) return !1;
      n--;
    }
  }
  return !0;
}
class wT {
  constructor(e, n, r, i) {
    (this.parent = e), (this.buffer = n), (this.index = r), (this.start = i);
  }
}
class ei extends ek {
  get name() {
    return this.type.name;
  }
  get from() {
    return this.context.start + this.context.buffer.buffer[this.index + 1];
  }
  get to() {
    return this.context.start + this.context.buffer.buffer[this.index + 2];
  }
  constructor(e, n, r) {
    super(),
      (this.context = e),
      (this._parent = n),
      (this.index = r),
      (this.type = e.buffer.set.types[e.buffer.buffer[r]]);
  }
  child(e, n, r) {
    let { buffer: i } = this.context,
      s = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        e,
        n - this.context.start,
        r
      );
    return s < 0 ? null : new ei(this.context, this, s);
  }
  get firstChild() {
    return this.child(1, 0, 4);
  }
  get lastChild() {
    return this.child(-1, 0, 4);
  }
  childAfter(e) {
    return this.child(1, e, 2);
  }
  childBefore(e) {
    return this.child(-1, e, -2);
  }
  enter(e, n, r = 0) {
    if (r & nt.ExcludeBuffers) return null;
    let { buffer: i } = this.context,
      s = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        n > 0 ? 1 : -1,
        e - this.context.start,
        n
      );
    return s < 0 ? null : new ei(this.context, this, s);
  }
  get parent() {
    return this._parent || this.context.parent.nextSignificantParent();
  }
  externalSibling(e) {
    return this._parent
      ? null
      : this.context.parent.nextChild(this.context.index + e, e, 0, 4);
  }
  get nextSibling() {
    let { buffer: e } = this.context,
      n = e.buffer[this.index + 3];
    return n <
      (this._parent ? e.buffer[this._parent.index + 3] : e.buffer.length)
      ? new ei(this.context, this._parent, n)
      : this.externalSibling(1);
  }
  get prevSibling() {
    let { buffer: e } = this.context,
      n = this._parent ? this._parent.index + 4 : 0;
    return this.index == n
      ? this.externalSibling(-1)
      : new ei(
          this.context,
          this._parent,
          e.findChild(n, this.index, -1, 0, 4)
        );
  }
  get tree() {
    return null;
  }
  toTree() {
    let e = [],
      n = [],
      { buffer: r } = this.context,
      i = this.index + 4,
      s = r.buffer[this.index + 3];
    if (s > i) {
      let o = r.buffer[this.index + 1];
      e.push(r.slice(i, s, o)), n.push(0);
    }
    return new Me(this.type, e, n, this.to - this.from);
  }
  toString() {
    return this.context.buffer.childString(this.index);
  }
}
function tk(t) {
  if (!t.length) return null;
  let e = 0,
    n = t[0];
  for (let s = 1; s < t.length; s++) {
    let o = t[s];
    (o.from > n.from || o.to < n.to) && ((n = o), (e = s));
  }
  let r = n instanceof mn && n.index < 0 ? null : n.parent,
    i = t.slice();
  return r ? (i[e] = r) : i.splice(e, 1), new bT(i, n);
}
class bT {
  constructor(e, n) {
    (this.heads = e), (this.node = n);
  }
  get next() {
    return tk(this.heads);
  }
}
function xT(t, e, n) {
  let r = t.resolveInner(e, n),
    i = null;
  for (let s = r instanceof mn ? r : r.context.parent; s; s = s.parent)
    if (s.index < 0) {
      let o = s.parent;
      (i || (i = [r])).push(o.resolve(e, n)), (s = o);
    } else {
      let o = af.get(s.tree);
      if (
        o &&
        o.overlay &&
        o.overlay[0].from <= e &&
        o.overlay[o.overlay.length - 1].to >= e
      ) {
        let l = new mn(o.tree, o.overlay[0].from + s.from, -1, s);
        (i || (i = [r])).push(na(l, e, n, !1));
      }
    }
  return i ? tk(i) : r;
}
class fm {
  get name() {
    return this.type.name;
  }
  constructor(e, n = 0) {
    if (
      ((this.mode = n),
      (this.buffer = null),
      (this.stack = []),
      (this.index = 0),
      (this.bufferNode = null),
      e instanceof mn)
    )
      this.yieldNode(e);
    else {
      (this._tree = e.context.parent), (this.buffer = e.context);
      for (let r = e._parent; r; r = r._parent) this.stack.unshift(r.index);
      (this.bufferNode = e), this.yieldBuf(e.index);
    }
  }
  yieldNode(e) {
    return e
      ? ((this._tree = e),
        (this.type = e.type),
        (this.from = e.from),
        (this.to = e.to),
        !0)
      : !1;
  }
  yieldBuf(e, n) {
    this.index = e;
    let { start: r, buffer: i } = this.buffer;
    return (
      (this.type = n || i.set.types[i.buffer[e]]),
      (this.from = r + i.buffer[e + 1]),
      (this.to = r + i.buffer[e + 2]),
      !0
    );
  }
  yield(e) {
    return e
      ? e instanceof mn
        ? ((this.buffer = null), this.yieldNode(e))
        : ((this.buffer = e.context), this.yieldBuf(e.index, e.type))
      : !1;
  }
  toString() {
    return this.buffer
      ? this.buffer.buffer.childString(this.index)
      : this._tree.toString();
  }
  enterChild(e, n, r) {
    if (!this.buffer)
      return this.yield(
        this._tree.nextChild(
          e < 0 ? this._tree._tree.children.length - 1 : 0,
          e,
          n,
          r,
          this.mode
        )
      );
    let { buffer: i } = this.buffer,
      s = i.findChild(
        this.index + 4,
        i.buffer[this.index + 3],
        e,
        n - this.buffer.start,
        r
      );
    return s < 0 ? !1 : (this.stack.push(this.index), this.yieldBuf(s));
  }
  firstChild() {
    return this.enterChild(1, 0, 4);
  }
  lastChild() {
    return this.enterChild(-1, 0, 4);
  }
  childAfter(e) {
    return this.enterChild(1, e, 2);
  }
  childBefore(e) {
    return this.enterChild(-1, e, -2);
  }
  enter(e, n, r = this.mode) {
    return this.buffer
      ? r & nt.ExcludeBuffers
        ? !1
        : this.enterChild(1, e, n)
      : this.yield(this._tree.enter(e, n, r));
  }
  parent() {
    if (!this.buffer)
      return this.yieldNode(
        this.mode & nt.IncludeAnonymous ? this._tree._parent : this._tree.parent
      );
    if (this.stack.length) return this.yieldBuf(this.stack.pop());
    let e =
      this.mode & nt.IncludeAnonymous
        ? this.buffer.parent
        : this.buffer.parent.nextSignificantParent();
    return (this.buffer = null), this.yieldNode(e);
  }
  sibling(e) {
    if (!this.buffer)
      return this._tree._parent
        ? this.yield(
            this._tree.index < 0
              ? null
              : this._tree._parent.nextChild(
                  this._tree.index + e,
                  e,
                  0,
                  4,
                  this.mode
                )
          )
        : !1;
    let { buffer: n } = this.buffer,
      r = this.stack.length - 1;
    if (e < 0) {
      let i = r < 0 ? 0 : this.stack[r] + 4;
      if (this.index != i)
        return this.yieldBuf(n.findChild(i, this.index, -1, 0, 4));
    } else {
      let i = n.buffer[this.index + 3];
      if (i < (r < 0 ? n.buffer.length : n.buffer[this.stack[r] + 3]))
        return this.yieldBuf(i);
    }
    return r < 0
      ? this.yield(
          this.buffer.parent.nextChild(
            this.buffer.index + e,
            e,
            0,
            4,
            this.mode
          )
        )
      : !1;
  }
  nextSibling() {
    return this.sibling(1);
  }
  prevSibling() {
    return this.sibling(-1);
  }
  atLastNode(e) {
    let n,
      r,
      { buffer: i } = this;
    if (i) {
      if (e > 0) {
        if (this.index < i.buffer.buffer.length) return !1;
      } else
        for (let s = 0; s < this.index; s++)
          if (i.buffer.buffer[s + 3] < this.index) return !1;
      ({ index: n, parent: r } = i);
    } else ({ index: n, _parent: r } = this._tree);
    for (; r; { index: n, _parent: r } = r)
      if (n > -1)
        for (
          let s = n + e, o = e < 0 ? -1 : r._tree.children.length;
          s != o;
          s += e
        ) {
          let l = r._tree.children[s];
          if (
            this.mode & nt.IncludeAnonymous ||
            l instanceof Si ||
            !l.type.isAnonymous ||
            _0(l)
          )
            return !1;
        }
    return !0;
  }
  move(e, n) {
    if (n && this.enterChild(e, 0, 4)) return !0;
    for (;;) {
      if (this.sibling(e)) return !0;
      if (this.atLastNode(e) || !this.parent()) return !1;
    }
  }
  next(e = !0) {
    return this.move(1, e);
  }
  prev(e = !0) {
    return this.move(-1, e);
  }
  moveTo(e, n = 0) {
    for (
      ;
      (this.from == this.to ||
        (n < 1 ? this.from >= e : this.from > e) ||
        (n > -1 ? this.to <= e : this.to < e)) &&
      this.parent();

    );
    for (; this.enterChild(1, e, n); );
    return this;
  }
  get node() {
    if (!this.buffer) return this._tree;
    let e = this.bufferNode,
      n = null,
      r = 0;
    if (e && e.context == this.buffer)
      e: for (let i = this.index, s = this.stack.length; s >= 0; ) {
        for (let o = e; o; o = o._parent)
          if (o.index == i) {
            if (i == this.index) return o;
            (n = o), (r = s + 1);
            break e;
          }
        i = this.stack[--s];
      }
    for (let i = r; i < this.stack.length; i++)
      n = new ei(this.buffer, n, this.stack[i]);
    return (this.bufferNode = new ei(this.buffer, n, this.index));
  }
  get tree() {
    return this.buffer ? null : this._tree._tree;
  }
  iterate(e, n) {
    for (let r = 0; ; ) {
      let i = !1;
      if (this.type.isAnonymous || e(this) !== !1) {
        if (this.firstChild()) {
          r++;
          continue;
        }
        this.type.isAnonymous || (i = !0);
      }
      for (
        ;
        i && n && n(this), (i = this.type.isAnonymous), !this.nextSibling();

      ) {
        if (!r) return;
        this.parent(), r--, (i = !0);
      }
    }
  }
  matchContext(e) {
    if (!this.buffer) return cm(this.node, e);
    let { buffer: n } = this.buffer,
      { types: r } = n.set;
    for (let i = e.length - 1, s = this.stack.length - 1; i >= 0; s--) {
      if (s < 0) return cm(this.node, e, i);
      let o = r[n.buffer[this.stack[s]]];
      if (!o.isAnonymous) {
        if (e[i] && e[i] != o.name) return !1;
        i--;
      }
    }
    return !0;
  }
}
function _0(t) {
  return t.children.some(
    (e) => e instanceof Si || !e.type.isAnonymous || _0(e)
  );
}
function ST(t) {
  var e;
  let {
      buffer: n,
      nodeSet: r,
      maxBufferLength: i = gT,
      reused: s = [],
      minRepeatType: o = r.types.length,
    } = t,
    l = Array.isArray(n) ? new C0(n, n.length) : n,
    a = r.types,
    u = 0,
    c = 0;
  function f(x, S, k, _, E, O) {
    let { id: L, start: F, end: V, size: W } = l,
      X = c;
    for (; W < 0; )
      if ((l.next(), W == -1)) {
        let z = s[L];
        k.push(z), _.push(F - x);
        return;
      } else if (W == -3) {
        u = L;
        return;
      } else if (W == -4) {
        c = L;
        return;
      } else throw new RangeError(`Unrecognized record size: ${W}`);
    let Ae = a[L],
      Pe,
      T,
      j = F - x;
    if (V - F <= i && (T = w(l.pos - S, E))) {
      let z = new Uint16Array(T.size - T.skip),
        G = l.pos - T.size,
        re = z.length;
      for (; l.pos > G; ) re = g(T.start, z, re);
      (Pe = new Si(z, V - T.start, r)), (j = T.start - x);
    } else {
      let z = l.pos - W;
      l.next();
      let G = [],
        re = [],
        wt = L >= o ? L : -1,
        He = 0,
        zt = V;
      for (; l.pos > z; )
        wt >= 0 && l.id == wt && l.size >= 0
          ? (l.end <= zt - i &&
              (p(G, re, F, He, l.end, zt, wt, X),
              (He = G.length),
              (zt = l.end)),
            l.next())
          : O > 2500
            ? h(F, z, G, re)
            : f(F, z, G, re, wt, O + 1);
      if (
        (wt >= 0 && He > 0 && He < G.length && p(G, re, F, He, F, zt, wt, X),
        G.reverse(),
        re.reverse(),
        wt > -1 && He > 0)
      ) {
        let de = d(Ae);
        Pe = A0(Ae, G, re, 0, G.length, 0, V - F, de, de);
      } else Pe = m(Ae, G, re, V - F, X - V);
    }
    k.push(Pe), _.push(j);
  }
  function h(x, S, k, _) {
    let E = [],
      O = 0,
      L = -1;
    for (; l.pos > S; ) {
      let { id: F, start: V, end: W, size: X } = l;
      if (X > 4) l.next();
      else {
        if (L > -1 && V < L) break;
        L < 0 && (L = W - i), E.push(F, V, W), O++, l.next();
      }
    }
    if (O) {
      let F = new Uint16Array(O * 4),
        V = E[E.length - 2];
      for (let W = E.length - 3, X = 0; W >= 0; W -= 3)
        (F[X++] = E[W]),
          (F[X++] = E[W + 1] - V),
          (F[X++] = E[W + 2] - V),
          (F[X++] = X);
      k.push(new Si(F, E[2] - V, r)), _.push(V - x);
    }
  }
  function d(x) {
    return (S, k, _) => {
      let E = 0,
        O = S.length - 1,
        L,
        F;
      if (O >= 0 && (L = S[O]) instanceof Me) {
        if (!O && L.type == x && L.length == _) return L;
        (F = L.prop(Q.lookAhead)) && (E = k[O] + L.length + F);
      }
      return m(x, S, k, _, E);
    };
  }
  function p(x, S, k, _, E, O, L, F) {
    let V = [],
      W = [];
    for (; x.length > _; ) V.push(x.pop()), W.push(S.pop() + k - E);
    x.push(m(r.types[L], V, W, O - E, F - O)), S.push(E - k);
  }
  function m(x, S, k, _, E = 0, O) {
    if (u) {
      let L = [Q.contextHash, u];
      O = O ? [L].concat(O) : [L];
    }
    if (E > 25) {
      let L = [Q.lookAhead, E];
      O = O ? [L].concat(O) : [L];
    }
    return new Me(x, S, k, _, O);
  }
  function w(x, S) {
    let k = l.fork(),
      _ = 0,
      E = 0,
      O = 0,
      L = k.end - i,
      F = { size: 0, start: 0, skip: 0 };
    e: for (let V = k.pos - x; k.pos > V; ) {
      let W = k.size;
      if (k.id == S && W >= 0) {
        (F.size = _), (F.start = E), (F.skip = O), (O += 4), (_ += 4), k.next();
        continue;
      }
      let X = k.pos - W;
      if (W < 0 || X < V || k.start < L) break;
      let Ae = k.id >= o ? 4 : 0,
        Pe = k.start;
      for (k.next(); k.pos > X; ) {
        if (k.size < 0)
          if (k.size == -3) Ae += 4;
          else break e;
        else k.id >= o && (Ae += 4);
        k.next();
      }
      (E = Pe), (_ += W), (O += Ae);
    }
    return (
      (S < 0 || _ == x) && ((F.size = _), (F.start = E), (F.skip = O)),
      F.size > 4 ? F : void 0
    );
  }
  function g(x, S, k) {
    let { id: _, start: E, end: O, size: L } = l;
    if ((l.next(), L >= 0 && _ < o)) {
      let F = k;
      if (L > 4) {
        let V = l.pos - (L - 4);
        for (; l.pos > V; ) k = g(x, S, k);
      }
      (S[--k] = F), (S[--k] = O - x), (S[--k] = E - x), (S[--k] = _);
    } else L == -3 ? (u = _) : L == -4 && (c = _);
    return k;
  }
  let y = [],
    v = [];
  for (; l.pos > 0; ) f(t.start || 0, t.bufferStart || 0, y, v, -1, 0);
  let b =
    (e = t.length) !== null && e !== void 0
      ? e
      : y.length
        ? v[0] + y[0].length
        : 0;
  return new Me(a[t.topID], y.reverse(), v.reverse(), b);
}
const lv = new WeakMap();
function vc(t, e) {
  if (!t.isAnonymous || e instanceof Si || e.type != t) return 1;
  let n = lv.get(e);
  if (n == null) {
    n = 1;
    for (let r of e.children) {
      if (r.type != t || !(r instanceof Me)) {
        n = 1;
        break;
      }
      n += vc(t, r);
    }
    lv.set(e, n);
  }
  return n;
}
function A0(t, e, n, r, i, s, o, l, a) {
  let u = 0;
  for (let p = r; p < i; p++) u += vc(t, e[p]);
  let c = Math.ceil((u * 1.5) / 8),
    f = [],
    h = [];
  function d(p, m, w, g, y) {
    for (let v = w; v < g; ) {
      let b = v,
        x = m[v],
        S = vc(t, p[v]);
      for (v++; v < g; v++) {
        let k = vc(t, p[v]);
        if (S + k >= c) break;
        S += k;
      }
      if (v == b + 1) {
        if (S > c) {
          let k = p[b];
          d(k.children, k.positions, 0, k.children.length, m[b] + y);
          continue;
        }
        f.push(p[b]);
      } else {
        let k = m[v - 1] + p[v - 1].length - x;
        f.push(A0(t, p, m, b, v, x, k, null, a));
      }
      h.push(x + y - s);
    }
  }
  return d(e, n, r, i, 0), (l || a)(f, h, o);
}
class Gi {
  constructor(e, n, r, i, s = !1, o = !1) {
    (this.from = e),
      (this.to = n),
      (this.tree = r),
      (this.offset = i),
      (this.open = (s ? 1 : 0) | (o ? 2 : 0));
  }
  get openStart() {
    return (this.open & 1) > 0;
  }
  get openEnd() {
    return (this.open & 2) > 0;
  }
  static addTree(e, n = [], r = !1) {
    let i = [new Gi(0, e.length, e, 0, !1, r)];
    for (let s of n) s.to > e.length && i.push(s);
    return i;
  }
  static applyChanges(e, n, r = 128) {
    if (!n.length) return e;
    let i = [],
      s = 1,
      o = e.length ? e[0] : null;
    for (let l = 0, a = 0, u = 0; ; l++) {
      let c = l < n.length ? n[l] : null,
        f = c ? c.fromA : 1e9;
      if (f - a >= r)
        for (; o && o.from < f; ) {
          let h = o;
          if (a >= h.from || f <= h.to || u) {
            let d = Math.max(h.from, a) - u,
              p = Math.min(h.to, f) - u;
            h = d >= p ? null : new Gi(d, p, h.tree, h.offset + u, l > 0, !!c);
          }
          if ((h && i.push(h), o.to > f)) break;
          o = s < e.length ? e[s++] : null;
        }
      if (!c) break;
      (a = c.toA), (u = c.toA - c.toB);
    }
    return i;
  }
}
class nk {
  startParse(e, n, r) {
    return (
      typeof e == "string" && (e = new kT(e)),
      (r = r
        ? r.length
          ? r.map((i) => new Ed(i.from, i.to))
          : [new Ed(0, 0)]
        : [new Ed(0, e.length)]),
      this.createParse(e, n || [], r)
    );
  }
  parse(e, n, r) {
    let i = this.startParse(e, n, r);
    for (;;) {
      let s = i.advance();
      if (s) return s;
    }
  }
}
class kT {
  constructor(e) {
    this.string = e;
  }
  get length() {
    return this.string.length;
  }
  chunk(e) {
    return this.string.slice(e);
  }
  get lineChunks() {
    return !1;
  }
  read(e, n) {
    return this.string.slice(e, n);
  }
}
new Q({ perNode: !0 });
class le {
  lineAt(e) {
    if (e < 0 || e > this.length)
      throw new RangeError(
        `Invalid position ${e} in document of length ${this.length}`
      );
    return this.lineInner(e, !1, 1, 0);
  }
  line(e) {
    if (e < 1 || e > this.lines)
      throw new RangeError(
        `Invalid line number ${e} in ${this.lines}-line document`
      );
    return this.lineInner(e, !0, 1, 0);
  }
  replace(e, n, r) {
    [e, n] = So(this, e, n);
    let i = [];
    return (
      this.decompose(0, e, i, 2),
      r.length && r.decompose(0, r.length, i, 3),
      this.decompose(n, this.length, i, 1),
      nr.from(i, this.length - (n - e) + r.length)
    );
  }
  append(e) {
    return this.replace(this.length, this.length, e);
  }
  slice(e, n = this.length) {
    [e, n] = So(this, e, n);
    let r = [];
    return this.decompose(e, n, r, 0), nr.from(r, n - e);
  }
  eq(e) {
    if (e == this) return !0;
    if (e.length != this.length || e.lines != this.lines) return !1;
    let n = this.scanIdentical(e, 1),
      r = this.length - this.scanIdentical(e, -1),
      i = new Al(this),
      s = new Al(e);
    for (let o = n, l = n; ; ) {
      if (
        (i.next(o),
        s.next(o),
        (o = 0),
        i.lineBreak != s.lineBreak || i.done != s.done || i.value != s.value)
      )
        return !1;
      if (((l += i.value.length), i.done || l >= r)) return !0;
    }
  }
  iter(e = 1) {
    return new Al(this, e);
  }
  iterRange(e, n = this.length) {
    return new rk(this, e, n);
  }
  iterLines(e, n) {
    let r;
    if (e == null) r = this.iter();
    else {
      n == null && (n = this.lines + 1);
      let i = this.line(e).from;
      r = this.iterRange(
        i,
        Math.max(
          i,
          n == this.lines + 1 ? this.length : n <= 1 ? 0 : this.line(n - 1).to
        )
      );
    }
    return new ik(r);
  }
  toString() {
    return this.sliceString(0);
  }
  toJSON() {
    let e = [];
    return this.flatten(e), e;
  }
  constructor() {}
  static of(e) {
    if (e.length == 0)
      throw new RangeError("A document must have at least one line");
    return e.length == 1 && !e[0]
      ? le.empty
      : e.length <= 32
        ? new Ne(e)
        : nr.from(Ne.split(e, []));
  }
}
class Ne extends le {
  constructor(e, n = CT(e)) {
    super(), (this.text = e), (this.length = n);
  }
  get lines() {
    return this.text.length;
  }
  get children() {
    return null;
  }
  lineInner(e, n, r, i) {
    for (let s = 0; ; s++) {
      let o = this.text[s],
        l = i + o.length;
      if ((n ? r : l) >= e) return new _T(i, l, r, o);
      (i = l + 1), r++;
    }
  }
  decompose(e, n, r, i) {
    let s =
      e <= 0 && n >= this.length
        ? this
        : new Ne(
            av(this.text, e, n),
            Math.min(n, this.length) - Math.max(0, e)
          );
    if (i & 1) {
      let o = r.pop(),
        l = wc(s.text, o.text.slice(), 0, s.length);
      if (l.length <= 32) r.push(new Ne(l, o.length + s.length));
      else {
        let a = l.length >> 1;
        r.push(new Ne(l.slice(0, a)), new Ne(l.slice(a)));
      }
    } else r.push(s);
  }
  replace(e, n, r) {
    if (!(r instanceof Ne)) return super.replace(e, n, r);
    [e, n] = So(this, e, n);
    let i = wc(this.text, wc(r.text, av(this.text, 0, e)), n),
      s = this.length + r.length - (n - e);
    return i.length <= 32 ? new Ne(i, s) : nr.from(Ne.split(i, []), s);
  }
  sliceString(
    e,
    n = this.length,
    r = `
`
  ) {
    [e, n] = So(this, e, n);
    let i = "";
    for (let s = 0, o = 0; s <= n && o < this.text.length; o++) {
      let l = this.text[o],
        a = s + l.length;
      s > e && o && (i += r),
        e < a && n > s && (i += l.slice(Math.max(0, e - s), n - s)),
        (s = a + 1);
    }
    return i;
  }
  flatten(e) {
    for (let n of this.text) e.push(n);
  }
  scanIdentical() {
    return 0;
  }
  static split(e, n) {
    let r = [],
      i = -1;
    for (let s of e)
      r.push(s),
        (i += s.length + 1),
        r.length == 32 && (n.push(new Ne(r, i)), (r = []), (i = -1));
    return i > -1 && n.push(new Ne(r, i)), n;
  }
}
class nr extends le {
  constructor(e, n) {
    super(), (this.children = e), (this.length = n), (this.lines = 0);
    for (let r of e) this.lines += r.lines;
  }
  lineInner(e, n, r, i) {
    for (let s = 0; ; s++) {
      let o = this.children[s],
        l = i + o.length,
        a = r + o.lines - 1;
      if ((n ? a : l) >= e) return o.lineInner(e, n, r, i);
      (i = l + 1), (r = a + 1);
    }
  }
  decompose(e, n, r, i) {
    for (let s = 0, o = 0; o <= n && s < this.children.length; s++) {
      let l = this.children[s],
        a = o + l.length;
      if (e <= a && n >= o) {
        let u = i & ((o <= e ? 1 : 0) | (a >= n ? 2 : 0));
        o >= e && a <= n && !u ? r.push(l) : l.decompose(e - o, n - o, r, u);
      }
      o = a + 1;
    }
  }
  replace(e, n, r) {
    if ((([e, n] = So(this, e, n)), r.lines < this.lines))
      for (let i = 0, s = 0; i < this.children.length; i++) {
        let o = this.children[i],
          l = s + o.length;
        if (e >= s && n <= l) {
          let a = o.replace(e - s, n - s, r),
            u = this.lines - o.lines + a.lines;
          if (a.lines < u >> 4 && a.lines > u >> 6) {
            let c = this.children.slice();
            return (c[i] = a), new nr(c, this.length - (n - e) + r.length);
          }
          return super.replace(s, l, a);
        }
        s = l + 1;
      }
    return super.replace(e, n, r);
  }
  sliceString(
    e,
    n = this.length,
    r = `
`
  ) {
    [e, n] = So(this, e, n);
    let i = "";
    for (let s = 0, o = 0; s < this.children.length && o <= n; s++) {
      let l = this.children[s],
        a = o + l.length;
      o > e && s && (i += r),
        e < a && n > o && (i += l.sliceString(e - o, n - o, r)),
        (o = a + 1);
    }
    return i;
  }
  flatten(e) {
    for (let n of this.children) n.flatten(e);
  }
  scanIdentical(e, n) {
    if (!(e instanceof nr)) return 0;
    let r = 0,
      [i, s, o, l] =
        n > 0
          ? [0, 0, this.children.length, e.children.length]
          : [this.children.length - 1, e.children.length - 1, -1, -1];
    for (; ; i += n, s += n) {
      if (i == o || s == l) return r;
      let a = this.children[i],
        u = e.children[s];
      if (a != u) return r + a.scanIdentical(u, n);
      r += a.length + 1;
    }
  }
  static from(e, n = e.reduce((r, i) => r + i.length + 1, -1)) {
    let r = 0;
    for (let d of e) r += d.lines;
    if (r < 32) {
      let d = [];
      for (let p of e) p.flatten(d);
      return new Ne(d, n);
    }
    let i = Math.max(32, r >> 5),
      s = i << 1,
      o = i >> 1,
      l = [],
      a = 0,
      u = -1,
      c = [];
    function f(d) {
      let p;
      if (d.lines > s && d instanceof nr) for (let m of d.children) f(m);
      else
        d.lines > o && (a > o || !a)
          ? (h(), l.push(d))
          : d instanceof Ne &&
              a &&
              (p = c[c.length - 1]) instanceof Ne &&
              d.lines + p.lines <= 32
            ? ((a += d.lines),
              (u += d.length + 1),
              (c[c.length - 1] = new Ne(
                p.text.concat(d.text),
                p.length + 1 + d.length
              )))
            : (a + d.lines > i && h(),
              (a += d.lines),
              (u += d.length + 1),
              c.push(d));
    }
    function h() {
      a != 0 &&
        (l.push(c.length == 1 ? c[0] : nr.from(c, u)),
        (u = -1),
        (a = c.length = 0));
    }
    for (let d of e) f(d);
    return h(), l.length == 1 ? l[0] : new nr(l, n);
  }
}
le.empty = new Ne([""], 0);
function CT(t) {
  let e = -1;
  for (let n of t) e += n.length + 1;
  return e;
}
function wc(t, e, n = 0, r = 1e9) {
  for (let i = 0, s = 0, o = !0; s < t.length && i <= r; s++) {
    let l = t[s],
      a = i + l.length;
    a >= n &&
      (a > r && (l = l.slice(0, r - i)),
      i < n && (l = l.slice(n - i)),
      o ? ((e[e.length - 1] += l), (o = !1)) : e.push(l)),
      (i = a + 1);
  }
  return e;
}
function av(t, e, n) {
  return wc(t, [""], e, n);
}
class Al {
  constructor(e, n = 1) {
    (this.dir = n),
      (this.done = !1),
      (this.lineBreak = !1),
      (this.value = ""),
      (this.nodes = [e]),
      (this.offsets = [
        n > 0 ? 1 : (e instanceof Ne ? e.text.length : e.children.length) << 1,
      ]);
  }
  nextInner(e, n) {
    for (this.done = this.lineBreak = !1; ; ) {
      let r = this.nodes.length - 1,
        i = this.nodes[r],
        s = this.offsets[r],
        o = s >> 1,
        l = i instanceof Ne ? i.text.length : i.children.length;
      if (o == (n > 0 ? l : 0)) {
        if (r == 0) return (this.done = !0), (this.value = ""), this;
        n > 0 && this.offsets[r - 1]++, this.nodes.pop(), this.offsets.pop();
      } else if ((s & 1) == (n > 0 ? 0 : 1)) {
        if (((this.offsets[r] += n), e == 0))
          return (
            (this.lineBreak = !0),
            (this.value = `
`),
            this
          );
        e--;
      } else if (i instanceof Ne) {
        let a = i.text[o + (n < 0 ? -1 : 0)];
        if (((this.offsets[r] += n), a.length > Math.max(0, e)))
          return (
            (this.value =
              e == 0 ? a : n > 0 ? a.slice(e) : a.slice(0, a.length - e)),
            this
          );
        e -= a.length;
      } else {
        let a = i.children[o + (n < 0 ? -1 : 0)];
        e > a.length
          ? ((e -= a.length), (this.offsets[r] += n))
          : (n < 0 && this.offsets[r]--,
            this.nodes.push(a),
            this.offsets.push(
              n > 0
                ? 1
                : (a instanceof Ne ? a.text.length : a.children.length) << 1
            ));
      }
    }
  }
  next(e = 0) {
    return (
      e < 0 && (this.nextInner(-e, -this.dir), (e = this.value.length)),
      this.nextInner(e, this.dir)
    );
  }
}
class rk {
  constructor(e, n, r) {
    (this.value = ""),
      (this.done = !1),
      (this.cursor = new Al(e, n > r ? -1 : 1)),
      (this.pos = n > r ? e.length : 0),
      (this.from = Math.min(n, r)),
      (this.to = Math.max(n, r));
  }
  nextInner(e, n) {
    if (n < 0 ? this.pos <= this.from : this.pos >= this.to)
      return (this.value = ""), (this.done = !0), this;
    e += Math.max(0, n < 0 ? this.pos - this.to : this.from - this.pos);
    let r = n < 0 ? this.pos - this.from : this.to - this.pos;
    e > r && (e = r), (r -= e);
    let { value: i } = this.cursor.next(e);
    return (
      (this.pos += (i.length + e) * n),
      (this.value =
        i.length <= r ? i : n < 0 ? i.slice(i.length - r) : i.slice(0, r)),
      (this.done = !this.value),
      this
    );
  }
  next(e = 0) {
    return (
      e < 0
        ? (e = Math.max(e, this.from - this.pos))
        : e > 0 && (e = Math.min(e, this.to - this.pos)),
      this.nextInner(e, this.cursor.dir)
    );
  }
  get lineBreak() {
    return this.cursor.lineBreak && this.value != "";
  }
}
class ik {
  constructor(e) {
    (this.inner = e),
      (this.afterBreak = !0),
      (this.value = ""),
      (this.done = !1);
  }
  next(e = 0) {
    let { done: n, lineBreak: r, value: i } = this.inner.next(e);
    return (
      n && this.afterBreak
        ? ((this.value = ""), (this.afterBreak = !1))
        : n
          ? ((this.done = !0), (this.value = ""))
          : r
            ? this.afterBreak
              ? (this.value = "")
              : ((this.afterBreak = !0), this.next())
            : ((this.value = i), (this.afterBreak = !1)),
      this
    );
  }
  get lineBreak() {
    return !1;
  }
}
typeof Symbol < "u" &&
  ((le.prototype[Symbol.iterator] = function () {
    return this.iter();
  }),
  (Al.prototype[Symbol.iterator] =
    rk.prototype[Symbol.iterator] =
    ik.prototype[Symbol.iterator] =
      function () {
        return this;
      }));
class _T {
  constructor(e, n, r, i) {
    (this.from = e), (this.to = n), (this.number = r), (this.text = i);
  }
  get length() {
    return this.to - this.from;
  }
}
function So(t, e, n) {
  return (
    (e = Math.max(0, Math.min(t.length, e))),
    [e, Math.max(e, Math.min(t.length, n))]
  );
}
let Zs =
  "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o"
    .split(",")
    .map((t) => (t ? parseInt(t, 36) : 1));
for (let t = 1; t < Zs.length; t++) Zs[t] += Zs[t - 1];
function AT(t) {
  for (let e = 1; e < Zs.length; e += 2) if (Zs[e] > t) return Zs[e - 1] <= t;
  return !1;
}
function uv(t) {
  return t >= 127462 && t <= 127487;
}
const cv = 8205;
function ot(t, e, n = !0, r = !0) {
  return (n ? sk : OT)(t, e, r);
}
function sk(t, e, n) {
  if (e == t.length) return e;
  e && ok(t.charCodeAt(e)) && lk(t.charCodeAt(e - 1)) && e--;
  let r = rt(t, e);
  for (e += un(r); e < t.length; ) {
    let i = rt(t, e);
    if (r == cv || i == cv || (n && AT(i))) (e += un(i)), (r = i);
    else if (uv(i)) {
      let s = 0,
        o = e - 2;
      for (; o >= 0 && uv(rt(t, o)); ) s++, (o -= 2);
      if (s % 2 == 0) break;
      e += 2;
    } else break;
  }
  return e;
}
function OT(t, e, n) {
  for (; e > 0; ) {
    let r = sk(t, e - 2, n);
    if (r < e) return r;
    e--;
  }
  return 0;
}
function ok(t) {
  return t >= 56320 && t < 57344;
}
function lk(t) {
  return t >= 55296 && t < 56320;
}
function rt(t, e) {
  let n = t.charCodeAt(e);
  if (!lk(n) || e + 1 == t.length) return n;
  let r = t.charCodeAt(e + 1);
  return ok(r) ? ((n - 55296) << 10) + (r - 56320) + 65536 : n;
}
function O0(t) {
  return t <= 65535
    ? String.fromCharCode(t)
    : ((t -= 65536),
      String.fromCharCode((t >> 10) + 55296, (t & 1023) + 56320));
}
function un(t) {
  return t < 65536 ? 1 : 2;
}
const hm = /\r\n?|\n/;
var kt = (function (t) {
  return (
    (t[(t.Simple = 0)] = "Simple"),
    (t[(t.TrackDel = 1)] = "TrackDel"),
    (t[(t.TrackBefore = 2)] = "TrackBefore"),
    (t[(t.TrackAfter = 3)] = "TrackAfter"),
    t
  );
})(kt || (kt = {}));
class dr {
  constructor(e) {
    this.sections = e;
  }
  get length() {
    let e = 0;
    for (let n = 0; n < this.sections.length; n += 2) e += this.sections[n];
    return e;
  }
  get newLength() {
    let e = 0;
    for (let n = 0; n < this.sections.length; n += 2) {
      let r = this.sections[n + 1];
      e += r < 0 ? this.sections[n] : r;
    }
    return e;
  }
  get empty() {
    return (
      this.sections.length == 0 ||
      (this.sections.length == 2 && this.sections[1] < 0)
    );
  }
  iterGaps(e) {
    for (let n = 0, r = 0, i = 0; n < this.sections.length; ) {
      let s = this.sections[n++],
        o = this.sections[n++];
      o < 0 ? (e(r, i, s), (i += s)) : (i += o), (r += s);
    }
  }
  iterChangedRanges(e, n = !1) {
    dm(this, e, n);
  }
  get invertedDesc() {
    let e = [];
    for (let n = 0; n < this.sections.length; ) {
      let r = this.sections[n++],
        i = this.sections[n++];
      i < 0 ? e.push(r, i) : e.push(i, r);
    }
    return new dr(e);
  }
  composeDesc(e) {
    return this.empty ? e : e.empty ? this : ak(this, e);
  }
  mapDesc(e, n = !1) {
    return e.empty ? this : pm(this, e, n);
  }
  mapPos(e, n = -1, r = kt.Simple) {
    let i = 0,
      s = 0;
    for (let o = 0; o < this.sections.length; ) {
      let l = this.sections[o++],
        a = this.sections[o++],
        u = i + l;
      if (a < 0) {
        if (u > e) return s + (e - i);
        s += l;
      } else {
        if (
          r != kt.Simple &&
          u >= e &&
          ((r == kt.TrackDel && i < e && u > e) ||
            (r == kt.TrackBefore && i < e) ||
            (r == kt.TrackAfter && u > e))
        )
          return null;
        if (u > e || (u == e && n < 0 && !l))
          return e == i || n < 0 ? s : s + a;
        s += a;
      }
      i = u;
    }
    if (e > i)
      throw new RangeError(
        `Position ${e} is out of range for changeset of length ${i}`
      );
    return s;
  }
  touchesRange(e, n = e) {
    for (let r = 0, i = 0; r < this.sections.length && i <= n; ) {
      let s = this.sections[r++],
        o = this.sections[r++],
        l = i + s;
      if (o >= 0 && i <= n && l >= e) return i < e && l > n ? "cover" : !0;
      i = l;
    }
    return !1;
  }
  toString() {
    let e = "";
    for (let n = 0; n < this.sections.length; ) {
      let r = this.sections[n++],
        i = this.sections[n++];
      e += (e ? " " : "") + r + (i >= 0 ? ":" + i : "");
    }
    return e;
  }
  toJSON() {
    return this.sections;
  }
  static fromJSON(e) {
    if (
      !Array.isArray(e) ||
      e.length % 2 ||
      e.some((n) => typeof n != "number")
    )
      throw new RangeError("Invalid JSON representation of ChangeDesc");
    return new dr(e);
  }
  static create(e) {
    return new dr(e);
  }
}
class Ke extends dr {
  constructor(e, n) {
    super(e), (this.inserted = n);
  }
  apply(e) {
    if (this.length != e.length)
      throw new RangeError(
        "Applying change set to a document with the wrong length"
      );
    return (
      dm(this, (n, r, i, s, o) => (e = e.replace(i, i + (r - n), o)), !1), e
    );
  }
  mapDesc(e, n = !1) {
    return pm(this, e, n, !0);
  }
  invert(e) {
    let n = this.sections.slice(),
      r = [];
    for (let i = 0, s = 0; i < n.length; i += 2) {
      let o = n[i],
        l = n[i + 1];
      if (l >= 0) {
        (n[i] = l), (n[i + 1] = o);
        let a = i >> 1;
        for (; r.length < a; ) r.push(le.empty);
        r.push(o ? e.slice(s, s + o) : le.empty);
      }
      s += o;
    }
    return new Ke(n, r);
  }
  compose(e) {
    return this.empty ? e : e.empty ? this : ak(this, e, !0);
  }
  map(e, n = !1) {
    return e.empty ? this : pm(this, e, n, !0);
  }
  iterChanges(e, n = !1) {
    dm(this, e, n);
  }
  get desc() {
    return dr.create(this.sections);
  }
  filter(e) {
    let n = [],
      r = [],
      i = [],
      s = new ra(this);
    e: for (let o = 0, l = 0; ; ) {
      let a = o == e.length ? 1e9 : e[o++];
      for (; l < a || (l == a && s.len == 0); ) {
        if (s.done) break e;
        let c = Math.min(s.len, a - l);
        pt(i, c, -1);
        let f = s.ins == -1 ? -1 : s.off == 0 ? s.ins : 0;
        pt(n, c, f), f > 0 && ti(r, n, s.text), s.forward(c), (l += c);
      }
      let u = e[o++];
      for (; l < u; ) {
        if (s.done) break e;
        let c = Math.min(s.len, u - l);
        pt(n, c, -1),
          pt(i, c, s.ins == -1 ? -1 : s.off == 0 ? s.ins : 0),
          s.forward(c),
          (l += c);
      }
    }
    return { changes: new Ke(n, r), filtered: dr.create(i) };
  }
  toJSON() {
    let e = [];
    for (let n = 0; n < this.sections.length; n += 2) {
      let r = this.sections[n],
        i = this.sections[n + 1];
      i < 0
        ? e.push(r)
        : i == 0
          ? e.push([r])
          : e.push([r].concat(this.inserted[n >> 1].toJSON()));
    }
    return e;
  }
  static of(e, n, r) {
    let i = [],
      s = [],
      o = 0,
      l = null;
    function a(c = !1) {
      if (!c && !i.length) return;
      o < n && pt(i, n - o, -1);
      let f = new Ke(i, s);
      (l = l ? l.compose(f.map(l)) : f), (i = []), (s = []), (o = 0);
    }
    function u(c) {
      if (Array.isArray(c)) for (let f of c) u(f);
      else if (c instanceof Ke) {
        if (c.length != n)
          throw new RangeError(
            `Mismatched change set length (got ${c.length}, expected ${n})`
          );
        a(), (l = l ? l.compose(c.map(l)) : c);
      } else {
        let { from: f, to: h = f, insert: d } = c;
        if (f > h || f < 0 || h > n)
          throw new RangeError(
            `Invalid change range ${f} to ${h} (in doc of length ${n})`
          );
        let p = d
            ? typeof d == "string"
              ? le.of(d.split(r || hm))
              : d
            : le.empty,
          m = p.length;
        if (f == h && m == 0) return;
        f < o && a(),
          f > o && pt(i, f - o, -1),
          pt(i, h - f, m),
          ti(s, i, p),
          (o = h);
      }
    }
    return u(e), a(!l), l;
  }
  static empty(e) {
    return new Ke(e ? [e, -1] : [], []);
  }
  static fromJSON(e) {
    if (!Array.isArray(e))
      throw new RangeError("Invalid JSON representation of ChangeSet");
    let n = [],
      r = [];
    for (let i = 0; i < e.length; i++) {
      let s = e[i];
      if (typeof s == "number") n.push(s, -1);
      else {
        if (
          !Array.isArray(s) ||
          typeof s[0] != "number" ||
          s.some((o, l) => l && typeof o != "string")
        )
          throw new RangeError("Invalid JSON representation of ChangeSet");
        if (s.length == 1) n.push(s[0], 0);
        else {
          for (; r.length < i; ) r.push(le.empty);
          (r[i] = le.of(s.slice(1))), n.push(s[0], r[i].length);
        }
      }
    }
    return new Ke(n, r);
  }
  static createSet(e, n) {
    return new Ke(e, n);
  }
}
function pt(t, e, n, r = !1) {
  if (e == 0 && n <= 0) return;
  let i = t.length - 2;
  i >= 0 && n <= 0 && n == t[i + 1]
    ? (t[i] += e)
    : e == 0 && t[i] == 0
      ? (t[i + 1] += n)
      : r
        ? ((t[i] += e), (t[i + 1] += n))
        : t.push(e, n);
}
function ti(t, e, n) {
  if (n.length == 0) return;
  let r = (e.length - 2) >> 1;
  if (r < t.length) t[t.length - 1] = t[t.length - 1].append(n);
  else {
    for (; t.length < r; ) t.push(le.empty);
    t.push(n);
  }
}
function dm(t, e, n) {
  let r = t.inserted;
  for (let i = 0, s = 0, o = 0; o < t.sections.length; ) {
    let l = t.sections[o++],
      a = t.sections[o++];
    if (a < 0) (i += l), (s += l);
    else {
      let u = i,
        c = s,
        f = le.empty;
      for (
        ;
        (u += l),
          (c += a),
          a && r && (f = f.append(r[(o - 2) >> 1])),
          !(n || o == t.sections.length || t.sections[o + 1] < 0);

      )
        (l = t.sections[o++]), (a = t.sections[o++]);
      e(i, u, s, c, f), (i = u), (s = c);
    }
  }
}
function pm(t, e, n, r = !1) {
  let i = [],
    s = r ? [] : null,
    o = new ra(t),
    l = new ra(e);
  for (let a = -1; ; )
    if (o.ins == -1 && l.ins == -1) {
      let u = Math.min(o.len, l.len);
      pt(i, u, -1), o.forward(u), l.forward(u);
    } else if (
      l.ins >= 0 &&
      (o.ins < 0 ||
        a == o.i ||
        (o.off == 0 && (l.len < o.len || (l.len == o.len && !n))))
    ) {
      let u = l.len;
      for (pt(i, l.ins, -1); u; ) {
        let c = Math.min(o.len, u);
        o.ins >= 0 &&
          a < o.i &&
          o.len <= c &&
          (pt(i, 0, o.ins), s && ti(s, i, o.text), (a = o.i)),
          o.forward(c),
          (u -= c);
      }
      l.next();
    } else if (o.ins >= 0) {
      let u = 0,
        c = o.len;
      for (; c; )
        if (l.ins == -1) {
          let f = Math.min(c, l.len);
          (u += f), (c -= f), l.forward(f);
        } else if (l.ins == 0 && l.len < c) (c -= l.len), l.next();
        else break;
      pt(i, u, a < o.i ? o.ins : 0),
        s && a < o.i && ti(s, i, o.text),
        (a = o.i),
        o.forward(o.len - c);
    } else {
      if (o.done && l.done) return s ? Ke.createSet(i, s) : dr.create(i);
      throw new Error("Mismatched change set lengths");
    }
}
function ak(t, e, n = !1) {
  let r = [],
    i = n ? [] : null,
    s = new ra(t),
    o = new ra(e);
  for (let l = !1; ; ) {
    if (s.done && o.done) return i ? Ke.createSet(r, i) : dr.create(r);
    if (s.ins == 0) pt(r, s.len, 0, l), s.next();
    else if (o.len == 0 && !o.done)
      pt(r, 0, o.ins, l), i && ti(i, r, o.text), o.next();
    else {
      if (s.done || o.done) throw new Error("Mismatched change set lengths");
      {
        let a = Math.min(s.len2, o.len),
          u = r.length;
        if (s.ins == -1) {
          let c = o.ins == -1 ? -1 : o.off ? 0 : o.ins;
          pt(r, a, c, l), i && c && ti(i, r, o.text);
        } else
          o.ins == -1
            ? (pt(r, s.off ? 0 : s.len, a, l), i && ti(i, r, s.textBit(a)))
            : (pt(r, s.off ? 0 : s.len, o.off ? 0 : o.ins, l),
              i && !o.off && ti(i, r, o.text));
        (l = (s.ins > a || (o.ins >= 0 && o.len > a)) && (l || r.length > u)),
          s.forward2(a),
          o.forward(a);
      }
    }
  }
}
class ra {
  constructor(e) {
    (this.set = e), (this.i = 0), this.next();
  }
  next() {
    let { sections: e } = this.set;
    this.i < e.length
      ? ((this.len = e[this.i++]), (this.ins = e[this.i++]))
      : ((this.len = 0), (this.ins = -2)),
      (this.off = 0);
  }
  get done() {
    return this.ins == -2;
  }
  get len2() {
    return this.ins < 0 ? this.len : this.ins;
  }
  get text() {
    let { inserted: e } = this.set,
      n = (this.i - 2) >> 1;
    return n >= e.length ? le.empty : e[n];
  }
  textBit(e) {
    let { inserted: n } = this.set,
      r = (this.i - 2) >> 1;
    return r >= n.length && !e
      ? le.empty
      : n[r].slice(this.off, e == null ? void 0 : this.off + e);
  }
  forward(e) {
    e == this.len ? this.next() : ((this.len -= e), (this.off += e));
  }
  forward2(e) {
    this.ins == -1
      ? this.forward(e)
      : e == this.ins
        ? this.next()
        : ((this.ins -= e), (this.off += e));
  }
}
class Wi {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.flags = r);
  }
  get anchor() {
    return this.flags & 32 ? this.to : this.from;
  }
  get head() {
    return this.flags & 32 ? this.from : this.to;
  }
  get empty() {
    return this.from == this.to;
  }
  get assoc() {
    return this.flags & 8 ? -1 : this.flags & 16 ? 1 : 0;
  }
  get bidiLevel() {
    let e = this.flags & 7;
    return e == 7 ? null : e;
  }
  get goalColumn() {
    let e = this.flags >> 6;
    return e == 16777215 ? void 0 : e;
  }
  map(e, n = -1) {
    let r, i;
    return (
      this.empty
        ? (r = i = e.mapPos(this.from, n))
        : ((r = e.mapPos(this.from, 1)), (i = e.mapPos(this.to, -1))),
      r == this.from && i == this.to ? this : new Wi(r, i, this.flags)
    );
  }
  extend(e, n = e) {
    if (e <= this.anchor && n >= this.anchor) return A.range(e, n);
    let r = Math.abs(e - this.anchor) > Math.abs(n - this.anchor) ? e : n;
    return A.range(this.anchor, r);
  }
  eq(e, n = !1) {
    return (
      this.anchor == e.anchor &&
      this.head == e.head &&
      (!n || !this.empty || this.assoc == e.assoc)
    );
  }
  toJSON() {
    return { anchor: this.anchor, head: this.head };
  }
  static fromJSON(e) {
    if (!e || typeof e.anchor != "number" || typeof e.head != "number")
      throw new RangeError("Invalid JSON representation for SelectionRange");
    return A.range(e.anchor, e.head);
  }
  static create(e, n, r) {
    return new Wi(e, n, r);
  }
}
class A {
  constructor(e, n) {
    (this.ranges = e), (this.mainIndex = n);
  }
  map(e, n = -1) {
    return e.empty
      ? this
      : A.create(
          this.ranges.map((r) => r.map(e, n)),
          this.mainIndex
        );
  }
  eq(e, n = !1) {
    if (this.ranges.length != e.ranges.length || this.mainIndex != e.mainIndex)
      return !1;
    for (let r = 0; r < this.ranges.length; r++)
      if (!this.ranges[r].eq(e.ranges[r], n)) return !1;
    return !0;
  }
  get main() {
    return this.ranges[this.mainIndex];
  }
  asSingle() {
    return this.ranges.length == 1 ? this : new A([this.main], 0);
  }
  addRange(e, n = !0) {
    return A.create([e].concat(this.ranges), n ? 0 : this.mainIndex + 1);
  }
  replaceRange(e, n = this.mainIndex) {
    let r = this.ranges.slice();
    return (r[n] = e), A.create(r, this.mainIndex);
  }
  toJSON() {
    return { ranges: this.ranges.map((e) => e.toJSON()), main: this.mainIndex };
  }
  static fromJSON(e) {
    if (
      !e ||
      !Array.isArray(e.ranges) ||
      typeof e.main != "number" ||
      e.main >= e.ranges.length
    )
      throw new RangeError("Invalid JSON representation for EditorSelection");
    return new A(
      e.ranges.map((n) => Wi.fromJSON(n)),
      e.main
    );
  }
  static single(e, n = e) {
    return new A([A.range(e, n)], 0);
  }
  static create(e, n = 0) {
    if (e.length == 0)
      throw new RangeError("A selection needs at least one range");
    for (let r = 0, i = 0; i < e.length; i++) {
      let s = e[i];
      if (s.empty ? s.from <= r : s.from < r) return A.normalized(e.slice(), n);
      r = s.to;
    }
    return new A(e, n);
  }
  static cursor(e, n = 0, r, i) {
    return Wi.create(
      e,
      e,
      (n == 0 ? 0 : n < 0 ? 8 : 16) |
        (r == null ? 7 : Math.min(6, r)) |
        ((i ?? 16777215) << 6)
    );
  }
  static range(e, n, r, i) {
    let s = ((r ?? 16777215) << 6) | (i == null ? 7 : Math.min(6, i));
    return n < e
      ? Wi.create(n, e, 48 | s)
      : Wi.create(e, n, (n > e ? 8 : 0) | s);
  }
  static normalized(e, n = 0) {
    let r = e[n];
    e.sort((i, s) => i.from - s.from), (n = e.indexOf(r));
    for (let i = 1; i < e.length; i++) {
      let s = e[i],
        o = e[i - 1];
      if (s.empty ? s.from <= o.to : s.from < o.to) {
        let l = o.from,
          a = Math.max(s.to, o.to);
        i <= n && n--,
          e.splice(--i, 2, s.anchor > s.head ? A.range(a, l) : A.range(l, a));
      }
    }
    return new A(e, n);
  }
}
function uk(t, e) {
  for (let n of t.ranges)
    if (n.to > e) throw new RangeError("Selection points outside of document");
}
let M0 = 0;
class $ {
  constructor(e, n, r, i, s) {
    (this.combine = e),
      (this.compareInput = n),
      (this.compare = r),
      (this.isStatic = i),
      (this.id = M0++),
      (this.default = e([])),
      (this.extensions = typeof s == "function" ? s(this) : s);
  }
  get reader() {
    return this;
  }
  static define(e = {}) {
    return new $(
      e.combine || ((n) => n),
      e.compareInput || ((n, r) => n === r),
      e.compare || (e.combine ? (n, r) => n === r : E0),
      !!e.static,
      e.enables
    );
  }
  of(e) {
    return new bc([], this, 0, e);
  }
  compute(e, n) {
    if (this.isStatic) throw new Error("Can't compute a static facet");
    return new bc(e, this, 1, n);
  }
  computeN(e, n) {
    if (this.isStatic) throw new Error("Can't compute a static facet");
    return new bc(e, this, 2, n);
  }
  from(e, n) {
    return n || (n = (r) => r), this.compute([e], (r) => n(r.field(e)));
  }
}
function E0(t, e) {
  return t == e || (t.length == e.length && t.every((n, r) => n === e[r]));
}
class bc {
  constructor(e, n, r, i) {
    (this.dependencies = e),
      (this.facet = n),
      (this.type = r),
      (this.value = i),
      (this.id = M0++);
  }
  dynamicSlot(e) {
    var n;
    let r = this.value,
      i = this.facet.compareInput,
      s = this.id,
      o = e[s] >> 1,
      l = this.type == 2,
      a = !1,
      u = !1,
      c = [];
    for (let f of this.dependencies)
      f == "doc"
        ? (a = !0)
        : f == "selection"
          ? (u = !0)
          : ((n = e[f.id]) !== null && n !== void 0 ? n : 1) & 1 ||
            c.push(e[f.id]);
    return {
      create(f) {
        return (f.values[o] = r(f)), 1;
      },
      update(f, h) {
        if (
          (a && h.docChanged) ||
          (u && (h.docChanged || h.selection)) ||
          mm(f, c)
        ) {
          let d = r(f);
          if (l ? !fv(d, f.values[o], i) : !i(d, f.values[o]))
            return (f.values[o] = d), 1;
        }
        return 0;
      },
      reconfigure: (f, h) => {
        let d,
          p = h.config.address[s];
        if (p != null) {
          let m = cf(h, p);
          if (
            this.dependencies.every((w) =>
              w instanceof $
                ? h.facet(w) === f.facet(w)
                : w instanceof ct
                  ? h.field(w, !1) == f.field(w, !1)
                  : !0
            ) ||
            (l ? fv((d = r(f)), m, i) : i((d = r(f)), m))
          )
            return (f.values[o] = m), 0;
        } else d = r(f);
        return (f.values[o] = d), 1;
      },
    };
  }
}
function fv(t, e, n) {
  if (t.length != e.length) return !1;
  for (let r = 0; r < t.length; r++) if (!n(t[r], e[r])) return !1;
  return !0;
}
function mm(t, e) {
  let n = !1;
  for (let r of e) Ol(t, r) & 1 && (n = !0);
  return n;
}
function MT(t, e, n) {
  let r = n.map((a) => t[a.id]),
    i = n.map((a) => a.type),
    s = r.filter((a) => !(a & 1)),
    o = t[e.id] >> 1;
  function l(a) {
    let u = [];
    for (let c = 0; c < r.length; c++) {
      let f = cf(a, r[c]);
      if (i[c] == 2) for (let h of f) u.push(h);
      else u.push(f);
    }
    return e.combine(u);
  }
  return {
    create(a) {
      for (let u of r) Ol(a, u);
      return (a.values[o] = l(a)), 1;
    },
    update(a, u) {
      if (!mm(a, s)) return 0;
      let c = l(a);
      return e.compare(c, a.values[o]) ? 0 : ((a.values[o] = c), 1);
    },
    reconfigure(a, u) {
      let c = mm(a, r),
        f = u.config.facets[e.id],
        h = u.facet(e);
      if (f && !c && E0(n, f)) return (a.values[o] = h), 0;
      let d = l(a);
      return e.compare(d, h) ? ((a.values[o] = h), 0) : ((a.values[o] = d), 1);
    },
  };
}
const hv = $.define({ static: !0 });
class ct {
  constructor(e, n, r, i, s) {
    (this.id = e),
      (this.createF = n),
      (this.updateF = r),
      (this.compareF = i),
      (this.spec = s),
      (this.provides = void 0);
  }
  static define(e) {
    let n = new ct(
      M0++,
      e.create,
      e.update,
      e.compare || ((r, i) => r === i),
      e
    );
    return e.provide && (n.provides = e.provide(n)), n;
  }
  create(e) {
    let n = e.facet(hv).find((r) => r.field == this);
    return ((n == null ? void 0 : n.create) || this.createF)(e);
  }
  slot(e) {
    let n = e[this.id] >> 1;
    return {
      create: (r) => ((r.values[n] = this.create(r)), 1),
      update: (r, i) => {
        let s = r.values[n],
          o = this.updateF(s, i);
        return this.compareF(s, o) ? 0 : ((r.values[n] = o), 1);
      },
      reconfigure: (r, i) =>
        i.config.address[this.id] != null
          ? ((r.values[n] = i.field(this)), 0)
          : ((r.values[n] = this.create(r)), 1),
    };
  }
  init(e) {
    return [this, hv.of({ field: this, create: e })];
  }
  get extension() {
    return this;
  }
}
const Fi = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };
function Zo(t) {
  return (e) => new ck(e, t);
}
const gs = {
  highest: Zo(Fi.highest),
  high: Zo(Fi.high),
  default: Zo(Fi.default),
  low: Zo(Fi.low),
  lowest: Zo(Fi.lowest),
};
class ck {
  constructor(e, n) {
    (this.inner = e), (this.prec = n);
  }
}
class yh {
  of(e) {
    return new gm(this, e);
  }
  reconfigure(e) {
    return yh.reconfigure.of({ compartment: this, extension: e });
  }
  get(e) {
    return e.config.compartments.get(this);
  }
}
class gm {
  constructor(e, n) {
    (this.compartment = e), (this.inner = n);
  }
}
class uf {
  constructor(e, n, r, i, s, o) {
    for (
      this.base = e,
        this.compartments = n,
        this.dynamicSlots = r,
        this.address = i,
        this.staticValues = s,
        this.facets = o,
        this.statusTemplate = [];
      this.statusTemplate.length < r.length;

    )
      this.statusTemplate.push(0);
  }
  staticFacet(e) {
    let n = this.address[e.id];
    return n == null ? e.default : this.staticValues[n >> 1];
  }
  static resolve(e, n, r) {
    let i = [],
      s = Object.create(null),
      o = new Map();
    for (let h of ET(e, n, o))
      h instanceof ct
        ? i.push(h)
        : (s[h.facet.id] || (s[h.facet.id] = [])).push(h);
    let l = Object.create(null),
      a = [],
      u = [];
    for (let h of i) (l[h.id] = u.length << 1), u.push((d) => h.slot(d));
    let c = r == null ? void 0 : r.config.facets;
    for (let h in s) {
      let d = s[h],
        p = d[0].facet,
        m = (c && c[h]) || [];
      if (d.every((w) => w.type == 0))
        if (((l[p.id] = (a.length << 1) | 1), E0(m, d))) a.push(r.facet(p));
        else {
          let w = p.combine(d.map((g) => g.value));
          a.push(r && p.compare(w, r.facet(p)) ? r.facet(p) : w);
        }
      else {
        for (let w of d)
          w.type == 0
            ? ((l[w.id] = (a.length << 1) | 1), a.push(w.value))
            : ((l[w.id] = u.length << 1), u.push((g) => w.dynamicSlot(g)));
        (l[p.id] = u.length << 1), u.push((w) => MT(w, p, d));
      }
    }
    let f = u.map((h) => h(l));
    return new uf(e, o, f, l, a, s);
  }
}
function ET(t, e, n) {
  let r = [[], [], [], [], []],
    i = new Map();
  function s(o, l) {
    let a = i.get(o);
    if (a != null) {
      if (a <= l) return;
      let u = r[a].indexOf(o);
      u > -1 && r[a].splice(u, 1), o instanceof gm && n.delete(o.compartment);
    }
    if ((i.set(o, l), Array.isArray(o))) for (let u of o) s(u, l);
    else if (o instanceof gm) {
      if (n.has(o.compartment))
        throw new RangeError("Duplicate use of compartment in extensions");
      let u = e.get(o.compartment) || o.inner;
      n.set(o.compartment, u), s(u, l);
    } else if (o instanceof ck) s(o.inner, o.prec);
    else if (o instanceof ct) r[l].push(o), o.provides && s(o.provides, l);
    else if (o instanceof bc)
      r[l].push(o), o.facet.extensions && s(o.facet.extensions, Fi.default);
    else {
      let u = o.extension;
      if (!u)
        throw new Error(
          `Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`
        );
      s(u, l);
    }
  }
  return s(t, Fi.default), r.reduce((o, l) => o.concat(l));
}
function Ol(t, e) {
  if (e & 1) return 2;
  let n = e >> 1,
    r = t.status[n];
  if (r == 4) throw new Error("Cyclic dependency between fields and/or facets");
  if (r & 2) return r;
  t.status[n] = 4;
  let i = t.computeSlot(t, t.config.dynamicSlots[n]);
  return (t.status[n] = 2 | i);
}
function cf(t, e) {
  return e & 1 ? t.config.staticValues[e >> 1] : t.values[e >> 1];
}
const fk = $.define(),
  ym = $.define({ combine: (t) => t.some((e) => e), static: !0 }),
  hk = $.define({ combine: (t) => (t.length ? t[0] : void 0), static: !0 }),
  dk = $.define(),
  pk = $.define(),
  mk = $.define(),
  gk = $.define({ combine: (t) => (t.length ? t[0] : !1) });
class Ir {
  constructor(e, n) {
    (this.type = e), (this.value = n);
  }
  static define() {
    return new TT();
  }
}
class TT {
  of(e) {
    return new Ir(this, e);
  }
}
class PT {
  constructor(e) {
    this.map = e;
  }
  of(e) {
    return new Y(this, e);
  }
}
class Y {
  constructor(e, n) {
    (this.type = e), (this.value = n);
  }
  map(e) {
    let n = this.type.map(this.value, e);
    return n === void 0 ? void 0 : n == this.value ? this : new Y(this.type, n);
  }
  is(e) {
    return this.type == e;
  }
  static define(e = {}) {
    return new PT(e.map || ((n) => n));
  }
  static mapEffects(e, n) {
    if (!e.length) return e;
    let r = [];
    for (let i of e) {
      let s = i.map(n);
      s && r.push(s);
    }
    return r;
  }
}
Y.reconfigure = Y.define();
Y.appendConfig = Y.define();
class Ye {
  constructor(e, n, r, i, s, o) {
    (this.startState = e),
      (this.changes = n),
      (this.selection = r),
      (this.effects = i),
      (this.annotations = s),
      (this.scrollIntoView = o),
      (this._doc = null),
      (this._state = null),
      r && uk(r, n.newLength),
      s.some((l) => l.type == Ye.time) ||
        (this.annotations = s.concat(Ye.time.of(Date.now())));
  }
  static create(e, n, r, i, s, o) {
    return new Ye(e, n, r, i, s, o);
  }
  get newDoc() {
    return this._doc || (this._doc = this.changes.apply(this.startState.doc));
  }
  get newSelection() {
    return this.selection || this.startState.selection.map(this.changes);
  }
  get state() {
    return this._state || this.startState.applyTransaction(this), this._state;
  }
  annotation(e) {
    for (let n of this.annotations) if (n.type == e) return n.value;
  }
  get docChanged() {
    return !this.changes.empty;
  }
  get reconfigured() {
    return this.startState.config != this.state.config;
  }
  isUserEvent(e) {
    let n = this.annotation(Ye.userEvent);
    return !!(
      n &&
      (n == e ||
        (n.length > e.length &&
          n.slice(0, e.length) == e &&
          n[e.length] == "."))
    );
  }
}
Ye.time = Ir.define();
Ye.userEvent = Ir.define();
Ye.addToHistory = Ir.define();
Ye.remote = Ir.define();
function DT(t, e) {
  let n = [];
  for (let r = 0, i = 0; ; ) {
    let s, o;
    if (r < t.length && (i == e.length || e[i] >= t[r]))
      (s = t[r++]), (o = t[r++]);
    else if (i < e.length) (s = e[i++]), (o = e[i++]);
    else return n;
    !n.length || n[n.length - 1] < s
      ? n.push(s, o)
      : n[n.length - 1] < o && (n[n.length - 1] = o);
  }
}
function yk(t, e, n) {
  var r;
  let i, s, o;
  return (
    n
      ? ((i = e.changes),
        (s = Ke.empty(e.changes.length)),
        (o = t.changes.compose(e.changes)))
      : ((i = e.changes.map(t.changes)),
        (s = t.changes.mapDesc(e.changes, !0)),
        (o = t.changes.compose(i))),
    {
      changes: o,
      selection: e.selection
        ? e.selection.map(s)
        : (r = t.selection) === null || r === void 0
          ? void 0
          : r.map(i),
      effects: Y.mapEffects(t.effects, i).concat(Y.mapEffects(e.effects, s)),
      annotations: t.annotations.length
        ? t.annotations.concat(e.annotations)
        : e.annotations,
      scrollIntoView: t.scrollIntoView || e.scrollIntoView,
    }
  );
}
function vm(t, e, n) {
  let r = e.selection,
    i = eo(e.annotations);
  return (
    e.userEvent && (i = i.concat(Ye.userEvent.of(e.userEvent))),
    {
      changes:
        e.changes instanceof Ke
          ? e.changes
          : Ke.of(e.changes || [], n, t.facet(hk)),
      selection: r && (r instanceof A ? r : A.single(r.anchor, r.head)),
      effects: eo(e.effects),
      annotations: i,
      scrollIntoView: !!e.scrollIntoView,
    }
  );
}
function vk(t, e, n) {
  let r = vm(t, e.length ? e[0] : {}, t.doc.length);
  e.length && e[0].filter === !1 && (n = !1);
  for (let s = 1; s < e.length; s++) {
    e[s].filter === !1 && (n = !1);
    let o = !!e[s].sequential;
    r = yk(r, vm(t, e[s], o ? r.changes.newLength : t.doc.length), o);
  }
  let i = Ye.create(
    t,
    r.changes,
    r.selection,
    r.effects,
    r.annotations,
    r.scrollIntoView
  );
  return LT(n ? RT(i) : i);
}
function RT(t) {
  let e = t.startState,
    n = !0;
  for (let i of e.facet(dk)) {
    let s = i(t);
    if (s === !1) {
      n = !1;
      break;
    }
    Array.isArray(s) && (n = n === !0 ? s : DT(n, s));
  }
  if (n !== !0) {
    let i, s;
    if (n === !1) (s = t.changes.invertedDesc), (i = Ke.empty(e.doc.length));
    else {
      let o = t.changes.filter(n);
      (i = o.changes), (s = o.filtered.mapDesc(o.changes).invertedDesc);
    }
    t = Ye.create(
      e,
      i,
      t.selection && t.selection.map(s),
      Y.mapEffects(t.effects, s),
      t.annotations,
      t.scrollIntoView
    );
  }
  let r = e.facet(pk);
  for (let i = r.length - 1; i >= 0; i--) {
    let s = r[i](t);
    s instanceof Ye
      ? (t = s)
      : Array.isArray(s) && s.length == 1 && s[0] instanceof Ye
        ? (t = s[0])
        : (t = vk(e, eo(s), !1));
  }
  return t;
}
function LT(t) {
  let e = t.startState,
    n = e.facet(mk),
    r = t;
  for (let i = n.length - 1; i >= 0; i--) {
    let s = n[i](t);
    s &&
      Object.keys(s).length &&
      (r = yk(r, vm(e, s, t.changes.newLength), !0));
  }
  return r == t
    ? t
    : Ye.create(
        e,
        t.changes,
        t.selection,
        r.effects,
        r.annotations,
        r.scrollIntoView
      );
}
const BT = [];
function eo(t) {
  return t == null ? BT : Array.isArray(t) ? t : [t];
}
var _e = (function (t) {
  return (
    (t[(t.Word = 0)] = "Word"),
    (t[(t.Space = 1)] = "Space"),
    (t[(t.Other = 2)] = "Other"),
    t
  );
})(_e || (_e = {}));
const NT =
  /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
let wm;
try {
  wm = new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
} catch {}
function IT(t) {
  if (wm) return wm.test(t);
  for (let e = 0; e < t.length; e++) {
    let n = t[e];
    if (
      /\w/.test(n) ||
      (n > "" && (n.toUpperCase() != n.toLowerCase() || NT.test(n)))
    )
      return !0;
  }
  return !1;
}
function $T(t) {
  return (e) => {
    if (!/\S/.test(e)) return _e.Space;
    if (IT(e)) return _e.Word;
    for (let n = 0; n < t.length; n++) if (e.indexOf(t[n]) > -1) return _e.Word;
    return _e.Other;
  };
}
class ee {
  constructor(e, n, r, i, s, o) {
    (this.config = e),
      (this.doc = n),
      (this.selection = r),
      (this.values = i),
      (this.status = e.statusTemplate.slice()),
      (this.computeSlot = s),
      o && (o._state = this);
    for (let l = 0; l < this.config.dynamicSlots.length; l++) Ol(this, l << 1);
    this.computeSlot = null;
  }
  field(e, n = !0) {
    let r = this.config.address[e.id];
    if (r == null) {
      if (n) throw new RangeError("Field is not present in this state");
      return;
    }
    return Ol(this, r), cf(this, r);
  }
  update(...e) {
    return vk(this, e, !0);
  }
  applyTransaction(e) {
    let n = this.config,
      { base: r, compartments: i } = n;
    for (let l of e.effects)
      l.is(yh.reconfigure)
        ? (n &&
            ((i = new Map()),
            n.compartments.forEach((a, u) => i.set(u, a)),
            (n = null)),
          i.set(l.value.compartment, l.value.extension))
        : l.is(Y.reconfigure)
          ? ((n = null), (r = l.value))
          : l.is(Y.appendConfig) && ((n = null), (r = eo(r).concat(l.value)));
    let s;
    n
      ? (s = e.startState.values.slice())
      : ((n = uf.resolve(r, i, this)),
        (s = new ee(
          n,
          this.doc,
          this.selection,
          n.dynamicSlots.map(() => null),
          (a, u) => u.reconfigure(a, this),
          null
        ).values));
    let o = e.startState.facet(ym) ? e.newSelection : e.newSelection.asSingle();
    new ee(n, e.newDoc, o, s, (l, a) => a.update(l, e), e);
  }
  replaceSelection(e) {
    return (
      typeof e == "string" && (e = this.toText(e)),
      this.changeByRange((n) => ({
        changes: { from: n.from, to: n.to, insert: e },
        range: A.cursor(n.from + e.length),
      }))
    );
  }
  changeByRange(e) {
    let n = this.selection,
      r = e(n.ranges[0]),
      i = this.changes(r.changes),
      s = [r.range],
      o = eo(r.effects);
    for (let l = 1; l < n.ranges.length; l++) {
      let a = e(n.ranges[l]),
        u = this.changes(a.changes),
        c = u.map(i);
      for (let h = 0; h < l; h++) s[h] = s[h].map(c);
      let f = i.mapDesc(u, !0);
      s.push(a.range.map(f)),
        (i = i.compose(c)),
        (o = Y.mapEffects(o, c).concat(Y.mapEffects(eo(a.effects), f)));
    }
    return { changes: i, selection: A.create(s, n.mainIndex), effects: o };
  }
  changes(e = []) {
    return e instanceof Ke
      ? e
      : Ke.of(e, this.doc.length, this.facet(ee.lineSeparator));
  }
  toText(e) {
    return le.of(e.split(this.facet(ee.lineSeparator) || hm));
  }
  sliceDoc(e = 0, n = this.doc.length) {
    return this.doc.sliceString(e, n, this.lineBreak);
  }
  facet(e) {
    let n = this.config.address[e.id];
    return n == null ? e.default : (Ol(this, n), cf(this, n));
  }
  toJSON(e) {
    let n = { doc: this.sliceDoc(), selection: this.selection.toJSON() };
    if (e)
      for (let r in e) {
        let i = e[r];
        i instanceof ct &&
          this.config.address[i.id] != null &&
          (n[r] = i.spec.toJSON(this.field(e[r]), this));
      }
    return n;
  }
  static fromJSON(e, n = {}, r) {
    if (!e || typeof e.doc != "string")
      throw new RangeError("Invalid JSON representation for EditorState");
    let i = [];
    if (r) {
      for (let s in r)
        if (Object.prototype.hasOwnProperty.call(e, s)) {
          let o = r[s],
            l = e[s];
          i.push(o.init((a) => o.spec.fromJSON(l, a)));
        }
    }
    return ee.create({
      doc: e.doc,
      selection: A.fromJSON(e.selection),
      extensions: n.extensions ? i.concat([n.extensions]) : i,
    });
  }
  static create(e = {}) {
    let n = uf.resolve(e.extensions || [], new Map()),
      r =
        e.doc instanceof le
          ? e.doc
          : le.of((e.doc || "").split(n.staticFacet(ee.lineSeparator) || hm)),
      i = e.selection
        ? e.selection instanceof A
          ? e.selection
          : A.single(e.selection.anchor, e.selection.head)
        : A.single(0);
    return (
      uk(i, r.length),
      n.staticFacet(ym) || (i = i.asSingle()),
      new ee(
        n,
        r,
        i,
        n.dynamicSlots.map(() => null),
        (s, o) => o.create(s),
        null
      )
    );
  }
  get tabSize() {
    return this.facet(ee.tabSize);
  }
  get lineBreak() {
    return (
      this.facet(ee.lineSeparator) ||
      `
`
    );
  }
  get readOnly() {
    return this.facet(gk);
  }
  phrase(e, ...n) {
    for (let r of this.facet(ee.phrases))
      if (Object.prototype.hasOwnProperty.call(r, e)) {
        e = r[e];
        break;
      }
    return (
      n.length &&
        (e = e.replace(/\$(\$|\d*)/g, (r, i) => {
          if (i == "$") return "$";
          let s = +(i || 1);
          return !s || s > n.length ? r : n[s - 1];
        })),
      e
    );
  }
  languageDataAt(e, n, r = -1) {
    let i = [];
    for (let s of this.facet(fk))
      for (let o of s(this, n, r))
        Object.prototype.hasOwnProperty.call(o, e) && i.push(o[e]);
    return i;
  }
  charCategorizer(e) {
    return $T(this.languageDataAt("wordChars", e).join(""));
  }
  wordAt(e) {
    let { text: n, from: r, length: i } = this.doc.lineAt(e),
      s = this.charCategorizer(e),
      o = e - r,
      l = e - r;
    for (; o > 0; ) {
      let a = ot(n, o, !1);
      if (s(n.slice(a, o)) != _e.Word) break;
      o = a;
    }
    for (; l < i; ) {
      let a = ot(n, l);
      if (s(n.slice(l, a)) != _e.Word) break;
      l = a;
    }
    return o == l ? null : A.range(o + r, l + r);
  }
}
ee.allowMultipleSelections = ym;
ee.tabSize = $.define({ combine: (t) => (t.length ? t[0] : 4) });
ee.lineSeparator = hk;
ee.readOnly = gk;
ee.phrases = $.define({
  compare(t, e) {
    let n = Object.keys(t),
      r = Object.keys(e);
    return n.length == r.length && n.every((i) => t[i] == e[i]);
  },
});
ee.languageData = fk;
ee.changeFilter = dk;
ee.transactionFilter = pk;
ee.transactionExtender = mk;
yh.reconfigure = Y.define();
function mr(t, e, n = {}) {
  let r = {};
  for (let i of t)
    for (let s of Object.keys(i)) {
      let o = i[s],
        l = r[s];
      if (l === void 0) r[s] = o;
      else if (!(l === o || o === void 0))
        if (Object.hasOwnProperty.call(n, s)) r[s] = n[s](l, o);
        else throw new Error("Config merge conflict for field " + s);
    }
  for (let i in e) r[i] === void 0 && (r[i] = e[i]);
  return r;
}
class is {
  eq(e) {
    return this == e;
  }
  range(e, n = e) {
    return ia.create(e, n, this);
  }
}
is.prototype.startSide = is.prototype.endSide = 0;
is.prototype.point = !1;
is.prototype.mapMode = kt.TrackDel;
class ia {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.value = r);
  }
  static create(e, n, r) {
    return new ia(e, n, r);
  }
}
function bm(t, e) {
  return t.from - e.from || t.value.startSide - e.value.startSide;
}
class T0 {
  constructor(e, n, r, i) {
    (this.from = e), (this.to = n), (this.value = r), (this.maxPoint = i);
  }
  get length() {
    return this.to[this.to.length - 1];
  }
  findIndex(e, n, r, i = 0) {
    let s = r ? this.to : this.from;
    for (let o = i, l = s.length; ; ) {
      if (o == l) return o;
      let a = (o + l) >> 1,
        u =
          s[a] - e || (r ? this.value[a].endSide : this.value[a].startSide) - n;
      if (a == o) return u >= 0 ? o : l;
      u >= 0 ? (l = a) : (o = a + 1);
    }
  }
  between(e, n, r, i) {
    for (
      let s = this.findIndex(n, -1e9, !0), o = this.findIndex(r, 1e9, !1, s);
      s < o;
      s++
    )
      if (i(this.from[s] + e, this.to[s] + e, this.value[s]) === !1) return !1;
  }
  map(e, n) {
    let r = [],
      i = [],
      s = [],
      o = -1,
      l = -1;
    for (let a = 0; a < this.value.length; a++) {
      let u = this.value[a],
        c = this.from[a] + e,
        f = this.to[a] + e,
        h,
        d;
      if (c == f) {
        let p = n.mapPos(c, u.startSide, u.mapMode);
        if (
          p == null ||
          ((h = d = p),
          u.startSide != u.endSide && ((d = n.mapPos(c, u.endSide)), d < h))
        )
          continue;
      } else if (
        ((h = n.mapPos(c, u.startSide)),
        (d = n.mapPos(f, u.endSide)),
        h > d || (h == d && u.startSide > 0 && u.endSide <= 0))
      )
        continue;
      (d - h || u.endSide - u.startSide) < 0 ||
        (o < 0 && (o = h),
        u.point && (l = Math.max(l, d - h)),
        r.push(u),
        i.push(h - o),
        s.push(d - o));
    }
    return { mapped: r.length ? new T0(i, s, r, l) : null, pos: o };
  }
}
class te {
  constructor(e, n, r, i) {
    (this.chunkPos = e),
      (this.chunk = n),
      (this.nextLayer = r),
      (this.maxPoint = i);
  }
  static create(e, n, r, i) {
    return new te(e, n, r, i);
  }
  get length() {
    let e = this.chunk.length - 1;
    return e < 0 ? 0 : Math.max(this.chunkEnd(e), this.nextLayer.length);
  }
  get size() {
    if (this.isEmpty) return 0;
    let e = this.nextLayer.size;
    for (let n of this.chunk) e += n.value.length;
    return e;
  }
  chunkEnd(e) {
    return this.chunkPos[e] + this.chunk[e].length;
  }
  update(e) {
    let {
        add: n = [],
        sort: r = !1,
        filterFrom: i = 0,
        filterTo: s = this.length,
      } = e,
      o = e.filter;
    if (n.length == 0 && !o) return this;
    if ((r && (n = n.slice().sort(bm)), this.isEmpty))
      return n.length ? te.of(n) : this;
    let l = new wk(this, null, -1).goto(0),
      a = 0,
      u = [],
      c = new ki();
    for (; l.value || a < n.length; )
      if (
        a < n.length &&
        (l.from - n[a].from || l.startSide - n[a].value.startSide) >= 0
      ) {
        let f = n[a++];
        c.addInner(f.from, f.to, f.value) || u.push(f);
      } else
        l.rangeIndex == 1 &&
        l.chunkIndex < this.chunk.length &&
        (a == n.length || this.chunkEnd(l.chunkIndex) < n[a].from) &&
        (!o ||
          i > this.chunkEnd(l.chunkIndex) ||
          s < this.chunkPos[l.chunkIndex]) &&
        c.addChunk(this.chunkPos[l.chunkIndex], this.chunk[l.chunkIndex])
          ? l.nextChunk()
          : ((!o || i > l.to || s < l.from || o(l.from, l.to, l.value)) &&
              (c.addInner(l.from, l.to, l.value) ||
                u.push(ia.create(l.from, l.to, l.value))),
            l.next());
    return c.finishInner(
      this.nextLayer.isEmpty && !u.length
        ? te.empty
        : this.nextLayer.update({
            add: u,
            filter: o,
            filterFrom: i,
            filterTo: s,
          })
    );
  }
  map(e) {
    if (e.empty || this.isEmpty) return this;
    let n = [],
      r = [],
      i = -1;
    for (let o = 0; o < this.chunk.length; o++) {
      let l = this.chunkPos[o],
        a = this.chunk[o],
        u = e.touchesRange(l, l + a.length);
      if (u === !1)
        (i = Math.max(i, a.maxPoint)), n.push(a), r.push(e.mapPos(l));
      else if (u === !0) {
        let { mapped: c, pos: f } = a.map(l, e);
        c && ((i = Math.max(i, c.maxPoint)), n.push(c), r.push(f));
      }
    }
    let s = this.nextLayer.map(e);
    return n.length == 0 ? s : new te(r, n, s || te.empty, i);
  }
  between(e, n, r) {
    if (!this.isEmpty) {
      for (let i = 0; i < this.chunk.length; i++) {
        let s = this.chunkPos[i],
          o = this.chunk[i];
        if (n >= s && e <= s + o.length && o.between(s, e - s, n - s, r) === !1)
          return;
      }
      this.nextLayer.between(e, n, r);
    }
  }
  iter(e = 0) {
    return sa.from([this]).goto(e);
  }
  get isEmpty() {
    return this.nextLayer == this;
  }
  static iter(e, n = 0) {
    return sa.from(e).goto(n);
  }
  static compare(e, n, r, i, s = -1) {
    let o = e.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= s)),
      l = n.filter((f) => f.maxPoint > 0 || (!f.isEmpty && f.maxPoint >= s)),
      a = dv(o, l, r),
      u = new el(o, a, s),
      c = new el(l, a, s);
    r.iterGaps((f, h, d) => pv(u, f, c, h, d, i)),
      r.empty && r.length == 0 && pv(u, 0, c, 0, 0, i);
  }
  static eq(e, n, r = 0, i) {
    i == null && (i = 999999999);
    let s = e.filter((c) => !c.isEmpty && n.indexOf(c) < 0),
      o = n.filter((c) => !c.isEmpty && e.indexOf(c) < 0);
    if (s.length != o.length) return !1;
    if (!s.length) return !0;
    let l = dv(s, o),
      a = new el(s, l, 0).goto(r),
      u = new el(o, l, 0).goto(r);
    for (;;) {
      if (
        a.to != u.to ||
        !xm(a.active, u.active) ||
        (a.point && (!u.point || !a.point.eq(u.point)))
      )
        return !1;
      if (a.to > i) return !0;
      a.next(), u.next();
    }
  }
  static spans(e, n, r, i, s = -1) {
    let o = new el(e, null, s).goto(n),
      l = n,
      a = o.openStart;
    for (;;) {
      let u = Math.min(o.to, r);
      if (o.point) {
        let c = o.activeForPoint(o.to),
          f =
            o.pointFrom < n
              ? c.length + 1
              : o.point.startSide < 0
                ? c.length
                : Math.min(c.length, a);
        i.point(l, u, o.point, c, f, o.pointRank),
          (a = Math.min(o.openEnd(u), c.length));
      } else u > l && (i.span(l, u, o.active, a), (a = o.openEnd(u)));
      if (o.to > r) return a + (o.point && o.to > r ? 1 : 0);
      (l = o.to), o.next();
    }
  }
  static of(e, n = !1) {
    let r = new ki();
    for (let i of e instanceof ia ? [e] : n ? FT(e) : e)
      r.add(i.from, i.to, i.value);
    return r.finish();
  }
  static join(e) {
    if (!e.length) return te.empty;
    let n = e[e.length - 1];
    for (let r = e.length - 2; r >= 0; r--)
      for (let i = e[r]; i != te.empty; i = i.nextLayer)
        n = new te(i.chunkPos, i.chunk, n, Math.max(i.maxPoint, n.maxPoint));
    return n;
  }
}
te.empty = new te([], [], null, -1);
function FT(t) {
  if (t.length > 1)
    for (let e = t[0], n = 1; n < t.length; n++) {
      let r = t[n];
      if (bm(e, r) > 0) return t.slice().sort(bm);
      e = r;
    }
  return t;
}
te.empty.nextLayer = te.empty;
class ki {
  finishChunk(e) {
    this.chunks.push(new T0(this.from, this.to, this.value, this.maxPoint)),
      this.chunkPos.push(this.chunkStart),
      (this.chunkStart = -1),
      (this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint)),
      (this.maxPoint = -1),
      e && ((this.from = []), (this.to = []), (this.value = []));
  }
  constructor() {
    (this.chunks = []),
      (this.chunkPos = []),
      (this.chunkStart = -1),
      (this.last = null),
      (this.lastFrom = -1e9),
      (this.lastTo = -1e9),
      (this.from = []),
      (this.to = []),
      (this.value = []),
      (this.maxPoint = -1),
      (this.setMaxPoint = -1),
      (this.nextLayer = null);
  }
  add(e, n, r) {
    this.addInner(e, n, r) ||
      (this.nextLayer || (this.nextLayer = new ki())).add(e, n, r);
  }
  addInner(e, n, r) {
    let i = e - this.lastTo || r.startSide - this.last.endSide;
    if (i <= 0 && (e - this.lastFrom || r.startSide - this.last.startSide) < 0)
      throw new Error(
        "Ranges must be added sorted by `from` position and `startSide`"
      );
    return i < 0
      ? !1
      : (this.from.length == 250 && this.finishChunk(!0),
        this.chunkStart < 0 && (this.chunkStart = e),
        this.from.push(e - this.chunkStart),
        this.to.push(n - this.chunkStart),
        (this.last = r),
        (this.lastFrom = e),
        (this.lastTo = n),
        this.value.push(r),
        r.point && (this.maxPoint = Math.max(this.maxPoint, n - e)),
        !0);
  }
  addChunk(e, n) {
    if ((e - this.lastTo || n.value[0].startSide - this.last.endSide) < 0)
      return !1;
    this.from.length && this.finishChunk(!0),
      (this.setMaxPoint = Math.max(this.setMaxPoint, n.maxPoint)),
      this.chunks.push(n),
      this.chunkPos.push(e);
    let r = n.value.length - 1;
    return (
      (this.last = n.value[r]),
      (this.lastFrom = n.from[r] + e),
      (this.lastTo = n.to[r] + e),
      !0
    );
  }
  finish() {
    return this.finishInner(te.empty);
  }
  finishInner(e) {
    if ((this.from.length && this.finishChunk(!1), this.chunks.length == 0))
      return e;
    let n = te.create(
      this.chunkPos,
      this.chunks,
      this.nextLayer ? this.nextLayer.finishInner(e) : e,
      this.setMaxPoint
    );
    return (this.from = null), n;
  }
}
function dv(t, e, n) {
  let r = new Map();
  for (let s of t)
    for (let o = 0; o < s.chunk.length; o++)
      s.chunk[o].maxPoint <= 0 && r.set(s.chunk[o], s.chunkPos[o]);
  let i = new Set();
  for (let s of e)
    for (let o = 0; o < s.chunk.length; o++) {
      let l = r.get(s.chunk[o]);
      l != null &&
        (n ? n.mapPos(l) : l) == s.chunkPos[o] &&
        !(n != null && n.touchesRange(l, l + s.chunk[o].length)) &&
        i.add(s.chunk[o]);
    }
  return i;
}
class wk {
  constructor(e, n, r, i = 0) {
    (this.layer = e), (this.skip = n), (this.minPoint = r), (this.rank = i);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  get endSide() {
    return this.value ? this.value.endSide : 0;
  }
  goto(e, n = -1e9) {
    return (
      (this.chunkIndex = this.rangeIndex = 0), this.gotoInner(e, n, !1), this
    );
  }
  gotoInner(e, n, r) {
    for (; this.chunkIndex < this.layer.chunk.length; ) {
      let i = this.layer.chunk[this.chunkIndex];
      if (
        !(
          (this.skip && this.skip.has(i)) ||
          this.layer.chunkEnd(this.chunkIndex) < e ||
          i.maxPoint < this.minPoint
        )
      )
        break;
      this.chunkIndex++, (r = !1);
    }
    if (this.chunkIndex < this.layer.chunk.length) {
      let i = this.layer.chunk[this.chunkIndex].findIndex(
        e - this.layer.chunkPos[this.chunkIndex],
        n,
        !0
      );
      (!r || this.rangeIndex < i) && this.setRangeIndex(i);
    }
    this.next();
  }
  forward(e, n) {
    (this.to - e || this.endSide - n) < 0 && this.gotoInner(e, n, !0);
  }
  next() {
    for (;;)
      if (this.chunkIndex == this.layer.chunk.length) {
        (this.from = this.to = 1e9), (this.value = null);
        break;
      } else {
        let e = this.layer.chunkPos[this.chunkIndex],
          n = this.layer.chunk[this.chunkIndex],
          r = e + n.from[this.rangeIndex];
        if (
          ((this.from = r),
          (this.to = e + n.to[this.rangeIndex]),
          (this.value = n.value[this.rangeIndex]),
          this.setRangeIndex(this.rangeIndex + 1),
          this.minPoint < 0 ||
            (this.value.point && this.to - this.from >= this.minPoint))
        )
          break;
      }
  }
  setRangeIndex(e) {
    if (e == this.layer.chunk[this.chunkIndex].value.length) {
      if ((this.chunkIndex++, this.skip))
        for (
          ;
          this.chunkIndex < this.layer.chunk.length &&
          this.skip.has(this.layer.chunk[this.chunkIndex]);

        )
          this.chunkIndex++;
      this.rangeIndex = 0;
    } else this.rangeIndex = e;
  }
  nextChunk() {
    this.chunkIndex++, (this.rangeIndex = 0), this.next();
  }
  compare(e) {
    return (
      this.from - e.from ||
      this.startSide - e.startSide ||
      this.rank - e.rank ||
      this.to - e.to ||
      this.endSide - e.endSide
    );
  }
}
class sa {
  constructor(e) {
    this.heap = e;
  }
  static from(e, n = null, r = -1) {
    let i = [];
    for (let s = 0; s < e.length; s++)
      for (let o = e[s]; !o.isEmpty; o = o.nextLayer)
        o.maxPoint >= r && i.push(new wk(o, n, r, s));
    return i.length == 1 ? i[0] : new sa(i);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  goto(e, n = -1e9) {
    for (let r of this.heap) r.goto(e, n);
    for (let r = this.heap.length >> 1; r >= 0; r--) Td(this.heap, r);
    return this.next(), this;
  }
  forward(e, n) {
    for (let r of this.heap) r.forward(e, n);
    for (let r = this.heap.length >> 1; r >= 0; r--) Td(this.heap, r);
    (this.to - e || this.value.endSide - n) < 0 && this.next();
  }
  next() {
    if (this.heap.length == 0)
      (this.from = this.to = 1e9), (this.value = null), (this.rank = -1);
    else {
      let e = this.heap[0];
      (this.from = e.from),
        (this.to = e.to),
        (this.value = e.value),
        (this.rank = e.rank),
        e.value && e.next(),
        Td(this.heap, 0);
    }
  }
}
function Td(t, e) {
  for (let n = t[e]; ; ) {
    let r = (e << 1) + 1;
    if (r >= t.length) break;
    let i = t[r];
    if (
      (r + 1 < t.length && i.compare(t[r + 1]) >= 0 && ((i = t[r + 1]), r++),
      n.compare(i) < 0)
    )
      break;
    (t[r] = n), (t[e] = i), (e = r);
  }
}
class el {
  constructor(e, n, r) {
    (this.minPoint = r),
      (this.active = []),
      (this.activeTo = []),
      (this.activeRank = []),
      (this.minActive = -1),
      (this.point = null),
      (this.pointFrom = 0),
      (this.pointRank = 0),
      (this.to = -1e9),
      (this.endSide = 0),
      (this.openStart = -1),
      (this.cursor = sa.from(e, n, r));
  }
  goto(e, n = -1e9) {
    return (
      this.cursor.goto(e, n),
      (this.active.length = this.activeTo.length = this.activeRank.length = 0),
      (this.minActive = -1),
      (this.to = e),
      (this.endSide = n),
      (this.openStart = -1),
      this.next(),
      this
    );
  }
  forward(e, n) {
    for (
      ;
      this.minActive > -1 &&
      (this.activeTo[this.minActive] - e ||
        this.active[this.minActive].endSide - n) < 0;

    )
      this.removeActive(this.minActive);
    this.cursor.forward(e, n);
  }
  removeActive(e) {
    Tu(this.active, e),
      Tu(this.activeTo, e),
      Tu(this.activeRank, e),
      (this.minActive = mv(this.active, this.activeTo));
  }
  addActive(e) {
    let n = 0,
      { value: r, to: i, rank: s } = this.cursor;
    for (
      ;
      n < this.activeRank.length &&
      (s - this.activeRank[n] || i - this.activeTo[n]) > 0;

    )
      n++;
    Pu(this.active, n, r),
      Pu(this.activeTo, n, i),
      Pu(this.activeRank, n, s),
      e && Pu(e, n, this.cursor.from),
      (this.minActive = mv(this.active, this.activeTo));
  }
  next() {
    let e = this.to,
      n = this.point;
    this.point = null;
    let r = this.openStart < 0 ? [] : null;
    for (;;) {
      let i = this.minActive;
      if (
        i > -1 &&
        (this.activeTo[i] - this.cursor.from ||
          this.active[i].endSide - this.cursor.startSide) < 0
      ) {
        if (this.activeTo[i] > e) {
          (this.to = this.activeTo[i]), (this.endSide = this.active[i].endSide);
          break;
        }
        this.removeActive(i), r && Tu(r, i);
      } else if (this.cursor.value)
        if (this.cursor.from > e) {
          (this.to = this.cursor.from), (this.endSide = this.cursor.startSide);
          break;
        } else {
          let s = this.cursor.value;
          if (!s.point) this.addActive(r), this.cursor.next();
          else if (
            n &&
            this.cursor.to == this.to &&
            this.cursor.from < this.cursor.to
          )
            this.cursor.next();
          else {
            (this.point = s),
              (this.pointFrom = this.cursor.from),
              (this.pointRank = this.cursor.rank),
              (this.to = this.cursor.to),
              (this.endSide = s.endSide),
              this.cursor.next(),
              this.forward(this.to, this.endSide);
            break;
          }
        }
      else {
        this.to = this.endSide = 1e9;
        break;
      }
    }
    if (r) {
      this.openStart = 0;
      for (let i = r.length - 1; i >= 0 && r[i] < e; i--) this.openStart++;
    }
  }
  activeForPoint(e) {
    if (!this.active.length) return this.active;
    let n = [];
    for (
      let r = this.active.length - 1;
      r >= 0 && !(this.activeRank[r] < this.pointRank);
      r--
    )
      (this.activeTo[r] > e ||
        (this.activeTo[r] == e &&
          this.active[r].endSide >= this.point.endSide)) &&
        n.push(this.active[r]);
    return n.reverse();
  }
  openEnd(e) {
    let n = 0;
    for (let r = this.activeTo.length - 1; r >= 0 && this.activeTo[r] > e; r--)
      n++;
    return n;
  }
}
function pv(t, e, n, r, i, s) {
  t.goto(e), n.goto(r);
  let o = r + i,
    l = r,
    a = r - e;
  for (;;) {
    let u = t.to + a - n.to || t.endSide - n.endSide,
      c = u < 0 ? t.to + a : n.to,
      f = Math.min(c, o);
    if (
      (t.point || n.point
        ? (t.point &&
            n.point &&
            (t.point == n.point || t.point.eq(n.point)) &&
            xm(t.activeForPoint(t.to), n.activeForPoint(n.to))) ||
          s.comparePoint(l, f, t.point, n.point)
        : f > l &&
          !xm(t.active, n.active) &&
          s.compareRange(l, f, t.active, n.active),
      c > o)
    )
      break;
    (l = c), u <= 0 && t.next(), u >= 0 && n.next();
  }
}
function xm(t, e) {
  if (t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++)
    if (t[n] != e[n] && !t[n].eq(e[n])) return !1;
  return !0;
}
function Tu(t, e) {
  for (let n = e, r = t.length - 1; n < r; n++) t[n] = t[n + 1];
  t.pop();
}
function Pu(t, e, n) {
  for (let r = t.length - 1; r >= e; r--) t[r + 1] = t[r];
  t[e] = n;
}
function mv(t, e) {
  let n = -1,
    r = 1e9;
  for (let i = 0; i < e.length; i++)
    (e[i] - r || t[i].endSide - t[n].endSide) < 0 && ((n = i), (r = e[i]));
  return n;
}
function No(t, e, n = t.length) {
  let r = 0;
  for (let i = 0; i < n; )
    t.charCodeAt(i) == 9 ? ((r += e - (r % e)), i++) : (r++, (i = ot(t, i)));
  return r;
}
function Sm(t, e, n, r) {
  for (let i = 0, s = 0; ; ) {
    if (s >= e) return i;
    if (i == t.length) break;
    (s += t.charCodeAt(i) == 9 ? n - (s % n) : 1), (i = ot(t, i));
  }
  return r === !0 ? -1 : t.length;
}
const km = "",
  gv = typeof Symbol > "u" ? "__" + km : Symbol.for(km),
  Cm =
    typeof Symbol > "u"
      ? "__styleSet" + Math.floor(Math.random() * 1e8)
      : Symbol("styleSet"),
  yv = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : {};
class Ci {
  constructor(e, n) {
    this.rules = [];
    let { finish: r } = n || {};
    function i(o) {
      return /^@/.test(o) ? [o] : o.split(/,\s*/);
    }
    function s(o, l, a, u) {
      let c = [],
        f = /^@(\w+)\b/.exec(o[0]),
        h = f && f[1] == "keyframes";
      if (f && l == null) return a.push(o[0] + ";");
      for (let d in l) {
        let p = l[d];
        if (/&/.test(d))
          s(
            d
              .split(/,\s*/)
              .map((m) => o.map((w) => m.replace(/&/, w)))
              .reduce((m, w) => m.concat(w)),
            p,
            a
          );
        else if (p && typeof p == "object") {
          if (!f)
            throw new RangeError(
              "The value of a property (" + d + ") should be a primitive value."
            );
          s(i(d), p, c, h);
        } else
          p != null &&
            c.push(
              d
                .replace(/_.*/, "")
                .replace(/[A-Z]/g, (m) => "-" + m.toLowerCase()) +
                ": " +
                p +
                ";"
            );
      }
      (c.length || h) &&
        a.push(
          (r && !f && !u ? o.map(r) : o).join(", ") + " {" + c.join(" ") + "}"
        );
    }
    for (let o in e) s(i(o), e[o], this.rules);
  }
  getRules() {
    return this.rules.join(`
`);
  }
  static newName() {
    let e = yv[gv] || 1;
    return (yv[gv] = e + 1), km + e.toString(36);
  }
  static mount(e, n, r) {
    let i = e[Cm],
      s = r && r.nonce;
    i ? s && i.setNonce(s) : (i = new zT(e, s)),
      i.mount(Array.isArray(n) ? n : [n], e);
  }
}
let vv = new Map();
class zT {
  constructor(e, n) {
    let r = e.ownerDocument || e,
      i = r.defaultView;
    if (!e.head && e.adoptedStyleSheets && i.CSSStyleSheet) {
      let s = vv.get(r);
      if (s) return (e[Cm] = s);
      (this.sheet = new i.CSSStyleSheet()), vv.set(r, this);
    } else
      (this.styleTag = r.createElement("style")),
        n && this.styleTag.setAttribute("nonce", n);
    (this.modules = []), (e[Cm] = this);
  }
  mount(e, n) {
    let r = this.sheet,
      i = 0,
      s = 0;
    for (let o = 0; o < e.length; o++) {
      let l = e[o],
        a = this.modules.indexOf(l);
      if (
        (a < s && a > -1 && (this.modules.splice(a, 1), s--, (a = -1)), a == -1)
      ) {
        if ((this.modules.splice(s++, 0, l), r))
          for (let u = 0; u < l.rules.length; u++)
            r.insertRule(l.rules[u], i++);
      } else {
        for (; s < a; ) i += this.modules[s++].rules.length;
        (i += l.rules.length), s++;
      }
    }
    if (r)
      n.adoptedStyleSheets.indexOf(this.sheet) < 0 &&
        (n.adoptedStyleSheets = [this.sheet, ...n.adoptedStyleSheets]);
    else {
      let o = "";
      for (let a = 0; a < this.modules.length; a++)
        o +=
          this.modules[a].getRules() +
          `
`;
      this.styleTag.textContent = o;
      let l = n.head || n;
      this.styleTag.parentNode != l &&
        l.insertBefore(this.styleTag, l.firstChild);
    }
  }
  setNonce(e) {
    this.styleTag &&
      this.styleTag.getAttribute("nonce") != e &&
      this.styleTag.setAttribute("nonce", e);
  }
}
var _i = {
    8: "Backspace",
    9: "Tab",
    10: "Enter",
    12: "NumLock",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    44: "PrintScreen",
    45: "Insert",
    46: "Delete",
    59: ";",
    61: "=",
    91: "Meta",
    92: "Meta",
    106: "*",
    107: "+",
    108: ",",
    109: "-",
    110: ".",
    111: "/",
    144: "NumLock",
    145: "ScrollLock",
    160: "Shift",
    161: "Shift",
    162: "Control",
    163: "Control",
    164: "Alt",
    165: "Alt",
    173: "-",
    186: ";",
    187: "=",
    188: ",",
    189: "-",
    190: ".",
    191: "/",
    192: "`",
    219: "[",
    220: "\\",
    221: "]",
    222: "'",
  },
  oa = {
    48: ")",
    49: "!",
    50: "@",
    51: "#",
    52: "$",
    53: "%",
    54: "^",
    55: "&",
    56: "*",
    57: "(",
    59: ":",
    61: "+",
    173: "_",
    186: ":",
    187: "+",
    188: "<",
    189: "_",
    190: ">",
    191: "?",
    192: "~",
    219: "{",
    220: "|",
    221: "}",
    222: '"',
  },
  jT = typeof navigator < "u" && /Mac/.test(navigator.platform),
  VT =
    typeof navigator < "u" &&
    /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
for (var it = 0; it < 10; it++) _i[48 + it] = _i[96 + it] = String(it);
for (var it = 1; it <= 24; it++) _i[it + 111] = "F" + it;
for (var it = 65; it <= 90; it++)
  (_i[it] = String.fromCharCode(it + 32)), (oa[it] = String.fromCharCode(it));
for (var Pd in _i) oa.hasOwnProperty(Pd) || (oa[Pd] = _i[Pd]);
function HT(t) {
  var e =
      (jT && t.metaKey && t.shiftKey && !t.ctrlKey && !t.altKey) ||
      (VT && t.shiftKey && t.key && t.key.length == 1) ||
      t.key == "Unidentified",
    n =
      (!e && t.key) ||
      (t.shiftKey ? oa : _i)[t.keyCode] ||
      t.key ||
      "Unidentified";
  return (
    n == "Esc" && (n = "Escape"),
    n == "Del" && (n = "Delete"),
    n == "Left" && (n = "ArrowLeft"),
    n == "Up" && (n = "ArrowUp"),
    n == "Right" && (n = "ArrowRight"),
    n == "Down" && (n = "ArrowDown"),
    n
  );
}
function ff(t) {
  let e;
  return (
    t.nodeType == 11 ? (e = t.getSelection ? t : t.ownerDocument) : (e = t),
    e.getSelection()
  );
}
function _m(t, e) {
  return e ? t == e || t.contains(e.nodeType != 1 ? e.parentNode : e) : !1;
}
function WT(t) {
  let e = t.activeElement;
  for (; e && e.shadowRoot; ) e = e.shadowRoot.activeElement;
  return e;
}
function xc(t, e) {
  if (!e.anchorNode) return !1;
  try {
    return _m(t, e.anchorNode);
  } catch {
    return !1;
  }
}
function la(t) {
  return t.nodeType == 3
    ? os(t, 0, t.nodeValue.length).getClientRects()
    : t.nodeType == 1
      ? t.getClientRects()
      : [];
}
function Ml(t, e, n, r) {
  return n ? wv(t, e, n, r, -1) || wv(t, e, n, r, 1) : !1;
}
function ss(t) {
  for (var e = 0; ; e++) if (((t = t.previousSibling), !t)) return e;
}
function hf(t) {
  return (
    t.nodeType == 1 &&
    /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)
  );
}
function wv(t, e, n, r, i) {
  for (;;) {
    if (t == n && e == r) return !0;
    if (e == (i < 0 ? 0 : Pr(t))) {
      if (t.nodeName == "DIV") return !1;
      let s = t.parentNode;
      if (!s || s.nodeType != 1) return !1;
      (e = ss(t) + (i < 0 ? 0 : 1)), (t = s);
    } else if (t.nodeType == 1) {
      if (
        ((t = t.childNodes[e + (i < 0 ? -1 : 0)]),
        t.nodeType == 1 && t.contentEditable == "false")
      )
        return !1;
      e = i < 0 ? Pr(t) : 0;
    } else return !1;
  }
}
function Pr(t) {
  return t.nodeType == 3 ? t.nodeValue.length : t.childNodes.length;
}
function P0(t, e) {
  let n = e ? t.left : t.right;
  return { left: n, right: n, top: t.top, bottom: t.bottom };
}
function UT(t) {
  let e = t.visualViewport;
  return e
    ? { left: 0, right: e.width, top: 0, bottom: e.height }
    : { left: 0, right: t.innerWidth, top: 0, bottom: t.innerHeight };
}
function bk(t, e) {
  let n = e.width / t.offsetWidth,
    r = e.height / t.offsetHeight;
  return (
    ((n > 0.995 && n < 1.005) ||
      !isFinite(n) ||
      Math.abs(e.width - t.offsetWidth) < 1) &&
      (n = 1),
    ((r > 0.995 && r < 1.005) ||
      !isFinite(r) ||
      Math.abs(e.height - t.offsetHeight) < 1) &&
      (r = 1),
    { scaleX: n, scaleY: r }
  );
}
function KT(t, e, n, r, i, s, o, l) {
  let a = t.ownerDocument,
    u = a.defaultView || window;
  for (let c = t, f = !1; c && !f; )
    if (c.nodeType == 1) {
      let h,
        d = c == a.body,
        p = 1,
        m = 1;
      if (d) h = UT(u);
      else {
        if (
          (/^(fixed|sticky)$/.test(getComputedStyle(c).position) && (f = !0),
          c.scrollHeight <= c.clientHeight && c.scrollWidth <= c.clientWidth)
        ) {
          c = c.assignedSlot || c.parentNode;
          continue;
        }
        let y = c.getBoundingClientRect();
        ({ scaleX: p, scaleY: m } = bk(c, y)),
          (h = {
            left: y.left,
            right: y.left + c.clientWidth * p,
            top: y.top,
            bottom: y.top + c.clientHeight * m,
          });
      }
      let w = 0,
        g = 0;
      if (i == "nearest")
        e.top < h.top
          ? ((g = -(h.top - e.top + o)),
            n > 0 &&
              e.bottom > h.bottom + g &&
              (g = e.bottom - h.bottom + g + o))
          : e.bottom > h.bottom &&
            ((g = e.bottom - h.bottom + o),
            n < 0 && e.top - g < h.top && (g = -(h.top + g - e.top + o)));
      else {
        let y = e.bottom - e.top,
          v = h.bottom - h.top;
        g =
          (i == "center" && y <= v
            ? e.top + y / 2 - v / 2
            : i == "start" || (i == "center" && n < 0)
              ? e.top - o
              : e.bottom - v + o) - h.top;
      }
      if (
        (r == "nearest"
          ? e.left < h.left
            ? ((w = -(h.left - e.left + s)),
              n > 0 && e.right > h.right + w && (w = e.right - h.right + w + s))
            : e.right > h.right &&
              ((w = e.right - h.right + s),
              n < 0 && e.left < h.left + w && (w = -(h.left + w - e.left + s)))
          : (w =
              (r == "center"
                ? e.left + (e.right - e.left) / 2 - (h.right - h.left) / 2
                : (r == "start") == l
                  ? e.left - s
                  : e.right - (h.right - h.left) + s) - h.left),
        w || g)
      )
        if (d) u.scrollBy(w, g);
        else {
          let y = 0,
            v = 0;
          if (g) {
            let b = c.scrollTop;
            (c.scrollTop += g / m), (v = (c.scrollTop - b) * m);
          }
          if (w) {
            let b = c.scrollLeft;
            (c.scrollLeft += w / p), (y = (c.scrollLeft - b) * p);
          }
          (e = {
            left: e.left - y,
            top: e.top - v,
            right: e.right - y,
            bottom: e.bottom - v,
          }),
            y && Math.abs(y - w) < 1 && (r = "nearest"),
            v && Math.abs(v - g) < 1 && (i = "nearest");
        }
      if (d) break;
      c = c.assignedSlot || c.parentNode;
    } else if (c.nodeType == 11) c = c.host;
    else break;
}
function qT(t) {
  let e = t.ownerDocument;
  for (let n = t.parentNode; n && n != e.body; )
    if (n.nodeType == 1) {
      if (n.scrollHeight > n.clientHeight || n.scrollWidth > n.clientWidth)
        return n;
      n = n.assignedSlot || n.parentNode;
    } else if (n.nodeType == 11) n = n.host;
    else break;
  return null;
}
class GT {
  constructor() {
    (this.anchorNode = null),
      (this.anchorOffset = 0),
      (this.focusNode = null),
      (this.focusOffset = 0);
  }
  eq(e) {
    return (
      this.anchorNode == e.anchorNode &&
      this.anchorOffset == e.anchorOffset &&
      this.focusNode == e.focusNode &&
      this.focusOffset == e.focusOffset
    );
  }
  setRange(e) {
    let { anchorNode: n, focusNode: r } = e;
    this.set(
      n,
      Math.min(e.anchorOffset, n ? Pr(n) : 0),
      r,
      Math.min(e.focusOffset, r ? Pr(r) : 0)
    );
  }
  set(e, n, r, i) {
    (this.anchorNode = e),
      (this.anchorOffset = n),
      (this.focusNode = r),
      (this.focusOffset = i);
  }
}
let bs = null;
function xk(t) {
  if (t.setActive) return t.setActive();
  if (bs) return t.focus(bs);
  let e = [];
  for (
    let n = t;
    n && (e.push(n, n.scrollTop, n.scrollLeft), n != n.ownerDocument);
    n = n.parentNode
  );
  if (
    (t.focus(
      bs == null
        ? {
            get preventScroll() {
              return (bs = { preventScroll: !0 }), !0;
            },
          }
        : void 0
    ),
    !bs)
  ) {
    bs = !1;
    for (let n = 0; n < e.length; ) {
      let r = e[n++],
        i = e[n++],
        s = e[n++];
      r.scrollTop != i && (r.scrollTop = i),
        r.scrollLeft != s && (r.scrollLeft = s);
    }
  }
}
let bv;
function os(t, e, n = e) {
  let r = bv || (bv = document.createRange());
  return r.setEnd(t, n), r.setStart(t, e), r;
}
function to(t, e, n, r) {
  let i = { key: e, code: e, keyCode: n, which: n, cancelable: !0 };
  r &&
    ({
      altKey: i.altKey,
      ctrlKey: i.ctrlKey,
      shiftKey: i.shiftKey,
      metaKey: i.metaKey,
    } = r);
  let s = new KeyboardEvent("keydown", i);
  (s.synthetic = !0), t.dispatchEvent(s);
  let o = new KeyboardEvent("keyup", i);
  return (
    (o.synthetic = !0),
    t.dispatchEvent(o),
    s.defaultPrevented || o.defaultPrevented
  );
}
function YT(t) {
  for (; t; ) {
    if (t && (t.nodeType == 9 || (t.nodeType == 11 && t.host))) return t;
    t = t.assignedSlot || t.parentNode;
  }
  return null;
}
function Sk(t) {
  for (; t.attributes.length; ) t.removeAttributeNode(t.attributes[0]);
}
function XT(t, e) {
  let n = e.focusNode,
    r = e.focusOffset;
  if (!n || e.anchorNode != n || e.anchorOffset != r) return !1;
  for (r = Math.min(r, Pr(n)); ; )
    if (r) {
      if (n.nodeType != 1) return !1;
      let i = n.childNodes[r - 1];
      i.contentEditable == "false" ? r-- : ((n = i), (r = Pr(n)));
    } else {
      if (n == t) return !0;
      (r = ss(n)), (n = n.parentNode);
    }
}
function kk(t) {
  return t.scrollTop > Math.max(1, t.scrollHeight - t.clientHeight - 4);
}
function Ck(t, e) {
  for (let n = t, r = e; ; ) {
    if (n.nodeType == 3 && r > 0) return { node: n, offset: r };
    if (n.nodeType == 1 && r > 0) {
      if (n.contentEditable == "false") return null;
      (n = n.childNodes[r - 1]), (r = Pr(n));
    } else if (n.parentNode && !hf(n)) (r = ss(n)), (n = n.parentNode);
    else return null;
  }
}
function _k(t, e) {
  for (let n = t, r = e; ; ) {
    if (n.nodeType == 3 && r < n.nodeValue.length)
      return { node: n, offset: r };
    if (n.nodeType == 1 && r < n.childNodes.length) {
      if (n.contentEditable == "false") return null;
      (n = n.childNodes[r]), (r = 0);
    } else if (n.parentNode && !hf(n)) (r = ss(n) + 1), (n = n.parentNode);
    else return null;
  }
}
class gt {
  constructor(e, n, r = !0) {
    (this.node = e), (this.offset = n), (this.precise = r);
  }
  static before(e, n) {
    return new gt(e.parentNode, ss(e), n);
  }
  static after(e, n) {
    return new gt(e.parentNode, ss(e) + 1, n);
  }
}
const D0 = [];
class me {
  constructor() {
    (this.parent = null), (this.dom = null), (this.flags = 2);
  }
  get overrideDOMText() {
    return null;
  }
  get posAtStart() {
    return this.parent ? this.parent.posBefore(this) : 0;
  }
  get posAtEnd() {
    return this.posAtStart + this.length;
  }
  posBefore(e) {
    let n = this.posAtStart;
    for (let r of this.children) {
      if (r == e) return n;
      n += r.length + r.breakAfter;
    }
    throw new RangeError("Invalid child in posBefore");
  }
  posAfter(e) {
    return this.posBefore(e) + e.length;
  }
  sync(e, n) {
    if (this.flags & 2) {
      let r = this.dom,
        i = null,
        s;
      for (let o of this.children) {
        if (o.flags & 7) {
          if (!o.dom && (s = i ? i.nextSibling : r.firstChild)) {
            let l = me.get(s);
            (!l || (!l.parent && l.canReuseDOM(o))) && o.reuseDOM(s);
          }
          o.sync(e, n), (o.flags &= -8);
        }
        if (
          ((s = i ? i.nextSibling : r.firstChild),
          n && !n.written && n.node == r && s != o.dom && (n.written = !0),
          o.dom.parentNode == r)
        )
          for (; s && s != o.dom; ) s = xv(s);
        else r.insertBefore(o.dom, s);
        i = o.dom;
      }
      for (
        s = i ? i.nextSibling : r.firstChild,
          s && n && n.node == r && (n.written = !0);
        s;

      )
        s = xv(s);
    } else if (this.flags & 1)
      for (let r of this.children)
        r.flags & 7 && (r.sync(e, n), (r.flags &= -8));
  }
  reuseDOM(e) {}
  localPosFromDOM(e, n) {
    let r;
    if (e == this.dom) r = this.dom.childNodes[n];
    else {
      let i = Pr(e) == 0 ? 0 : n == 0 ? -1 : 1;
      for (;;) {
        let s = e.parentNode;
        if (s == this.dom) break;
        i == 0 &&
          s.firstChild != s.lastChild &&
          (e == s.firstChild ? (i = -1) : (i = 1)),
          (e = s);
      }
      i < 0 ? (r = e) : (r = e.nextSibling);
    }
    if (r == this.dom.firstChild) return 0;
    for (; r && !me.get(r); ) r = r.nextSibling;
    if (!r) return this.length;
    for (let i = 0, s = 0; ; i++) {
      let o = this.children[i];
      if (o.dom == r) return s;
      s += o.length + o.breakAfter;
    }
  }
  domBoundsAround(e, n, r = 0) {
    let i = -1,
      s = -1,
      o = -1,
      l = -1;
    for (let a = 0, u = r, c = r; a < this.children.length; a++) {
      let f = this.children[a],
        h = u + f.length;
      if (u < e && h > n) return f.domBoundsAround(e, n, u);
      if (
        (h >= e && i == -1 && ((i = a), (s = u)),
        u > n && f.dom.parentNode == this.dom)
      ) {
        (o = a), (l = c);
        break;
      }
      (c = h), (u = h + f.breakAfter);
    }
    return {
      from: s,
      to: l < 0 ? r + this.length : l,
      startDOM:
        (i ? this.children[i - 1].dom.nextSibling : null) ||
        this.dom.firstChild,
      endDOM: o < this.children.length && o >= 0 ? this.children[o].dom : null,
    };
  }
  markDirty(e = !1) {
    (this.flags |= 2), this.markParentsDirty(e);
  }
  markParentsDirty(e) {
    for (let n = this.parent; n; n = n.parent) {
      if ((e && (n.flags |= 2), n.flags & 1)) return;
      (n.flags |= 1), (e = !1);
    }
  }
  setParent(e) {
    this.parent != e &&
      ((this.parent = e), this.flags & 7 && this.markParentsDirty(!0));
  }
  setDOM(e) {
    this.dom != e &&
      (this.dom && (this.dom.cmView = null), (this.dom = e), (e.cmView = this));
  }
  get rootView() {
    for (let e = this; ; ) {
      let n = e.parent;
      if (!n) return e;
      e = n;
    }
  }
  replaceChildren(e, n, r = D0) {
    this.markDirty();
    for (let i = e; i < n; i++) {
      let s = this.children[i];
      s.parent == this && r.indexOf(s) < 0 && s.destroy();
    }
    this.children.splice(e, n - e, ...r);
    for (let i = 0; i < r.length; i++) r[i].setParent(this);
  }
  ignoreMutation(e) {
    return !1;
  }
  ignoreEvent(e) {
    return !1;
  }
  childCursor(e = this.length) {
    return new Ak(this.children, e, this.children.length);
  }
  childPos(e, n = 1) {
    return this.childCursor().findPos(e, n);
  }
  toString() {
    let e = this.constructor.name.replace("View", "");
    return (
      e +
      (this.children.length
        ? "(" + this.children.join() + ")"
        : this.length
          ? "[" + (e == "Text" ? this.text : this.length) + "]"
          : "") +
      (this.breakAfter ? "#" : "")
    );
  }
  static get(e) {
    return e.cmView;
  }
  get isEditable() {
    return !0;
  }
  get isWidget() {
    return !1;
  }
  get isHidden() {
    return !1;
  }
  merge(e, n, r, i, s, o) {
    return !1;
  }
  become(e) {
    return !1;
  }
  canReuseDOM(e) {
    return e.constructor == this.constructor && !((this.flags | e.flags) & 8);
  }
  getSide() {
    return 0;
  }
  destroy() {
    for (let e of this.children) e.parent == this && e.destroy();
    this.parent = null;
  }
}
me.prototype.breakAfter = 0;
function xv(t) {
  let e = t.nextSibling;
  return t.parentNode.removeChild(t), e;
}
class Ak {
  constructor(e, n, r) {
    (this.children = e), (this.pos = n), (this.i = r), (this.off = 0);
  }
  findPos(e, n = 1) {
    for (;;) {
      if (
        e > this.pos ||
        (e == this.pos &&
          (n > 0 || this.i == 0 || this.children[this.i - 1].breakAfter))
      )
        return (this.off = e - this.pos), this;
      let r = this.children[--this.i];
      this.pos -= r.length + r.breakAfter;
    }
  }
}
function Ok(t, e, n, r, i, s, o, l, a) {
  let { children: u } = t,
    c = u.length ? u[e] : null,
    f = s.length ? s[s.length - 1] : null,
    h = f ? f.breakAfter : o;
  if (
    !(
      e == r &&
      c &&
      !o &&
      !h &&
      s.length < 2 &&
      c.merge(n, i, s.length ? f : null, n == 0, l, a)
    )
  ) {
    if (r < u.length) {
      let d = u[r];
      d && (i < d.length || (d.breakAfter && f != null && f.breakAfter))
        ? (e == r && ((d = d.split(i)), (i = 0)),
          !h && f && d.merge(0, i, f, !0, 0, a)
            ? (s[s.length - 1] = d)
            : ((i || (d.children.length && !d.children[0].length)) &&
                d.merge(0, i, null, !1, 0, a),
              s.push(d)))
        : d != null && d.breakAfter && (f ? (f.breakAfter = 1) : (o = 1)),
        r++;
    }
    for (
      c &&
      ((c.breakAfter = o),
      n > 0 &&
        (!o && s.length && c.merge(n, c.length, s[0], !1, l, 0)
          ? (c.breakAfter = s.shift().breakAfter)
          : (n < c.length ||
              (c.children.length &&
                c.children[c.children.length - 1].length == 0)) &&
            c.merge(n, c.length, null, !1, l, 0),
        e++));
      e < r && s.length;

    )
      if (u[r - 1].become(s[s.length - 1]))
        r--, s.pop(), (a = s.length ? 0 : l);
      else if (u[e].become(s[0])) e++, s.shift(), (l = s.length ? 0 : a);
      else break;
    !s.length &&
      e &&
      r < u.length &&
      !u[e - 1].breakAfter &&
      u[r].merge(0, 0, u[e - 1], !1, l, a) &&
      e--,
      (e < r || s.length) && t.replaceChildren(e, r, s);
  }
}
function Mk(t, e, n, r, i, s) {
  let o = t.childCursor(),
    { i: l, off: a } = o.findPos(n, 1),
    { i: u, off: c } = o.findPos(e, -1),
    f = e - n;
  for (let h of r) f += h.length;
  (t.length += f), Ok(t, u, c, l, a, r, 0, i, s);
}
let Ut =
    typeof navigator < "u"
      ? navigator
      : { userAgent: "", vendor: "", platform: "" },
  Am = typeof document < "u" ? document : { documentElement: { style: {} } };
const Om = /Edge\/(\d+)/.exec(Ut.userAgent),
  Ek = /MSIE \d/.test(Ut.userAgent),
  Mm = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ut.userAgent),
  vh = !!(Ek || Mm || Om),
  Sv = !vh && /gecko\/(\d+)/i.test(Ut.userAgent),
  Dd = !vh && /Chrome\/(\d+)/.exec(Ut.userAgent),
  kv = "webkitFontSmoothing" in Am.documentElement.style,
  Tk = !vh && /Apple Computer/.test(Ut.vendor),
  Cv = Tk && (/Mobile\/\w+/.test(Ut.userAgent) || Ut.maxTouchPoints > 2);
var I = {
  mac: Cv || /Mac/.test(Ut.platform),
  windows: /Win/.test(Ut.platform),
  linux: /Linux|X11/.test(Ut.platform),
  ie: vh,
  ie_version: Ek ? Am.documentMode || 6 : Mm ? +Mm[1] : Om ? +Om[1] : 0,
  gecko: Sv,
  gecko_version: Sv ? +(/Firefox\/(\d+)/.exec(Ut.userAgent) || [0, 0])[1] : 0,
  chrome: !!Dd,
  chrome_version: Dd ? +Dd[1] : 0,
  ios: Cv,
  android: /Android\b/.test(Ut.userAgent),
  webkit: kv,
  safari: Tk,
  webkit_version: kv
    ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1]
    : 0,
  tabSize:
    Am.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size",
};
const QT = 256;
class In extends me {
  constructor(e) {
    super(), (this.text = e);
  }
  get length() {
    return this.text.length;
  }
  createDOM(e) {
    this.setDOM(e || document.createTextNode(this.text));
  }
  sync(e, n) {
    this.dom || this.createDOM(),
      this.dom.nodeValue != this.text &&
        (n && n.node == this.dom && (n.written = !0),
        (this.dom.nodeValue = this.text));
  }
  reuseDOM(e) {
    e.nodeType == 3 && this.createDOM(e);
  }
  merge(e, n, r) {
    return this.flags & 8 ||
      (r &&
        (!(r instanceof In) ||
          this.length - (n - e) + r.length > QT ||
          r.flags & 8))
      ? !1
      : ((this.text =
          this.text.slice(0, e) + (r ? r.text : "") + this.text.slice(n)),
        this.markDirty(),
        !0);
  }
  split(e) {
    let n = new In(this.text.slice(e));
    return (
      (this.text = this.text.slice(0, e)),
      this.markDirty(),
      (n.flags |= this.flags & 8),
      n
    );
  }
  localPosFromDOM(e, n) {
    return e == this.dom ? n : n ? this.text.length : 0;
  }
  domAtPos(e) {
    return new gt(this.dom, e);
  }
  domBoundsAround(e, n, r) {
    return {
      from: r,
      to: r + this.length,
      startDOM: this.dom,
      endDOM: this.dom.nextSibling,
    };
  }
  coordsAt(e, n) {
    return JT(this.dom, e, n);
  }
}
class Dr extends me {
  constructor(e, n = [], r = 0) {
    super(), (this.mark = e), (this.children = n), (this.length = r);
    for (let i of n) i.setParent(this);
  }
  setAttrs(e) {
    if (
      (Sk(e),
      this.mark.class && (e.className = this.mark.class),
      this.mark.attrs)
    )
      for (let n in this.mark.attrs) e.setAttribute(n, this.mark.attrs[n]);
    return e;
  }
  canReuseDOM(e) {
    return super.canReuseDOM(e) && !((this.flags | e.flags) & 8);
  }
  reuseDOM(e) {
    e.nodeName == this.mark.tagName.toUpperCase() &&
      (this.setDOM(e), (this.flags |= 6));
  }
  sync(e, n) {
    this.dom
      ? this.flags & 4 && this.setAttrs(this.dom)
      : this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),
      super.sync(e, n);
  }
  merge(e, n, r, i, s, o) {
    return r &&
      (!(r instanceof Dr && r.mark.eq(this.mark)) ||
        (e && s <= 0) ||
        (n < this.length && o <= 0))
      ? !1
      : (Mk(this, e, n, r ? r.children.slice() : [], s - 1, o - 1),
        this.markDirty(),
        !0);
  }
  split(e) {
    let n = [],
      r = 0,
      i = -1,
      s = 0;
    for (let l of this.children) {
      let a = r + l.length;
      a > e && n.push(r < e ? l.split(e - r) : l),
        i < 0 && r >= e && (i = s),
        (r = a),
        s++;
    }
    let o = this.length - e;
    return (
      (this.length = e),
      i > -1 && ((this.children.length = i), this.markDirty()),
      new Dr(this.mark, n, o)
    );
  }
  domAtPos(e) {
    return Pk(this, e);
  }
  coordsAt(e, n) {
    return Rk(this, e, n);
  }
}
function JT(t, e, n) {
  let r = t.nodeValue.length;
  e > r && (e = r);
  let i = e,
    s = e,
    o = 0;
  (e == 0 && n < 0) || (e == r && n >= 0)
    ? I.chrome || I.gecko || (e ? (i--, (o = 1)) : s < r && (s++, (o = -1)))
    : n < 0
      ? i--
      : s < r && s++;
  let l = os(t, i, s).getClientRects();
  if (!l.length) return null;
  let a = l[(o ? o < 0 : n >= 0) ? 0 : l.length - 1];
  return (
    I.safari &&
      !o &&
      a.width == 0 &&
      (a = Array.prototype.find.call(l, (u) => u.width) || a),
    o ? P0(a, o < 0) : a || null
  );
}
class ni extends me {
  static create(e, n, r) {
    return new ni(e, n, r);
  }
  constructor(e, n, r) {
    super(),
      (this.widget = e),
      (this.length = n),
      (this.side = r),
      (this.prevWidget = null);
  }
  split(e) {
    let n = ni.create(this.widget, this.length - e, this.side);
    return (this.length -= e), n;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) &&
      (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom),
      (this.prevWidget = null),
      this.setDOM(this.widget.toDOM(e)),
      this.widget.editable || (this.dom.contentEditable = "false"));
  }
  getSide() {
    return this.side;
  }
  merge(e, n, r, i, s, o) {
    return r &&
      (!(r instanceof ni) ||
        !this.widget.compare(r.widget) ||
        (e > 0 && s <= 0) ||
        (n < this.length && o <= 0))
      ? !1
      : ((this.length = e + (r ? r.length : 0) + (this.length - n)), !0);
  }
  become(e) {
    return e instanceof ni &&
      e.side == this.side &&
      this.widget.constructor == e.widget.constructor
      ? (this.widget.compare(e.widget) || this.markDirty(!0),
        this.dom && !this.prevWidget && (this.prevWidget = this.widget),
        (this.widget = e.widget),
        (this.length = e.length),
        !0)
      : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get overrideDOMText() {
    if (this.length == 0) return le.empty;
    let e = this;
    for (; e.parent; ) e = e.parent;
    let { view: n } = e,
      r = n && n.state.doc,
      i = this.posAtStart;
    return r ? r.slice(i, i + this.length) : le.empty;
  }
  domAtPos(e) {
    return (this.length ? e == 0 : this.side > 0)
      ? gt.before(this.dom)
      : gt.after(this.dom, e == this.length);
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e, n) {
    let r = this.widget.coordsAt(this.dom, e, n);
    if (r) return r;
    let i = this.dom.getClientRects(),
      s = null;
    if (!i.length) return null;
    let o = this.side ? this.side < 0 : e > 0;
    for (
      let l = o ? i.length - 1 : 0;
      (s = i[l]), !(e > 0 ? l == 0 : l == i.length - 1 || s.top < s.bottom);
      l += o ? -1 : 1
    );
    return P0(s, !o);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  get isHidden() {
    return this.widget.isHidden;
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
}
class ko extends me {
  constructor(e) {
    super(), (this.side = e);
  }
  get length() {
    return 0;
  }
  merge() {
    return !1;
  }
  become(e) {
    return e instanceof ko && e.side == this.side;
  }
  split() {
    return new ko(this.side);
  }
  sync() {
    if (!this.dom) {
      let e = document.createElement("img");
      (e.className = "cm-widgetBuffer"),
        e.setAttribute("aria-hidden", "true"),
        this.setDOM(e);
    }
  }
  getSide() {
    return this.side;
  }
  domAtPos(e) {
    return this.side > 0 ? gt.before(this.dom) : gt.after(this.dom);
  }
  localPosFromDOM() {
    return 0;
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e) {
    return this.dom.getBoundingClientRect();
  }
  get overrideDOMText() {
    return le.empty;
  }
  get isHidden() {
    return !0;
  }
}
In.prototype.children = ni.prototype.children = ko.prototype.children = D0;
function Pk(t, e) {
  let n = t.dom,
    { children: r } = t,
    i = 0;
  for (let s = 0; i < r.length; i++) {
    let o = r[i],
      l = s + o.length;
    if (!(l == s && o.getSide() <= 0)) {
      if (e > s && e < l && o.dom.parentNode == n) return o.domAtPos(e - s);
      if (e <= s) break;
      s = l;
    }
  }
  for (let s = i; s > 0; s--) {
    let o = r[s - 1];
    if (o.dom.parentNode == n) return o.domAtPos(o.length);
  }
  for (let s = i; s < r.length; s++) {
    let o = r[s];
    if (o.dom.parentNode == n) return o.domAtPos(0);
  }
  return new gt(n, 0);
}
function Dk(t, e, n) {
  let r,
    { children: i } = t;
  n > 0 &&
  e instanceof Dr &&
  i.length &&
  (r = i[i.length - 1]) instanceof Dr &&
  r.mark.eq(e.mark)
    ? Dk(r, e.children[0], n - 1)
    : (i.push(e), e.setParent(t)),
    (t.length += e.length);
}
function Rk(t, e, n) {
  let r = null,
    i = -1,
    s = null,
    o = -1;
  function l(u, c) {
    for (let f = 0, h = 0; f < u.children.length && h <= c; f++) {
      let d = u.children[f],
        p = h + d.length;
      p >= c &&
        (d.children.length
          ? l(d, c - h)
          : (!s || (s.isHidden && n > 0)) &&
              (p > c || (h == p && d.getSide() > 0))
            ? ((s = d), (o = c - h))
            : (h < c || (h == p && d.getSide() < 0 && !d.isHidden)) &&
              ((r = d), (i = c - h))),
        (h = p);
    }
  }
  l(t, e);
  let a = (n < 0 ? r : s) || r || s;
  return a ? a.coordsAt(Math.max(0, a == r ? i : o), n) : ZT(t);
}
function ZT(t) {
  let e = t.dom.lastChild;
  if (!e) return t.dom.getBoundingClientRect();
  let n = la(e);
  return n[n.length - 1] || null;
}
function Em(t, e) {
  for (let n in t)
    n == "class" && e.class
      ? (e.class += " " + t.class)
      : n == "style" && e.style
        ? (e.style += ";" + t.style)
        : (e[n] = t[n]);
  return e;
}
const _v = Object.create(null);
function R0(t, e, n) {
  if (t == e) return !0;
  t || (t = _v), e || (e = _v);
  let r = Object.keys(t),
    i = Object.keys(e);
  if (
    r.length - (n && r.indexOf(n) > -1 ? 1 : 0) !=
    i.length - (n && i.indexOf(n) > -1 ? 1 : 0)
  )
    return !1;
  for (let s of r)
    if (s != n && (i.indexOf(s) == -1 || t[s] !== e[s])) return !1;
  return !0;
}
function Tm(t, e, n) {
  let r = !1;
  if (e)
    for (let i in e)
      (n && i in n) ||
        ((r = !0),
        i == "style" ? (t.style.cssText = "") : t.removeAttribute(i));
  if (n)
    for (let i in n)
      (e && e[i] == n[i]) ||
        ((r = !0),
        i == "style" ? (t.style.cssText = n[i]) : t.setAttribute(i, n[i]));
  return r;
}
function eP(t) {
  let e = Object.create(null);
  for (let n = 0; n < t.attributes.length; n++) {
    let r = t.attributes[n];
    e[r.name] = r.value;
  }
  return e;
}
class We extends me {
  constructor() {
    super(...arguments),
      (this.children = []),
      (this.length = 0),
      (this.prevAttrs = void 0),
      (this.attrs = null),
      (this.breakAfter = 0);
  }
  merge(e, n, r, i, s, o) {
    if (r) {
      if (!(r instanceof We)) return !1;
      this.dom || r.transferDOM(this);
    }
    return (
      i && this.setDeco(r ? r.attrs : null),
      Mk(this, e, n, r ? r.children.slice() : [], s, o),
      !0
    );
  }
  split(e) {
    let n = new We();
    if (((n.breakAfter = this.breakAfter), this.length == 0)) return n;
    let { i: r, off: i } = this.childPos(e);
    i &&
      (n.append(this.children[r].split(i), 0),
      this.children[r].merge(i, this.children[r].length, null, !1, 0, 0),
      r++);
    for (let s = r; s < this.children.length; s++)
      n.append(this.children[s], 0);
    for (; r > 0 && this.children[r - 1].length == 0; )
      this.children[--r].destroy();
    return (this.children.length = r), this.markDirty(), (this.length = e), n;
  }
  transferDOM(e) {
    this.dom &&
      (this.markDirty(),
      e.setDOM(this.dom),
      (e.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs),
      (this.prevAttrs = void 0),
      (this.dom = null));
  }
  setDeco(e) {
    R0(this.attrs, e) ||
      (this.dom && ((this.prevAttrs = this.attrs), this.markDirty()),
      (this.attrs = e));
  }
  append(e, n) {
    Dk(this, e, n);
  }
  addLineDeco(e) {
    let n = e.spec.attributes,
      r = e.spec.class;
    n && (this.attrs = Em(n, this.attrs || {})),
      r && (this.attrs = Em({ class: r }, this.attrs || {}));
  }
  domAtPos(e) {
    return Pk(this, e);
  }
  reuseDOM(e) {
    e.nodeName == "DIV" && (this.setDOM(e), (this.flags |= 6));
  }
  sync(e, n) {
    var r;
    this.dom
      ? this.flags & 4 &&
        (Sk(this.dom),
        (this.dom.className = "cm-line"),
        (this.prevAttrs = this.attrs ? null : void 0))
      : (this.setDOM(document.createElement("div")),
        (this.dom.className = "cm-line"),
        (this.prevAttrs = this.attrs ? null : void 0)),
      this.prevAttrs !== void 0 &&
        (Tm(this.dom, this.prevAttrs, this.attrs),
        this.dom.classList.add("cm-line"),
        (this.prevAttrs = void 0)),
      super.sync(e, n);
    let i = this.dom.lastChild;
    for (; i && me.get(i) instanceof Dr; ) i = i.lastChild;
    if (
      !i ||
      !this.length ||
      (i.nodeName != "BR" &&
        ((r = me.get(i)) === null || r === void 0 ? void 0 : r.isEditable) ==
          !1 &&
        (!I.ios || !this.children.some((s) => s instanceof In)))
    ) {
      let s = document.createElement("BR");
      (s.cmIgnore = !0), this.dom.appendChild(s);
    }
  }
  measureTextSize() {
    if (this.children.length == 0 || this.length > 20) return null;
    let e = 0,
      n;
    for (let r of this.children) {
      if (!(r instanceof In) || /[^ -~]/.test(r.text)) return null;
      let i = la(r.dom);
      if (i.length != 1) return null;
      (e += i[0].width), (n = i[0].height);
    }
    return e
      ? {
          lineHeight: this.dom.getBoundingClientRect().height,
          charWidth: e / this.length,
          textHeight: n,
        }
      : null;
  }
  coordsAt(e, n) {
    let r = Rk(this, e, n);
    if (!this.children.length && r && this.parent) {
      let { heightOracle: i } = this.parent.view.viewState,
        s = r.bottom - r.top;
      if (Math.abs(s - i.lineHeight) < 2 && i.textHeight < s) {
        let o = (s - i.textHeight) / 2;
        return {
          top: r.top + o,
          bottom: r.bottom - o,
          left: r.left,
          right: r.left,
        };
      }
    }
    return r;
  }
  become(e) {
    return !1;
  }
  covers() {
    return !0;
  }
  static find(e, n) {
    for (let r = 0, i = 0; r < e.children.length; r++) {
      let s = e.children[r],
        o = i + s.length;
      if (o >= n) {
        if (s instanceof We) return s;
        if (o > n) break;
      }
      i = o + s.breakAfter;
    }
    return null;
  }
}
class pi extends me {
  constructor(e, n, r) {
    super(),
      (this.widget = e),
      (this.length = n),
      (this.deco = r),
      (this.breakAfter = 0),
      (this.prevWidget = null);
  }
  merge(e, n, r, i, s, o) {
    return r &&
      (!(r instanceof pi) ||
        !this.widget.compare(r.widget) ||
        (e > 0 && s <= 0) ||
        (n < this.length && o <= 0))
      ? !1
      : ((this.length = e + (r ? r.length : 0) + (this.length - n)), !0);
  }
  domAtPos(e) {
    return e == 0 ? gt.before(this.dom) : gt.after(this.dom, e == this.length);
  }
  split(e) {
    let n = this.length - e;
    this.length = e;
    let r = new pi(this.widget, n, this.deco);
    return (r.breakAfter = this.breakAfter), r;
  }
  get children() {
    return D0;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) &&
      (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom),
      (this.prevWidget = null),
      this.setDOM(this.widget.toDOM(e)),
      this.widget.editable || (this.dom.contentEditable = "false"));
  }
  get overrideDOMText() {
    return this.parent
      ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd)
      : le.empty;
  }
  domBoundsAround() {
    return null;
  }
  become(e) {
    return e instanceof pi && e.widget.constructor == this.widget.constructor
      ? (e.widget.compare(this.widget) || this.markDirty(!0),
        this.dom && !this.prevWidget && (this.prevWidget = this.widget),
        (this.widget = e.widget),
        (this.length = e.length),
        (this.deco = e.deco),
        (this.breakAfter = e.breakAfter),
        !0)
      : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  coordsAt(e, n) {
    return this.widget.coordsAt(this.dom, e, n);
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
  covers(e) {
    let { startSide: n, endSide: r } = this.deco;
    return n == r ? !1 : e < 0 ? n < 0 : r > 0;
  }
}
class Ri {
  eq(e) {
    return !1;
  }
  updateDOM(e, n) {
    return !1;
  }
  compare(e) {
    return this == e || (this.constructor == e.constructor && this.eq(e));
  }
  get estimatedHeight() {
    return -1;
  }
  get lineBreaks() {
    return 0;
  }
  ignoreEvent(e) {
    return !0;
  }
  coordsAt(e, n, r) {
    return null;
  }
  get isHidden() {
    return !1;
  }
  get editable() {
    return !1;
  }
  destroy(e) {}
}
var _t = (function (t) {
  return (
    (t[(t.Text = 0)] = "Text"),
    (t[(t.WidgetBefore = 1)] = "WidgetBefore"),
    (t[(t.WidgetAfter = 2)] = "WidgetAfter"),
    (t[(t.WidgetRange = 3)] = "WidgetRange"),
    t
  );
})(_t || (_t = {}));
class U extends is {
  constructor(e, n, r, i) {
    super(),
      (this.startSide = e),
      (this.endSide = n),
      (this.widget = r),
      (this.spec = i);
  }
  get heightRelevant() {
    return !1;
  }
  static mark(e) {
    return new qa(e);
  }
  static widget(e) {
    let n = Math.max(-1e4, Math.min(1e4, e.side || 0)),
      r = !!e.block;
    return (
      (n += r && !e.inlineOrder ? (n > 0 ? 3e8 : -4e8) : n > 0 ? 1e8 : -1e8),
      new Ai(e, n, n, r, e.widget || null, !1)
    );
  }
  static replace(e) {
    let n = !!e.block,
      r,
      i;
    if (e.isBlockGap) (r = -5e8), (i = 4e8);
    else {
      let { start: s, end: o } = Lk(e, n);
      (r = (s ? (n ? -3e8 : -1) : 5e8) - 1),
        (i = (o ? (n ? 2e8 : 1) : -6e8) + 1);
    }
    return new Ai(e, r, i, n, e.widget || null, !0);
  }
  static line(e) {
    return new Ga(e);
  }
  static set(e, n = !1) {
    return te.of(e, n);
  }
  hasHeight() {
    return this.widget ? this.widget.estimatedHeight > -1 : !1;
  }
}
U.none = te.empty;
class qa extends U {
  constructor(e) {
    let { start: n, end: r } = Lk(e);
    super(n ? -1 : 5e8, r ? 1 : -6e8, null, e),
      (this.tagName = e.tagName || "span"),
      (this.class = e.class || ""),
      (this.attrs = e.attributes || null);
  }
  eq(e) {
    var n, r;
    return (
      this == e ||
      (e instanceof qa &&
        this.tagName == e.tagName &&
        (this.class ||
          ((n = this.attrs) === null || n === void 0 ? void 0 : n.class)) ==
          (e.class ||
            ((r = e.attrs) === null || r === void 0 ? void 0 : r.class)) &&
        R0(this.attrs, e.attrs, "class"))
    );
  }
  range(e, n = e) {
    if (e >= n) throw new RangeError("Mark decorations may not be empty");
    return super.range(e, n);
  }
}
qa.prototype.point = !1;
class Ga extends U {
  constructor(e) {
    super(-2e8, -2e8, null, e);
  }
  eq(e) {
    return (
      e instanceof Ga &&
      this.spec.class == e.spec.class &&
      R0(this.spec.attributes, e.spec.attributes)
    );
  }
  range(e, n = e) {
    if (n != e)
      throw new RangeError("Line decoration ranges must be zero-length");
    return super.range(e, n);
  }
}
Ga.prototype.mapMode = kt.TrackBefore;
Ga.prototype.point = !0;
class Ai extends U {
  constructor(e, n, r, i, s, o) {
    super(n, r, s, e),
      (this.block = i),
      (this.isReplace = o),
      (this.mapMode = i
        ? n <= 0
          ? kt.TrackBefore
          : kt.TrackAfter
        : kt.TrackDel);
  }
  get type() {
    return this.startSide != this.endSide
      ? _t.WidgetRange
      : this.startSide <= 0
        ? _t.WidgetBefore
        : _t.WidgetAfter;
  }
  get heightRelevant() {
    return (
      this.block ||
      (!!this.widget &&
        (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0))
    );
  }
  eq(e) {
    return (
      e instanceof Ai &&
      tP(this.widget, e.widget) &&
      this.block == e.block &&
      this.startSide == e.startSide &&
      this.endSide == e.endSide
    );
  }
  range(e, n = e) {
    if (
      this.isReplace &&
      (e > n || (e == n && this.startSide > 0 && this.endSide <= 0))
    )
      throw new RangeError("Invalid range for replacement decoration");
    if (!this.isReplace && n != e)
      throw new RangeError(
        "Widget decorations can only have zero-length ranges"
      );
    return super.range(e, n);
  }
}
Ai.prototype.point = !0;
function Lk(t, e = !1) {
  let { inclusiveStart: n, inclusiveEnd: r } = t;
  return (
    n == null && (n = t.inclusive),
    r == null && (r = t.inclusive),
    { start: n ?? e, end: r ?? e }
  );
}
function tP(t, e) {
  return t == e || !!(t && e && t.compare(e));
}
function Pm(t, e, n, r = 0) {
  let i = n.length - 1;
  i >= 0 && n[i] + r >= t ? (n[i] = Math.max(n[i], e)) : n.push(t, e);
}
class El {
  constructor(e, n, r, i) {
    (this.doc = e),
      (this.pos = n),
      (this.end = r),
      (this.disallowBlockEffectsFor = i),
      (this.content = []),
      (this.curLine = null),
      (this.breakAtStart = 0),
      (this.pendingBuffer = 0),
      (this.bufferMarks = []),
      (this.atCursorPos = !0),
      (this.openStart = -1),
      (this.openEnd = -1),
      (this.text = ""),
      (this.textOff = 0),
      (this.cursor = e.iter()),
      (this.skip = n);
  }
  posCovered() {
    if (this.content.length == 0)
      return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
    let e = this.content[this.content.length - 1];
    return !(e.breakAfter || (e instanceof pi && e.deco.endSide < 0));
  }
  getLine() {
    return (
      this.curLine ||
        (this.content.push((this.curLine = new We())), (this.atCursorPos = !0)),
      this.curLine
    );
  }
  flushBuffer(e = this.bufferMarks) {
    this.pendingBuffer &&
      (this.curLine.append(Du(new ko(-1), e), e.length),
      (this.pendingBuffer = 0));
  }
  addBlockWidget(e) {
    this.flushBuffer(), (this.curLine = null), this.content.push(e);
  }
  finish(e) {
    this.pendingBuffer && e <= this.bufferMarks.length
      ? this.flushBuffer()
      : (this.pendingBuffer = 0),
      !this.posCovered() &&
        !(
          e &&
          this.content.length &&
          this.content[this.content.length - 1] instanceof pi
        ) &&
        this.getLine();
  }
  buildText(e, n, r) {
    for (; e > 0; ) {
      if (this.textOff == this.text.length) {
        let { value: s, lineBreak: o, done: l } = this.cursor.next(this.skip);
        if (((this.skip = 0), l))
          throw new Error("Ran out of text content when drawing inline views");
        if (o) {
          this.posCovered() || this.getLine(),
            this.content.length
              ? (this.content[this.content.length - 1].breakAfter = 1)
              : (this.breakAtStart = 1),
            this.flushBuffer(),
            (this.curLine = null),
            (this.atCursorPos = !0),
            e--;
          continue;
        } else (this.text = s), (this.textOff = 0);
      }
      let i = Math.min(this.text.length - this.textOff, e, 512);
      this.flushBuffer(n.slice(n.length - r)),
        this.getLine().append(
          Du(new In(this.text.slice(this.textOff, this.textOff + i)), n),
          r
        ),
        (this.atCursorPos = !0),
        (this.textOff += i),
        (e -= i),
        (r = 0);
    }
  }
  span(e, n, r, i) {
    this.buildText(n - e, r, i),
      (this.pos = n),
      this.openStart < 0 && (this.openStart = i);
  }
  point(e, n, r, i, s, o) {
    if (this.disallowBlockEffectsFor[o] && r instanceof Ai) {
      if (r.block)
        throw new RangeError(
          "Block decorations may not be specified via plugins"
        );
      if (n > this.doc.lineAt(this.pos).to)
        throw new RangeError(
          "Decorations that replace line breaks may not be specified via plugins"
        );
    }
    let l = n - e;
    if (r instanceof Ai)
      if (r.block)
        r.startSide > 0 && !this.posCovered() && this.getLine(),
          this.addBlockWidget(new pi(r.widget || Co.block, l, r));
      else {
        let a = ni.create(r.widget || Co.inline, l, l ? 0 : r.startSide),
          u =
            this.atCursorPos &&
            !a.isEditable &&
            s <= i.length &&
            (e < n || r.startSide > 0),
          c = !a.isEditable && (e < n || s > i.length || r.startSide <= 0),
          f = this.getLine();
        this.pendingBuffer == 2 &&
          !u &&
          !a.isEditable &&
          (this.pendingBuffer = 0),
          this.flushBuffer(i),
          u &&
            (f.append(Du(new ko(1), i), s),
            (s = i.length + Math.max(0, s - i.length))),
          f.append(Du(a, i), s),
          (this.atCursorPos = c),
          (this.pendingBuffer = c ? (e < n || s > i.length ? 1 : 2) : 0),
          this.pendingBuffer && (this.bufferMarks = i.slice());
      }
    else
      this.doc.lineAt(this.pos).from == this.pos &&
        this.getLine().addLineDeco(r);
    l &&
      (this.textOff + l <= this.text.length
        ? (this.textOff += l)
        : ((this.skip += l - (this.text.length - this.textOff)),
          (this.text = ""),
          (this.textOff = 0)),
      (this.pos = n)),
      this.openStart < 0 && (this.openStart = s);
  }
  static build(e, n, r, i, s) {
    let o = new El(e, n, r, s);
    return (
      (o.openEnd = te.spans(i, n, r, o)),
      o.openStart < 0 && (o.openStart = o.openEnd),
      o.finish(o.openEnd),
      o
    );
  }
}
function Du(t, e) {
  for (let n of e) t = new Dr(n, [t], t.length);
  return t;
}
class Co extends Ri {
  constructor(e) {
    super(), (this.tag = e);
  }
  eq(e) {
    return e.tag == this.tag;
  }
  toDOM() {
    return document.createElement(this.tag);
  }
  updateDOM(e) {
    return e.nodeName.toLowerCase() == this.tag;
  }
  get isHidden() {
    return !0;
  }
}
Co.inline = new Co("span");
Co.block = new Co("div");
var Se = (function (t) {
  return (t[(t.LTR = 0)] = "LTR"), (t[(t.RTL = 1)] = "RTL"), t;
})(Se || (Se = {}));
const ls = Se.LTR,
  L0 = Se.RTL;
function Bk(t) {
  let e = [];
  for (let n = 0; n < t.length; n++) e.push(1 << +t[n]);
  return e;
}
const nP = Bk(
    "88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"
  ),
  rP = Bk(
    "4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"
  ),
  Dm = Object.create(null),
  Kn = [];
for (let t of ["()", "[]", "{}"]) {
  let e = t.charCodeAt(0),
    n = t.charCodeAt(1);
  (Dm[e] = n), (Dm[n] = -e);
}
function Nk(t) {
  return t <= 247
    ? nP[t]
    : 1424 <= t && t <= 1524
      ? 2
      : 1536 <= t && t <= 1785
        ? rP[t - 1536]
        : 1774 <= t && t <= 2220
          ? 4
          : 8192 <= t && t <= 8204
            ? 256
            : 64336 <= t && t <= 65023
              ? 4
              : 1;
}
const iP = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;
class ri {
  get dir() {
    return this.level % 2 ? L0 : ls;
  }
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.level = r);
  }
  side(e, n) {
    return (this.dir == n) == e ? this.to : this.from;
  }
  forward(e, n) {
    return e == (this.dir == n);
  }
  static find(e, n, r, i) {
    let s = -1;
    for (let o = 0; o < e.length; o++) {
      let l = e[o];
      if (l.from <= n && l.to >= n) {
        if (l.level == r) return o;
        (s < 0 ||
          (i != 0 ? (i < 0 ? l.from < n : l.to > n) : e[s].level > l.level)) &&
          (s = o);
      }
    }
    if (s < 0) throw new RangeError("Index out of range");
    return s;
  }
}
function Ik(t, e) {
  if (t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++) {
    let r = t[n],
      i = e[n];
    if (
      r.from != i.from ||
      r.to != i.to ||
      r.direction != i.direction ||
      !Ik(r.inner, i.inner)
    )
      return !1;
  }
  return !0;
}
const pe = [];
function sP(t, e, n, r, i) {
  for (let s = 0; s <= r.length; s++) {
    let o = s ? r[s - 1].to : e,
      l = s < r.length ? r[s].from : n,
      a = s ? 256 : i;
    for (let u = o, c = a, f = a; u < l; u++) {
      let h = Nk(t.charCodeAt(u));
      h == 512 ? (h = c) : h == 8 && f == 4 && (h = 16),
        (pe[u] = h == 4 ? 2 : h),
        h & 7 && (f = h),
        (c = h);
    }
    for (let u = o, c = a, f = a; u < l; u++) {
      let h = pe[u];
      if (h == 128)
        u < l - 1 && c == pe[u + 1] && c & 24 ? (h = pe[u] = c) : (pe[u] = 256);
      else if (h == 64) {
        let d = u + 1;
        for (; d < l && pe[d] == 64; ) d++;
        let p = (u && c == 8) || (d < n && pe[d] == 8) ? (f == 1 ? 1 : 8) : 256;
        for (let m = u; m < d; m++) pe[m] = p;
        u = d - 1;
      } else h == 8 && f == 1 && (pe[u] = 1);
      (c = h), h & 7 && (f = h);
    }
  }
}
function oP(t, e, n, r, i) {
  let s = i == 1 ? 2 : 1;
  for (let o = 0, l = 0, a = 0; o <= r.length; o++) {
    let u = o ? r[o - 1].to : e,
      c = o < r.length ? r[o].from : n;
    for (let f = u, h, d, p; f < c; f++)
      if ((d = Dm[(h = t.charCodeAt(f))]))
        if (d < 0) {
          for (let m = l - 3; m >= 0; m -= 3)
            if (Kn[m + 1] == -d) {
              let w = Kn[m + 2],
                g = w & 2 ? i : w & 4 ? (w & 1 ? s : i) : 0;
              g && (pe[f] = pe[Kn[m]] = g), (l = m);
              break;
            }
        } else {
          if (Kn.length == 189) break;
          (Kn[l++] = f), (Kn[l++] = h), (Kn[l++] = a);
        }
      else if ((p = pe[f]) == 2 || p == 1) {
        let m = p == i;
        a = m ? 0 : 1;
        for (let w = l - 3; w >= 0; w -= 3) {
          let g = Kn[w + 2];
          if (g & 2) break;
          if (m) Kn[w + 2] |= 2;
          else {
            if (g & 4) break;
            Kn[w + 2] |= 4;
          }
        }
      }
  }
}
function lP(t, e, n, r) {
  for (let i = 0, s = r; i <= n.length; i++) {
    let o = i ? n[i - 1].to : t,
      l = i < n.length ? n[i].from : e;
    for (let a = o; a < l; ) {
      let u = pe[a];
      if (u == 256) {
        let c = a + 1;
        for (;;)
          if (c == l) {
            if (i == n.length) break;
            (c = n[i++].to), (l = i < n.length ? n[i].from : e);
          } else if (pe[c] == 256) c++;
          else break;
        let f = s == 1,
          h = (c < e ? pe[c] : r) == 1,
          d = f == h ? (f ? 1 : 2) : r;
        for (let p = c, m = i, w = m ? n[m - 1].to : t; p > a; )
          p == w && ((p = n[--m].from), (w = m ? n[m - 1].to : t)),
            (pe[--p] = d);
        a = c;
      } else (s = u), a++;
    }
  }
}
function Rm(t, e, n, r, i, s, o) {
  let l = r % 2 ? 2 : 1;
  if (r % 2 == i % 2)
    for (let a = e, u = 0; a < n; ) {
      let c = !0,
        f = !1;
      if (u == s.length || a < s[u].from) {
        let m = pe[a];
        m != l && ((c = !1), (f = m == 16));
      }
      let h = !c && l == 1 ? [] : null,
        d = c ? r : r + 1,
        p = a;
      e: for (;;)
        if (u < s.length && p == s[u].from) {
          if (f) break e;
          let m = s[u];
          if (!c)
            for (let w = m.to, g = u + 1; ; ) {
              if (w == n) break e;
              if (g < s.length && s[g].from == w) w = s[g++].to;
              else {
                if (pe[w] == l) break e;
                break;
              }
            }
          if ((u++, h)) h.push(m);
          else {
            m.from > a && o.push(new ri(a, m.from, d));
            let w = (m.direction == ls) != !(d % 2);
            Lm(t, w ? r + 1 : r, i, m.inner, m.from, m.to, o), (a = m.to);
          }
          p = m.to;
        } else {
          if (p == n || (c ? pe[p] != l : pe[p] == l)) break;
          p++;
        }
      h ? Rm(t, a, p, r + 1, i, h, o) : a < p && o.push(new ri(a, p, d)),
        (a = p);
    }
  else
    for (let a = n, u = s.length; a > e; ) {
      let c = !0,
        f = !1;
      if (!u || a > s[u - 1].to) {
        let m = pe[a - 1];
        m != l && ((c = !1), (f = m == 16));
      }
      let h = !c && l == 1 ? [] : null,
        d = c ? r : r + 1,
        p = a;
      e: for (;;)
        if (u && p == s[u - 1].to) {
          if (f) break e;
          let m = s[--u];
          if (!c)
            for (let w = m.from, g = u; ; ) {
              if (w == e) break e;
              if (g && s[g - 1].to == w) w = s[--g].from;
              else {
                if (pe[w - 1] == l) break e;
                break;
              }
            }
          if (h) h.push(m);
          else {
            m.to < a && o.push(new ri(m.to, a, d));
            let w = (m.direction == ls) != !(d % 2);
            Lm(t, w ? r + 1 : r, i, m.inner, m.from, m.to, o), (a = m.from);
          }
          p = m.from;
        } else {
          if (p == e || (c ? pe[p - 1] != l : pe[p - 1] == l)) break;
          p--;
        }
      h ? Rm(t, p, a, r + 1, i, h, o) : p < a && o.push(new ri(p, a, d)),
        (a = p);
    }
}
function Lm(t, e, n, r, i, s, o) {
  let l = e % 2 ? 2 : 1;
  sP(t, i, s, r, l), oP(t, i, s, r, l), lP(i, s, r, l), Rm(t, i, s, e, n, r, o);
}
function aP(t, e, n) {
  if (!t) return [new ri(0, 0, e == L0 ? 1 : 0)];
  if (e == ls && !n.length && !iP.test(t)) return $k(t.length);
  if (n.length) for (; t.length > pe.length; ) pe[pe.length] = 256;
  let r = [],
    i = e == ls ? 0 : 1;
  return Lm(t, i, i, n, 0, t.length, r), r;
}
function $k(t) {
  return [new ri(0, t, 0)];
}
let Fk = "";
function uP(t, e, n, r, i) {
  var s;
  let o = r.head - t.from,
    l = ri.find(
      e,
      o,
      (s = r.bidiLevel) !== null && s !== void 0 ? s : -1,
      r.assoc
    ),
    a = e[l],
    u = a.side(i, n);
  if (o == u) {
    let h = (l += i ? 1 : -1);
    if (h < 0 || h >= e.length) return null;
    (a = e[(l = h)]), (o = a.side(!i, n)), (u = a.side(i, n));
  }
  let c = ot(t.text, o, a.forward(i, n));
  (c < a.from || c > a.to) && (c = u),
    (Fk = t.text.slice(Math.min(o, c), Math.max(o, c)));
  let f = l == (i ? e.length - 1 : 0) ? null : e[l + (i ? 1 : -1)];
  return f && c == u && f.level + (i ? 0 : 1) < a.level
    ? A.cursor(f.side(!i, n) + t.from, f.forward(i, n) ? 1 : -1, f.level)
    : A.cursor(c + t.from, a.forward(i, n) ? -1 : 1, a.level);
}
function cP(t, e, n) {
  for (let r = e; r < n; r++) {
    let i = Nk(t.charCodeAt(r));
    if (i == 1) return ls;
    if (i == 2 || i == 4) return L0;
  }
  return ls;
}
const zk = $.define(),
  jk = $.define(),
  Vk = $.define(),
  Hk = $.define(),
  Bm = $.define(),
  Wk = $.define(),
  Uk = $.define(),
  Kk = $.define({ combine: (t) => t.some((e) => e) }),
  qk = $.define({ combine: (t) => t.some((e) => e) }),
  Gk = $.define();
class no {
  constructor(e, n = "nearest", r = "nearest", i = 5, s = 5, o = !1) {
    (this.range = e),
      (this.y = n),
      (this.x = r),
      (this.yMargin = i),
      (this.xMargin = s),
      (this.isSnapshot = o);
  }
  map(e) {
    return e.empty
      ? this
      : new no(
          this.range.map(e),
          this.y,
          this.x,
          this.yMargin,
          this.xMargin,
          this.isSnapshot
        );
  }
  clip(e) {
    return this.range.to <= e.doc.length
      ? this
      : new no(
          A.cursor(e.doc.length),
          this.y,
          this.x,
          this.yMargin,
          this.xMargin,
          this.isSnapshot
        );
  }
}
const Ru = Y.define({ map: (t, e) => t.map(e) });
function Rt(t, e, n) {
  let r = t.facet(Hk);
  r.length
    ? r[0](e)
    : window.onerror
      ? window.onerror(String(e), n, void 0, void 0, e)
      : n
        ? console.error(n + ":", e)
        : console.error(e);
}
const wh = $.define({ combine: (t) => (t.length ? t[0] : !0) });
let fP = 0;
const cl = $.define();
class Ve {
  constructor(e, n, r, i, s) {
    (this.id = e),
      (this.create = n),
      (this.domEventHandlers = r),
      (this.domEventObservers = i),
      (this.extension = s(this));
  }
  static define(e, n) {
    const {
      eventHandlers: r,
      eventObservers: i,
      provide: s,
      decorations: o,
    } = n || {};
    return new Ve(fP++, e, r, i, (l) => {
      let a = [cl.of(l)];
      return (
        o &&
          a.push(
            aa.of((u) => {
              let c = u.plugin(l);
              return c ? o(c) : U.none;
            })
          ),
        s && a.push(s(l)),
        a
      );
    });
  }
  static fromClass(e, n) {
    return Ve.define((r) => new e(r), n);
  }
}
class Rd {
  constructor(e) {
    (this.spec = e), (this.mustUpdate = null), (this.value = null);
  }
  update(e) {
    if (this.value) {
      if (this.mustUpdate) {
        let n = this.mustUpdate;
        if (((this.mustUpdate = null), this.value.update))
          try {
            this.value.update(n);
          } catch (r) {
            if (
              (Rt(n.state, r, "CodeMirror plugin crashed"), this.value.destroy)
            )
              try {
                this.value.destroy();
              } catch {}
            this.deactivate();
          }
      }
    } else if (this.spec)
      try {
        this.value = this.spec.create(e);
      } catch (n) {
        Rt(e.state, n, "CodeMirror plugin crashed"), this.deactivate();
      }
    return this;
  }
  destroy(e) {
    var n;
    if (!((n = this.value) === null || n === void 0) && n.destroy)
      try {
        this.value.destroy();
      } catch (r) {
        Rt(e.state, r, "CodeMirror plugin crashed");
      }
  }
  deactivate() {
    this.spec = this.value = null;
  }
}
const Yk = $.define(),
  B0 = $.define(),
  aa = $.define(),
  Xk = $.define(),
  N0 = $.define(),
  Qk = $.define();
function Av(t, e) {
  let n = t.state.facet(Qk);
  if (!n.length) return n;
  let r = n.map((s) => (s instanceof Function ? s(t) : s)),
    i = [];
  return (
    te.spans(r, e.from, e.to, {
      point() {},
      span(s, o, l, a) {
        let u = s - e.from,
          c = o - e.from,
          f = i;
        for (let h = l.length - 1; h >= 0; h--, a--) {
          let d = l[h].spec.bidiIsolate,
            p;
          if (
            (d == null && (d = cP(e.text, u, c)),
            a > 0 &&
              f.length &&
              (p = f[f.length - 1]).to == u &&
              p.direction == d)
          )
            (p.to = c), (f = p.inner);
          else {
            let m = { from: u, to: c, direction: d, inner: [] };
            f.push(m), (f = m.inner);
          }
        }
      },
    }),
    i
  );
}
const Jk = $.define();
function Zk(t) {
  let e = 0,
    n = 0,
    r = 0,
    i = 0;
  for (let s of t.state.facet(Jk)) {
    let o = s(t);
    o &&
      (o.left != null && (e = Math.max(e, o.left)),
      o.right != null && (n = Math.max(n, o.right)),
      o.top != null && (r = Math.max(r, o.top)),
      o.bottom != null && (i = Math.max(i, o.bottom)));
  }
  return { left: e, right: n, top: r, bottom: i };
}
const fl = $.define();
class gn {
  constructor(e, n, r, i) {
    (this.fromA = e), (this.toA = n), (this.fromB = r), (this.toB = i);
  }
  join(e) {
    return new gn(
      Math.min(this.fromA, e.fromA),
      Math.max(this.toA, e.toA),
      Math.min(this.fromB, e.fromB),
      Math.max(this.toB, e.toB)
    );
  }
  addToSet(e) {
    let n = e.length,
      r = this;
    for (; n > 0; n--) {
      let i = e[n - 1];
      if (!(i.fromA > r.toA)) {
        if (i.toA < r.fromA) break;
        (r = r.join(i)), e.splice(n - 1, 1);
      }
    }
    return e.splice(n, 0, r), e;
  }
  static extendWithRanges(e, n) {
    if (n.length == 0) return e;
    let r = [];
    for (let i = 0, s = 0, o = 0, l = 0; ; i++) {
      let a = i == e.length ? null : e[i],
        u = o - l,
        c = a ? a.fromB : 1e9;
      for (; s < n.length && n[s] < c; ) {
        let f = n[s],
          h = n[s + 1],
          d = Math.max(l, f),
          p = Math.min(c, h);
        if ((d <= p && new gn(d + u, p + u, d, p).addToSet(r), h > c)) break;
        s += 2;
      }
      if (!a) return r;
      new gn(a.fromA, a.toA, a.fromB, a.toB).addToSet(r),
        (o = a.toA),
        (l = a.toB);
    }
  }
}
class df {
  constructor(e, n, r) {
    (this.view = e),
      (this.state = n),
      (this.transactions = r),
      (this.flags = 0),
      (this.startState = e.state),
      (this.changes = Ke.empty(this.startState.doc.length));
    for (let s of r) this.changes = this.changes.compose(s.changes);
    let i = [];
    this.changes.iterChangedRanges((s, o, l, a) => i.push(new gn(s, o, l, a))),
      (this.changedRanges = i);
  }
  static create(e, n, r) {
    return new df(e, n, r);
  }
  get viewportChanged() {
    return (this.flags & 4) > 0;
  }
  get heightChanged() {
    return (this.flags & 2) > 0;
  }
  get geometryChanged() {
    return this.docChanged || (this.flags & 10) > 0;
  }
  get focusChanged() {
    return (this.flags & 1) > 0;
  }
  get docChanged() {
    return !this.changes.empty;
  }
  get selectionSet() {
    return this.transactions.some((e) => e.selection);
  }
  get empty() {
    return this.flags == 0 && this.transactions.length == 0;
  }
}
class Ov extends me {
  get length() {
    return this.view.state.doc.length;
  }
  constructor(e) {
    super(),
      (this.view = e),
      (this.decorations = []),
      (this.dynamicDecorationMap = []),
      (this.domChanged = null),
      (this.hasComposition = null),
      (this.markedForComposition = new Set()),
      (this.lastCompositionAfterCursor = !1),
      (this.minWidth = 0),
      (this.minWidthFrom = 0),
      (this.minWidthTo = 0),
      (this.impreciseAnchor = null),
      (this.impreciseHead = null),
      (this.forceSelection = !1),
      (this.lastUpdate = Date.now()),
      this.setDOM(e.contentDOM),
      (this.children = [new We()]),
      this.children[0].setParent(this),
      this.updateDeco(),
      this.updateInner([new gn(0, 0, 0, e.state.doc.length)], 0, null);
  }
  update(e) {
    var n;
    let r = e.changedRanges;
    this.minWidth > 0 &&
      r.length &&
      (r.every(
        ({ fromA: u, toA: c }) => c < this.minWidthFrom || u > this.minWidthTo
      )
        ? ((this.minWidthFrom = e.changes.mapPos(this.minWidthFrom, 1)),
          (this.minWidthTo = e.changes.mapPos(this.minWidthTo, 1)))
        : (this.minWidth = this.minWidthFrom = this.minWidthTo = 0));
    let i = -1;
    this.view.inputState.composing >= 0 &&
      (!((n = this.domChanged) === null || n === void 0) && n.newSel
        ? (i = this.domChanged.newSel.head)
        : !vP(e.changes, this.hasComposition) &&
          !e.selectionSet &&
          (i = e.state.selection.main.head));
    let s = i > -1 ? dP(this.view, e.changes, i) : null;
    if (((this.domChanged = null), this.hasComposition)) {
      this.markedForComposition.clear();
      let { from: u, to: c } = this.hasComposition;
      r = new gn(
        u,
        c,
        e.changes.mapPos(u, -1),
        e.changes.mapPos(c, 1)
      ).addToSet(r.slice());
    }
    (this.hasComposition = s ? { from: s.range.fromB, to: s.range.toB } : null),
      (I.ie || I.chrome) &&
        !s &&
        e &&
        e.state.doc.lines != e.startState.doc.lines &&
        (this.forceSelection = !0);
    let o = this.decorations,
      l = this.updateDeco(),
      a = gP(o, l, e.changes);
    return (
      (r = gn.extendWithRanges(r, a)),
      !(this.flags & 7) && r.length == 0
        ? !1
        : (this.updateInner(r, e.startState.doc.length, s),
          e.transactions.length && (this.lastUpdate = Date.now()),
          !0)
    );
  }
  updateInner(e, n, r) {
    (this.view.viewState.mustMeasureContent = !0), this.updateChildren(e, n, r);
    let { observer: i } = this.view;
    i.ignore(() => {
      (this.dom.style.height =
        this.view.viewState.contentHeight / this.view.scaleY + "px"),
        (this.dom.style.flexBasis = this.minWidth ? this.minWidth + "px" : "");
      let o =
        I.chrome || I.ios
          ? { node: i.selectionRange.focusNode, written: !1 }
          : void 0;
      this.sync(this.view, o),
        (this.flags &= -8),
        o &&
          (o.written || i.selectionRange.focusNode != o.node) &&
          (this.forceSelection = !0),
        (this.dom.style.height = "");
    }),
      this.markedForComposition.forEach((o) => (o.flags &= -9));
    let s = [];
    if (
      this.view.viewport.from ||
      this.view.viewport.to < this.view.state.doc.length
    )
      for (let o of this.children)
        o instanceof pi && o.widget instanceof Mv && s.push(o.dom);
    i.updateGaps(s);
  }
  updateChildren(e, n, r) {
    let i = r ? r.range.addToSet(e.slice()) : e,
      s = this.childCursor(n);
    for (let o = i.length - 1; ; o--) {
      let l = o >= 0 ? i[o] : null;
      if (!l) break;
      let { fromA: a, toA: u, fromB: c, toB: f } = l,
        h,
        d,
        p,
        m;
      if (r && r.range.fromB < f && r.range.toB > c) {
        let b = El.build(
            this.view.state.doc,
            c,
            r.range.fromB,
            this.decorations,
            this.dynamicDecorationMap
          ),
          x = El.build(
            this.view.state.doc,
            r.range.toB,
            f,
            this.decorations,
            this.dynamicDecorationMap
          );
        (d = b.breakAtStart), (p = b.openStart), (m = x.openEnd);
        let S = this.compositionView(r);
        x.breakAtStart
          ? (S.breakAfter = 1)
          : x.content.length &&
            S.merge(S.length, S.length, x.content[0], !1, x.openStart, 0) &&
            ((S.breakAfter = x.content[0].breakAfter), x.content.shift()),
          b.content.length &&
            S.merge(0, 0, b.content[b.content.length - 1], !0, 0, b.openEnd) &&
            b.content.pop(),
          (h = b.content.concat(S).concat(x.content));
      } else
        ({
          content: h,
          breakAtStart: d,
          openStart: p,
          openEnd: m,
        } = El.build(
          this.view.state.doc,
          c,
          f,
          this.decorations,
          this.dynamicDecorationMap
        ));
      let { i: w, off: g } = s.findPos(u, 1),
        { i: y, off: v } = s.findPos(a, -1);
      Ok(this, y, v, w, g, h, d, p, m);
    }
    r && this.fixCompositionDOM(r);
  }
  compositionView(e) {
    let n = new In(e.text.nodeValue);
    n.flags |= 8;
    for (let { deco: i } of e.marks) n = new Dr(i, [n], n.length);
    let r = new We();
    return r.append(n, 0), r;
  }
  fixCompositionDOM(e) {
    let n = (s, o) => {
        (o.flags |= 8 | (o.children.some((a) => a.flags & 7) ? 1 : 0)),
          this.markedForComposition.add(o);
        let l = me.get(s);
        l && l != o && (l.dom = null), o.setDOM(s);
      },
      r = this.childPos(e.range.fromB, 1),
      i = this.children[r.i];
    n(e.line, i);
    for (let s = e.marks.length - 1; s >= -1; s--)
      (r = i.childPos(r.off, 1)),
        (i = i.children[r.i]),
        n(s >= 0 ? e.marks[s].node : e.text, i);
  }
  updateSelection(e = !1, n = !1) {
    (e || !this.view.observer.selectionRange.focusNode) &&
      this.view.observer.readSelectionRange();
    let r = this.view.root.activeElement,
      i = r == this.dom,
      s =
        !i &&
        xc(this.dom, this.view.observer.selectionRange) &&
        !(r && this.dom.contains(r));
    if (!(i || n || s)) return;
    let o = this.forceSelection;
    this.forceSelection = !1;
    let l = this.view.state.selection.main,
      a = this.moveToLine(this.domAtPos(l.anchor)),
      u = l.empty ? a : this.moveToLine(this.domAtPos(l.head));
    if (I.gecko && l.empty && !this.hasComposition && hP(a)) {
      let f = document.createTextNode("");
      this.view.observer.ignore(() =>
        a.node.insertBefore(f, a.node.childNodes[a.offset] || null)
      ),
        (a = u = new gt(f, 0)),
        (o = !0);
    }
    let c = this.view.observer.selectionRange;
    (o ||
      !c.focusNode ||
      ((!Ml(a.node, a.offset, c.anchorNode, c.anchorOffset) ||
        !Ml(u.node, u.offset, c.focusNode, c.focusOffset)) &&
        !this.suppressWidgetCursorChange(c, l))) &&
      (this.view.observer.ignore(() => {
        I.android &&
          I.chrome &&
          this.dom.contains(c.focusNode) &&
          yP(c.focusNode, this.dom) &&
          (this.dom.blur(), this.dom.focus({ preventScroll: !0 }));
        let f = ff(this.view.root);
        if (f)
          if (l.empty) {
            if (I.gecko) {
              let h = pP(a.node, a.offset);
              if (h && h != 3) {
                let d = (h == 1 ? Ck : _k)(a.node, a.offset);
                d && (a = new gt(d.node, d.offset));
              }
            }
            f.collapse(a.node, a.offset),
              l.bidiLevel != null &&
                f.caretBidiLevel !== void 0 &&
                (f.caretBidiLevel = l.bidiLevel);
          } else if (f.extend) {
            f.collapse(a.node, a.offset);
            try {
              f.extend(u.node, u.offset);
            } catch {}
          } else {
            let h = document.createRange();
            l.anchor > l.head && ([a, u] = [u, a]),
              h.setEnd(u.node, u.offset),
              h.setStart(a.node, a.offset),
              f.removeAllRanges(),
              f.addRange(h);
          }
        s &&
          this.view.root.activeElement == this.dom &&
          (this.dom.blur(), r && r.focus());
      }),
      this.view.observer.setSelectionRange(a, u)),
      (this.impreciseAnchor = a.precise
        ? null
        : new gt(c.anchorNode, c.anchorOffset)),
      (this.impreciseHead = u.precise
        ? null
        : new gt(c.focusNode, c.focusOffset));
  }
  suppressWidgetCursorChange(e, n) {
    return (
      this.hasComposition &&
      n.empty &&
      Ml(e.focusNode, e.focusOffset, e.anchorNode, e.anchorOffset) &&
      this.posFromDOM(e.focusNode, e.focusOffset) == n.head
    );
  }
  enforceCursorAssoc() {
    if (this.hasComposition) return;
    let { view: e } = this,
      n = e.state.selection.main,
      r = ff(e.root),
      { anchorNode: i, anchorOffset: s } = e.observer.selectionRange;
    if (!r || !n.empty || !n.assoc || !r.modify) return;
    let o = We.find(this, n.head);
    if (!o) return;
    let l = o.posAtStart;
    if (n.head == l || n.head == l + o.length) return;
    let a = this.coordsAt(n.head, -1),
      u = this.coordsAt(n.head, 1);
    if (!a || !u || a.bottom > u.top) return;
    let c = this.domAtPos(n.head + n.assoc);
    r.collapse(c.node, c.offset),
      r.modify("move", n.assoc < 0 ? "forward" : "backward", "lineboundary"),
      e.observer.readSelectionRange();
    let f = e.observer.selectionRange;
    e.docView.posFromDOM(f.anchorNode, f.anchorOffset) != n.from &&
      r.collapse(i, s);
  }
  moveToLine(e) {
    let n = this.dom,
      r;
    if (e.node != n) return e;
    for (let i = e.offset; !r && i < n.childNodes.length; i++) {
      let s = me.get(n.childNodes[i]);
      s instanceof We && (r = s.domAtPos(0));
    }
    for (let i = e.offset - 1; !r && i >= 0; i--) {
      let s = me.get(n.childNodes[i]);
      s instanceof We && (r = s.domAtPos(s.length));
    }
    return r ? new gt(r.node, r.offset, !0) : e;
  }
  nearest(e) {
    for (let n = e; n; ) {
      let r = me.get(n);
      if (r && r.rootView == this) return r;
      n = n.parentNode;
    }
    return null;
  }
  posFromDOM(e, n) {
    let r = this.nearest(e);
    if (!r)
      throw new RangeError(
        "Trying to find position for a DOM position outside of the document"
      );
    return r.localPosFromDOM(e, n) + r.posAtStart;
  }
  domAtPos(e) {
    let { i: n, off: r } = this.childCursor().findPos(e, -1);
    for (; n < this.children.length - 1; ) {
      let i = this.children[n];
      if (r < i.length || i instanceof We) break;
      n++, (r = 0);
    }
    return this.children[n].domAtPos(r);
  }
  coordsAt(e, n) {
    let r = null,
      i = 0;
    for (let s = this.length, o = this.children.length - 1; o >= 0; o--) {
      let l = this.children[o],
        a = s - l.breakAfter,
        u = a - l.length;
      if (a < e) break;
      u <= e &&
        (u < e || l.covers(-1)) &&
        (a > e || l.covers(1)) &&
        (!r || (l instanceof We && !(r instanceof We && n >= 0))) &&
        ((r = l), (i = u)),
        (s = u);
    }
    return r ? r.coordsAt(e - i, n) : null;
  }
  coordsForChar(e) {
    let { i: n, off: r } = this.childPos(e, 1),
      i = this.children[n];
    if (!(i instanceof We)) return null;
    for (; i.children.length; ) {
      let { i: l, off: a } = i.childPos(r, 1);
      for (; ; l++) {
        if (l == i.children.length) return null;
        if ((i = i.children[l]).length) break;
      }
      r = a;
    }
    if (!(i instanceof In)) return null;
    let s = ot(i.text, r);
    if (s == r) return null;
    let o = os(i.dom, r, s).getClientRects();
    for (let l = 0; l < o.length; l++) {
      let a = o[l];
      if (l == o.length - 1 || (a.top < a.bottom && a.left < a.right)) return a;
    }
    return null;
  }
  measureVisibleLineHeights(e) {
    let n = [],
      { from: r, to: i } = e,
      s = this.view.contentDOM.clientWidth,
      o = s > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1,
      l = -1,
      a = this.view.textDirection == Se.LTR;
    for (let u = 0, c = 0; c < this.children.length; c++) {
      let f = this.children[c],
        h = u + f.length;
      if (h > i) break;
      if (u >= r) {
        let d = f.dom.getBoundingClientRect();
        if ((n.push(d.height), o)) {
          let p = f.dom.lastChild,
            m = p ? la(p) : [];
          if (m.length) {
            let w = m[m.length - 1],
              g = a ? w.right - d.left : d.right - w.left;
            g > l &&
              ((l = g),
              (this.minWidth = s),
              (this.minWidthFrom = u),
              (this.minWidthTo = h));
          }
        }
      }
      u = h + f.breakAfter;
    }
    return n;
  }
  textDirectionAt(e) {
    let { i: n } = this.childPos(e, 1);
    return getComputedStyle(this.children[n].dom).direction == "rtl"
      ? Se.RTL
      : Se.LTR;
  }
  measureTextSize() {
    for (let s of this.children)
      if (s instanceof We) {
        let o = s.measureTextSize();
        if (o) return o;
      }
    let e = document.createElement("div"),
      n,
      r,
      i;
    return (
      (e.className = "cm-line"),
      (e.style.width = "99999px"),
      (e.style.position = "absolute"),
      (e.textContent = "abc def ghi jkl mno pqr stu"),
      this.view.observer.ignore(() => {
        this.dom.appendChild(e);
        let s = la(e.firstChild)[0];
        (n = e.getBoundingClientRect().height),
          (r = s ? s.width / 27 : 7),
          (i = s ? s.height : n),
          e.remove();
      }),
      { lineHeight: n, charWidth: r, textHeight: i }
    );
  }
  childCursor(e = this.length) {
    let n = this.children.length;
    return n && (e -= this.children[--n].length), new Ak(this.children, e, n);
  }
  computeBlockGapDeco() {
    let e = [],
      n = this.view.viewState;
    for (let r = 0, i = 0; ; i++) {
      let s = i == n.viewports.length ? null : n.viewports[i],
        o = s ? s.from - 1 : this.length;
      if (o > r) {
        let l =
          (n.lineBlockAt(o).bottom - n.lineBlockAt(r).top) / this.view.scaleY;
        e.push(
          U.replace({
            widget: new Mv(l),
            block: !0,
            inclusive: !0,
            isBlockGap: !0,
          }).range(r, o)
        );
      }
      if (!s) break;
      r = s.to + 1;
    }
    return U.set(e);
  }
  updateDeco() {
    let e = 0,
      n = this.view.state
        .facet(aa)
        .map((s) =>
          (this.dynamicDecorationMap[e++] = typeof s == "function")
            ? s(this.view)
            : s
        ),
      r = !1,
      i = this.view.state.facet(Xk).map((s, o) => {
        let l = typeof s == "function";
        return l && (r = !0), l ? s(this.view) : s;
      });
    for (
      i.length && ((this.dynamicDecorationMap[e++] = r), n.push(te.join(i))),
        this.decorations = [
          ...n,
          this.computeBlockGapDeco(),
          this.view.viewState.lineGapDeco,
        ];
      e < this.decorations.length;

    )
      this.dynamicDecorationMap[e++] = !1;
    return this.decorations;
  }
  scrollIntoView(e) {
    if (e.isSnapshot) {
      let u = this.view.viewState.lineBlockAt(e.range.head);
      (this.view.scrollDOM.scrollTop = u.top - e.yMargin),
        (this.view.scrollDOM.scrollLeft = e.xMargin);
      return;
    }
    for (let u of this.view.state.facet(Gk))
      try {
        if (u(this.view, e.range, e)) return !0;
      } catch (c) {
        Rt(this.view.state, c, "scroll handler");
      }
    let { range: n } = e,
      r = this.coordsAt(n.head, n.empty ? n.assoc : n.head > n.anchor ? -1 : 1),
      i;
    if (!r) return;
    !n.empty &&
      (i = this.coordsAt(n.anchor, n.anchor > n.head ? -1 : 1)) &&
      (r = {
        left: Math.min(r.left, i.left),
        top: Math.min(r.top, i.top),
        right: Math.max(r.right, i.right),
        bottom: Math.max(r.bottom, i.bottom),
      });
    let s = Zk(this.view),
      o = {
        left: r.left - s.left,
        top: r.top - s.top,
        right: r.right + s.right,
        bottom: r.bottom + s.bottom,
      },
      { offsetWidth: l, offsetHeight: a } = this.view.scrollDOM;
    KT(
      this.view.scrollDOM,
      o,
      n.head < n.anchor ? -1 : 1,
      e.x,
      e.y,
      Math.max(Math.min(e.xMargin, l), -l),
      Math.max(Math.min(e.yMargin, a), -a),
      this.view.textDirection == Se.LTR
    );
  }
}
function hP(t) {
  return (
    t.node.nodeType == 1 &&
    t.node.firstChild &&
    (t.offset == 0 ||
      t.node.childNodes[t.offset - 1].contentEditable == "false") &&
    (t.offset == t.node.childNodes.length ||
      t.node.childNodes[t.offset].contentEditable == "false")
  );
}
class Mv extends Ri {
  constructor(e) {
    super(), (this.height = e);
  }
  toDOM() {
    let e = document.createElement("div");
    return (e.className = "cm-gap"), this.updateDOM(e), e;
  }
  eq(e) {
    return e.height == this.height;
  }
  updateDOM(e) {
    return (e.style.height = this.height + "px"), !0;
  }
  get editable() {
    return !0;
  }
  get estimatedHeight() {
    return this.height;
  }
  ignoreEvent() {
    return !1;
  }
}
function eC(t, e) {
  let n = t.observer.selectionRange;
  if (!n.focusNode) return null;
  let r = Ck(n.focusNode, n.focusOffset),
    i = _k(n.focusNode, n.focusOffset),
    s = r || i;
  if (i && r && i.node != r.node) {
    let l = me.get(i.node);
    if (!l || (l instanceof In && l.text != i.node.nodeValue)) s = i;
    else if (t.docView.lastCompositionAfterCursor) {
      let a = me.get(r.node);
      !a || (a instanceof In && a.text != r.node.nodeValue) || (s = i);
    }
  }
  if (((t.docView.lastCompositionAfterCursor = s != r), !s)) return null;
  let o = e - s.offset;
  return { from: o, to: o + s.node.nodeValue.length, node: s.node };
}
function dP(t, e, n) {
  let r = eC(t, n);
  if (!r) return null;
  let { node: i, from: s, to: o } = r,
    l = i.nodeValue;
  if (/[\n\r]/.test(l) || t.state.doc.sliceString(r.from, r.to) != l)
    return null;
  let a = e.invertedDesc,
    u = new gn(a.mapPos(s), a.mapPos(o), s, o),
    c = [];
  for (let f = i.parentNode; ; f = f.parentNode) {
    let h = me.get(f);
    if (h instanceof Dr) c.push({ node: f, deco: h.mark });
    else {
      if (
        h instanceof We ||
        (f.nodeName == "DIV" && f.parentNode == t.contentDOM)
      )
        return { range: u, text: i, marks: c, line: f };
      if (f != t.contentDOM)
        c.push({
          node: f,
          deco: new qa({
            inclusive: !0,
            attributes: eP(f),
            tagName: f.tagName.toLowerCase(),
          }),
        });
      else return null;
    }
  }
}
function pP(t, e) {
  return t.nodeType != 1
    ? 0
    : (e && t.childNodes[e - 1].contentEditable == "false" ? 1 : 0) |
        (e < t.childNodes.length && t.childNodes[e].contentEditable == "false"
          ? 2
          : 0);
}
let mP = class {
  constructor() {
    this.changes = [];
  }
  compareRange(e, n) {
    Pm(e, n, this.changes);
  }
  comparePoint(e, n) {
    Pm(e, n, this.changes);
  }
};
function gP(t, e, n) {
  let r = new mP();
  return te.compare(t, e, n, r), r.changes;
}
function yP(t, e) {
  for (let n = t; n && n != e; n = n.assignedSlot || n.parentNode)
    if (n.nodeType == 1 && n.contentEditable == "false") return !0;
  return !1;
}
function vP(t, e) {
  let n = !1;
  return (
    e &&
      t.iterChangedRanges((r, i) => {
        r < e.to && i > e.from && (n = !0);
      }),
    n
  );
}
function wP(t, e, n = 1) {
  let r = t.charCategorizer(e),
    i = t.doc.lineAt(e),
    s = e - i.from;
  if (i.length == 0) return A.cursor(e);
  s == 0 ? (n = 1) : s == i.length && (n = -1);
  let o = s,
    l = s;
  n < 0 ? (o = ot(i.text, s, !1)) : (l = ot(i.text, s));
  let a = r(i.text.slice(o, l));
  for (; o > 0; ) {
    let u = ot(i.text, o, !1);
    if (r(i.text.slice(u, o)) != a) break;
    o = u;
  }
  for (; l < i.length; ) {
    let u = ot(i.text, l);
    if (r(i.text.slice(l, u)) != a) break;
    l = u;
  }
  return A.range(o + i.from, l + i.from);
}
function bP(t, e) {
  return e.left > t ? e.left - t : Math.max(0, t - e.right);
}
function xP(t, e) {
  return e.top > t ? e.top - t : Math.max(0, t - e.bottom);
}
function Ld(t, e) {
  return t.top < e.bottom - 1 && t.bottom > e.top + 1;
}
function Ev(t, e) {
  return e < t.top
    ? { top: e, left: t.left, right: t.right, bottom: t.bottom }
    : t;
}
function Tv(t, e) {
  return e > t.bottom
    ? { top: t.top, left: t.left, right: t.right, bottom: e }
    : t;
}
function Nm(t, e, n) {
  let r,
    i,
    s,
    o,
    l = !1,
    a,
    u,
    c,
    f;
  for (let p = t.firstChild; p; p = p.nextSibling) {
    let m = la(p);
    for (let w = 0; w < m.length; w++) {
      let g = m[w];
      i && Ld(i, g) && (g = Ev(Tv(g, i.bottom), i.top));
      let y = bP(e, g),
        v = xP(n, g);
      if (y == 0 && v == 0) return p.nodeType == 3 ? Pv(p, e, n) : Nm(p, e, n);
      if (!r || o > v || (o == v && s > y)) {
        (r = p), (i = g), (s = y), (o = v);
        let b = v ? (n < g.top ? -1 : 1) : y ? (e < g.left ? -1 : 1) : 0;
        l = !b || (b > 0 ? w < m.length - 1 : w > 0);
      }
      y == 0
        ? n > g.bottom && (!c || c.bottom < g.bottom)
          ? ((a = p), (c = g))
          : n < g.top && (!f || f.top > g.top) && ((u = p), (f = g))
        : c && Ld(c, g)
          ? (c = Tv(c, g.bottom))
          : f && Ld(f, g) && (f = Ev(f, g.top));
    }
  }
  if (
    (c && c.bottom >= n
      ? ((r = a), (i = c))
      : f && f.top <= n && ((r = u), (i = f)),
    !r)
  )
    return { node: t, offset: 0 };
  let h = Math.max(i.left, Math.min(i.right, e));
  if (r.nodeType == 3) return Pv(r, h, n);
  if (l && r.contentEditable != "false") return Nm(r, h, n);
  let d =
    Array.prototype.indexOf.call(t.childNodes, r) +
    (e >= (i.left + i.right) / 2 ? 1 : 0);
  return { node: t, offset: d };
}
function Pv(t, e, n) {
  let r = t.nodeValue.length,
    i = -1,
    s = 1e9,
    o = 0;
  for (let l = 0; l < r; l++) {
    let a = os(t, l, l + 1).getClientRects();
    for (let u = 0; u < a.length; u++) {
      let c = a[u];
      if (c.top == c.bottom) continue;
      o || (o = e - c.left);
      let f = (c.top > n ? c.top - n : n - c.bottom) - 1;
      if (c.left - 1 <= e && c.right + 1 >= e && f < s) {
        let h = e >= (c.left + c.right) / 2,
          d = h;
        if (
          ((I.chrome || I.gecko) &&
            os(t, l).getBoundingClientRect().left == c.right &&
            (d = !h),
          f <= 0)
        )
          return { node: t, offset: l + (d ? 1 : 0) };
        (i = l + (d ? 1 : 0)), (s = f);
      }
    }
  }
  return { node: t, offset: i > -1 ? i : o > 0 ? t.nodeValue.length : 0 };
}
function tC(t, e, n, r = -1) {
  var i, s;
  let o = t.contentDOM.getBoundingClientRect(),
    l = o.top + t.viewState.paddingTop,
    a,
    { docHeight: u } = t.viewState,
    { x: c, y: f } = e,
    h = f - l;
  if (h < 0) return 0;
  if (h > u) return t.state.doc.length;
  for (
    let b = t.viewState.heightOracle.textHeight / 2, x = !1;
    (a = t.elementAtHeight(h)), a.type != _t.Text;

  )
    for (; (h = r > 0 ? a.bottom + b : a.top - b), !(h >= 0 && h <= u); ) {
      if (x) return n ? null : 0;
      (x = !0), (r = -r);
    }
  f = l + h;
  let d = a.from;
  if (d < t.viewport.from)
    return t.viewport.from == 0 ? 0 : n ? null : Dv(t, o, a, c, f);
  if (d > t.viewport.to)
    return t.viewport.to == t.state.doc.length
      ? t.state.doc.length
      : n
        ? null
        : Dv(t, o, a, c, f);
  let p = t.dom.ownerDocument,
    m = t.root.elementFromPoint ? t.root : p,
    w = m.elementFromPoint(c, f);
  w && !t.contentDOM.contains(w) && (w = null),
    w ||
      ((c = Math.max(o.left + 1, Math.min(o.right - 1, c))),
      (w = m.elementFromPoint(c, f)),
      w && !t.contentDOM.contains(w) && (w = null));
  let g,
    y = -1;
  if (
    w &&
    ((i = t.docView.nearest(w)) === null || i === void 0
      ? void 0
      : i.isEditable) != !1
  ) {
    if (p.caretPositionFromPoint) {
      let b = p.caretPositionFromPoint(c, f);
      b && ({ offsetNode: g, offset: y } = b);
    } else if (p.caretRangeFromPoint) {
      let b = p.caretRangeFromPoint(c, f);
      b &&
        (({ startContainer: g, startOffset: y } = b),
        (!t.contentDOM.contains(g) ||
          (I.safari && SP(g, y, c)) ||
          (I.chrome && kP(g, y, c))) &&
          (g = void 0));
    }
  }
  if (!g || !t.docView.dom.contains(g)) {
    let b = We.find(t.docView, d);
    if (!b) return h > a.top + a.height / 2 ? a.to : a.from;
    ({ node: g, offset: y } = Nm(b.dom, c, f));
  }
  let v = t.docView.nearest(g);
  if (!v) return null;
  if (
    v.isWidget &&
    ((s = v.dom) === null || s === void 0 ? void 0 : s.nodeType) == 1
  ) {
    let b = v.dom.getBoundingClientRect();
    return e.y < b.top || (e.y <= b.bottom && e.x <= (b.left + b.right) / 2)
      ? v.posAtStart
      : v.posAtEnd;
  } else return v.localPosFromDOM(g, y) + v.posAtStart;
}
function Dv(t, e, n, r, i) {
  let s = Math.round((r - e.left) * t.defaultCharacterWidth);
  if (t.lineWrapping && n.height > t.defaultLineHeight * 1.5) {
    let l = t.viewState.heightOracle.textHeight,
      a = Math.floor((i - n.top - (t.defaultLineHeight - l) * 0.5) / l);
    s += a * t.viewState.heightOracle.lineLength;
  }
  let o = t.state.sliceDoc(n.from, n.to);
  return n.from + Sm(o, s, t.state.tabSize);
}
function SP(t, e, n) {
  let r;
  if (t.nodeType != 3 || e != (r = t.nodeValue.length)) return !1;
  for (let i = t.nextSibling; i; i = i.nextSibling)
    if (i.nodeType != 1 || i.nodeName != "BR") return !1;
  return os(t, r - 1, r).getBoundingClientRect().left > n;
}
function kP(t, e, n) {
  if (e != 0) return !1;
  for (let i = t; ; ) {
    let s = i.parentNode;
    if (!s || s.nodeType != 1 || s.firstChild != i) return !1;
    if (s.classList.contains("cm-line")) break;
    i = s;
  }
  let r =
    t.nodeType == 1
      ? t.getBoundingClientRect()
      : os(t, 0, Math.max(t.nodeValue.length, 1)).getBoundingClientRect();
  return n - r.left > 5;
}
function Im(t, e) {
  let n = t.lineBlockAt(e);
  if (Array.isArray(n.type)) {
    for (let r of n.type)
      if (r.to > e || (r.to == e && (r.to == n.to || r.type == _t.Text)))
        return r;
  }
  return n;
}
function CP(t, e, n, r) {
  let i = Im(t, e.head),
    s =
      !r || i.type != _t.Text || !(t.lineWrapping || i.widgetLineBreaks)
        ? null
        : t.coordsAtPos(e.assoc < 0 && e.head > i.from ? e.head - 1 : e.head);
  if (s) {
    let o = t.dom.getBoundingClientRect(),
      l = t.textDirectionAt(i.from),
      a = t.posAtCoords({
        x: n == (l == Se.LTR) ? o.right - 1 : o.left + 1,
        y: (s.top + s.bottom) / 2,
      });
    if (a != null) return A.cursor(a, n ? -1 : 1);
  }
  return A.cursor(n ? i.to : i.from, n ? -1 : 1);
}
function Rv(t, e, n, r) {
  let i = t.state.doc.lineAt(e.head),
    s = t.bidiSpans(i),
    o = t.textDirectionAt(i.from);
  for (let l = e, a = null; ; ) {
    let u = uP(i, s, o, l, n),
      c = Fk;
    if (!u) {
      if (i.number == (n ? t.state.doc.lines : 1)) return l;
      (c = `
`),
        (i = t.state.doc.line(i.number + (n ? 1 : -1))),
        (s = t.bidiSpans(i)),
        (u = t.visualLineSide(i, !n));
    }
    if (a) {
      if (!a(c)) return l;
    } else {
      if (!r) return u;
      a = r(c);
    }
    l = u;
  }
}
function _P(t, e, n) {
  let r = t.state.charCategorizer(e),
    i = r(n);
  return (s) => {
    let o = r(s);
    return i == _e.Space && (i = o), i == o;
  };
}
function AP(t, e, n, r) {
  let i = e.head,
    s = n ? 1 : -1;
  if (i == (n ? t.state.doc.length : 0)) return A.cursor(i, e.assoc);
  let o = e.goalColumn,
    l,
    a = t.contentDOM.getBoundingClientRect(),
    u = t.coordsAtPos(i, e.assoc || -1),
    c = t.documentTop;
  if (u) o == null && (o = u.left - a.left), (l = s < 0 ? u.top : u.bottom);
  else {
    let d = t.viewState.lineBlockAt(i);
    o == null &&
      (o = Math.min(a.right - a.left, t.defaultCharacterWidth * (i - d.from))),
      (l = (s < 0 ? d.top : d.bottom) + c);
  }
  let f = a.left + o,
    h = r ?? t.viewState.heightOracle.textHeight >> 1;
  for (let d = 0; ; d += 10) {
    let p = l + (h + d) * s,
      m = tC(t, { x: f, y: p }, !1, s);
    if (p < a.top || p > a.bottom || (s < 0 ? m < i : m > i)) {
      let w = t.docView.coordsForChar(m),
        g = !w || p < w.top ? -1 : 1;
      return A.cursor(m, g, void 0, o);
    }
  }
}
function Sc(t, e, n) {
  for (;;) {
    let r = 0;
    for (let i of t)
      i.between(e - 1, e + 1, (s, o, l) => {
        if (e > s && e < o) {
          let a = r || n || (e - s < o - e ? -1 : 1);
          (e = a < 0 ? s : o), (r = a);
        }
      });
    if (!r) return e;
  }
}
function Bd(t, e, n) {
  let r = Sc(
    t.state.facet(N0).map((i) => i(t)),
    n.from,
    e.head > n.from ? -1 : 1
  );
  return r == n.from ? n : A.cursor(r, r < n.from ? 1 : -1);
}
class OP {
  setSelectionOrigin(e) {
    (this.lastSelectionOrigin = e), (this.lastSelectionTime = Date.now());
  }
  constructor(e) {
    (this.view = e),
      (this.lastKeyCode = 0),
      (this.lastKeyTime = 0),
      (this.lastTouchTime = 0),
      (this.lastFocusTime = 0),
      (this.lastScrollTop = 0),
      (this.lastScrollLeft = 0),
      (this.pendingIOSKey = void 0),
      (this.lastSelectionOrigin = null),
      (this.lastSelectionTime = 0),
      (this.lastEscPress = 0),
      (this.lastContextMenu = 0),
      (this.scrollHandlers = []),
      (this.handlers = Object.create(null)),
      (this.composing = -1),
      (this.compositionFirstChange = null),
      (this.compositionEndedAt = 0),
      (this.compositionPendingKey = !1),
      (this.compositionPendingChange = !1),
      (this.mouseSelection = null),
      (this.draggedContent = null),
      (this.handleEvent = this.handleEvent.bind(this)),
      (this.notifiedFocused = e.hasFocus),
      I.safari && e.contentDOM.addEventListener("input", () => null),
      I.gecko && HP(e.contentDOM.ownerDocument);
  }
  handleEvent(e) {
    !BP(this.view, e) ||
      this.ignoreDuringComposition(e) ||
      (e.type == "keydown" && this.keydown(e)) ||
      this.runHandlers(e.type, e);
  }
  runHandlers(e, n) {
    let r = this.handlers[e];
    if (r) {
      for (let i of r.observers) i(this.view, n);
      for (let i of r.handlers) {
        if (n.defaultPrevented) break;
        if (i(this.view, n)) {
          n.preventDefault();
          break;
        }
      }
    }
  }
  ensureHandlers(e) {
    let n = MP(e),
      r = this.handlers,
      i = this.view.contentDOM;
    for (let s in n)
      if (s != "scroll") {
        let o = !n[s].handlers.length,
          l = r[s];
        l &&
          o != !l.handlers.length &&
          (i.removeEventListener(s, this.handleEvent), (l = null)),
          l || i.addEventListener(s, this.handleEvent, { passive: o });
      }
    for (let s in r)
      s != "scroll" && !n[s] && i.removeEventListener(s, this.handleEvent);
    this.handlers = n;
  }
  keydown(e) {
    if (
      ((this.lastKeyCode = e.keyCode),
      (this.lastKeyTime = Date.now()),
      e.keyCode == 9 && Date.now() < this.lastEscPress + 2e3)
    )
      return !0;
    if (
      (e.keyCode != 27 &&
        rC.indexOf(e.keyCode) < 0 &&
        (this.view.inputState.lastEscPress = 0),
      I.android &&
        I.chrome &&
        !e.synthetic &&
        (e.keyCode == 13 || e.keyCode == 8))
    )
      return this.view.observer.delayAndroidKey(e.key, e.keyCode), !0;
    let n;
    return I.ios &&
      !e.synthetic &&
      !e.altKey &&
      !e.metaKey &&
      (((n = nC.find((r) => r.keyCode == e.keyCode)) && !e.ctrlKey) ||
        (EP.indexOf(e.key) > -1 && e.ctrlKey && !e.shiftKey))
      ? ((this.pendingIOSKey = n || e),
        setTimeout(() => this.flushIOSKey(), 250),
        !0)
      : (e.keyCode != 229 && this.view.observer.forceFlush(), !1);
  }
  flushIOSKey(e) {
    let n = this.pendingIOSKey;
    return !n ||
      (n.key == "Enter" &&
        e &&
        e.from < e.to &&
        /^\S+$/.test(e.insert.toString()))
      ? !1
      : ((this.pendingIOSKey = void 0),
        to(
          this.view.contentDOM,
          n.key,
          n.keyCode,
          n instanceof KeyboardEvent ? n : void 0
        ));
  }
  ignoreDuringComposition(e) {
    return /^key/.test(e.type)
      ? this.composing > 0
        ? !0
        : I.safari &&
            !I.ios &&
            this.compositionPendingKey &&
            Date.now() - this.compositionEndedAt < 100
          ? ((this.compositionPendingKey = !1), !0)
          : !1
      : !1;
  }
  startMouseSelection(e) {
    this.mouseSelection && this.mouseSelection.destroy(),
      (this.mouseSelection = e);
  }
  update(e) {
    this.mouseSelection && this.mouseSelection.update(e),
      this.draggedContent &&
        e.docChanged &&
        (this.draggedContent = this.draggedContent.map(e.changes)),
      e.transactions.length && (this.lastKeyCode = this.lastSelectionTime = 0);
  }
  destroy() {
    this.mouseSelection && this.mouseSelection.destroy();
  }
}
function Lv(t, e) {
  return (n, r) => {
    try {
      return e.call(t, r, n);
    } catch (i) {
      Rt(n.state, i);
    }
  };
}
function MP(t) {
  let e = Object.create(null);
  function n(r) {
    return e[r] || (e[r] = { observers: [], handlers: [] });
  }
  for (let r of t) {
    let i = r.spec;
    if (i && i.domEventHandlers)
      for (let s in i.domEventHandlers) {
        let o = i.domEventHandlers[s];
        o && n(s).handlers.push(Lv(r.value, o));
      }
    if (i && i.domEventObservers)
      for (let s in i.domEventObservers) {
        let o = i.domEventObservers[s];
        o && n(s).observers.push(Lv(r.value, o));
      }
  }
  for (let r in $n) n(r).handlers.push($n[r]);
  for (let r in wn) n(r).observers.push(wn[r]);
  return e;
}
const nC = [
    { key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" },
    { key: "Enter", keyCode: 13, inputType: "insertParagraph" },
    { key: "Enter", keyCode: 13, inputType: "insertLineBreak" },
    { key: "Delete", keyCode: 46, inputType: "deleteContentForward" },
  ],
  EP = "dthko",
  rC = [16, 17, 18, 20, 91, 92, 224, 225],
  Lu = 6;
function Bu(t) {
  return Math.max(0, t) * 0.7 + 8;
}
function TP(t, e) {
  return Math.max(
    Math.abs(t.clientX - e.clientX),
    Math.abs(t.clientY - e.clientY)
  );
}
class PP {
  constructor(e, n, r, i) {
    (this.view = e),
      (this.startEvent = n),
      (this.style = r),
      (this.mustSelect = i),
      (this.scrollSpeed = { x: 0, y: 0 }),
      (this.scrolling = -1),
      (this.lastEvent = n),
      (this.scrollParent = qT(e.contentDOM)),
      (this.atoms = e.state.facet(N0).map((o) => o(e)));
    let s = e.contentDOM.ownerDocument;
    s.addEventListener("mousemove", (this.move = this.move.bind(this))),
      s.addEventListener("mouseup", (this.up = this.up.bind(this))),
      (this.extend = n.shiftKey),
      (this.multiple = e.state.facet(ee.allowMultipleSelections) && DP(e, n)),
      (this.dragging = LP(e, n) && lC(n) == 1 ? null : !1);
  }
  start(e) {
    this.dragging === !1 && this.select(e);
  }
  move(e) {
    var n;
    if (e.buttons == 0) return this.destroy();
    if (this.dragging || (this.dragging == null && TP(this.startEvent, e) < 10))
      return;
    this.select((this.lastEvent = e));
    let r = 0,
      i = 0,
      s = ((n = this.scrollParent) === null || n === void 0
        ? void 0
        : n.getBoundingClientRect()) || {
        left: 0,
        top: 0,
        right: this.view.win.innerWidth,
        bottom: this.view.win.innerHeight,
      },
      o = Zk(this.view);
    e.clientX - o.left <= s.left + Lu
      ? (r = -Bu(s.left - e.clientX))
      : e.clientX + o.right >= s.right - Lu && (r = Bu(e.clientX - s.right)),
      e.clientY - o.top <= s.top + Lu
        ? (i = -Bu(s.top - e.clientY))
        : e.clientY + o.bottom >= s.bottom - Lu &&
          (i = Bu(e.clientY - s.bottom)),
      this.setScrollSpeed(r, i);
  }
  up(e) {
    this.dragging == null && this.select(this.lastEvent),
      this.dragging || e.preventDefault(),
      this.destroy();
  }
  destroy() {
    this.setScrollSpeed(0, 0);
    let e = this.view.contentDOM.ownerDocument;
    e.removeEventListener("mousemove", this.move),
      e.removeEventListener("mouseup", this.up),
      (this.view.inputState.mouseSelection =
        this.view.inputState.draggedContent =
          null);
  }
  setScrollSpeed(e, n) {
    (this.scrollSpeed = { x: e, y: n }),
      e || n
        ? this.scrolling < 0 &&
          (this.scrolling = setInterval(() => this.scroll(), 50))
        : this.scrolling > -1 &&
          (clearInterval(this.scrolling), (this.scrolling = -1));
  }
  scroll() {
    this.scrollParent
      ? ((this.scrollParent.scrollLeft += this.scrollSpeed.x),
        (this.scrollParent.scrollTop += this.scrollSpeed.y))
      : this.view.win.scrollBy(this.scrollSpeed.x, this.scrollSpeed.y),
      this.dragging === !1 && this.select(this.lastEvent);
  }
  skipAtoms(e) {
    let n = null;
    for (let r = 0; r < e.ranges.length; r++) {
      let i = e.ranges[r],
        s = null;
      if (i.empty) {
        let o = Sc(this.atoms, i.from, 0);
        o != i.from && (s = A.cursor(o, -1));
      } else {
        let o = Sc(this.atoms, i.from, -1),
          l = Sc(this.atoms, i.to, 1);
        (o != i.from || l != i.to) &&
          (s = A.range(i.from == i.anchor ? o : l, i.from == i.head ? o : l));
      }
      s && (n || (n = e.ranges.slice()), (n[r] = s));
    }
    return n ? A.create(n, e.mainIndex) : e;
  }
  select(e) {
    let { view: n } = this,
      r = this.skipAtoms(this.style.get(e, this.extend, this.multiple));
    (this.mustSelect || !r.eq(n.state.selection, this.dragging === !1)) &&
      this.view.dispatch({ selection: r, userEvent: "select.pointer" }),
      (this.mustSelect = !1);
  }
  update(e) {
    this.style.update(e) && setTimeout(() => this.select(this.lastEvent), 20);
  }
}
function DP(t, e) {
  let n = t.state.facet(zk);
  return n.length ? n[0](e) : I.mac ? e.metaKey : e.ctrlKey;
}
function RP(t, e) {
  let n = t.state.facet(jk);
  return n.length ? n[0](e) : I.mac ? !e.altKey : !e.ctrlKey;
}
function LP(t, e) {
  let { main: n } = t.state.selection;
  if (n.empty) return !1;
  let r = ff(t.root);
  if (!r || r.rangeCount == 0) return !0;
  let i = r.getRangeAt(0).getClientRects();
  for (let s = 0; s < i.length; s++) {
    let o = i[s];
    if (
      o.left <= e.clientX &&
      o.right >= e.clientX &&
      o.top <= e.clientY &&
      o.bottom >= e.clientY
    )
      return !0;
  }
  return !1;
}
function BP(t, e) {
  if (!e.bubbles) return !0;
  if (e.defaultPrevented) return !1;
  for (let n = e.target, r; n != t.contentDOM; n = n.parentNode)
    if (!n || n.nodeType == 11 || ((r = me.get(n)) && r.ignoreEvent(e)))
      return !1;
  return !0;
}
const $n = Object.create(null),
  wn = Object.create(null),
  iC = (I.ie && I.ie_version < 15) || (I.ios && I.webkit_version < 604);
function NP(t) {
  let e = t.dom.parentNode;
  if (!e) return;
  let n = e.appendChild(document.createElement("textarea"));
  (n.style.cssText = "position: fixed; left: -10000px; top: 10px"),
    n.focus(),
    setTimeout(() => {
      t.focus(), n.remove(), sC(t, n.value);
    }, 50);
}
function sC(t, e) {
  let { state: n } = t,
    r,
    i = 1,
    s = n.toText(e),
    o = s.lines == n.selection.ranges.length;
  if (
    $m != null &&
    n.selection.ranges.every((a) => a.empty) &&
    $m == s.toString()
  ) {
    let a = -1;
    r = n.changeByRange((u) => {
      let c = n.doc.lineAt(u.from);
      if (c.from == a) return { range: u };
      a = c.from;
      let f = n.toText((o ? s.line(i++).text : e) + n.lineBreak);
      return {
        changes: { from: c.from, insert: f },
        range: A.cursor(u.from + f.length),
      };
    });
  } else
    o
      ? (r = n.changeByRange((a) => {
          let u = s.line(i++);
          return {
            changes: { from: a.from, to: a.to, insert: u.text },
            range: A.cursor(a.from + u.length),
          };
        }))
      : (r = n.replaceSelection(s));
  t.dispatch(r, { userEvent: "input.paste", scrollIntoView: !0 });
}
wn.scroll = (t) => {
  (t.inputState.lastScrollTop = t.scrollDOM.scrollTop),
    (t.inputState.lastScrollLeft = t.scrollDOM.scrollLeft);
};
$n.keydown = (t, e) => (
  t.inputState.setSelectionOrigin("select"),
  e.keyCode == 27 && (t.inputState.lastEscPress = Date.now()),
  !1
);
wn.touchstart = (t, e) => {
  (t.inputState.lastTouchTime = Date.now()),
    t.inputState.setSelectionOrigin("select.pointer");
};
wn.touchmove = (t) => {
  t.inputState.setSelectionOrigin("select.pointer");
};
$n.mousedown = (t, e) => {
  if ((t.observer.flush(), t.inputState.lastTouchTime > Date.now() - 2e3))
    return !1;
  let n = null;
  for (let r of t.state.facet(Vk)) if (((n = r(t, e)), n)) break;
  if ((!n && e.button == 0 && (n = FP(t, e)), n)) {
    let r = !t.hasFocus;
    t.inputState.startMouseSelection(new PP(t, e, n, r)),
      r && t.observer.ignore(() => xk(t.contentDOM));
    let i = t.inputState.mouseSelection;
    if (i) return i.start(e), i.dragging === !1;
  }
  return !1;
};
function Bv(t, e, n, r) {
  if (r == 1) return A.cursor(e, n);
  if (r == 2) return wP(t.state, e, n);
  {
    let i = We.find(t.docView, e),
      s = t.state.doc.lineAt(i ? i.posAtEnd : e),
      o = i ? i.posAtStart : s.from,
      l = i ? i.posAtEnd : s.to;
    return l < t.state.doc.length && l == s.to && l++, A.range(o, l);
  }
}
let oC = (t, e) => t >= e.top && t <= e.bottom,
  Nv = (t, e, n) => oC(e, n) && t >= n.left && t <= n.right;
function IP(t, e, n, r) {
  let i = We.find(t.docView, e);
  if (!i) return 1;
  let s = e - i.posAtStart;
  if (s == 0) return 1;
  if (s == i.length) return -1;
  let o = i.coordsAt(s, -1);
  if (o && Nv(n, r, o)) return -1;
  let l = i.coordsAt(s, 1);
  return l && Nv(n, r, l) ? 1 : o && oC(r, o) ? -1 : 1;
}
function Iv(t, e) {
  let n = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1);
  return { pos: n, bias: IP(t, n, e.clientX, e.clientY) };
}
const $P = I.ie && I.ie_version <= 11;
let $v = null,
  Fv = 0,
  zv = 0;
function lC(t) {
  if (!$P) return t.detail;
  let e = $v,
    n = zv;
  return (
    ($v = t),
    (zv = Date.now()),
    (Fv =
      !e ||
      (n > Date.now() - 400 &&
        Math.abs(e.clientX - t.clientX) < 2 &&
        Math.abs(e.clientY - t.clientY) < 2)
        ? (Fv + 1) % 3
        : 1)
  );
}
function FP(t, e) {
  let n = Iv(t, e),
    r = lC(e),
    i = t.state.selection;
  return {
    update(s) {
      s.docChanged &&
        ((n.pos = s.changes.mapPos(n.pos)), (i = i.map(s.changes)));
    },
    get(s, o, l) {
      let a = Iv(t, s),
        u,
        c = Bv(t, a.pos, a.bias, r);
      if (n.pos != a.pos && !o) {
        let f = Bv(t, n.pos, n.bias, r),
          h = Math.min(f.from, c.from),
          d = Math.max(f.to, c.to);
        c = h < c.from ? A.range(h, d) : A.range(d, h);
      }
      return o
        ? i.replaceRange(i.main.extend(c.from, c.to))
        : l && r == 1 && i.ranges.length > 1 && (u = zP(i, a.pos))
          ? u
          : l
            ? i.addRange(c)
            : A.create([c]);
    },
  };
}
function zP(t, e) {
  for (let n = 0; n < t.ranges.length; n++) {
    let { from: r, to: i } = t.ranges[n];
    if (r <= e && i >= e)
      return A.create(
        t.ranges.slice(0, n).concat(t.ranges.slice(n + 1)),
        t.mainIndex == n ? 0 : t.mainIndex - (t.mainIndex > n ? 1 : 0)
      );
  }
  return null;
}
$n.dragstart = (t, e) => {
  let {
    selection: { main: n },
  } = t.state;
  if (e.target.draggable) {
    let i = t.docView.nearest(e.target);
    if (i && i.isWidget) {
      let s = i.posAtStart,
        o = s + i.length;
      (s >= n.to || o <= n.from) && (n = A.range(s, o));
    }
  }
  let { inputState: r } = t;
  return (
    r.mouseSelection && (r.mouseSelection.dragging = !0),
    (r.draggedContent = n),
    e.dataTransfer &&
      (e.dataTransfer.setData("Text", t.state.sliceDoc(n.from, n.to)),
      (e.dataTransfer.effectAllowed = "copyMove")),
    !1
  );
};
$n.dragend = (t) => ((t.inputState.draggedContent = null), !1);
function jv(t, e, n, r) {
  if (!n) return;
  let i = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1),
    { draggedContent: s } = t.inputState,
    o = r && s && RP(t, e) ? { from: s.from, to: s.to } : null,
    l = { from: i, insert: n },
    a = t.state.changes(o ? [o, l] : l);
  t.focus(),
    t.dispatch({
      changes: a,
      selection: { anchor: a.mapPos(i, -1), head: a.mapPos(i, 1) },
      userEvent: o ? "move.drop" : "input.drop",
    }),
    (t.inputState.draggedContent = null);
}
$n.drop = (t, e) => {
  if (!e.dataTransfer) return !1;
  if (t.state.readOnly) return !0;
  let n = e.dataTransfer.files;
  if (n && n.length) {
    let r = Array(n.length),
      i = 0,
      s = () => {
        ++i == n.length &&
          jv(t, e, r.filter((o) => o != null).join(t.state.lineBreak), !1);
      };
    for (let o = 0; o < n.length; o++) {
      let l = new FileReader();
      (l.onerror = s),
        (l.onload = () => {
          /[\x00-\x08\x0e-\x1f]{2}/.test(l.result) || (r[o] = l.result), s();
        }),
        l.readAsText(n[o]);
    }
    return !0;
  } else {
    let r = e.dataTransfer.getData("Text");
    if (r) return jv(t, e, r, !0), !0;
  }
  return !1;
};
$n.paste = (t, e) => {
  if (t.state.readOnly) return !0;
  t.observer.flush();
  let n = iC ? null : e.clipboardData;
  return n
    ? (sC(t, n.getData("text/plain") || n.getData("text/uri-list")), !0)
    : (NP(t), !1);
};
function jP(t, e) {
  let n = t.dom.parentNode;
  if (!n) return;
  let r = n.appendChild(document.createElement("textarea"));
  (r.style.cssText = "position: fixed; left: -10000px; top: 10px"),
    (r.value = e),
    r.focus(),
    (r.selectionEnd = e.length),
    (r.selectionStart = 0),
    setTimeout(() => {
      r.remove(), t.focus();
    }, 50);
}
function VP(t) {
  let e = [],
    n = [],
    r = !1;
  for (let i of t.selection.ranges)
    i.empty || (e.push(t.sliceDoc(i.from, i.to)), n.push(i));
  if (!e.length) {
    let i = -1;
    for (let { from: s } of t.selection.ranges) {
      let o = t.doc.lineAt(s);
      o.number > i &&
        (e.push(o.text),
        n.push({ from: o.from, to: Math.min(t.doc.length, o.to + 1) })),
        (i = o.number);
    }
    r = !0;
  }
  return { text: e.join(t.lineBreak), ranges: n, linewise: r };
}
let $m = null;
$n.copy = $n.cut = (t, e) => {
  let { text: n, ranges: r, linewise: i } = VP(t.state);
  if (!n && !i) return !1;
  ($m = i ? n : null),
    e.type == "cut" &&
      !t.state.readOnly &&
      t.dispatch({ changes: r, scrollIntoView: !0, userEvent: "delete.cut" });
  let s = iC ? null : e.clipboardData;
  return s ? (s.clearData(), s.setData("text/plain", n), !0) : (jP(t, n), !1);
};
const aC = Ir.define();
function uC(t, e) {
  let n = [];
  for (let r of t.facet(Uk)) {
    let i = r(t, e);
    i && n.push(i);
  }
  return n ? t.update({ effects: n, annotations: aC.of(!0) }) : null;
}
function cC(t) {
  setTimeout(() => {
    let e = t.hasFocus;
    if (e != t.inputState.notifiedFocused) {
      let n = uC(t.state, e);
      n ? t.dispatch(n) : t.update([]);
    }
  }, 10);
}
wn.focus = (t) => {
  (t.inputState.lastFocusTime = Date.now()),
    !t.scrollDOM.scrollTop &&
      (t.inputState.lastScrollTop || t.inputState.lastScrollLeft) &&
      ((t.scrollDOM.scrollTop = t.inputState.lastScrollTop),
      (t.scrollDOM.scrollLeft = t.inputState.lastScrollLeft)),
    cC(t);
};
wn.blur = (t) => {
  t.observer.clearSelectionRange(), cC(t);
};
wn.compositionstart = wn.compositionupdate = (t) => {
  t.inputState.compositionFirstChange == null &&
    (t.inputState.compositionFirstChange = !0),
    t.inputState.composing < 0 && (t.inputState.composing = 0);
};
wn.compositionend = (t) => {
  (t.inputState.composing = -1),
    (t.inputState.compositionEndedAt = Date.now()),
    (t.inputState.compositionPendingKey = !0),
    (t.inputState.compositionPendingChange =
      t.observer.pendingRecords().length > 0),
    (t.inputState.compositionFirstChange = null),
    I.chrome && I.android
      ? t.observer.flushSoon()
      : t.inputState.compositionPendingChange
        ? Promise.resolve().then(() => t.observer.flush())
        : setTimeout(() => {
            t.inputState.composing < 0 &&
              t.docView.hasComposition &&
              t.update([]);
          }, 50);
};
wn.contextmenu = (t) => {
  t.inputState.lastContextMenu = Date.now();
};
$n.beforeinput = (t, e) => {
  var n;
  let r;
  if (
    I.chrome &&
    I.android &&
    (r = nC.find((i) => i.inputType == e.inputType)) &&
    (t.observer.delayAndroidKey(r.key, r.keyCode),
    r.key == "Backspace" || r.key == "Delete")
  ) {
    let i =
      ((n = window.visualViewport) === null || n === void 0
        ? void 0
        : n.height) || 0;
    setTimeout(() => {
      var s;
      (((s = window.visualViewport) === null || s === void 0
        ? void 0
        : s.height) || 0) >
        i + 10 &&
        t.hasFocus &&
        (t.contentDOM.blur(), t.focus());
    }, 100);
  }
  return (
    I.ios && e.inputType == "deleteContentForward" && t.observer.flushSoon(),
    I.safari &&
      e.inputType == "insertText" &&
      t.inputState.composing >= 0 &&
      setTimeout(() => wn.compositionend(t, e), 20),
    !1
  );
};
const Vv = new Set();
function HP(t) {
  Vv.has(t) ||
    (Vv.add(t),
    t.addEventListener("copy", () => {}),
    t.addEventListener("cut", () => {}));
}
const Hv = ["pre-wrap", "normal", "pre-line", "break-spaces"];
class WP {
  constructor(e) {
    (this.lineWrapping = e),
      (this.doc = le.empty),
      (this.heightSamples = {}),
      (this.lineHeight = 14),
      (this.charWidth = 7),
      (this.textHeight = 14),
      (this.lineLength = 30),
      (this.heightChanged = !1);
  }
  heightForGap(e, n) {
    let r = this.doc.lineAt(n).number - this.doc.lineAt(e).number + 1;
    return (
      this.lineWrapping &&
        (r += Math.max(
          0,
          Math.ceil((n - e - r * this.lineLength * 0.5) / this.lineLength)
        )),
      this.lineHeight * r
    );
  }
  heightForLine(e) {
    return this.lineWrapping
      ? (1 +
          Math.max(
            0,
            Math.ceil((e - this.lineLength) / (this.lineLength - 5))
          )) *
          this.lineHeight
      : this.lineHeight;
  }
  setDoc(e) {
    return (this.doc = e), this;
  }
  mustRefreshForWrapping(e) {
    return Hv.indexOf(e) > -1 != this.lineWrapping;
  }
  mustRefreshForHeights(e) {
    let n = !1;
    for (let r = 0; r < e.length; r++) {
      let i = e[r];
      i < 0
        ? r++
        : this.heightSamples[Math.floor(i * 10)] ||
          ((n = !0), (this.heightSamples[Math.floor(i * 10)] = !0));
    }
    return n;
  }
  refresh(e, n, r, i, s, o) {
    let l = Hv.indexOf(e) > -1,
      a =
        Math.round(n) != Math.round(this.lineHeight) || this.lineWrapping != l;
    if (
      ((this.lineWrapping = l),
      (this.lineHeight = n),
      (this.charWidth = r),
      (this.textHeight = i),
      (this.lineLength = s),
      a)
    ) {
      this.heightSamples = {};
      for (let u = 0; u < o.length; u++) {
        let c = o[u];
        c < 0 ? u++ : (this.heightSamples[Math.floor(c * 10)] = !0);
      }
    }
    return a;
  }
}
class UP {
  constructor(e, n) {
    (this.from = e), (this.heights = n), (this.index = 0);
  }
  get more() {
    return this.index < this.heights.length;
  }
}
class rr {
  constructor(e, n, r, i, s) {
    (this.from = e),
      (this.length = n),
      (this.top = r),
      (this.height = i),
      (this._content = s);
  }
  get type() {
    return typeof this._content == "number"
      ? _t.Text
      : Array.isArray(this._content)
        ? this._content
        : this._content.type;
  }
  get to() {
    return this.from + this.length;
  }
  get bottom() {
    return this.top + this.height;
  }
  get widget() {
    return this._content instanceof Ai ? this._content.widget : null;
  }
  get widgetLineBreaks() {
    return typeof this._content == "number" ? this._content : 0;
  }
  join(e) {
    let n = (Array.isArray(this._content) ? this._content : [this]).concat(
      Array.isArray(e._content) ? e._content : [e]
    );
    return new rr(
      this.from,
      this.length + e.length,
      this.top,
      this.height + e.height,
      n
    );
  }
}
var be = (function (t) {
  return (
    (t[(t.ByPos = 0)] = "ByPos"),
    (t[(t.ByHeight = 1)] = "ByHeight"),
    (t[(t.ByPosNoHeight = 2)] = "ByPosNoHeight"),
    t
  );
})(be || (be = {}));
const kc = 0.001;
class At {
  constructor(e, n, r = 2) {
    (this.length = e), (this.height = n), (this.flags = r);
  }
  get outdated() {
    return (this.flags & 2) > 0;
  }
  set outdated(e) {
    this.flags = (e ? 2 : 0) | (this.flags & -3);
  }
  setHeight(e, n) {
    this.height != n &&
      (Math.abs(this.height - n) > kc && (e.heightChanged = !0),
      (this.height = n));
  }
  replace(e, n, r) {
    return At.of(r);
  }
  decomposeLeft(e, n) {
    n.push(this);
  }
  decomposeRight(e, n) {
    n.push(this);
  }
  applyChanges(e, n, r, i) {
    let s = this,
      o = r.doc;
    for (let l = i.length - 1; l >= 0; l--) {
      let { fromA: a, toA: u, fromB: c, toB: f } = i[l],
        h = s.lineAt(a, be.ByPosNoHeight, r.setDoc(n), 0, 0),
        d = h.to >= u ? h : s.lineAt(u, be.ByPosNoHeight, r, 0, 0);
      for (f += d.to - u, u = d.to; l > 0 && h.from <= i[l - 1].toA; )
        (a = i[l - 1].fromA),
          (c = i[l - 1].fromB),
          l--,
          a < h.from && (h = s.lineAt(a, be.ByPosNoHeight, r, 0, 0));
      (c += h.from - a), (a = h.from);
      let p = I0.build(r.setDoc(o), e, c, f);
      s = s.replace(a, u, p);
    }
    return s.updateHeight(r, 0);
  }
  static empty() {
    return new Wt(0, 0);
  }
  static of(e) {
    if (e.length == 1) return e[0];
    let n = 0,
      r = e.length,
      i = 0,
      s = 0;
    for (;;)
      if (n == r)
        if (i > s * 2) {
          let l = e[n - 1];
          l.break
            ? e.splice(--n, 1, l.left, null, l.right)
            : e.splice(--n, 1, l.left, l.right),
            (r += 1 + l.break),
            (i -= l.size);
        } else if (s > i * 2) {
          let l = e[r];
          l.break
            ? e.splice(r, 1, l.left, null, l.right)
            : e.splice(r, 1, l.left, l.right),
            (r += 2 + l.break),
            (s -= l.size);
        } else break;
      else if (i < s) {
        let l = e[n++];
        l && (i += l.size);
      } else {
        let l = e[--r];
        l && (s += l.size);
      }
    let o = 0;
    return (
      e[n - 1] == null ? ((o = 1), n--) : e[n] == null && ((o = 1), r++),
      new KP(At.of(e.slice(0, n)), o, At.of(e.slice(r)))
    );
  }
}
At.prototype.size = 1;
class fC extends At {
  constructor(e, n, r) {
    super(e, n), (this.deco = r);
  }
  blockAt(e, n, r, i) {
    return new rr(i, this.length, r, this.height, this.deco || 0);
  }
  lineAt(e, n, r, i, s) {
    return this.blockAt(0, r, i, s);
  }
  forEachLine(e, n, r, i, s, o) {
    e <= s + this.length && n >= s && o(this.blockAt(0, r, i, s));
  }
  updateHeight(e, n = 0, r = !1, i) {
    return (
      i && i.from <= n && i.more && this.setHeight(e, i.heights[i.index++]),
      (this.outdated = !1),
      this
    );
  }
  toString() {
    return `block(${this.length})`;
  }
}
class Wt extends fC {
  constructor(e, n) {
    super(e, n, null),
      (this.collapsed = 0),
      (this.widgetHeight = 0),
      (this.breaks = 0);
  }
  blockAt(e, n, r, i) {
    return new rr(i, this.length, r, this.height, this.breaks);
  }
  replace(e, n, r) {
    let i = r[0];
    return r.length == 1 &&
      (i instanceof Wt || (i instanceof et && i.flags & 4)) &&
      Math.abs(this.length - i.length) < 10
      ? (i instanceof et
          ? (i = new Wt(i.length, this.height))
          : (i.height = this.height),
        this.outdated || (i.outdated = !1),
        i)
      : At.of(r);
  }
  updateHeight(e, n = 0, r = !1, i) {
    return (
      i && i.from <= n && i.more
        ? this.setHeight(e, i.heights[i.index++])
        : (r || this.outdated) &&
          this.setHeight(
            e,
            Math.max(
              this.widgetHeight,
              e.heightForLine(this.length - this.collapsed)
            ) +
              this.breaks * e.lineHeight
          ),
      (this.outdated = !1),
      this
    );
  }
  toString() {
    return `line(${this.length}${this.collapsed ? -this.collapsed : ""}${this.widgetHeight ? ":" + this.widgetHeight : ""})`;
  }
}
class et extends At {
  constructor(e) {
    super(e, 0);
  }
  heightMetrics(e, n) {
    let r = e.doc.lineAt(n).number,
      i = e.doc.lineAt(n + this.length).number,
      s = i - r + 1,
      o,
      l = 0;
    if (e.lineWrapping) {
      let a = Math.min(this.height, e.lineHeight * s);
      (o = a / s),
        this.length > s + 1 && (l = (this.height - a) / (this.length - s - 1));
    } else o = this.height / s;
    return { firstLine: r, lastLine: i, perLine: o, perChar: l };
  }
  blockAt(e, n, r, i) {
    let {
      firstLine: s,
      lastLine: o,
      perLine: l,
      perChar: a,
    } = this.heightMetrics(n, i);
    if (n.lineWrapping) {
      let u =
          i +
          (e < n.lineHeight
            ? 0
            : Math.round(
                Math.max(0, Math.min(1, (e - r) / this.height)) * this.length
              )),
        c = n.doc.lineAt(u),
        f = l + c.length * a,
        h = Math.max(r, e - f / 2);
      return new rr(c.from, c.length, h, f, 0);
    } else {
      let u = Math.max(0, Math.min(o - s, Math.floor((e - r) / l))),
        { from: c, length: f } = n.doc.line(s + u);
      return new rr(c, f, r + l * u, l, 0);
    }
  }
  lineAt(e, n, r, i, s) {
    if (n == be.ByHeight) return this.blockAt(e, r, i, s);
    if (n == be.ByPosNoHeight) {
      let { from: d, to: p } = r.doc.lineAt(e);
      return new rr(d, p - d, 0, 0, 0);
    }
    let { firstLine: o, perLine: l, perChar: a } = this.heightMetrics(r, s),
      u = r.doc.lineAt(e),
      c = l + u.length * a,
      f = u.number - o,
      h = i + l * f + a * (u.from - s - f);
    return new rr(
      u.from,
      u.length,
      Math.max(i, Math.min(h, i + this.height - c)),
      c,
      0
    );
  }
  forEachLine(e, n, r, i, s, o) {
    (e = Math.max(e, s)), (n = Math.min(n, s + this.length));
    let { firstLine: l, perLine: a, perChar: u } = this.heightMetrics(r, s);
    for (let c = e, f = i; c <= n; ) {
      let h = r.doc.lineAt(c);
      if (c == e) {
        let p = h.number - l;
        f += a * p + u * (e - s - p);
      }
      let d = a + u * h.length;
      o(new rr(h.from, h.length, f, d, 0)), (f += d), (c = h.to + 1);
    }
  }
  replace(e, n, r) {
    let i = this.length - n;
    if (i > 0) {
      let s = r[r.length - 1];
      s instanceof et
        ? (r[r.length - 1] = new et(s.length + i))
        : r.push(null, new et(i - 1));
    }
    if (e > 0) {
      let s = r[0];
      s instanceof et
        ? (r[0] = new et(e + s.length))
        : r.unshift(new et(e - 1), null);
    }
    return At.of(r);
  }
  decomposeLeft(e, n) {
    n.push(new et(e - 1), null);
  }
  decomposeRight(e, n) {
    n.push(null, new et(this.length - e - 1));
  }
  updateHeight(e, n = 0, r = !1, i) {
    let s = n + this.length;
    if (i && i.from <= n + this.length && i.more) {
      let o = [],
        l = Math.max(n, i.from),
        a = -1;
      for (
        i.from > n && o.push(new et(i.from - n - 1).updateHeight(e, n));
        l <= s && i.more;

      ) {
        let c = e.doc.lineAt(l).length;
        o.length && o.push(null);
        let f = i.heights[i.index++];
        a == -1 ? (a = f) : Math.abs(f - a) >= kc && (a = -2);
        let h = new Wt(c, f);
        (h.outdated = !1), o.push(h), (l += c + 1);
      }
      l <= s && o.push(null, new et(s - l).updateHeight(e, l));
      let u = At.of(o);
      return (
        (a < 0 ||
          Math.abs(u.height - this.height) >= kc ||
          Math.abs(a - this.heightMetrics(e, n).perLine) >= kc) &&
          (e.heightChanged = !0),
        u
      );
    } else
      (r || this.outdated) &&
        (this.setHeight(e, e.heightForGap(n, n + this.length)),
        (this.outdated = !1));
    return this;
  }
  toString() {
    return `gap(${this.length})`;
  }
}
class KP extends At {
  constructor(e, n, r) {
    super(
      e.length + n + r.length,
      e.height + r.height,
      n | (e.outdated || r.outdated ? 2 : 0)
    ),
      (this.left = e),
      (this.right = r),
      (this.size = e.size + r.size);
  }
  get break() {
    return this.flags & 1;
  }
  blockAt(e, n, r, i) {
    let s = r + this.left.height;
    return e < s
      ? this.left.blockAt(e, n, r, i)
      : this.right.blockAt(e, n, s, i + this.left.length + this.break);
  }
  lineAt(e, n, r, i, s) {
    let o = i + this.left.height,
      l = s + this.left.length + this.break,
      a = n == be.ByHeight ? e < o : e < l,
      u = a
        ? this.left.lineAt(e, n, r, i, s)
        : this.right.lineAt(e, n, r, o, l);
    if (this.break || (a ? u.to < l : u.from > l)) return u;
    let c = n == be.ByPosNoHeight ? be.ByPosNoHeight : be.ByPos;
    return a
      ? u.join(this.right.lineAt(l, c, r, o, l))
      : this.left.lineAt(l, c, r, i, s).join(u);
  }
  forEachLine(e, n, r, i, s, o) {
    let l = i + this.left.height,
      a = s + this.left.length + this.break;
    if (this.break)
      e < a && this.left.forEachLine(e, n, r, i, s, o),
        n >= a && this.right.forEachLine(e, n, r, l, a, o);
    else {
      let u = this.lineAt(a, be.ByPos, r, i, s);
      e < u.from && this.left.forEachLine(e, u.from - 1, r, i, s, o),
        u.to >= e && u.from <= n && o(u),
        n > u.to && this.right.forEachLine(u.to + 1, n, r, l, a, o);
    }
  }
  replace(e, n, r) {
    let i = this.left.length + this.break;
    if (n < i) return this.balanced(this.left.replace(e, n, r), this.right);
    if (e > this.left.length)
      return this.balanced(this.left, this.right.replace(e - i, n - i, r));
    let s = [];
    e > 0 && this.decomposeLeft(e, s);
    let o = s.length;
    for (let l of r) s.push(l);
    if ((e > 0 && Wv(s, o - 1), n < this.length)) {
      let l = s.length;
      this.decomposeRight(n, s), Wv(s, l);
    }
    return At.of(s);
  }
  decomposeLeft(e, n) {
    let r = this.left.length;
    if (e <= r) return this.left.decomposeLeft(e, n);
    n.push(this.left),
      this.break && (r++, e >= r && n.push(null)),
      e > r && this.right.decomposeLeft(e - r, n);
  }
  decomposeRight(e, n) {
    let r = this.left.length,
      i = r + this.break;
    if (e >= i) return this.right.decomposeRight(e - i, n);
    e < r && this.left.decomposeRight(e, n),
      this.break && e < i && n.push(null),
      n.push(this.right);
  }
  balanced(e, n) {
    return e.size > 2 * n.size || n.size > 2 * e.size
      ? At.of(this.break ? [e, null, n] : [e, n])
      : ((this.left = e),
        (this.right = n),
        (this.height = e.height + n.height),
        (this.outdated = e.outdated || n.outdated),
        (this.size = e.size + n.size),
        (this.length = e.length + this.break + n.length),
        this);
  }
  updateHeight(e, n = 0, r = !1, i) {
    let { left: s, right: o } = this,
      l = n + s.length + this.break,
      a = null;
    return (
      i && i.from <= n + s.length && i.more
        ? (a = s = s.updateHeight(e, n, r, i))
        : s.updateHeight(e, n, r),
      i && i.from <= l + o.length && i.more
        ? (a = o = o.updateHeight(e, l, r, i))
        : o.updateHeight(e, l, r),
      a
        ? this.balanced(s, o)
        : ((this.height = this.left.height + this.right.height),
          (this.outdated = !1),
          this)
    );
  }
  toString() {
    return this.left + (this.break ? " " : "-") + this.right;
  }
}
function Wv(t, e) {
  let n, r;
  t[e] == null &&
    (n = t[e - 1]) instanceof et &&
    (r = t[e + 1]) instanceof et &&
    t.splice(e - 1, 3, new et(n.length + 1 + r.length));
}
const qP = 5;
class I0 {
  constructor(e, n) {
    (this.pos = e),
      (this.oracle = n),
      (this.nodes = []),
      (this.lineStart = -1),
      (this.lineEnd = -1),
      (this.covering = null),
      (this.writtenTo = e);
  }
  get isCovered() {
    return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
  }
  span(e, n) {
    if (this.lineStart > -1) {
      let r = Math.min(n, this.lineEnd),
        i = this.nodes[this.nodes.length - 1];
      i instanceof Wt
        ? (i.length += r - this.pos)
        : (r > this.pos || !this.isCovered) &&
          this.nodes.push(new Wt(r - this.pos, -1)),
        (this.writtenTo = r),
        n > r &&
          (this.nodes.push(null), this.writtenTo++, (this.lineStart = -1));
    }
    this.pos = n;
  }
  point(e, n, r) {
    if (e < n || r.heightRelevant) {
      let i = r.widget ? r.widget.estimatedHeight : 0,
        s = r.widget ? r.widget.lineBreaks : 0;
      i < 0 && (i = this.oracle.lineHeight);
      let o = n - e;
      r.block
        ? this.addBlock(new fC(o, i, r))
        : (o || s || i >= qP) && this.addLineDeco(i, s, o);
    } else n > e && this.span(e, n);
    this.lineEnd > -1 &&
      this.lineEnd < this.pos &&
      (this.lineEnd = this.oracle.doc.lineAt(this.pos).to);
  }
  enterLine() {
    if (this.lineStart > -1) return;
    let { from: e, to: n } = this.oracle.doc.lineAt(this.pos);
    (this.lineStart = e),
      (this.lineEnd = n),
      this.writtenTo < e &&
        ((this.writtenTo < e - 1 ||
          this.nodes[this.nodes.length - 1] == null) &&
          this.nodes.push(this.blankContent(this.writtenTo, e - 1)),
        this.nodes.push(null)),
      this.pos > e && this.nodes.push(new Wt(this.pos - e, -1)),
      (this.writtenTo = this.pos);
  }
  blankContent(e, n) {
    let r = new et(n - e);
    return this.oracle.doc.lineAt(e).to == n && (r.flags |= 4), r;
  }
  ensureLine() {
    this.enterLine();
    let e = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
    if (e instanceof Wt) return e;
    let n = new Wt(0, -1);
    return this.nodes.push(n), n;
  }
  addBlock(e) {
    this.enterLine();
    let n = e.deco;
    n && n.startSide > 0 && !this.isCovered && this.ensureLine(),
      this.nodes.push(e),
      (this.writtenTo = this.pos = this.pos + e.length),
      n && n.endSide > 0 && (this.covering = e);
  }
  addLineDeco(e, n, r) {
    let i = this.ensureLine();
    (i.length += r),
      (i.collapsed += r),
      (i.widgetHeight = Math.max(i.widgetHeight, e)),
      (i.breaks += n),
      (this.writtenTo = this.pos = this.pos + r);
  }
  finish(e) {
    let n = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
    this.lineStart > -1 && !(n instanceof Wt) && !this.isCovered
      ? this.nodes.push(new Wt(0, -1))
      : (this.writtenTo < this.pos || n == null) &&
        this.nodes.push(this.blankContent(this.writtenTo, this.pos));
    let r = e;
    for (let i of this.nodes)
      i instanceof Wt && i.updateHeight(this.oracle, r),
        (r += i ? i.length : 1);
    return this.nodes;
  }
  static build(e, n, r, i) {
    let s = new I0(r, e);
    return te.spans(n, r, i, s, 0), s.finish(r);
  }
}
function GP(t, e, n) {
  let r = new YP();
  return te.compare(t, e, n, r, 0), r.changes;
}
class YP {
  constructor() {
    this.changes = [];
  }
  compareRange() {}
  comparePoint(e, n, r, i) {
    (e < n || (r && r.heightRelevant) || (i && i.heightRelevant)) &&
      Pm(e, n, this.changes, 5);
  }
}
function XP(t, e) {
  let n = t.getBoundingClientRect(),
    r = t.ownerDocument,
    i = r.defaultView || window,
    s = Math.max(0, n.left),
    o = Math.min(i.innerWidth, n.right),
    l = Math.max(0, n.top),
    a = Math.min(i.innerHeight, n.bottom);
  for (let u = t.parentNode; u && u != r.body; )
    if (u.nodeType == 1) {
      let c = u,
        f = window.getComputedStyle(c);
      if (
        (c.scrollHeight > c.clientHeight || c.scrollWidth > c.clientWidth) &&
        f.overflow != "visible"
      ) {
        let h = c.getBoundingClientRect();
        (s = Math.max(s, h.left)),
          (o = Math.min(o, h.right)),
          (l = Math.max(l, h.top)),
          (a = u == t.parentNode ? h.bottom : Math.min(a, h.bottom));
      }
      u =
        f.position == "absolute" || f.position == "fixed"
          ? c.offsetParent
          : c.parentNode;
    } else if (u.nodeType == 11) u = u.host;
    else break;
  return {
    left: s - n.left,
    right: Math.max(s, o) - n.left,
    top: l - (n.top + e),
    bottom: Math.max(l, a) - (n.top + e),
  };
}
function QP(t, e) {
  let n = t.getBoundingClientRect();
  return {
    left: 0,
    right: n.right - n.left,
    top: e,
    bottom: n.bottom - (n.top + e),
  };
}
class Nd {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.size = r);
  }
  static same(e, n) {
    if (e.length != n.length) return !1;
    for (let r = 0; r < e.length; r++) {
      let i = e[r],
        s = n[r];
      if (i.from != s.from || i.to != s.to || i.size != s.size) return !1;
    }
    return !0;
  }
  draw(e, n) {
    return U.replace({
      widget: new JP(this.size * (n ? e.scaleY : e.scaleX), n),
    }).range(this.from, this.to);
  }
}
class JP extends Ri {
  constructor(e, n) {
    super(), (this.size = e), (this.vertical = n);
  }
  eq(e) {
    return e.size == this.size && e.vertical == this.vertical;
  }
  toDOM() {
    let e = document.createElement("div");
    return (
      this.vertical
        ? (e.style.height = this.size + "px")
        : ((e.style.width = this.size + "px"),
          (e.style.height = "2px"),
          (e.style.display = "inline-block")),
      e
    );
  }
  get estimatedHeight() {
    return this.vertical ? this.size : -1;
  }
}
class Uv {
  constructor(e) {
    (this.state = e),
      (this.pixelViewport = {
        left: 0,
        right: window.innerWidth,
        top: 0,
        bottom: 0,
      }),
      (this.inView = !0),
      (this.paddingTop = 0),
      (this.paddingBottom = 0),
      (this.contentDOMWidth = 0),
      (this.contentDOMHeight = 0),
      (this.editorHeight = 0),
      (this.editorWidth = 0),
      (this.scrollTop = 0),
      (this.scrolledToBottom = !1),
      (this.scaleX = 1),
      (this.scaleY = 1),
      (this.scrollAnchorPos = 0),
      (this.scrollAnchorHeight = -1),
      (this.scaler = Kv),
      (this.scrollTarget = null),
      (this.printing = !1),
      (this.mustMeasureContent = !0),
      (this.defaultTextDirection = Se.LTR),
      (this.visibleRanges = []),
      (this.mustEnforceCursorAssoc = !1);
    let n = e
      .facet(B0)
      .some((r) => typeof r != "function" && r.class == "cm-lineWrapping");
    (this.heightOracle = new WP(n)),
      (this.stateDeco = e.facet(aa).filter((r) => typeof r != "function")),
      (this.heightMap = At.empty().applyChanges(
        this.stateDeco,
        le.empty,
        this.heightOracle.setDoc(e.doc),
        [new gn(0, 0, 0, e.doc.length)]
      )),
      (this.viewport = this.getViewport(0, null)),
      this.updateViewportLines(),
      this.updateForViewport(),
      (this.lineGaps = this.ensureLineGaps([])),
      (this.lineGapDeco = U.set(this.lineGaps.map((r) => r.draw(this, !1)))),
      this.computeVisibleRanges();
  }
  updateForViewport() {
    let e = [this.viewport],
      { main: n } = this.state.selection;
    for (let r = 0; r <= 1; r++) {
      let i = r ? n.head : n.anchor;
      if (!e.some(({ from: s, to: o }) => i >= s && i <= o)) {
        let { from: s, to: o } = this.lineBlockAt(i);
        e.push(new Nu(s, o));
      }
    }
    (this.viewports = e.sort((r, i) => r.from - i.from)),
      (this.scaler =
        this.heightMap.height <= 7e6
          ? Kv
          : new t4(this.heightOracle, this.heightMap, this.viewports));
  }
  updateViewportLines() {
    (this.viewportLines = []),
      this.heightMap.forEachLine(
        this.viewport.from,
        this.viewport.to,
        this.heightOracle.setDoc(this.state.doc),
        0,
        0,
        (e) => {
          this.viewportLines.push(
            this.scaler.scale == 1 ? e : hl(e, this.scaler)
          );
        }
      );
  }
  update(e, n = null) {
    this.state = e.state;
    let r = this.stateDeco;
    this.stateDeco = this.state.facet(aa).filter((c) => typeof c != "function");
    let i = e.changedRanges,
      s = gn.extendWithRanges(
        i,
        GP(r, this.stateDeco, e ? e.changes : Ke.empty(this.state.doc.length))
      ),
      o = this.heightMap.height,
      l = this.scrolledToBottom ? null : this.scrollAnchorAt(this.scrollTop);
    (this.heightMap = this.heightMap.applyChanges(
      this.stateDeco,
      e.startState.doc,
      this.heightOracle.setDoc(this.state.doc),
      s
    )),
      this.heightMap.height != o && (e.flags |= 2),
      l
        ? ((this.scrollAnchorPos = e.changes.mapPos(l.from, -1)),
          (this.scrollAnchorHeight = l.top))
        : ((this.scrollAnchorPos = -1),
          (this.scrollAnchorHeight = this.heightMap.height));
    let a = s.length
      ? this.mapViewport(this.viewport, e.changes)
      : this.viewport;
    ((n && (n.range.head < a.from || n.range.head > a.to)) ||
      !this.viewportIsAppropriate(a)) &&
      (a = this.getViewport(0, n));
    let u =
      !e.changes.empty ||
      e.flags & 2 ||
      a.from != this.viewport.from ||
      a.to != this.viewport.to;
    (this.viewport = a),
      this.updateForViewport(),
      u && this.updateViewportLines(),
      (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) &&
        this.updateLineGaps(
          this.ensureLineGaps(this.mapLineGaps(this.lineGaps, e.changes))
        ),
      (e.flags |= this.computeVisibleRanges()),
      n && (this.scrollTarget = n),
      !this.mustEnforceCursorAssoc &&
        e.selectionSet &&
        e.view.lineWrapping &&
        e.state.selection.main.empty &&
        e.state.selection.main.assoc &&
        !e.state.facet(qk) &&
        (this.mustEnforceCursorAssoc = !0);
  }
  measure(e) {
    let n = e.contentDOM,
      r = window.getComputedStyle(n),
      i = this.heightOracle,
      s = r.whiteSpace;
    this.defaultTextDirection = r.direction == "rtl" ? Se.RTL : Se.LTR;
    let o = this.heightOracle.mustRefreshForWrapping(s),
      l = n.getBoundingClientRect(),
      a = o || this.mustMeasureContent || this.contentDOMHeight != l.height;
    (this.contentDOMHeight = l.height), (this.mustMeasureContent = !1);
    let u = 0,
      c = 0;
    if (l.width && l.height) {
      let { scaleX: b, scaleY: x } = bk(n, l);
      ((b > 0.005 && Math.abs(this.scaleX - b) > 0.005) ||
        (x > 0.005 && Math.abs(this.scaleY - x) > 0.005)) &&
        ((this.scaleX = b), (this.scaleY = x), (u |= 8), (o = a = !0));
    }
    let f = (parseInt(r.paddingTop) || 0) * this.scaleY,
      h = (parseInt(r.paddingBottom) || 0) * this.scaleY;
    (this.paddingTop != f || this.paddingBottom != h) &&
      ((this.paddingTop = f), (this.paddingBottom = h), (u |= 10)),
      this.editorWidth != e.scrollDOM.clientWidth &&
        (i.lineWrapping && (a = !0),
        (this.editorWidth = e.scrollDOM.clientWidth),
        (u |= 8));
    let d = e.scrollDOM.scrollTop * this.scaleY;
    this.scrollTop != d &&
      ((this.scrollAnchorHeight = -1), (this.scrollTop = d)),
      (this.scrolledToBottom = kk(e.scrollDOM));
    let p = (this.printing ? QP : XP)(n, this.paddingTop),
      m = p.top - this.pixelViewport.top,
      w = p.bottom - this.pixelViewport.bottom;
    this.pixelViewport = p;
    let g =
      this.pixelViewport.bottom > this.pixelViewport.top &&
      this.pixelViewport.right > this.pixelViewport.left;
    if (
      (g != this.inView && ((this.inView = g), g && (a = !0)),
      !this.inView && !this.scrollTarget)
    )
      return 0;
    let y = l.width;
    if (
      ((this.contentDOMWidth != y ||
        this.editorHeight != e.scrollDOM.clientHeight) &&
        ((this.contentDOMWidth = l.width),
        (this.editorHeight = e.scrollDOM.clientHeight),
        (u |= 8)),
      a)
    ) {
      let b = e.docView.measureVisibleLineHeights(this.viewport);
      if (
        (i.mustRefreshForHeights(b) && (o = !0),
        o ||
          (i.lineWrapping && Math.abs(y - this.contentDOMWidth) > i.charWidth))
      ) {
        let {
          lineHeight: x,
          charWidth: S,
          textHeight: k,
        } = e.docView.measureTextSize();
        (o = x > 0 && i.refresh(s, x, S, k, y / S, b)),
          o && ((e.docView.minWidth = 0), (u |= 8));
      }
      m > 0 && w > 0
        ? (c = Math.max(m, w))
        : m < 0 && w < 0 && (c = Math.min(m, w)),
        (i.heightChanged = !1);
      for (let x of this.viewports) {
        let S =
          x.from == this.viewport.from
            ? b
            : e.docView.measureVisibleLineHeights(x);
        this.heightMap = (
          o
            ? At.empty().applyChanges(
                this.stateDeco,
                le.empty,
                this.heightOracle,
                [new gn(0, 0, 0, e.state.doc.length)]
              )
            : this.heightMap
        ).updateHeight(i, 0, o, new UP(x.from, S));
      }
      i.heightChanged && (u |= 2);
    }
    let v =
      !this.viewportIsAppropriate(this.viewport, c) ||
      (this.scrollTarget &&
        (this.scrollTarget.range.head < this.viewport.from ||
          this.scrollTarget.range.head > this.viewport.to));
    return (
      v && (this.viewport = this.getViewport(c, this.scrollTarget)),
      this.updateForViewport(),
      (u & 2 || v) && this.updateViewportLines(),
      (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) &&
        this.updateLineGaps(this.ensureLineGaps(o ? [] : this.lineGaps, e)),
      (u |= this.computeVisibleRanges()),
      this.mustEnforceCursorAssoc &&
        ((this.mustEnforceCursorAssoc = !1), e.docView.enforceCursorAssoc()),
      u
    );
  }
  get visibleTop() {
    return this.scaler.fromDOM(this.pixelViewport.top);
  }
  get visibleBottom() {
    return this.scaler.fromDOM(this.pixelViewport.bottom);
  }
  getViewport(e, n) {
    let r = 0.5 - Math.max(-0.5, Math.min(0.5, e / 1e3 / 2)),
      i = this.heightMap,
      s = this.heightOracle,
      { visibleTop: o, visibleBottom: l } = this,
      a = new Nu(
        i.lineAt(o - r * 1e3, be.ByHeight, s, 0, 0).from,
        i.lineAt(l + (1 - r) * 1e3, be.ByHeight, s, 0, 0).to
      );
    if (n) {
      let { head: u } = n.range;
      if (u < a.from || u > a.to) {
        let c = Math.min(
            this.editorHeight,
            this.pixelViewport.bottom - this.pixelViewport.top
          ),
          f = i.lineAt(u, be.ByPos, s, 0, 0),
          h;
        n.y == "center"
          ? (h = (f.top + f.bottom) / 2 - c / 2)
          : n.y == "start" || (n.y == "nearest" && u < a.from)
            ? (h = f.top)
            : (h = f.bottom - c),
          (a = new Nu(
            i.lineAt(h - 1e3 / 2, be.ByHeight, s, 0, 0).from,
            i.lineAt(h + c + 1e3 / 2, be.ByHeight, s, 0, 0).to
          ));
      }
    }
    return a;
  }
  mapViewport(e, n) {
    let r = n.mapPos(e.from, -1),
      i = n.mapPos(e.to, 1);
    return new Nu(
      this.heightMap.lineAt(r, be.ByPos, this.heightOracle, 0, 0).from,
      this.heightMap.lineAt(i, be.ByPos, this.heightOracle, 0, 0).to
    );
  }
  viewportIsAppropriate({ from: e, to: n }, r = 0) {
    if (!this.inView) return !0;
    let { top: i } = this.heightMap.lineAt(
        e,
        be.ByPos,
        this.heightOracle,
        0,
        0
      ),
      { bottom: s } = this.heightMap.lineAt(
        n,
        be.ByPos,
        this.heightOracle,
        0,
        0
      ),
      { visibleTop: o, visibleBottom: l } = this;
    return (
      (e == 0 || i <= o - Math.max(10, Math.min(-r, 250))) &&
      (n == this.state.doc.length || s >= l + Math.max(10, Math.min(r, 250))) &&
      i > o - 2 * 1e3 &&
      s < l + 2 * 1e3
    );
  }
  mapLineGaps(e, n) {
    if (!e.length || n.empty) return e;
    let r = [];
    for (let i of e)
      n.touchesRange(i.from, i.to) ||
        r.push(new Nd(n.mapPos(i.from), n.mapPos(i.to), i.size));
    return r;
  }
  ensureLineGaps(e, n) {
    let r = this.heightOracle.lineWrapping,
      i = r ? 1e4 : 2e3,
      s = i >> 1,
      o = i << 1;
    if (this.defaultTextDirection != Se.LTR && !r) return [];
    let l = [],
      a = (u, c, f, h) => {
        if (c - u < s) return;
        let d = this.state.selection.main,
          p = [d.from];
        d.empty || p.push(d.to);
        for (let w of p)
          if (w > u && w < c) {
            a(u, w - 10, f, h), a(w + 10, c, f, h);
            return;
          }
        let m = e4(
          e,
          (w) =>
            w.from >= f.from &&
            w.to <= f.to &&
            Math.abs(w.from - u) < s &&
            Math.abs(w.to - c) < s &&
            !p.some((g) => w.from < g && w.to > g)
        );
        if (!m) {
          if (
            c < f.to &&
            n &&
            r &&
            n.visibleRanges.some((w) => w.from <= c && w.to >= c)
          ) {
            let w = n.moveToLineBoundary(A.cursor(c), !1, !0).head;
            w > u && (c = w);
          }
          m = new Nd(u, c, this.gapSize(f, u, c, h));
        }
        l.push(m);
      };
    for (let u of this.viewportLines) {
      if (u.length < o) continue;
      let c = ZP(u.from, u.to, this.stateDeco);
      if (c.total < o) continue;
      let f = this.scrollTarget ? this.scrollTarget.range.head : null,
        h,
        d;
      if (r) {
        let p =
            (i / this.heightOracle.lineLength) * this.heightOracle.lineHeight,
          m,
          w;
        if (f != null) {
          let g = $u(c, f),
            y = ((this.visibleBottom - this.visibleTop) / 2 + p) / u.height;
          (m = g - y), (w = g + y);
        } else
          (m = (this.visibleTop - u.top - p) / u.height),
            (w = (this.visibleBottom - u.top + p) / u.height);
        (h = Iu(c, m)), (d = Iu(c, w));
      } else {
        let p = c.total * this.heightOracle.charWidth,
          m = i * this.heightOracle.charWidth,
          w,
          g;
        if (f != null) {
          let y = $u(c, f),
            v =
              ((this.pixelViewport.right - this.pixelViewport.left) / 2 + m) /
              p;
          (w = y - v), (g = y + v);
        } else
          (w = (this.pixelViewport.left - m) / p),
            (g = (this.pixelViewport.right + m) / p);
        (h = Iu(c, w)), (d = Iu(c, g));
      }
      h > u.from && a(u.from, h, u, c), d < u.to && a(d, u.to, u, c);
    }
    return l;
  }
  gapSize(e, n, r, i) {
    let s = $u(i, r) - $u(i, n);
    return this.heightOracle.lineWrapping
      ? e.height * s
      : i.total * this.heightOracle.charWidth * s;
  }
  updateLineGaps(e) {
    Nd.same(e, this.lineGaps) ||
      ((this.lineGaps = e),
      (this.lineGapDeco = U.set(
        e.map((n) => n.draw(this, this.heightOracle.lineWrapping))
      )));
  }
  computeVisibleRanges() {
    let e = this.stateDeco;
    this.lineGaps.length && (e = e.concat(this.lineGapDeco));
    let n = [];
    te.spans(
      e,
      this.viewport.from,
      this.viewport.to,
      {
        span(i, s) {
          n.push({ from: i, to: s });
        },
        point() {},
      },
      20
    );
    let r =
      n.length != this.visibleRanges.length ||
      this.visibleRanges.some((i, s) => i.from != n[s].from || i.to != n[s].to);
    return (this.visibleRanges = n), r ? 4 : 0;
  }
  lineBlockAt(e) {
    return (
      (e >= this.viewport.from &&
        e <= this.viewport.to &&
        this.viewportLines.find((n) => n.from <= e && n.to >= e)) ||
      hl(
        this.heightMap.lineAt(e, be.ByPos, this.heightOracle, 0, 0),
        this.scaler
      )
    );
  }
  lineBlockAtHeight(e) {
    return hl(
      this.heightMap.lineAt(
        this.scaler.fromDOM(e),
        be.ByHeight,
        this.heightOracle,
        0,
        0
      ),
      this.scaler
    );
  }
  scrollAnchorAt(e) {
    let n = this.lineBlockAtHeight(e + 8);
    return n.from >= this.viewport.from || this.viewportLines[0].top - e > 200
      ? n
      : this.viewportLines[0];
  }
  elementAtHeight(e) {
    return hl(
      this.heightMap.blockAt(this.scaler.fromDOM(e), this.heightOracle, 0, 0),
      this.scaler
    );
  }
  get docHeight() {
    return this.scaler.toDOM(this.heightMap.height);
  }
  get contentHeight() {
    return this.docHeight + this.paddingTop + this.paddingBottom;
  }
}
let Nu = class {
  constructor(e, n) {
    (this.from = e), (this.to = n);
  }
};
function ZP(t, e, n) {
  let r = [],
    i = t,
    s = 0;
  return (
    te.spans(
      n,
      t,
      e,
      {
        span() {},
        point(o, l) {
          o > i && (r.push({ from: i, to: o }), (s += o - i)), (i = l);
        },
      },
      20
    ),
    i < e && (r.push({ from: i, to: e }), (s += e - i)),
    { total: s, ranges: r }
  );
}
function Iu({ total: t, ranges: e }, n) {
  if (n <= 0) return e[0].from;
  if (n >= 1) return e[e.length - 1].to;
  let r = Math.floor(t * n);
  for (let i = 0; ; i++) {
    let { from: s, to: o } = e[i],
      l = o - s;
    if (r <= l) return s + r;
    r -= l;
  }
}
function $u(t, e) {
  let n = 0;
  for (let { from: r, to: i } of t.ranges) {
    if (e <= i) {
      n += e - r;
      break;
    }
    n += i - r;
  }
  return n / t.total;
}
function e4(t, e) {
  for (let n of t) if (e(n)) return n;
}
const Kv = {
  toDOM(t) {
    return t;
  },
  fromDOM(t) {
    return t;
  },
  scale: 1,
};
class t4 {
  constructor(e, n, r) {
    let i = 0,
      s = 0,
      o = 0;
    (this.viewports = r.map(({ from: l, to: a }) => {
      let u = n.lineAt(l, be.ByPos, e, 0, 0).top,
        c = n.lineAt(a, be.ByPos, e, 0, 0).bottom;
      return (
        (i += c - u),
        { from: l, to: a, top: u, bottom: c, domTop: 0, domBottom: 0 }
      );
    })),
      (this.scale = (7e6 - i) / (n.height - i));
    for (let l of this.viewports)
      (l.domTop = o + (l.top - s) * this.scale),
        (o = l.domBottom = l.domTop + (l.bottom - l.top)),
        (s = l.bottom);
  }
  toDOM(e) {
    for (let n = 0, r = 0, i = 0; ; n++) {
      let s = n < this.viewports.length ? this.viewports[n] : null;
      if (!s || e < s.top) return i + (e - r) * this.scale;
      if (e <= s.bottom) return s.domTop + (e - s.top);
      (r = s.bottom), (i = s.domBottom);
    }
  }
  fromDOM(e) {
    for (let n = 0, r = 0, i = 0; ; n++) {
      let s = n < this.viewports.length ? this.viewports[n] : null;
      if (!s || e < s.domTop) return r + (e - i) / this.scale;
      if (e <= s.domBottom) return s.top + (e - s.domTop);
      (r = s.bottom), (i = s.domBottom);
    }
  }
}
function hl(t, e) {
  if (e.scale == 1) return t;
  let n = e.toDOM(t.top),
    r = e.toDOM(t.bottom);
  return new rr(
    t.from,
    t.length,
    n,
    r - n,
    Array.isArray(t._content) ? t._content.map((i) => hl(i, e)) : t._content
  );
}
const Fu = $.define({ combine: (t) => t.join(" ") }),
  Fm = $.define({ combine: (t) => t.indexOf(!0) > -1 }),
  zm = Ci.newName(),
  hC = Ci.newName(),
  dC = Ci.newName(),
  pC = { "&light": "." + hC, "&dark": "." + dC };
function jm(t, e, n) {
  return new Ci(e, {
    finish(r) {
      return /&/.test(r)
        ? r.replace(/&\w*/, (i) => {
            if (i == "&") return t;
            if (!n || !n[i]) throw new RangeError(`Unsupported selector: ${i}`);
            return n[i];
          })
        : t + " " + r;
    },
  });
}
const n4 = jm(
    "." + zm,
    {
      "&": {
        position: "relative !important",
        boxSizing: "border-box",
        "&.cm-focused": { outline: "1px dotted #212121" },
        display: "flex !important",
        flexDirection: "column",
      },
      ".cm-scroller": {
        display: "flex !important",
        alignItems: "flex-start !important",
        fontFamily: "monospace",
        lineHeight: 1.4,
        height: "100%",
        overflowX: "auto",
        position: "relative",
        zIndex: 0,
      },
      ".cm-content": {
        margin: 0,
        flexGrow: 2,
        flexShrink: 0,
        display: "block",
        whiteSpace: "pre",
        wordWrap: "normal",
        boxSizing: "border-box",
        minHeight: "100%",
        padding: "4px 0",
        outline: "none",
        "&[contenteditable=true]": {
          WebkitUserModify: "read-write-plaintext-only",
        },
      },
      ".cm-lineWrapping": {
        whiteSpace_fallback: "pre-wrap",
        whiteSpace: "break-spaces",
        wordBreak: "break-word",
        overflowWrap: "anywhere",
        flexShrink: 1,
      },
      "&light .cm-content": { caretColor: "black" },
      "&dark .cm-content": { caretColor: "white" },
      ".cm-line": { display: "block", padding: "0 2px 0 6px" },
      ".cm-layer": {
        position: "absolute",
        left: 0,
        top: 0,
        contain: "size style",
        "& > *": { position: "absolute" },
      },
      "&light .cm-selectionBackground": { background: "#d9d9d9" },
      "&dark .cm-selectionBackground": { background: "#222" },
      "&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":
        { background: "#d7d4f0" },
      "&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":
        { background: "#233" },
      ".cm-cursorLayer": { pointerEvents: "none" },
      "&.cm-focused > .cm-scroller > .cm-cursorLayer": {
        animation: "steps(1) cm-blink 1.2s infinite",
      },
      "@keyframes cm-blink": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
      "@keyframes cm-blink2": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
      ".cm-cursor, .cm-dropCursor": {
        borderLeft: "1.2px solid black",
        marginLeft: "-0.6px",
        pointerEvents: "none",
      },
      ".cm-cursor": { display: "none" },
      "&dark .cm-cursor": { borderLeftColor: "#444" },
      ".cm-dropCursor": { position: "absolute" },
      "&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor": {
        display: "block",
      },
      ".cm-iso": { unicodeBidi: "isolate" },
      ".cm-announced": { position: "fixed", top: "-10000px" },
      "@media print": { ".cm-announced": { display: "none" } },
      "&light .cm-activeLine": { backgroundColor: "#cceeff44" },
      "&dark .cm-activeLine": { backgroundColor: "#99eeff33" },
      "&light .cm-specialChar": { color: "red" },
      "&dark .cm-specialChar": { color: "#f78" },
      ".cm-gutters": {
        flexShrink: 0,
        display: "flex",
        height: "100%",
        boxSizing: "border-box",
        insetInlineStart: 0,
        zIndex: 200,
      },
      "&light .cm-gutters": {
        backgroundColor: "#f5f5f5",
        color: "#6c6c6c",
        borderRight: "1px solid #ddd",
      },
      "&dark .cm-gutters": { backgroundColor: "#333338", color: "#ccc" },
      ".cm-gutter": {
        display: "flex !important",
        flexDirection: "column",
        flexShrink: 0,
        boxSizing: "border-box",
        minHeight: "100%",
        overflow: "hidden",
      },
      ".cm-gutterElement": { boxSizing: "border-box" },
      ".cm-lineNumbers .cm-gutterElement": {
        padding: "0 3px 0 5px",
        minWidth: "20px",
        textAlign: "right",
        whiteSpace: "nowrap",
      },
      "&light .cm-activeLineGutter": { backgroundColor: "#e2f2ff" },
      "&dark .cm-activeLineGutter": { backgroundColor: "#222227" },
      ".cm-panels": {
        boxSizing: "border-box",
        position: "sticky",
        left: 0,
        right: 0,
      },
      "&light .cm-panels": { backgroundColor: "#f5f5f5", color: "black" },
      "&light .cm-panels-top": { borderBottom: "1px solid #ddd" },
      "&light .cm-panels-bottom": { borderTop: "1px solid #ddd" },
      "&dark .cm-panels": { backgroundColor: "#333338", color: "white" },
      ".cm-tab": {
        display: "inline-block",
        overflow: "hidden",
        verticalAlign: "bottom",
      },
      ".cm-widgetBuffer": {
        verticalAlign: "text-top",
        height: "1em",
        width: 0,
        display: "inline",
      },
      ".cm-placeholder": {
        color: "#888",
        display: "inline-block",
        verticalAlign: "top",
      },
      ".cm-highlightSpace:before": {
        content: "attr(data-display)",
        position: "absolute",
        pointerEvents: "none",
        color: "#888",
      },
      ".cm-highlightTab": {
        backgroundImage: `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,
        backgroundSize: "auto 100%",
        backgroundPosition: "right 90%",
        backgroundRepeat: "no-repeat",
      },
      ".cm-trailingSpace": { backgroundColor: "#ff332255" },
      ".cm-button": {
        verticalAlign: "middle",
        color: "inherit",
        fontSize: "70%",
        padding: ".2em 1em",
        borderRadius: "1px",
      },
      "&light .cm-button": {
        backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
        border: "1px solid #888",
        "&:active": { backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)" },
      },
      "&dark .cm-button": {
        backgroundImage: "linear-gradient(#393939, #111)",
        border: "1px solid #888",
        "&:active": { backgroundImage: "linear-gradient(#111, #333)" },
      },
      ".cm-textfield": {
        verticalAlign: "middle",
        color: "inherit",
        fontSize: "70%",
        border: "1px solid silver",
        padding: ".2em .5em",
      },
      "&light .cm-textfield": { backgroundColor: "white" },
      "&dark .cm-textfield": {
        border: "1px solid #555",
        backgroundColor: "inherit",
      },
    },
    pC
  ),
  dl = "";
class r4 {
  constructor(e, n) {
    (this.points = e),
      (this.text = ""),
      (this.lineSeparator = n.facet(ee.lineSeparator));
  }
  append(e) {
    this.text += e;
  }
  lineBreak() {
    this.text += dl;
  }
  readRange(e, n) {
    if (!e) return this;
    let r = e.parentNode;
    for (let i = e; ; ) {
      this.findPointBefore(r, i);
      let s = this.text.length;
      this.readNode(i);
      let o = i.nextSibling;
      if (o == n) break;
      let l = me.get(i),
        a = me.get(o);
      (l && a
        ? l.breakAfter
        : (l ? l.breakAfter : hf(i)) ||
          (hf(o) &&
            (i.nodeName != "BR" || i.cmIgnore) &&
            this.text.length > s)) && this.lineBreak(),
        (i = o);
    }
    return this.findPointBefore(r, n), this;
  }
  readTextNode(e) {
    let n = e.nodeValue;
    for (let r of this.points)
      r.node == e && (r.pos = this.text.length + Math.min(r.offset, n.length));
    for (let r = 0, i = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
      let s = -1,
        o = 1,
        l;
      if (
        (this.lineSeparator
          ? ((s = n.indexOf(this.lineSeparator, r)),
            (o = this.lineSeparator.length))
          : (l = i.exec(n)) && ((s = l.index), (o = l[0].length)),
        this.append(n.slice(r, s < 0 ? n.length : s)),
        s < 0)
      )
        break;
      if ((this.lineBreak(), o > 1))
        for (let a of this.points)
          a.node == e && a.pos > this.text.length && (a.pos -= o - 1);
      r = s + o;
    }
  }
  readNode(e) {
    if (e.cmIgnore) return;
    let n = me.get(e),
      r = n && n.overrideDOMText;
    if (r != null) {
      this.findPointInside(e, r.length);
      for (let i = r.iter(); !i.next().done; )
        i.lineBreak ? this.lineBreak() : this.append(i.value);
    } else
      e.nodeType == 3
        ? this.readTextNode(e)
        : e.nodeName == "BR"
          ? e.nextSibling && this.lineBreak()
          : e.nodeType == 1 && this.readRange(e.firstChild, null);
  }
  findPointBefore(e, n) {
    for (let r of this.points)
      r.node == e && e.childNodes[r.offset] == n && (r.pos = this.text.length);
  }
  findPointInside(e, n) {
    for (let r of this.points)
      (e.nodeType == 3 ? r.node == e : e.contains(r.node)) &&
        (r.pos = this.text.length + (i4(e, r.node, r.offset) ? n : 0));
  }
}
function i4(t, e, n) {
  for (;;) {
    if (!e || n < Pr(e)) return !1;
    if (e == t) return !0;
    (n = ss(e) + 1), (e = e.parentNode);
  }
}
class qv {
  constructor(e, n) {
    (this.node = e), (this.offset = n), (this.pos = -1);
  }
}
class s4 {
  constructor(e, n, r, i) {
    (this.typeOver = i), (this.bounds = null), (this.text = "");
    let { impreciseHead: s, impreciseAnchor: o } = e.docView;
    if (e.state.readOnly && n > -1) this.newSel = null;
    else if (n > -1 && (this.bounds = e.docView.domBoundsAround(n, r, 0))) {
      let l = s || o ? [] : a4(e),
        a = new r4(l, e.state);
      a.readRange(this.bounds.startDOM, this.bounds.endDOM),
        (this.text = a.text),
        (this.newSel = u4(l, this.bounds.from));
    } else {
      let l = e.observer.selectionRange,
        a =
          (s && s.node == l.focusNode && s.offset == l.focusOffset) ||
          !_m(e.contentDOM, l.focusNode)
            ? e.state.selection.main.head
            : e.docView.posFromDOM(l.focusNode, l.focusOffset),
        u =
          (o && o.node == l.anchorNode && o.offset == l.anchorOffset) ||
          !_m(e.contentDOM, l.anchorNode)
            ? e.state.selection.main.anchor
            : e.docView.posFromDOM(l.anchorNode, l.anchorOffset),
        c = e.viewport;
      if (
        (I.ios || I.chrome) &&
        e.state.selection.main.empty &&
        a != u &&
        (c.from > 0 || c.to < e.state.doc.length)
      ) {
        let f = Math.min(a, u),
          h = Math.max(a, u),
          d = c.from - f,
          p = c.to - h;
        (d == 0 || d == 1 || f == 0) &&
          (p == 0 || p == -1 || h == e.state.doc.length) &&
          ((a = 0), (u = e.state.doc.length));
      }
      this.newSel = A.single(u, a);
    }
  }
}
function mC(t, e) {
  let n,
    { newSel: r } = e,
    i = t.state.selection.main,
    s =
      t.inputState.lastKeyTime > Date.now() - 100
        ? t.inputState.lastKeyCode
        : -1;
  if (e.bounds) {
    let { from: o, to: l } = e.bounds,
      a = i.from,
      u = null;
    (s === 8 || (I.android && e.text.length < l - o)) &&
      ((a = i.to), (u = "end"));
    let c = l4(t.state.doc.sliceString(o, l, dl), e.text, a - o, u);
    c &&
      (I.chrome &&
        s == 13 &&
        c.toB == c.from + 2 &&
        e.text.slice(c.from, c.toB) == dl + dl &&
        c.toB--,
      (n = {
        from: o + c.from,
        to: o + c.toA,
        insert: le.of(e.text.slice(c.from, c.toB).split(dl)),
      }));
  } else
    r && ((!t.hasFocus && t.state.facet(wh)) || r.main.eq(i)) && (r = null);
  if (!n && !r) return !1;
  if (
    (!n && e.typeOver && !i.empty && r && r.main.empty
      ? (n = {
          from: i.from,
          to: i.to,
          insert: t.state.doc.slice(i.from, i.to),
        })
      : n &&
          n.from >= i.from &&
          n.to <= i.to &&
          (n.from != i.from || n.to != i.to) &&
          i.to - i.from - (n.to - n.from) <= 4
        ? (n = {
            from: i.from,
            to: i.to,
            insert: t.state.doc
              .slice(i.from, n.from)
              .append(n.insert)
              .append(t.state.doc.slice(n.to, i.to)),
          })
        : (I.mac || I.android) &&
            n &&
            n.from == n.to &&
            n.from == i.head - 1 &&
            /^\. ?$/.test(n.insert.toString()) &&
            t.contentDOM.getAttribute("autocorrect") == "off"
          ? (r &&
              n.insert.length == 2 &&
              (r = A.single(r.main.anchor - 1, r.main.head - 1)),
            (n = { from: i.from, to: i.to, insert: le.of([" "]) }))
          : I.chrome &&
            n &&
            n.from == n.to &&
            n.from == i.head &&
            n.insert.toString() ==
              `
 ` &&
            t.lineWrapping &&
            (r && (r = A.single(r.main.anchor - 1, r.main.head - 1)),
            (n = { from: i.from, to: i.to, insert: le.of([" "]) })),
    n)
  ) {
    if (
      (I.ios && t.inputState.flushIOSKey(n)) ||
      (I.android &&
        ((n.to == i.to &&
          (n.from == i.from ||
            (n.from == i.from - 1 &&
              t.state.sliceDoc(n.from, i.from) == " ")) &&
          n.insert.length == 1 &&
          n.insert.lines == 2 &&
          to(t.contentDOM, "Enter", 13)) ||
          (((n.from == i.from - 1 && n.to == i.to && n.insert.length == 0) ||
            (s == 8 && n.insert.length < n.to - n.from && n.to > i.head)) &&
            to(t.contentDOM, "Backspace", 8)) ||
          (n.from == i.from &&
            n.to == i.to + 1 &&
            n.insert.length == 0 &&
            to(t.contentDOM, "Delete", 46))))
    )
      return !0;
    let o = n.insert.toString();
    t.inputState.composing >= 0 && t.inputState.composing++;
    let l,
      a = () => l || (l = o4(t, n, r));
    return (
      t.state.facet(Wk).some((u) => u(t, n.from, n.to, o, a)) ||
        t.dispatch(a()),
      !0
    );
  } else if (r && !r.main.eq(i)) {
    let o = !1,
      l = "select";
    return (
      t.inputState.lastSelectionTime > Date.now() - 50 &&
        (t.inputState.lastSelectionOrigin == "select" && (o = !0),
        (l = t.inputState.lastSelectionOrigin)),
      t.dispatch({ selection: r, scrollIntoView: o, userEvent: l }),
      !0
    );
  } else return !1;
}
function o4(t, e, n) {
  let r,
    i = t.state,
    s = i.selection.main;
  if (
    e.from >= s.from &&
    e.to <= s.to &&
    e.to - e.from >= (s.to - s.from) / 3 &&
    (!n || (n.main.empty && n.main.from == e.from + e.insert.length)) &&
    t.inputState.composing < 0
  ) {
    let l = s.from < e.from ? i.sliceDoc(s.from, e.from) : "",
      a = s.to > e.to ? i.sliceDoc(e.to, s.to) : "";
    r = i.replaceSelection(
      t.state.toText(l + e.insert.sliceString(0, void 0, t.state.lineBreak) + a)
    );
  } else {
    let l = i.changes(e),
      a = n && n.main.to <= l.newLength ? n.main : void 0;
    if (
      i.selection.ranges.length > 1 &&
      t.inputState.composing >= 0 &&
      e.to <= s.to &&
      e.to >= s.to - 10
    ) {
      let u = t.state.sliceDoc(e.from, e.to),
        c,
        f = n && eC(t, n.main.head);
      if (f) {
        let p = e.insert.length - (e.to - e.from);
        c = { from: f.from, to: f.to - p };
      } else c = t.state.doc.lineAt(s.head);
      let h = s.to - e.to,
        d = s.to - s.from;
      r = i.changeByRange((p) => {
        if (p.from == s.from && p.to == s.to)
          return { changes: l, range: a || p.map(l) };
        let m = p.to - h,
          w = m - u.length;
        if (
          p.to - p.from != d ||
          t.state.sliceDoc(w, m) != u ||
          (p.to >= c.from && p.from <= c.to)
        )
          return { range: p };
        let g = i.changes({ from: w, to: m, insert: e.insert }),
          y = p.to - s.to;
        return {
          changes: g,
          range: a
            ? A.range(Math.max(0, a.anchor + y), Math.max(0, a.head + y))
            : p.map(g),
        };
      });
    } else r = { changes: l, selection: a && i.selection.replaceRange(a) };
  }
  let o = "input.type";
  return (
    (t.composing ||
      (t.inputState.compositionPendingChange &&
        t.inputState.compositionEndedAt > Date.now() - 50)) &&
      ((t.inputState.compositionPendingChange = !1),
      (o += ".compose"),
      t.inputState.compositionFirstChange &&
        ((o += ".start"), (t.inputState.compositionFirstChange = !1))),
    i.update(r, { userEvent: o, scrollIntoView: !0 })
  );
}
function l4(t, e, n, r) {
  let i = Math.min(t.length, e.length),
    s = 0;
  for (; s < i && t.charCodeAt(s) == e.charCodeAt(s); ) s++;
  if (s == i && t.length == e.length) return null;
  let o = t.length,
    l = e.length;
  for (; o > 0 && l > 0 && t.charCodeAt(o - 1) == e.charCodeAt(l - 1); )
    o--, l--;
  if (r == "end") {
    let a = Math.max(0, s - Math.min(o, l));
    n -= o + a - s;
  }
  if (o < s && t.length < e.length) {
    let a = n <= s && n >= o ? s - n : 0;
    (s -= a), (l = s + (l - o)), (o = s);
  } else if (l < s) {
    let a = n <= s && n >= l ? s - n : 0;
    (s -= a), (o = s + (o - l)), (l = s);
  }
  return { from: s, toA: o, toB: l };
}
function a4(t) {
  let e = [];
  if (t.root.activeElement != t.contentDOM) return e;
  let {
    anchorNode: n,
    anchorOffset: r,
    focusNode: i,
    focusOffset: s,
  } = t.observer.selectionRange;
  return (
    n && (e.push(new qv(n, r)), (i != n || s != r) && e.push(new qv(i, s))), e
  );
}
function u4(t, e) {
  if (t.length == 0) return null;
  let n = t[0].pos,
    r = t.length == 2 ? t[1].pos : n;
  return n > -1 && r > -1 ? A.single(n + e, r + e) : null;
}
const c4 = {
    childList: !0,
    characterData: !0,
    subtree: !0,
    attributes: !0,
    characterDataOldValue: !0,
  },
  Id = I.ie && I.ie_version <= 11;
class f4 {
  constructor(e) {
    (this.view = e),
      (this.active = !1),
      (this.selectionRange = new GT()),
      (this.selectionChanged = !1),
      (this.delayedFlush = -1),
      (this.resizeTimeout = -1),
      (this.queue = []),
      (this.delayedAndroidKey = null),
      (this.flushingAndroidKey = -1),
      (this.lastChange = 0),
      (this.scrollTargets = []),
      (this.intersection = null),
      (this.resizeScroll = null),
      (this.intersecting = !1),
      (this.gapIntersection = null),
      (this.gaps = []),
      (this.printQuery = null),
      (this.parentCheck = -1),
      (this.dom = e.contentDOM),
      (this.observer = new MutationObserver((n) => {
        for (let r of n) this.queue.push(r);
        ((I.ie && I.ie_version <= 11) || (I.ios && e.composing)) &&
        n.some(
          (r) =>
            (r.type == "childList" && r.removedNodes.length) ||
            (r.type == "characterData" &&
              r.oldValue.length > r.target.nodeValue.length)
        )
          ? this.flushSoon()
          : this.flush();
      })),
      Id &&
        (this.onCharData = (n) => {
          this.queue.push({
            target: n.target,
            type: "characterData",
            oldValue: n.prevValue,
          }),
            this.flushSoon();
        }),
      (this.onSelectionChange = this.onSelectionChange.bind(this)),
      (this.onResize = this.onResize.bind(this)),
      (this.onPrint = this.onPrint.bind(this)),
      (this.onScroll = this.onScroll.bind(this)),
      window.matchMedia && (this.printQuery = window.matchMedia("print")),
      typeof ResizeObserver == "function" &&
        ((this.resizeScroll = new ResizeObserver(() => {
          var n;
          ((n = this.view.docView) === null || n === void 0
            ? void 0
            : n.lastUpdate) <
            Date.now() - 75 && this.onResize();
        })),
        this.resizeScroll.observe(e.scrollDOM)),
      this.addWindowListeners((this.win = e.win)),
      this.start(),
      typeof IntersectionObserver == "function" &&
        ((this.intersection = new IntersectionObserver(
          (n) => {
            this.parentCheck < 0 &&
              (this.parentCheck = setTimeout(
                this.listenForScroll.bind(this),
                1e3
              )),
              n.length > 0 &&
                n[n.length - 1].intersectionRatio > 0 != this.intersecting &&
                ((this.intersecting = !this.intersecting),
                this.intersecting != this.view.inView &&
                  this.onScrollChanged(document.createEvent("Event")));
          },
          { threshold: [0, 0.001] }
        )),
        this.intersection.observe(this.dom),
        (this.gapIntersection = new IntersectionObserver((n) => {
          n.length > 0 &&
            n[n.length - 1].intersectionRatio > 0 &&
            this.onScrollChanged(document.createEvent("Event"));
        }, {}))),
      this.listenForScroll(),
      this.readSelectionRange();
  }
  onScrollChanged(e) {
    this.view.inputState.runHandlers("scroll", e),
      this.intersecting && this.view.measure();
  }
  onScroll(e) {
    this.intersecting && this.flush(!1), this.onScrollChanged(e);
  }
  onResize() {
    this.resizeTimeout < 0 &&
      (this.resizeTimeout = setTimeout(() => {
        (this.resizeTimeout = -1), this.view.requestMeasure();
      }, 50));
  }
  onPrint(e) {
    (e.type == "change" && !e.matches) ||
      ((this.view.viewState.printing = !0),
      this.view.measure(),
      setTimeout(() => {
        (this.view.viewState.printing = !1), this.view.requestMeasure();
      }, 500));
  }
  updateGaps(e) {
    if (
      this.gapIntersection &&
      (e.length != this.gaps.length || this.gaps.some((n, r) => n != e[r]))
    ) {
      this.gapIntersection.disconnect();
      for (let n of e) this.gapIntersection.observe(n);
      this.gaps = e;
    }
  }
  onSelectionChange(e) {
    let n = this.selectionChanged;
    if (!this.readSelectionRange() || this.delayedAndroidKey) return;
    let { view: r } = this,
      i = this.selectionRange;
    if (r.state.facet(wh) ? r.root.activeElement != this.dom : !xc(r.dom, i))
      return;
    let s = i.anchorNode && r.docView.nearest(i.anchorNode);
    if (s && s.ignoreEvent(e)) {
      n || (this.selectionChanged = !1);
      return;
    }
    ((I.ie && I.ie_version <= 11) || (I.android && I.chrome)) &&
    !r.state.selection.main.empty &&
    i.focusNode &&
    Ml(i.focusNode, i.focusOffset, i.anchorNode, i.anchorOffset)
      ? this.flushSoon()
      : this.flush(!1);
  }
  readSelectionRange() {
    let { view: e } = this,
      n = ff(e.root);
    if (!n) return !1;
    let r =
      (I.safari &&
        e.root.nodeType == 11 &&
        WT(this.dom.ownerDocument) == this.dom &&
        h4(this.view, n)) ||
      n;
    if (!r || this.selectionRange.eq(r)) return !1;
    let i = xc(this.dom, r);
    return i &&
      !this.selectionChanged &&
      e.inputState.lastFocusTime > Date.now() - 200 &&
      e.inputState.lastTouchTime < Date.now() - 300 &&
      XT(this.dom, r)
      ? ((this.view.inputState.lastFocusTime = 0),
        e.docView.updateSelection(),
        !1)
      : (this.selectionRange.setRange(r),
        i && (this.selectionChanged = !0),
        !0);
  }
  setSelectionRange(e, n) {
    this.selectionRange.set(e.node, e.offset, n.node, n.offset),
      (this.selectionChanged = !1);
  }
  clearSelectionRange() {
    this.selectionRange.set(null, 0, null, 0);
  }
  listenForScroll() {
    this.parentCheck = -1;
    let e = 0,
      n = null;
    for (let r = this.dom; r; )
      if (r.nodeType == 1)
        !n && e < this.scrollTargets.length && this.scrollTargets[e] == r
          ? e++
          : n || (n = this.scrollTargets.slice(0, e)),
          n && n.push(r),
          (r = r.assignedSlot || r.parentNode);
      else if (r.nodeType == 11) r = r.host;
      else break;
    if (
      (e < this.scrollTargets.length &&
        !n &&
        (n = this.scrollTargets.slice(0, e)),
      n)
    ) {
      for (let r of this.scrollTargets)
        r.removeEventListener("scroll", this.onScroll);
      for (let r of (this.scrollTargets = n))
        r.addEventListener("scroll", this.onScroll);
    }
  }
  ignore(e) {
    if (!this.active) return e();
    try {
      return this.stop(), e();
    } finally {
      this.start(), this.clear();
    }
  }
  start() {
    this.active ||
      (this.observer.observe(this.dom, c4),
      Id &&
        this.dom.addEventListener("DOMCharacterDataModified", this.onCharData),
      (this.active = !0));
  }
  stop() {
    this.active &&
      ((this.active = !1),
      this.observer.disconnect(),
      Id &&
        this.dom.removeEventListener(
          "DOMCharacterDataModified",
          this.onCharData
        ));
  }
  clear() {
    this.processRecords(),
      (this.queue.length = 0),
      (this.selectionChanged = !1);
  }
  delayAndroidKey(e, n) {
    var r;
    if (!this.delayedAndroidKey) {
      let i = () => {
        let s = this.delayedAndroidKey;
        s &&
          (this.clearDelayedAndroidKey(),
          (this.view.inputState.lastKeyCode = s.keyCode),
          (this.view.inputState.lastKeyTime = Date.now()),
          !this.flush() && s.force && to(this.dom, s.key, s.keyCode));
      };
      this.flushingAndroidKey = this.view.win.requestAnimationFrame(i);
    }
    (!this.delayedAndroidKey || e == "Enter") &&
      (this.delayedAndroidKey = {
        key: e,
        keyCode: n,
        force:
          this.lastChange < Date.now() - 50 ||
          !!(
            !((r = this.delayedAndroidKey) === null || r === void 0) && r.force
          ),
      });
  }
  clearDelayedAndroidKey() {
    this.win.cancelAnimationFrame(this.flushingAndroidKey),
      (this.delayedAndroidKey = null),
      (this.flushingAndroidKey = -1);
  }
  flushSoon() {
    this.delayedFlush < 0 &&
      (this.delayedFlush = this.view.win.requestAnimationFrame(() => {
        (this.delayedFlush = -1), this.flush();
      }));
  }
  forceFlush() {
    this.delayedFlush >= 0 &&
      (this.view.win.cancelAnimationFrame(this.delayedFlush),
      (this.delayedFlush = -1)),
      this.flush();
  }
  pendingRecords() {
    for (let e of this.observer.takeRecords()) this.queue.push(e);
    return this.queue;
  }
  processRecords() {
    let e = this.pendingRecords();
    e.length && (this.queue = []);
    let n = -1,
      r = -1,
      i = !1;
    for (let s of e) {
      let o = this.readMutation(s);
      o &&
        (o.typeOver && (i = !0),
        n == -1
          ? ({ from: n, to: r } = o)
          : ((n = Math.min(o.from, n)), (r = Math.max(o.to, r))));
    }
    return { from: n, to: r, typeOver: i };
  }
  readChange() {
    let { from: e, to: n, typeOver: r } = this.processRecords(),
      i = this.selectionChanged && xc(this.dom, this.selectionRange);
    if (e < 0 && !i) return null;
    e > -1 && (this.lastChange = Date.now()),
      (this.view.inputState.lastFocusTime = 0),
      (this.selectionChanged = !1);
    let s = new s4(this.view, e, n, r);
    return (
      (this.view.docView.domChanged = {
        newSel: s.newSel ? s.newSel.main : null,
      }),
      s
    );
  }
  flush(e = !0) {
    if (this.delayedFlush >= 0 || this.delayedAndroidKey) return !1;
    e && this.readSelectionRange();
    let n = this.readChange();
    if (!n) return this.view.requestMeasure(), !1;
    let r = this.view.state,
      i = mC(this.view, n);
    return this.view.state == r && this.view.update([]), i;
  }
  readMutation(e) {
    let n = this.view.docView.nearest(e.target);
    if (!n || n.ignoreMutation(e)) return null;
    if (
      (n.markDirty(e.type == "attributes"),
      e.type == "attributes" && (n.flags |= 4),
      e.type == "childList")
    ) {
      let r = Gv(n, e.previousSibling || e.target.previousSibling, -1),
        i = Gv(n, e.nextSibling || e.target.nextSibling, 1);
      return {
        from: r ? n.posAfter(r) : n.posAtStart,
        to: i ? n.posBefore(i) : n.posAtEnd,
        typeOver: !1,
      };
    } else
      return e.type == "characterData"
        ? {
            from: n.posAtStart,
            to: n.posAtEnd,
            typeOver: e.target.nodeValue == e.oldValue,
          }
        : null;
  }
  setWindow(e) {
    e != this.win &&
      (this.removeWindowListeners(this.win),
      (this.win = e),
      this.addWindowListeners(this.win));
  }
  addWindowListeners(e) {
    e.addEventListener("resize", this.onResize),
      this.printQuery
        ? this.printQuery.addEventListener("change", this.onPrint)
        : e.addEventListener("beforeprint", this.onPrint),
      e.addEventListener("scroll", this.onScroll),
      e.document.addEventListener("selectionchange", this.onSelectionChange);
  }
  removeWindowListeners(e) {
    e.removeEventListener("scroll", this.onScroll),
      e.removeEventListener("resize", this.onResize),
      this.printQuery
        ? this.printQuery.removeEventListener("change", this.onPrint)
        : e.removeEventListener("beforeprint", this.onPrint),
      e.document.removeEventListener("selectionchange", this.onSelectionChange);
  }
  destroy() {
    var e, n, r;
    this.stop(),
      (e = this.intersection) === null || e === void 0 || e.disconnect(),
      (n = this.gapIntersection) === null || n === void 0 || n.disconnect(),
      (r = this.resizeScroll) === null || r === void 0 || r.disconnect();
    for (let i of this.scrollTargets)
      i.removeEventListener("scroll", this.onScroll);
    this.removeWindowListeners(this.win),
      clearTimeout(this.parentCheck),
      clearTimeout(this.resizeTimeout),
      this.win.cancelAnimationFrame(this.delayedFlush),
      this.win.cancelAnimationFrame(this.flushingAndroidKey);
  }
}
function Gv(t, e, n) {
  for (; e; ) {
    let r = me.get(e);
    if (r && r.parent == t) return r;
    let i = e.parentNode;
    e = i != t.dom ? i : n > 0 ? e.nextSibling : e.previousSibling;
  }
  return null;
}
function Yv(t, e) {
  let n = e.startContainer,
    r = e.startOffset,
    i = e.endContainer,
    s = e.endOffset,
    o = t.docView.domAtPos(t.state.selection.main.anchor);
  return (
    Ml(o.node, o.offset, i, s) && ([n, r, i, s] = [i, s, n, r]),
    { anchorNode: n, anchorOffset: r, focusNode: i, focusOffset: s }
  );
}
function h4(t, e) {
  if (e.getComposedRanges) {
    let i = e.getComposedRanges(t.root)[0];
    if (i) return Yv(t, i);
  }
  let n = null;
  function r(i) {
    i.preventDefault(),
      i.stopImmediatePropagation(),
      (n = i.getTargetRanges()[0]);
  }
  return (
    t.contentDOM.addEventListener("beforeinput", r, !0),
    t.dom.ownerDocument.execCommand("indent"),
    t.contentDOM.removeEventListener("beforeinput", r, !0),
    n ? Yv(t, n) : null
  );
}
class N {
  get state() {
    return this.viewState.state;
  }
  get viewport() {
    return this.viewState.viewport;
  }
  get visibleRanges() {
    return this.viewState.visibleRanges;
  }
  get inView() {
    return this.viewState.inView;
  }
  get composing() {
    return this.inputState.composing > 0;
  }
  get compositionStarted() {
    return this.inputState.composing >= 0;
  }
  get root() {
    return this._root;
  }
  get win() {
    return this.dom.ownerDocument.defaultView || window;
  }
  constructor(e = {}) {
    (this.plugins = []),
      (this.pluginMap = new Map()),
      (this.editorAttrs = {}),
      (this.contentAttrs = {}),
      (this.bidiCache = []),
      (this.destroyed = !1),
      (this.updateState = 2),
      (this.measureScheduled = -1),
      (this.measureRequests = []),
      (this.contentDOM = document.createElement("div")),
      (this.scrollDOM = document.createElement("div")),
      (this.scrollDOM.tabIndex = -1),
      (this.scrollDOM.className = "cm-scroller"),
      this.scrollDOM.appendChild(this.contentDOM),
      (this.announceDOM = document.createElement("div")),
      (this.announceDOM.className = "cm-announced"),
      this.announceDOM.setAttribute("aria-live", "polite"),
      (this.dom = document.createElement("div")),
      this.dom.appendChild(this.announceDOM),
      this.dom.appendChild(this.scrollDOM),
      e.parent && e.parent.appendChild(this.dom);
    let { dispatch: n } = e;
    (this.dispatchTransactions =
      e.dispatchTransactions ||
      (n && ((r) => r.forEach((i) => n(i, this)))) ||
      ((r) => this.update(r))),
      (this.dispatch = this.dispatch.bind(this)),
      (this._root = e.root || YT(e.parent) || document),
      (this.viewState = new Uv(e.state || ee.create(e))),
      e.scrollTo &&
        e.scrollTo.is(Ru) &&
        (this.viewState.scrollTarget = e.scrollTo.value.clip(
          this.viewState.state
        )),
      (this.plugins = this.state.facet(cl).map((r) => new Rd(r)));
    for (let r of this.plugins) r.update(this);
    (this.observer = new f4(this)),
      (this.inputState = new OP(this)),
      this.inputState.ensureHandlers(this.plugins),
      (this.docView = new Ov(this)),
      this.mountStyles(),
      this.updateAttrs(),
      (this.updateState = 0),
      this.requestMeasure();
  }
  dispatch(...e) {
    let n =
      e.length == 1 && e[0] instanceof Ye
        ? e
        : e.length == 1 && Array.isArray(e[0])
          ? e[0]
          : [this.state.update(...e)];
    this.dispatchTransactions(n, this);
  }
  update(e) {
    if (this.updateState != 0)
      throw new Error(
        "Calls to EditorView.update are not allowed while an update is in progress"
      );
    let n = !1,
      r = !1,
      i,
      s = this.state;
    for (let h of e) {
      if (h.startState != s)
        throw new RangeError(
          "Trying to update state with a transaction that doesn't start from the previous state."
        );
      s = h.state;
    }
    if (this.destroyed) {
      this.viewState.state = s;
      return;
    }
    let o = this.hasFocus,
      l = 0,
      a = null;
    e.some((h) => h.annotation(aC))
      ? ((this.inputState.notifiedFocused = o), (l = 1))
      : o != this.inputState.notifiedFocused &&
        ((this.inputState.notifiedFocused = o), (a = uC(s, o)), a || (l = 1));
    let u = this.observer.delayedAndroidKey,
      c = null;
    if (
      (u
        ? (this.observer.clearDelayedAndroidKey(),
          (c = this.observer.readChange()),
          ((c && !this.state.doc.eq(s.doc)) ||
            !this.state.selection.eq(s.selection)) &&
            (c = null))
        : this.observer.clear(),
      s.facet(ee.phrases) != this.state.facet(ee.phrases))
    )
      return this.setState(s);
    (i = df.create(this, s, e)), (i.flags |= l);
    let f = this.viewState.scrollTarget;
    try {
      this.updateState = 2;
      for (let h of e) {
        if ((f && (f = f.map(h.changes)), h.scrollIntoView)) {
          let { main: d } = h.state.selection;
          f = new no(
            d.empty ? d : A.cursor(d.head, d.head > d.anchor ? -1 : 1)
          );
        }
        for (let d of h.effects) d.is(Ru) && (f = d.value.clip(this.state));
      }
      this.viewState.update(i, f),
        (this.bidiCache = pf.update(this.bidiCache, i.changes)),
        i.empty || (this.updatePlugins(i), this.inputState.update(i)),
        (n = this.docView.update(i)),
        this.state.facet(fl) != this.styleModules && this.mountStyles(),
        (r = this.updateAttrs()),
        this.showAnnouncements(e),
        this.docView.updateSelection(
          n,
          e.some((h) => h.isUserEvent("select.pointer"))
        );
    } finally {
      this.updateState = 0;
    }
    if (
      (i.startState.facet(Fu) != i.state.facet(Fu) &&
        (this.viewState.mustMeasureContent = !0),
      (n ||
        r ||
        f ||
        this.viewState.mustEnforceCursorAssoc ||
        this.viewState.mustMeasureContent) &&
        this.requestMeasure(),
      n && this.docViewUpdate(),
      !i.empty)
    )
      for (let h of this.state.facet(Bm))
        try {
          h(i);
        } catch (d) {
          Rt(this.state, d, "update listener");
        }
    (a || c) &&
      Promise.resolve().then(() => {
        a && this.state == a.startState && this.dispatch(a),
          c && !mC(this, c) && u.force && to(this.contentDOM, u.key, u.keyCode);
      });
  }
  setState(e) {
    if (this.updateState != 0)
      throw new Error(
        "Calls to EditorView.setState are not allowed while an update is in progress"
      );
    if (this.destroyed) {
      this.viewState.state = e;
      return;
    }
    this.updateState = 2;
    let n = this.hasFocus;
    try {
      for (let r of this.plugins) r.destroy(this);
      (this.viewState = new Uv(e)),
        (this.plugins = e.facet(cl).map((r) => new Rd(r))),
        this.pluginMap.clear();
      for (let r of this.plugins) r.update(this);
      this.docView.destroy(),
        (this.docView = new Ov(this)),
        this.inputState.ensureHandlers(this.plugins),
        this.mountStyles(),
        this.updateAttrs(),
        (this.bidiCache = []);
    } finally {
      this.updateState = 0;
    }
    n && this.focus(), this.requestMeasure();
  }
  updatePlugins(e) {
    let n = e.startState.facet(cl),
      r = e.state.facet(cl);
    if (n != r) {
      let i = [];
      for (let s of r) {
        let o = n.indexOf(s);
        if (o < 0) i.push(new Rd(s));
        else {
          let l = this.plugins[o];
          (l.mustUpdate = e), i.push(l);
        }
      }
      for (let s of this.plugins) s.mustUpdate != e && s.destroy(this);
      (this.plugins = i), this.pluginMap.clear();
    } else for (let i of this.plugins) i.mustUpdate = e;
    for (let i = 0; i < this.plugins.length; i++) this.plugins[i].update(this);
    n != r && this.inputState.ensureHandlers(this.plugins);
  }
  docViewUpdate() {
    for (let e of this.plugins) {
      let n = e.value;
      if (n && n.docViewUpdate)
        try {
          n.docViewUpdate(this);
        } catch (r) {
          Rt(this.state, r, "doc view update listener");
        }
    }
  }
  measure(e = !0) {
    if (this.destroyed) return;
    if (
      (this.measureScheduled > -1 &&
        this.win.cancelAnimationFrame(this.measureScheduled),
      this.observer.delayedAndroidKey)
    ) {
      (this.measureScheduled = -1), this.requestMeasure();
      return;
    }
    (this.measureScheduled = 0), e && this.observer.forceFlush();
    let n = null,
      r = this.scrollDOM,
      i = r.scrollTop * this.scaleY,
      { scrollAnchorPos: s, scrollAnchorHeight: o } = this.viewState;
    Math.abs(i - this.viewState.scrollTop) > 1 && (o = -1),
      (this.viewState.scrollAnchorHeight = -1);
    try {
      for (let l = 0; ; l++) {
        if (o < 0)
          if (kk(r)) (s = -1), (o = this.viewState.heightMap.height);
          else {
            let d = this.viewState.scrollAnchorAt(i);
            (s = d.from), (o = d.top);
          }
        this.updateState = 1;
        let a = this.viewState.measure(this);
        if (
          !a &&
          !this.measureRequests.length &&
          this.viewState.scrollTarget == null
        )
          break;
        if (l > 5) {
          console.warn(
            this.measureRequests.length
              ? "Measure loop restarted more than 5 times"
              : "Viewport failed to stabilize"
          );
          break;
        }
        let u = [];
        a & 4 || ([this.measureRequests, u] = [u, this.measureRequests]);
        let c = u.map((d) => {
            try {
              return d.read(this);
            } catch (p) {
              return Rt(this.state, p), Xv;
            }
          }),
          f = df.create(this, this.state, []),
          h = !1;
        (f.flags |= a),
          n ? (n.flags |= a) : (n = f),
          (this.updateState = 2),
          f.empty ||
            (this.updatePlugins(f),
            this.inputState.update(f),
            this.updateAttrs(),
            (h = this.docView.update(f)),
            h && this.docViewUpdate());
        for (let d = 0; d < u.length; d++)
          if (c[d] != Xv)
            try {
              let p = u[d];
              p.write && p.write(c[d], this);
            } catch (p) {
              Rt(this.state, p);
            }
        if (
          (h && this.docView.updateSelection(!0),
          !f.viewportChanged && this.measureRequests.length == 0)
        ) {
          if (this.viewState.editorHeight)
            if (this.viewState.scrollTarget) {
              this.docView.scrollIntoView(this.viewState.scrollTarget),
                (this.viewState.scrollTarget = null),
                (o = -1);
              continue;
            } else {
              let p =
                (s < 0
                  ? this.viewState.heightMap.height
                  : this.viewState.lineBlockAt(s).top) - o;
              if (p > 1 || p < -1) {
                (i = i + p), (r.scrollTop = i / this.scaleY), (o = -1);
                continue;
              }
            }
          break;
        }
      }
    } finally {
      (this.updateState = 0), (this.measureScheduled = -1);
    }
    if (n && !n.empty) for (let l of this.state.facet(Bm)) l(n);
  }
  get themeClasses() {
    return (
      zm + " " + (this.state.facet(Fm) ? dC : hC) + " " + this.state.facet(Fu)
    );
  }
  updateAttrs() {
    let e = Qv(this, Yk, {
        class:
          "cm-editor" +
          (this.hasFocus ? " cm-focused " : " ") +
          this.themeClasses,
      }),
      n = {
        spellcheck: "false",
        autocorrect: "off",
        autocapitalize: "off",
        translate: "no",
        contenteditable: this.state.facet(wh) ? "true" : "false",
        class: "cm-content",
        style: `${I.tabSize}: ${this.state.tabSize}`,
        role: "textbox",
        "aria-multiline": "true",
      };
    this.state.readOnly && (n["aria-readonly"] = "true"), Qv(this, B0, n);
    let r = this.observer.ignore(() => {
      let i = Tm(this.contentDOM, this.contentAttrs, n),
        s = Tm(this.dom, this.editorAttrs, e);
      return i || s;
    });
    return (this.editorAttrs = e), (this.contentAttrs = n), r;
  }
  showAnnouncements(e) {
    let n = !0;
    for (let r of e)
      for (let i of r.effects)
        if (i.is(N.announce)) {
          n && (this.announceDOM.textContent = ""), (n = !1);
          let s = this.announceDOM.appendChild(document.createElement("div"));
          s.textContent = i.value;
        }
  }
  mountStyles() {
    this.styleModules = this.state.facet(fl);
    let e = this.state.facet(N.cspNonce);
    Ci.mount(
      this.root,
      this.styleModules.concat(n4).reverse(),
      e ? { nonce: e } : void 0
    );
  }
  readMeasured() {
    if (this.updateState == 2)
      throw new Error(
        "Reading the editor layout isn't allowed during an update"
      );
    this.updateState == 0 && this.measureScheduled > -1 && this.measure(!1);
  }
  requestMeasure(e) {
    if (
      (this.measureScheduled < 0 &&
        (this.measureScheduled = this.win.requestAnimationFrame(() =>
          this.measure()
        )),
      e)
    ) {
      if (this.measureRequests.indexOf(e) > -1) return;
      if (e.key != null) {
        for (let n = 0; n < this.measureRequests.length; n++)
          if (this.measureRequests[n].key === e.key) {
            this.measureRequests[n] = e;
            return;
          }
      }
      this.measureRequests.push(e);
    }
  }
  plugin(e) {
    let n = this.pluginMap.get(e);
    return (
      (n === void 0 || (n && n.spec != e)) &&
        this.pluginMap.set(
          e,
          (n = this.plugins.find((r) => r.spec == e) || null)
        ),
      n && n.update(this).value
    );
  }
  get documentTop() {
    return (
      this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop
    );
  }
  get documentPadding() {
    return {
      top: this.viewState.paddingTop,
      bottom: this.viewState.paddingBottom,
    };
  }
  get scaleX() {
    return this.viewState.scaleX;
  }
  get scaleY() {
    return this.viewState.scaleY;
  }
  elementAtHeight(e) {
    return this.readMeasured(), this.viewState.elementAtHeight(e);
  }
  lineBlockAtHeight(e) {
    return this.readMeasured(), this.viewState.lineBlockAtHeight(e);
  }
  get viewportLineBlocks() {
    return this.viewState.viewportLines;
  }
  lineBlockAt(e) {
    return this.viewState.lineBlockAt(e);
  }
  get contentHeight() {
    return this.viewState.contentHeight;
  }
  moveByChar(e, n, r) {
    return Bd(this, e, Rv(this, e, n, r));
  }
  moveByGroup(e, n) {
    return Bd(
      this,
      e,
      Rv(this, e, n, (r) => _P(this, e.head, r))
    );
  }
  visualLineSide(e, n) {
    let r = this.bidiSpans(e),
      i = this.textDirectionAt(e.from),
      s = r[n ? r.length - 1 : 0];
    return A.cursor(s.side(n, i) + e.from, s.forward(!n, i) ? 1 : -1);
  }
  moveToLineBoundary(e, n, r = !0) {
    return CP(this, e, n, r);
  }
  moveVertically(e, n, r) {
    return Bd(this, e, AP(this, e, n, r));
  }
  domAtPos(e) {
    return this.docView.domAtPos(e);
  }
  posAtDOM(e, n = 0) {
    return this.docView.posFromDOM(e, n);
  }
  posAtCoords(e, n = !0) {
    return this.readMeasured(), tC(this, e, n);
  }
  coordsAtPos(e, n = 1) {
    this.readMeasured();
    let r = this.docView.coordsAt(e, n);
    if (!r || r.left == r.right) return r;
    let i = this.state.doc.lineAt(e),
      s = this.bidiSpans(i),
      o = s[ri.find(s, e - i.from, -1, n)];
    return P0(r, (o.dir == Se.LTR) == n > 0);
  }
  coordsForChar(e) {
    return this.readMeasured(), this.docView.coordsForChar(e);
  }
  get defaultCharacterWidth() {
    return this.viewState.heightOracle.charWidth;
  }
  get defaultLineHeight() {
    return this.viewState.heightOracle.lineHeight;
  }
  get textDirection() {
    return this.viewState.defaultTextDirection;
  }
  textDirectionAt(e) {
    return !this.state.facet(Kk) ||
      e < this.viewport.from ||
      e > this.viewport.to
      ? this.textDirection
      : (this.readMeasured(), this.docView.textDirectionAt(e));
  }
  get lineWrapping() {
    return this.viewState.heightOracle.lineWrapping;
  }
  bidiSpans(e) {
    if (e.length > d4) return $k(e.length);
    let n = this.textDirectionAt(e.from),
      r;
    for (let s of this.bidiCache)
      if (
        s.from == e.from &&
        s.dir == n &&
        (s.fresh || Ik(s.isolates, (r = Av(this, e))))
      )
        return s.order;
    r || (r = Av(this, e));
    let i = aP(e.text, n, r);
    return this.bidiCache.push(new pf(e.from, e.to, n, r, !0, i)), i;
  }
  get hasFocus() {
    var e;
    return (
      (this.dom.ownerDocument.hasFocus() ||
        (I.safari &&
          ((e = this.inputState) === null || e === void 0
            ? void 0
            : e.lastContextMenu) >
            Date.now() - 3e4)) &&
      this.root.activeElement == this.contentDOM
    );
  }
  focus() {
    this.observer.ignore(() => {
      xk(this.contentDOM), this.docView.updateSelection();
    });
  }
  setRoot(e) {
    this._root != e &&
      ((this._root = e),
      this.observer.setWindow(
        (e.nodeType == 9 ? e : e.ownerDocument).defaultView || window
      ),
      this.mountStyles());
  }
  destroy() {
    for (let e of this.plugins) e.destroy(this);
    (this.plugins = []),
      this.inputState.destroy(),
      this.docView.destroy(),
      this.dom.remove(),
      this.observer.destroy(),
      this.measureScheduled > -1 &&
        this.win.cancelAnimationFrame(this.measureScheduled),
      (this.destroyed = !0);
  }
  static scrollIntoView(e, n = {}) {
    return Ru.of(
      new no(
        typeof e == "number" ? A.cursor(e) : e,
        n.y,
        n.x,
        n.yMargin,
        n.xMargin
      )
    );
  }
  scrollSnapshot() {
    let { scrollTop: e, scrollLeft: n } = this.scrollDOM,
      r = this.viewState.scrollAnchorAt(e);
    return Ru.of(new no(A.cursor(r.from), "start", "start", r.top - e, n, !0));
  }
  static domEventHandlers(e) {
    return Ve.define(() => ({}), { eventHandlers: e });
  }
  static domEventObservers(e) {
    return Ve.define(() => ({}), { eventObservers: e });
  }
  static theme(e, n) {
    let r = Ci.newName(),
      i = [Fu.of(r), fl.of(jm(`.${r}`, e))];
    return n && n.dark && i.push(Fm.of(!0)), i;
  }
  static baseTheme(e) {
    return gs.lowest(fl.of(jm("." + zm, e, pC)));
  }
  static findFromDOM(e) {
    var n;
    let r = e.querySelector(".cm-content"),
      i = (r && me.get(r)) || me.get(e);
    return (
      ((n = i == null ? void 0 : i.rootView) === null || n === void 0
        ? void 0
        : n.view) || null
    );
  }
}
N.styleModule = fl;
N.inputHandler = Wk;
N.scrollHandler = Gk;
N.focusChangeEffect = Uk;
N.perLineTextDirection = Kk;
N.exceptionSink = Hk;
N.updateListener = Bm;
N.editable = wh;
N.mouseSelectionStyle = Vk;
N.dragMovesSelection = jk;
N.clickAddsSelectionRange = zk;
N.decorations = aa;
N.outerDecorations = Xk;
N.atomicRanges = N0;
N.bidiIsolatedRanges = Qk;
N.scrollMargins = Jk;
N.darkTheme = Fm;
N.cspNonce = $.define({ combine: (t) => (t.length ? t[0] : "") });
N.contentAttributes = B0;
N.editorAttributes = Yk;
N.lineWrapping = N.contentAttributes.of({ class: "cm-lineWrapping" });
N.announce = Y.define();
const d4 = 4096,
  Xv = {};
class pf {
  constructor(e, n, r, i, s, o) {
    (this.from = e),
      (this.to = n),
      (this.dir = r),
      (this.isolates = i),
      (this.fresh = s),
      (this.order = o);
  }
  static update(e, n) {
    if (n.empty && !e.some((s) => s.fresh)) return e;
    let r = [],
      i = e.length ? e[e.length - 1].dir : Se.LTR;
    for (let s = Math.max(0, e.length - 10); s < e.length; s++) {
      let o = e[s];
      o.dir == i &&
        !n.touchesRange(o.from, o.to) &&
        r.push(
          new pf(
            n.mapPos(o.from, 1),
            n.mapPos(o.to, -1),
            o.dir,
            o.isolates,
            !1,
            o.order
          )
        );
    }
    return r;
  }
}
function Qv(t, e, n) {
  for (let r = t.state.facet(e), i = r.length - 1; i >= 0; i--) {
    let s = r[i],
      o = typeof s == "function" ? s(t) : s;
    o && Em(o, n);
  }
  return n;
}
const p4 = I.mac ? "mac" : I.windows ? "win" : I.linux ? "linux" : "key";
function m4(t, e) {
  const n = t.split(/-(?!$)/);
  let r = n[n.length - 1];
  r == "Space" && (r = " ");
  let i, s, o, l;
  for (let a = 0; a < n.length - 1; ++a) {
    const u = n[a];
    if (/^(cmd|meta|m)$/i.test(u)) l = !0;
    else if (/^a(lt)?$/i.test(u)) i = !0;
    else if (/^(c|ctrl|control)$/i.test(u)) s = !0;
    else if (/^s(hift)?$/i.test(u)) o = !0;
    else if (/^mod$/i.test(u)) e == "mac" ? (l = !0) : (s = !0);
    else throw new Error("Unrecognized modifier name: " + u);
  }
  return (
    i && (r = "Alt-" + r),
    s && (r = "Ctrl-" + r),
    l && (r = "Meta-" + r),
    o && (r = "Shift-" + r),
    r
  );
}
function zu(t, e, n) {
  return (
    e.altKey && (t = "Alt-" + t),
    e.ctrlKey && (t = "Ctrl-" + t),
    e.metaKey && (t = "Meta-" + t),
    n !== !1 && e.shiftKey && (t = "Shift-" + t),
    t
  );
}
const g4 = gs.default(
    N.domEventHandlers({
      keydown(t, e) {
        return yC(gC(e.state), t, e, "editor");
      },
    })
  ),
  $0 = $.define({ enables: g4 }),
  Jv = new WeakMap();
function gC(t) {
  let e = t.facet($0),
    n = Jv.get(e);
  return n || Jv.set(e, (n = w4(e.reduce((r, i) => r.concat(i), [])))), n;
}
function y4(t, e, n) {
  return yC(gC(t.state), e, t, n);
}
let Yr = null;
const v4 = 4e3;
function w4(t, e = p4) {
  let n = Object.create(null),
    r = Object.create(null),
    i = (o, l) => {
      let a = r[o];
      if (a == null) r[o] = l;
      else if (a != l)
        throw new Error(
          "Key binding " +
            o +
            " is used both as a regular binding and as a multi-stroke prefix"
        );
    },
    s = (o, l, a, u, c) => {
      var f, h;
      let d = n[o] || (n[o] = Object.create(null)),
        p = l.split(/ (?!$)/).map((g) => m4(g, e));
      for (let g = 1; g < p.length; g++) {
        let y = p.slice(0, g).join(" ");
        i(y, !0),
          d[y] ||
            (d[y] = {
              preventDefault: !0,
              stopPropagation: !1,
              run: [
                (v) => {
                  let b = (Yr = { view: v, prefix: y, scope: o });
                  return (
                    setTimeout(() => {
                      Yr == b && (Yr = null);
                    }, v4),
                    !0
                  );
                },
              ],
            });
      }
      let m = p.join(" ");
      i(m, !1);
      let w =
        d[m] ||
        (d[m] = {
          preventDefault: !1,
          stopPropagation: !1,
          run:
            ((h = (f = d._any) === null || f === void 0 ? void 0 : f.run) ===
              null || h === void 0
              ? void 0
              : h.slice()) || [],
        });
      a && w.run.push(a),
        u && (w.preventDefault = !0),
        c && (w.stopPropagation = !0);
    };
  for (let o of t) {
    let l = o.scope ? o.scope.split(" ") : ["editor"];
    if (o.any)
      for (let u of l) {
        let c = n[u] || (n[u] = Object.create(null));
        c._any ||
          (c._any = { preventDefault: !1, stopPropagation: !1, run: [] });
        for (let f in c) c[f].run.push(o.any);
      }
    let a = o[e] || o.key;
    if (a)
      for (let u of l)
        s(u, a, o.run, o.preventDefault, o.stopPropagation),
          o.shift &&
            s(u, "Shift-" + a, o.shift, o.preventDefault, o.stopPropagation);
  }
  return n;
}
function yC(t, e, n, r) {
  let i = HT(e),
    s = rt(i, 0),
    o = un(s) == i.length && i != " ",
    l = "",
    a = !1,
    u = !1,
    c = !1;
  Yr &&
    Yr.view == n &&
    Yr.scope == r &&
    ((l = Yr.prefix + " "),
    rC.indexOf(e.keyCode) < 0 && ((u = !0), (Yr = null)));
  let f = new Set(),
    h = (w) => {
      if (w) {
        for (let g of w.run)
          if (!f.has(g) && (f.add(g), g(n, e)))
            return w.stopPropagation && (c = !0), !0;
        w.preventDefault && (w.stopPropagation && (c = !0), (u = !0));
      }
      return !1;
    },
    d = t[r],
    p,
    m;
  return (
    d &&
      (h(d[l + zu(i, e, !o)])
        ? (a = !0)
        : o &&
            (e.altKey || e.metaKey || e.ctrlKey) &&
            !(I.windows && e.ctrlKey && e.altKey) &&
            (p = _i[e.keyCode]) &&
            p != i
          ? (h(d[l + zu(p, e, !0)]) ||
              (e.shiftKey &&
                (m = oa[e.keyCode]) != i &&
                m != p &&
                h(d[l + zu(m, e, !1)]))) &&
            (a = !0)
          : o && e.shiftKey && h(d[l + zu(i, e, !0)]) && (a = !0),
      !a && h(d._any) && (a = !0)),
    u && (a = !0),
    a && c && e.stopPropagation(),
    a
  );
}
class Ya {
  constructor(e, n, r, i, s) {
    (this.className = e),
      (this.left = n),
      (this.top = r),
      (this.width = i),
      (this.height = s);
  }
  draw() {
    let e = document.createElement("div");
    return (e.className = this.className), this.adjust(e), e;
  }
  update(e, n) {
    return n.className != this.className ? !1 : (this.adjust(e), !0);
  }
  adjust(e) {
    (e.style.left = this.left + "px"),
      (e.style.top = this.top + "px"),
      this.width != null && (e.style.width = this.width + "px"),
      (e.style.height = this.height + "px");
  }
  eq(e) {
    return (
      this.left == e.left &&
      this.top == e.top &&
      this.width == e.width &&
      this.height == e.height &&
      this.className == e.className
    );
  }
  static forRange(e, n, r) {
    if (r.empty) {
      let i = e.coordsAtPos(r.head, r.assoc || 1);
      if (!i) return [];
      let s = vC(e);
      return [
        new Ya(n, i.left - s.left, i.top - s.top, null, i.bottom - i.top),
      ];
    } else return b4(e, n, r);
  }
}
function vC(t) {
  let e = t.scrollDOM.getBoundingClientRect();
  return {
    left:
      (t.textDirection == Se.LTR
        ? e.left
        : e.right - t.scrollDOM.clientWidth * t.scaleX) -
      t.scrollDOM.scrollLeft * t.scaleX,
    top: e.top - t.scrollDOM.scrollTop * t.scaleY,
  };
}
function Zv(t, e, n) {
  let r = A.cursor(e);
  return {
    from: Math.max(n.from, t.moveToLineBoundary(r, !1, !0).from),
    to: Math.min(n.to, t.moveToLineBoundary(r, !0, !0).from),
    type: _t.Text,
  };
}
function b4(t, e, n) {
  if (n.to <= t.viewport.from || n.from >= t.viewport.to) return [];
  let r = Math.max(n.from, t.viewport.from),
    i = Math.min(n.to, t.viewport.to),
    s = t.textDirection == Se.LTR,
    o = t.contentDOM,
    l = o.getBoundingClientRect(),
    a = vC(t),
    u = o.querySelector(".cm-line"),
    c = u && window.getComputedStyle(u),
    f =
      l.left +
      (c ? parseInt(c.paddingLeft) + Math.min(0, parseInt(c.textIndent)) : 0),
    h = l.right - (c ? parseInt(c.paddingRight) : 0),
    d = Im(t, r),
    p = Im(t, i),
    m = d.type == _t.Text ? d : null,
    w = p.type == _t.Text ? p : null;
  if (
    (m && (t.lineWrapping || d.widgetLineBreaks) && (m = Zv(t, r, m)),
    w && (t.lineWrapping || p.widgetLineBreaks) && (w = Zv(t, i, w)),
    m && w && m.from == w.from)
  )
    return y(v(n.from, n.to, m));
  {
    let x = m ? v(n.from, null, m) : b(d, !1),
      S = w ? v(null, n.to, w) : b(p, !0),
      k = [];
    return (
      (m || d).to < (w || p).from - (m && w ? 1 : 0) ||
      (d.widgetLineBreaks > 1 && x.bottom + t.defaultLineHeight / 2 < S.top)
        ? k.push(g(f, x.bottom, h, S.top))
        : x.bottom < S.top &&
          t.elementAtHeight((x.bottom + S.top) / 2).type == _t.Text &&
          (x.bottom = S.top = (x.bottom + S.top) / 2),
      y(x).concat(k).concat(y(S))
    );
  }
  function g(x, S, k, _) {
    return new Ya(e, x - a.left, S - a.top - 0.01, k - x, _ - S + 0.01);
  }
  function y({ top: x, bottom: S, horizontal: k }) {
    let _ = [];
    for (let E = 0; E < k.length; E += 2) _.push(g(k[E], x, k[E + 1], S));
    return _;
  }
  function v(x, S, k) {
    let _ = 1e9,
      E = -1e9,
      O = [];
    function L(W, X, Ae, Pe, T) {
      let j = t.coordsAtPos(W, W == k.to ? -2 : 2),
        z = t.coordsAtPos(Ae, Ae == k.from ? 2 : -2);
      !j ||
        !z ||
        ((_ = Math.min(j.top, z.top, _)),
        (E = Math.max(j.bottom, z.bottom, E)),
        T == Se.LTR
          ? O.push(s && X ? f : j.left, s && Pe ? h : z.right)
          : O.push(!s && Pe ? f : z.left, !s && X ? h : j.right));
    }
    let F = x ?? k.from,
      V = S ?? k.to;
    for (let W of t.visibleRanges)
      if (W.to > F && W.from < V)
        for (let X = Math.max(W.from, F), Ae = Math.min(W.to, V); ; ) {
          let Pe = t.state.doc.lineAt(X);
          for (let T of t.bidiSpans(Pe)) {
            let j = T.from + Pe.from,
              z = T.to + Pe.from;
            if (j >= Ae) break;
            z > X &&
              L(
                Math.max(j, X),
                x == null && j <= F,
                Math.min(z, Ae),
                S == null && z >= V,
                T.dir
              );
          }
          if (((X = Pe.to + 1), X >= Ae)) break;
        }
    return (
      O.length == 0 && L(F, x == null, V, S == null, t.textDirection),
      { top: _, bottom: E, horizontal: O }
    );
  }
  function b(x, S) {
    let k = l.top + (S ? x.top : x.bottom);
    return { top: k, bottom: k, horizontal: [] };
  }
}
function x4(t, e) {
  return t.constructor == e.constructor && t.eq(e);
}
class S4 {
  constructor(e, n) {
    (this.view = e),
      (this.layer = n),
      (this.drawn = []),
      (this.scaleX = 1),
      (this.scaleY = 1),
      (this.measureReq = {
        read: this.measure.bind(this),
        write: this.draw.bind(this),
      }),
      (this.dom = e.scrollDOM.appendChild(document.createElement("div"))),
      this.dom.classList.add("cm-layer"),
      n.above && this.dom.classList.add("cm-layer-above"),
      n.class && this.dom.classList.add(n.class),
      this.scale(),
      this.dom.setAttribute("aria-hidden", "true"),
      this.setOrder(e.state),
      e.requestMeasure(this.measureReq),
      n.mount && n.mount(this.dom, e);
  }
  update(e) {
    e.startState.facet(Cc) != e.state.facet(Cc) && this.setOrder(e.state),
      (this.layer.update(e, this.dom) || e.geometryChanged) &&
        (this.scale(), e.view.requestMeasure(this.measureReq));
  }
  docViewUpdate(e) {
    this.layer.updateOnDocViewUpdate !== !1 &&
      e.requestMeasure(this.measureReq);
  }
  setOrder(e) {
    let n = 0,
      r = e.facet(Cc);
    for (; n < r.length && r[n] != this.layer; ) n++;
    this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - n);
  }
  measure() {
    return this.layer.markers(this.view);
  }
  scale() {
    let { scaleX: e, scaleY: n } = this.view;
    (e != this.scaleX || n != this.scaleY) &&
      ((this.scaleX = e),
      (this.scaleY = n),
      (this.dom.style.transform = `scale(${1 / e}, ${1 / n})`));
  }
  draw(e) {
    if (
      e.length != this.drawn.length ||
      e.some((n, r) => !x4(n, this.drawn[r]))
    ) {
      let n = this.dom.firstChild,
        r = 0;
      for (let i of e)
        i.update &&
        n &&
        i.constructor &&
        this.drawn[r].constructor &&
        i.update(n, this.drawn[r])
          ? ((n = n.nextSibling), r++)
          : this.dom.insertBefore(i.draw(), n);
      for (; n; ) {
        let i = n.nextSibling;
        n.remove(), (n = i);
      }
      this.drawn = e;
    }
  }
  destroy() {
    this.layer.destroy && this.layer.destroy(this.dom, this.view),
      this.dom.remove();
  }
}
const Cc = $.define();
function wC(t) {
  return [Ve.define((e) => new S4(e, t)), Cc.of(t)];
}
const bC = !I.ios,
  ua = $.define({
    combine(t) {
      return mr(
        t,
        { cursorBlinkRate: 1200, drawRangeCursor: !0 },
        {
          cursorBlinkRate: (e, n) => Math.min(e, n),
          drawRangeCursor: (e, n) => e || n,
        }
      );
    },
  });
function k4(t = {}) {
  return [ua.of(t), C4, _4, A4, qk.of(!0)];
}
function xC(t) {
  return t.startState.facet(ua) != t.state.facet(ua);
}
const C4 = wC({
  above: !0,
  markers(t) {
    let { state: e } = t,
      n = e.facet(ua),
      r = [];
    for (let i of e.selection.ranges) {
      let s = i == e.selection.main;
      if (i.empty ? !s || bC : n.drawRangeCursor) {
        let o = s
            ? "cm-cursor cm-cursor-primary"
            : "cm-cursor cm-cursor-secondary",
          l = i.empty ? i : A.cursor(i.head, i.head > i.anchor ? -1 : 1);
        for (let a of Ya.forRange(t, o, l)) r.push(a);
      }
    }
    return r;
  },
  update(t, e) {
    t.transactions.some((r) => r.selection) &&
      (e.style.animationName =
        e.style.animationName == "cm-blink" ? "cm-blink2" : "cm-blink");
    let n = xC(t);
    return n && ew(t.state, e), t.docChanged || t.selectionSet || n;
  },
  mount(t, e) {
    ew(e.state, t);
  },
  class: "cm-cursorLayer",
});
function ew(t, e) {
  e.style.animationDuration = t.facet(ua).cursorBlinkRate + "ms";
}
const _4 = wC({
    above: !1,
    markers(t) {
      return t.state.selection.ranges
        .map((e) =>
          e.empty ? [] : Ya.forRange(t, "cm-selectionBackground", e)
        )
        .reduce((e, n) => e.concat(n));
    },
    update(t, e) {
      return t.docChanged || t.selectionSet || t.viewportChanged || xC(t);
    },
    class: "cm-selectionLayer",
  }),
  Vm = {
    ".cm-line": {
      "& ::selection": { backgroundColor: "transparent !important" },
      "&::selection": { backgroundColor: "transparent !important" },
    },
  };
bC &&
  ((Vm[".cm-line"].caretColor = "transparent !important"),
  (Vm[".cm-content"] = { caretColor: "transparent !important" }));
const A4 = gs.highest(N.theme(Vm)),
  SC = Y.define({
    map(t, e) {
      return t == null ? null : e.mapPos(t);
    },
  }),
  pl = ct.define({
    create() {
      return null;
    },
    update(t, e) {
      return (
        t != null && (t = e.changes.mapPos(t)),
        e.effects.reduce((n, r) => (r.is(SC) ? r.value : n), t)
      );
    },
  }),
  O4 = Ve.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.cursor = null),
          (this.measureReq = {
            read: this.readPos.bind(this),
            write: this.drawCursor.bind(this),
          });
      }
      update(t) {
        var e;
        let n = t.state.field(pl);
        n == null
          ? this.cursor != null &&
            ((e = this.cursor) === null || e === void 0 || e.remove(),
            (this.cursor = null))
          : (this.cursor ||
              ((this.cursor = this.view.scrollDOM.appendChild(
                document.createElement("div")
              )),
              (this.cursor.className = "cm-dropCursor")),
            (t.startState.field(pl) != n ||
              t.docChanged ||
              t.geometryChanged) &&
              this.view.requestMeasure(this.measureReq));
      }
      readPos() {
        let { view: t } = this,
          e = t.state.field(pl),
          n = e != null && t.coordsAtPos(e);
        if (!n) return null;
        let r = t.scrollDOM.getBoundingClientRect();
        return {
          left: n.left - r.left + t.scrollDOM.scrollLeft * t.scaleX,
          top: n.top - r.top + t.scrollDOM.scrollTop * t.scaleY,
          height: n.bottom - n.top,
        };
      }
      drawCursor(t) {
        if (this.cursor) {
          let { scaleX: e, scaleY: n } = this.view;
          t
            ? ((this.cursor.style.left = t.left / e + "px"),
              (this.cursor.style.top = t.top / n + "px"),
              (this.cursor.style.height = t.height / n + "px"))
            : (this.cursor.style.left = "-100000px");
        }
      }
      destroy() {
        this.cursor && this.cursor.remove();
      }
      setDropPos(t) {
        this.view.state.field(pl) != t &&
          this.view.dispatch({ effects: SC.of(t) });
      }
    },
    {
      eventObservers: {
        dragover(t) {
          this.setDropPos(
            this.view.posAtCoords({ x: t.clientX, y: t.clientY })
          );
        },
        dragleave(t) {
          (t.target == this.view.contentDOM ||
            !this.view.contentDOM.contains(t.relatedTarget)) &&
            this.setDropPos(null);
        },
        dragend() {
          this.setDropPos(null);
        },
        drop() {
          this.setDropPos(null);
        },
      },
    }
  );
function M4() {
  return [pl, O4];
}
function tw(t, e, n, r, i) {
  e.lastIndex = 0;
  for (let s = t.iterRange(n, r), o = n, l; !s.next().done; o += s.value.length)
    if (!s.lineBreak) for (; (l = e.exec(s.value)); ) i(o + l.index, l);
}
function E4(t, e) {
  let n = t.visibleRanges;
  if (n.length == 1 && n[0].from == t.viewport.from && n[0].to == t.viewport.to)
    return n;
  let r = [];
  for (let { from: i, to: s } of n)
    (i = Math.max(t.state.doc.lineAt(i).from, i - e)),
      (s = Math.min(t.state.doc.lineAt(s).to, s + e)),
      r.length && r[r.length - 1].to >= i
        ? (r[r.length - 1].to = s)
        : r.push({ from: i, to: s });
  return r;
}
class T4 {
  constructor(e) {
    const {
      regexp: n,
      decoration: r,
      decorate: i,
      boundary: s,
      maxLength: o = 1e3,
    } = e;
    if (!n.global)
      throw new RangeError(
        "The regular expression given to MatchDecorator should have its 'g' flag set"
      );
    if (((this.regexp = n), i))
      this.addMatch = (l, a, u, c) => i(c, u, u + l[0].length, l, a);
    else if (typeof r == "function")
      this.addMatch = (l, a, u, c) => {
        let f = r(l, a, u);
        f && c(u, u + l[0].length, f);
      };
    else if (r) this.addMatch = (l, a, u, c) => c(u, u + l[0].length, r);
    else
      throw new RangeError(
        "Either 'decorate' or 'decoration' should be provided to MatchDecorator"
      );
    (this.boundary = s), (this.maxLength = o);
  }
  createDeco(e) {
    let n = new ki(),
      r = n.add.bind(n);
    for (let { from: i, to: s } of E4(e, this.maxLength))
      tw(e.state.doc, this.regexp, i, s, (o, l) => this.addMatch(l, e, o, r));
    return n.finish();
  }
  updateDeco(e, n) {
    let r = 1e9,
      i = -1;
    return (
      e.docChanged &&
        e.changes.iterChanges((s, o, l, a) => {
          a > e.view.viewport.from &&
            l < e.view.viewport.to &&
            ((r = Math.min(l, r)), (i = Math.max(a, i)));
        }),
      e.viewportChanged || i - r > 1e3
        ? this.createDeco(e.view)
        : i > -1
          ? this.updateRange(e.view, n.map(e.changes), r, i)
          : n
    );
  }
  updateRange(e, n, r, i) {
    for (let s of e.visibleRanges) {
      let o = Math.max(s.from, r),
        l = Math.min(s.to, i);
      if (l > o) {
        let a = e.state.doc.lineAt(o),
          u = a.to < l ? e.state.doc.lineAt(l) : a,
          c = Math.max(s.from, a.from),
          f = Math.min(s.to, u.to);
        if (this.boundary) {
          for (; o > a.from; o--)
            if (this.boundary.test(a.text[o - 1 - a.from])) {
              c = o;
              break;
            }
          for (; l < u.to; l++)
            if (this.boundary.test(u.text[l - u.from])) {
              f = l;
              break;
            }
        }
        let h = [],
          d,
          p = (m, w, g) => h.push(g.range(m, w));
        if (a == u)
          for (
            this.regexp.lastIndex = c - a.from;
            (d = this.regexp.exec(a.text)) && d.index < f - a.from;

          )
            this.addMatch(d, e, d.index + a.from, p);
        else
          tw(e.state.doc, this.regexp, c, f, (m, w) =>
            this.addMatch(w, e, m, p)
          );
        n = n.update({
          filterFrom: c,
          filterTo: f,
          filter: (m, w) => m < c || w > f,
          add: h,
        });
      }
    }
    return n;
  }
}
const Hm = /x/.unicode != null ? "gu" : "g",
  P4 = new RegExp(
    `[\0-\b
--\u2028\u2029\uFEFF-]`,
    Hm
  ),
  D4 = {
    0: "null",
    7: "bell",
    8: "backspace",
    10: "newline",
    11: "vertical tab",
    13: "carriage return",
    27: "escape",
    8203: "zero width space",
    8204: "zero width non-joiner",
    8205: "zero width joiner",
    8206: "left-to-right mark",
    8207: "right-to-left mark",
    8232: "line separator",
    8237: "left-to-right override",
    8238: "right-to-left override",
    8294: "left-to-right isolate",
    8295: "right-to-left isolate",
    8297: "pop directional isolate",
    8233: "paragraph separator",
    65279: "zero width no-break space",
    65532: "object replacement",
  };
let $d = null;
function R4() {
  var t;
  if ($d == null && typeof document < "u" && document.body) {
    let e = document.body.style;
    $d = ((t = e.tabSize) !== null && t !== void 0 ? t : e.MozTabSize) != null;
  }
  return $d || !1;
}
const _c = $.define({
  combine(t) {
    let e = mr(t, { render: null, specialChars: P4, addSpecialChars: null });
    return (
      (e.replaceTabs = !R4()) &&
        (e.specialChars = new RegExp("	|" + e.specialChars.source, Hm)),
      e.addSpecialChars &&
        (e.specialChars = new RegExp(
          e.specialChars.source + "|" + e.addSpecialChars.source,
          Hm
        )),
      e
    );
  },
});
function L4(t = {}) {
  return [_c.of(t), B4()];
}
let nw = null;
function B4() {
  return (
    nw ||
    (nw = Ve.fromClass(
      class {
        constructor(t) {
          (this.view = t),
            (this.decorations = U.none),
            (this.decorationCache = Object.create(null)),
            (this.decorator = this.makeDecorator(t.state.facet(_c))),
            (this.decorations = this.decorator.createDeco(t));
        }
        makeDecorator(t) {
          return new T4({
            regexp: t.specialChars,
            decoration: (e, n, r) => {
              let { doc: i } = n.state,
                s = rt(e[0], 0);
              if (s == 9) {
                let o = i.lineAt(r),
                  l = n.state.tabSize,
                  a = No(o.text, l, r - o.from);
                return U.replace({
                  widget: new F4(
                    ((l - (a % l)) * this.view.defaultCharacterWidth) /
                      this.view.scaleX
                  ),
                });
              }
              return (
                this.decorationCache[s] ||
                (this.decorationCache[s] = U.replace({ widget: new $4(t, s) }))
              );
            },
            boundary: t.replaceTabs ? void 0 : /[^]/,
          });
        }
        update(t) {
          let e = t.state.facet(_c);
          t.startState.facet(_c) != e
            ? ((this.decorator = this.makeDecorator(e)),
              (this.decorations = this.decorator.createDeco(t.view)))
            : (this.decorations = this.decorator.updateDeco(
                t,
                this.decorations
              ));
        }
      },
      { decorations: (t) => t.decorations }
    ))
  );
}
const N4 = "";
function I4(t) {
  return t >= 32 ? N4 : t == 10 ? "" : String.fromCharCode(9216 + t);
}
class $4 extends Ri {
  constructor(e, n) {
    super(), (this.options = e), (this.code = n);
  }
  eq(e) {
    return e.code == this.code;
  }
  toDOM(e) {
    let n = I4(this.code),
      r =
        e.state.phrase("Control character") +
        " " +
        (D4[this.code] || "0x" + this.code.toString(16)),
      i = this.options.render && this.options.render(this.code, r, n);
    if (i) return i;
    let s = document.createElement("span");
    return (
      (s.textContent = n),
      (s.title = r),
      s.setAttribute("aria-label", r),
      (s.className = "cm-specialChar"),
      s
    );
  }
  ignoreEvent() {
    return !1;
  }
}
class F4 extends Ri {
  constructor(e) {
    super(), (this.width = e);
  }
  eq(e) {
    return e.width == this.width;
  }
  toDOM() {
    let e = document.createElement("span");
    return (
      (e.textContent = "	"),
      (e.className = "cm-tab"),
      (e.style.width = this.width + "px"),
      e
    );
  }
  ignoreEvent() {
    return !1;
  }
}
function z4() {
  return V4;
}
const j4 = U.line({ class: "cm-activeLine" }),
  V4 = Ve.fromClass(
    class {
      constructor(t) {
        this.decorations = this.getDeco(t);
      }
      update(t) {
        (t.docChanged || t.selectionSet) &&
          (this.decorations = this.getDeco(t.view));
      }
      getDeco(t) {
        let e = -1,
          n = [];
        for (let r of t.state.selection.ranges) {
          let i = t.lineBlockAt(r.head);
          i.from > e && (n.push(j4.range(i.from)), (e = i.from));
        }
        return U.set(n);
      }
    },
    { decorations: (t) => t.decorations }
  ),
  Wm = 2e3;
function H4(t, e, n) {
  let r = Math.min(e.line, n.line),
    i = Math.max(e.line, n.line),
    s = [];
  if (e.off > Wm || n.off > Wm || e.col < 0 || n.col < 0) {
    let o = Math.min(e.off, n.off),
      l = Math.max(e.off, n.off);
    for (let a = r; a <= i; a++) {
      let u = t.doc.line(a);
      u.length <= l && s.push(A.range(u.from + o, u.to + l));
    }
  } else {
    let o = Math.min(e.col, n.col),
      l = Math.max(e.col, n.col);
    for (let a = r; a <= i; a++) {
      let u = t.doc.line(a),
        c = Sm(u.text, o, t.tabSize, !0);
      if (c < 0) s.push(A.cursor(u.to));
      else {
        let f = Sm(u.text, l, t.tabSize);
        s.push(A.range(u.from + c, u.from + f));
      }
    }
  }
  return s;
}
function W4(t, e) {
  let n = t.coordsAtPos(t.viewport.from);
  return n ? Math.round(Math.abs((n.left - e) / t.defaultCharacterWidth)) : -1;
}
function rw(t, e) {
  let n = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1),
    r = t.state.doc.lineAt(n),
    i = n - r.from,
    s =
      i > Wm
        ? -1
        : i == r.length
          ? W4(t, e.clientX)
          : No(r.text, t.state.tabSize, n - r.from);
  return { line: r.number, col: s, off: i };
}
function U4(t, e) {
  let n = rw(t, e),
    r = t.state.selection;
  return n
    ? {
        update(i) {
          if (i.docChanged) {
            let s = i.changes.mapPos(i.startState.doc.line(n.line).from),
              o = i.state.doc.lineAt(s);
            (n = {
              line: o.number,
              col: n.col,
              off: Math.min(n.off, o.length),
            }),
              (r = r.map(i.changes));
          }
        },
        get(i, s, o) {
          let l = rw(t, i);
          if (!l) return r;
          let a = H4(t.state, n, l);
          return a.length
            ? o
              ? A.create(a.concat(r.ranges))
              : A.create(a)
            : r;
        },
      }
    : null;
}
function K4(t) {
  let e =
    (t == null ? void 0 : t.eventFilter) || ((n) => n.altKey && n.button == 0);
  return N.mouseSelectionStyle.of((n, r) => (e(r) ? U4(n, r) : null));
}
const q4 = {
    Alt: [18, (t) => !!t.altKey],
    Control: [17, (t) => !!t.ctrlKey],
    Shift: [16, (t) => !!t.shiftKey],
    Meta: [91, (t) => !!t.metaKey],
  },
  G4 = { style: "cursor: crosshair" };
function Y4(t = {}) {
  let [e, n] = q4[t.key || "Alt"],
    r = Ve.fromClass(
      class {
        constructor(i) {
          (this.view = i), (this.isDown = !1);
        }
        set(i) {
          this.isDown != i && ((this.isDown = i), this.view.update([]));
        }
      },
      {
        eventObservers: {
          keydown(i) {
            this.set(i.keyCode == e || n(i));
          },
          keyup(i) {
            (i.keyCode == e || !n(i)) && this.set(!1);
          },
          mousemove(i) {
            this.set(n(i));
          },
        },
      }
    );
  return [
    r,
    N.contentAttributes.of((i) => {
      var s;
      return !((s = i.plugin(r)) === null || s === void 0) && s.isDown
        ? G4
        : null;
    }),
  ];
}
const tl = "-10000px";
class kC {
  constructor(e, n, r, i) {
    (this.facet = n),
      (this.createTooltipView = r),
      (this.removeTooltipView = i),
      (this.input = e.state.facet(n)),
      (this.tooltips = this.input.filter((o) => o));
    let s = null;
    this.tooltipViews = this.tooltips.map((o) => (s = r(o, s)));
  }
  update(e, n) {
    var r;
    let i = e.state.facet(this.facet),
      s = i.filter((a) => a);
    if (i === this.input) {
      for (let a of this.tooltipViews) a.update && a.update(e);
      return !1;
    }
    let o = [],
      l = n ? [] : null;
    for (let a = 0; a < s.length; a++) {
      let u = s[a],
        c = -1;
      if (u) {
        for (let f = 0; f < this.tooltips.length; f++) {
          let h = this.tooltips[f];
          h && h.create == u.create && (c = f);
        }
        if (c < 0)
          (o[a] = this.createTooltipView(u, a ? o[a - 1] : null)),
            l && (l[a] = !!u.above);
        else {
          let f = (o[a] = this.tooltipViews[c]);
          l && (l[a] = n[c]), f.update && f.update(e);
        }
      }
    }
    for (let a of this.tooltipViews)
      o.indexOf(a) < 0 &&
        (this.removeTooltipView(a),
        (r = a.destroy) === null || r === void 0 || r.call(a));
    return (
      n && (l.forEach((a, u) => (n[u] = a)), (n.length = l.length)),
      (this.input = i),
      (this.tooltips = s),
      (this.tooltipViews = o),
      !0
    );
  }
}
function X4(t) {
  let { win: e } = t;
  return { top: 0, left: 0, bottom: e.innerHeight, right: e.innerWidth };
}
const Fd = $.define({
    combine: (t) => {
      var e, n, r;
      return {
        position: I.ios
          ? "absolute"
          : ((e = t.find((i) => i.position)) === null || e === void 0
              ? void 0
              : e.position) || "fixed",
        parent:
          ((n = t.find((i) => i.parent)) === null || n === void 0
            ? void 0
            : n.parent) || null,
        tooltipSpace:
          ((r = t.find((i) => i.tooltipSpace)) === null || r === void 0
            ? void 0
            : r.tooltipSpace) || X4,
      };
    },
  }),
  iw = new WeakMap(),
  F0 = Ve.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.above = []),
          (this.inView = !0),
          (this.madeAbsolute = !1),
          (this.lastTransaction = 0),
          (this.measureTimeout = -1);
        let e = t.state.facet(Fd);
        (this.position = e.position),
          (this.parent = e.parent),
          (this.classes = t.themeClasses),
          this.createContainer(),
          (this.measureReq = {
            read: this.readMeasure.bind(this),
            write: this.writeMeasure.bind(this),
            key: this,
          }),
          (this.resizeObserver =
            typeof ResizeObserver == "function"
              ? new ResizeObserver(() => this.measureSoon())
              : null),
          (this.manager = new kC(
            t,
            z0,
            (n, r) => this.createTooltip(n, r),
            (n) => {
              this.resizeObserver && this.resizeObserver.unobserve(n.dom),
                n.dom.remove();
            }
          )),
          (this.above = this.manager.tooltips.map((n) => !!n.above)),
          (this.intersectionObserver =
            typeof IntersectionObserver == "function"
              ? new IntersectionObserver(
                  (n) => {
                    Date.now() > this.lastTransaction - 50 &&
                      n.length > 0 &&
                      n[n.length - 1].intersectionRatio < 1 &&
                      this.measureSoon();
                  },
                  { threshold: [1] }
                )
              : null),
          this.observeIntersection(),
          t.win.addEventListener(
            "resize",
            (this.measureSoon = this.measureSoon.bind(this))
          ),
          this.maybeMeasure();
      }
      createContainer() {
        this.parent
          ? ((this.container = document.createElement("div")),
            (this.container.style.position = "relative"),
            (this.container.className = this.view.themeClasses),
            this.parent.appendChild(this.container))
          : (this.container = this.view.dom);
      }
      observeIntersection() {
        if (this.intersectionObserver) {
          this.intersectionObserver.disconnect();
          for (let t of this.manager.tooltipViews)
            this.intersectionObserver.observe(t.dom);
        }
      }
      measureSoon() {
        this.measureTimeout < 0 &&
          (this.measureTimeout = setTimeout(() => {
            (this.measureTimeout = -1), this.maybeMeasure();
          }, 50));
      }
      update(t) {
        t.transactions.length && (this.lastTransaction = Date.now());
        let e = this.manager.update(t, this.above);
        e && this.observeIntersection();
        let n = e || t.geometryChanged,
          r = t.state.facet(Fd);
        if (r.position != this.position && !this.madeAbsolute) {
          this.position = r.position;
          for (let i of this.manager.tooltipViews)
            i.dom.style.position = this.position;
          n = !0;
        }
        if (r.parent != this.parent) {
          this.parent && this.container.remove(),
            (this.parent = r.parent),
            this.createContainer();
          for (let i of this.manager.tooltipViews)
            this.container.appendChild(i.dom);
          n = !0;
        } else
          this.parent &&
            this.view.themeClasses != this.classes &&
            (this.classes = this.container.className = this.view.themeClasses);
        n && this.maybeMeasure();
      }
      createTooltip(t, e) {
        let n = t.create(this.view),
          r = e ? e.dom : null;
        if (
          (n.dom.classList.add("cm-tooltip"),
          t.arrow && !n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow"))
        ) {
          let i = document.createElement("div");
          (i.className = "cm-tooltip-arrow"), n.dom.appendChild(i);
        }
        return (
          (n.dom.style.position = this.position),
          (n.dom.style.top = tl),
          (n.dom.style.left = "0px"),
          this.container.insertBefore(n.dom, r),
          n.mount && n.mount(this.view),
          this.resizeObserver && this.resizeObserver.observe(n.dom),
          n
        );
      }
      destroy() {
        var t, e, n;
        this.view.win.removeEventListener("resize", this.measureSoon);
        for (let r of this.manager.tooltipViews)
          r.dom.remove(), (t = r.destroy) === null || t === void 0 || t.call(r);
        this.parent && this.container.remove(),
          (e = this.resizeObserver) === null || e === void 0 || e.disconnect(),
          (n = this.intersectionObserver) === null ||
            n === void 0 ||
            n.disconnect(),
          clearTimeout(this.measureTimeout);
      }
      readMeasure() {
        let t = this.view.dom.getBoundingClientRect(),
          e = 1,
          n = 1,
          r = !1;
        if (this.position == "fixed" && this.manager.tooltipViews.length) {
          let { dom: i } = this.manager.tooltipViews[0];
          if (I.gecko) r = i.offsetParent != this.container.ownerDocument.body;
          else if (i.style.top == tl && i.style.left == "0px") {
            let s = i.getBoundingClientRect();
            r = Math.abs(s.top + 1e4) > 1 || Math.abs(s.left) > 1;
          }
        }
        if (r || this.position == "absolute")
          if (this.parent) {
            let i = this.parent.getBoundingClientRect();
            i.width &&
              i.height &&
              ((e = i.width / this.parent.offsetWidth),
              (n = i.height / this.parent.offsetHeight));
          } else ({ scaleX: e, scaleY: n } = this.view.viewState);
        return {
          editor: t,
          parent: this.parent ? this.container.getBoundingClientRect() : t,
          pos: this.manager.tooltips.map((i, s) => {
            let o = this.manager.tooltipViews[s];
            return o.getCoords
              ? o.getCoords(i.pos)
              : this.view.coordsAtPos(i.pos);
          }),
          size: this.manager.tooltipViews.map(({ dom: i }) =>
            i.getBoundingClientRect()
          ),
          space: this.view.state.facet(Fd).tooltipSpace(this.view),
          scaleX: e,
          scaleY: n,
          makeAbsolute: r,
        };
      }
      writeMeasure(t) {
        var e;
        if (t.makeAbsolute) {
          (this.madeAbsolute = !0), (this.position = "absolute");
          for (let l of this.manager.tooltipViews)
            l.dom.style.position = "absolute";
        }
        let { editor: n, space: r, scaleX: i, scaleY: s } = t,
          o = [];
        for (let l = 0; l < this.manager.tooltips.length; l++) {
          let a = this.manager.tooltips[l],
            u = this.manager.tooltipViews[l],
            { dom: c } = u,
            f = t.pos[l],
            h = t.size[l];
          if (
            !f ||
            f.bottom <= Math.max(n.top, r.top) ||
            f.top >= Math.min(n.bottom, r.bottom) ||
            f.right < Math.max(n.left, r.left) - 0.1 ||
            f.left > Math.min(n.right, r.right) + 0.1
          ) {
            c.style.top = tl;
            continue;
          }
          let d = a.arrow ? u.dom.querySelector(".cm-tooltip-arrow") : null,
            p = d ? 7 : 0,
            m = h.right - h.left,
            w = (e = iw.get(u)) !== null && e !== void 0 ? e : h.bottom - h.top,
            g = u.offset || J4,
            y = this.view.textDirection == Se.LTR,
            v =
              h.width > r.right - r.left
                ? y
                  ? r.left
                  : r.right - h.width
                : y
                  ? Math.min(f.left - (d ? 14 : 0) + g.x, r.right - m)
                  : Math.max(r.left, f.left - m + (d ? 14 : 0) - g.x),
            b = this.above[l];
          !a.strictSide &&
            (b
              ? f.top - (h.bottom - h.top) - g.y < r.top
              : f.bottom + (h.bottom - h.top) + g.y > r.bottom) &&
            b == r.bottom - f.bottom > f.top - r.top &&
            (b = this.above[l] = !b);
          let x = (b ? f.top - r.top : r.bottom - f.bottom) - p;
          if (x < w && u.resize !== !1) {
            if (x < this.view.defaultLineHeight) {
              c.style.top = tl;
              continue;
            }
            iw.set(u, w), (c.style.height = (w = x) / s + "px");
          } else c.style.height && (c.style.height = "");
          let S = b ? f.top - w - p - g.y : f.bottom + p + g.y,
            k = v + m;
          if (u.overlap !== !0)
            for (let _ of o)
              _.left < k &&
                _.right > v &&
                _.top < S + w &&
                _.bottom > S &&
                (S = b ? _.top - w - 2 - p : _.bottom + p + 2);
          if (
            (this.position == "absolute"
              ? ((c.style.top = (S - t.parent.top) / s + "px"),
                (c.style.left = (v - t.parent.left) / i + "px"))
              : ((c.style.top = S / s + "px"), (c.style.left = v / i + "px")),
            d)
          ) {
            let _ = f.left + (y ? g.x : -g.x) - (v + 14 - 7);
            d.style.left = _ / i + "px";
          }
          u.overlap !== !0 &&
            o.push({ left: v, top: S, right: k, bottom: S + w }),
            c.classList.toggle("cm-tooltip-above", b),
            c.classList.toggle("cm-tooltip-below", !b),
            u.positioned && u.positioned(t.space);
        }
      }
      maybeMeasure() {
        if (
          this.manager.tooltips.length &&
          (this.view.inView && this.view.requestMeasure(this.measureReq),
          this.inView != this.view.inView &&
            ((this.inView = this.view.inView), !this.inView))
        )
          for (let t of this.manager.tooltipViews) t.dom.style.top = tl;
      }
    },
    {
      eventObservers: {
        scroll() {
          this.maybeMeasure();
        },
      },
    }
  ),
  Q4 = N.baseTheme({
    ".cm-tooltip": { zIndex: 100, boxSizing: "border-box" },
    "&light .cm-tooltip": {
      border: "1px solid #bbb",
      backgroundColor: "#f5f5f5",
    },
    "&light .cm-tooltip-section:not(:first-child)": {
      borderTop: "1px solid #bbb",
    },
    "&dark .cm-tooltip": { backgroundColor: "#333338", color: "white" },
    ".cm-tooltip-arrow": {
      height: "7px",
      width: `${7 * 2}px`,
      position: "absolute",
      zIndex: -1,
      overflow: "hidden",
      "&:before, &:after": {
        content: "''",
        position: "absolute",
        width: 0,
        height: 0,
        borderLeft: "7px solid transparent",
        borderRight: "7px solid transparent",
      },
      ".cm-tooltip-above &": {
        bottom: "-7px",
        "&:before": { borderTop: "7px solid #bbb" },
        "&:after": { borderTop: "7px solid #f5f5f5", bottom: "1px" },
      },
      ".cm-tooltip-below &": {
        top: "-7px",
        "&:before": { borderBottom: "7px solid #bbb" },
        "&:after": { borderBottom: "7px solid #f5f5f5", top: "1px" },
      },
    },
    "&dark .cm-tooltip .cm-tooltip-arrow": {
      "&:before": { borderTopColor: "#333338", borderBottomColor: "#333338" },
      "&:after": {
        borderTopColor: "transparent",
        borderBottomColor: "transparent",
      },
    },
  }),
  J4 = { x: 0, y: 0 },
  z0 = $.define({ enables: [F0, Q4] }),
  mf = $.define({ combine: (t) => t.reduce((e, n) => e.concat(n), []) });
class bh {
  static create(e) {
    return new bh(e);
  }
  constructor(e) {
    (this.view = e),
      (this.mounted = !1),
      (this.dom = document.createElement("div")),
      this.dom.classList.add("cm-tooltip-hover"),
      (this.manager = new kC(
        e,
        mf,
        (n, r) => this.createHostedView(n, r),
        (n) => n.dom.remove()
      ));
  }
  createHostedView(e, n) {
    let r = e.create(this.view);
    return (
      r.dom.classList.add("cm-tooltip-section"),
      this.dom.insertBefore(r.dom, n ? n.dom.nextSibling : this.dom.firstChild),
      this.mounted && r.mount && r.mount(this.view),
      r
    );
  }
  mount(e) {
    for (let n of this.manager.tooltipViews) n.mount && n.mount(e);
    this.mounted = !0;
  }
  positioned(e) {
    for (let n of this.manager.tooltipViews) n.positioned && n.positioned(e);
  }
  update(e) {
    this.manager.update(e);
  }
  destroy() {
    var e;
    for (let n of this.manager.tooltipViews)
      (e = n.destroy) === null || e === void 0 || e.call(n);
  }
  passProp(e) {
    let n;
    for (let r of this.manager.tooltipViews) {
      let i = r[e];
      if (i !== void 0) {
        if (n === void 0) n = i;
        else if (n !== i) return;
      }
    }
    return n;
  }
  get offset() {
    return this.passProp("offset");
  }
  get getCoords() {
    return this.passProp("getCoords");
  }
  get overlap() {
    return this.passProp("overlap");
  }
  get resize() {
    return this.passProp("resize");
  }
}
const Z4 = z0.compute([mf], (t) => {
  let e = t.facet(mf);
  return e.length === 0
    ? null
    : {
        pos: Math.min(...e.map((n) => n.pos)),
        end: Math.max(
          ...e.map((n) => {
            var r;
            return (r = n.end) !== null && r !== void 0 ? r : n.pos;
          })
        ),
        create: bh.create,
        above: e[0].above,
        arrow: e.some((n) => n.arrow),
      };
});
class eD {
  constructor(e, n, r, i, s) {
    (this.view = e),
      (this.source = n),
      (this.field = r),
      (this.setHover = i),
      (this.hoverTime = s),
      (this.hoverTimeout = -1),
      (this.restartTimeout = -1),
      (this.pending = null),
      (this.lastMove = { x: 0, y: 0, target: e.dom, time: 0 }),
      (this.checkHover = this.checkHover.bind(this)),
      e.dom.addEventListener(
        "mouseleave",
        (this.mouseleave = this.mouseleave.bind(this))
      ),
      e.dom.addEventListener(
        "mousemove",
        (this.mousemove = this.mousemove.bind(this))
      );
  }
  update() {
    this.pending &&
      ((this.pending = null),
      clearTimeout(this.restartTimeout),
      (this.restartTimeout = setTimeout(() => this.startHover(), 20)));
  }
  get active() {
    return this.view.state.field(this.field);
  }
  checkHover() {
    if (((this.hoverTimeout = -1), this.active.length)) return;
    let e = Date.now() - this.lastMove.time;
    e < this.hoverTime
      ? (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - e))
      : this.startHover();
  }
  startHover() {
    clearTimeout(this.restartTimeout);
    let { view: e, lastMove: n } = this,
      r = e.docView.nearest(n.target);
    if (!r) return;
    let i,
      s = 1;
    if (r instanceof ni) i = r.posAtStart;
    else {
      if (((i = e.posAtCoords(n)), i == null)) return;
      let l = e.coordsAtPos(i);
      if (
        !l ||
        n.y < l.top ||
        n.y > l.bottom ||
        n.x < l.left - e.defaultCharacterWidth ||
        n.x > l.right + e.defaultCharacterWidth
      )
        return;
      let a = e
          .bidiSpans(e.state.doc.lineAt(i))
          .find((c) => c.from <= i && c.to >= i),
        u = a && a.dir == Se.RTL ? -1 : 1;
      s = n.x < l.left ? -u : u;
    }
    let o = this.source(e, i, s);
    if (o != null && o.then) {
      let l = (this.pending = { pos: i });
      o.then(
        (a) => {
          this.pending == l &&
            ((this.pending = null),
            a &&
              !(Array.isArray(a) && !a.length) &&
              e.dispatch({
                effects: this.setHover.of(Array.isArray(a) ? a : [a]),
              }));
        },
        (a) => Rt(e.state, a, "hover tooltip")
      );
    } else
      o &&
        !(Array.isArray(o) && !o.length) &&
        e.dispatch({ effects: this.setHover.of(Array.isArray(o) ? o : [o]) });
  }
  get tooltip() {
    let e = this.view.plugin(F0),
      n = e ? e.manager.tooltips.findIndex((r) => r.create == bh.create) : -1;
    return n > -1 ? e.manager.tooltipViews[n] : null;
  }
  mousemove(e) {
    var n, r;
    (this.lastMove = {
      x: e.clientX,
      y: e.clientY,
      target: e.target,
      time: Date.now(),
    }),
      this.hoverTimeout < 0 &&
        (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime));
    let { active: i, tooltip: s } = this;
    if ((i.length && s && !tD(s.dom, e)) || this.pending) {
      let { pos: o } = i[0] || this.pending,
        l =
          (r = (n = i[0]) === null || n === void 0 ? void 0 : n.end) !== null &&
          r !== void 0
            ? r
            : o;
      (o == l
        ? this.view.posAtCoords(this.lastMove) != o
        : !nD(this.view, o, l, e.clientX, e.clientY)) &&
        (this.view.dispatch({ effects: this.setHover.of([]) }),
        (this.pending = null));
    }
  }
  mouseleave(e) {
    clearTimeout(this.hoverTimeout), (this.hoverTimeout = -1);
    let { active: n } = this;
    if (n.length) {
      let { tooltip: r } = this;
      r && r.dom.contains(e.relatedTarget)
        ? this.watchTooltipLeave(r.dom)
        : this.view.dispatch({ effects: this.setHover.of([]) });
    }
  }
  watchTooltipLeave(e) {
    let n = (r) => {
      e.removeEventListener("mouseleave", n),
        this.active.length &&
          !this.view.dom.contains(r.relatedTarget) &&
          this.view.dispatch({ effects: this.setHover.of([]) });
    };
    e.addEventListener("mouseleave", n);
  }
  destroy() {
    clearTimeout(this.hoverTimeout),
      this.view.dom.removeEventListener("mouseleave", this.mouseleave),
      this.view.dom.removeEventListener("mousemove", this.mousemove);
  }
}
const ju = 4;
function tD(t, e) {
  let n = t.getBoundingClientRect();
  return (
    e.clientX >= n.left - ju &&
    e.clientX <= n.right + ju &&
    e.clientY >= n.top - ju &&
    e.clientY <= n.bottom + ju
  );
}
function nD(t, e, n, r, i, s) {
  let o = t.scrollDOM.getBoundingClientRect(),
    l = t.documentTop + t.documentPadding.top + t.contentHeight;
  if (o.left > r || o.right < r || o.top > i || Math.min(o.bottom, l) < i)
    return !1;
  let a = t.posAtCoords({ x: r, y: i }, !1);
  return a >= e && a <= n;
}
function rD(t, e = {}) {
  let n = Y.define(),
    r = ct.define({
      create() {
        return [];
      },
      update(i, s) {
        if (
          i.length &&
          (e.hideOnChange && (s.docChanged || s.selection)
            ? (i = [])
            : e.hideOn && (i = i.filter((o) => !e.hideOn(s, o))),
          s.docChanged)
        ) {
          let o = [];
          for (let l of i) {
            let a = s.changes.mapPos(l.pos, -1, kt.TrackDel);
            if (a != null) {
              let u = Object.assign(Object.create(null), l);
              (u.pos = a),
                u.end != null && (u.end = s.changes.mapPos(u.end)),
                o.push(u);
            }
          }
          i = o;
        }
        for (let o of s.effects) o.is(n) && (i = o.value), o.is(iD) && (i = []);
        return i;
      },
      provide: (i) => mf.from(i),
    });
  return [r, Ve.define((i) => new eD(i, t, r, n, e.hoverTime || 300)), Z4];
}
function CC(t, e) {
  let n = t.plugin(F0);
  if (!n) return null;
  let r = n.manager.tooltips.indexOf(e);
  return r < 0 ? null : n.manager.tooltipViews[r];
}
const iD = Y.define(),
  sw = $.define({
    combine(t) {
      let e, n;
      for (let r of t) (e = e || r.topContainer), (n = n || r.bottomContainer);
      return { topContainer: e, bottomContainer: n };
    },
  });
function ca(t, e) {
  let n = t.plugin(_C),
    r = n ? n.specs.indexOf(e) : -1;
  return r > -1 ? n.panels[r] : null;
}
const _C = Ve.fromClass(
  class {
    constructor(t) {
      (this.input = t.state.facet(fa)),
        (this.specs = this.input.filter((n) => n)),
        (this.panels = this.specs.map((n) => n(t)));
      let e = t.state.facet(sw);
      (this.top = new Vu(t, !0, e.topContainer)),
        (this.bottom = new Vu(t, !1, e.bottomContainer)),
        this.top.sync(this.panels.filter((n) => n.top)),
        this.bottom.sync(this.panels.filter((n) => !n.top));
      for (let n of this.panels)
        n.dom.classList.add("cm-panel"), n.mount && n.mount();
    }
    update(t) {
      let e = t.state.facet(sw);
      this.top.container != e.topContainer &&
        (this.top.sync([]), (this.top = new Vu(t.view, !0, e.topContainer))),
        this.bottom.container != e.bottomContainer &&
          (this.bottom.sync([]),
          (this.bottom = new Vu(t.view, !1, e.bottomContainer))),
        this.top.syncClasses(),
        this.bottom.syncClasses();
      let n = t.state.facet(fa);
      if (n != this.input) {
        let r = n.filter((a) => a),
          i = [],
          s = [],
          o = [],
          l = [];
        for (let a of r) {
          let u = this.specs.indexOf(a),
            c;
          u < 0
            ? ((c = a(t.view)), l.push(c))
            : ((c = this.panels[u]), c.update && c.update(t)),
            i.push(c),
            (c.top ? s : o).push(c);
        }
        (this.specs = r),
          (this.panels = i),
          this.top.sync(s),
          this.bottom.sync(o);
        for (let a of l) a.dom.classList.add("cm-panel"), a.mount && a.mount();
      } else for (let r of this.panels) r.update && r.update(t);
    }
    destroy() {
      this.top.sync([]), this.bottom.sync([]);
    }
  },
  {
    provide: (t) =>
      N.scrollMargins.of((e) => {
        let n = e.plugin(t);
        return (
          n && { top: n.top.scrollMargin(), bottom: n.bottom.scrollMargin() }
        );
      }),
  }
);
class Vu {
  constructor(e, n, r) {
    (this.view = e),
      (this.top = n),
      (this.container = r),
      (this.dom = void 0),
      (this.classes = ""),
      (this.panels = []),
      this.syncClasses();
  }
  sync(e) {
    for (let n of this.panels) n.destroy && e.indexOf(n) < 0 && n.destroy();
    (this.panels = e), this.syncDOM();
  }
  syncDOM() {
    if (this.panels.length == 0) {
      this.dom && (this.dom.remove(), (this.dom = void 0));
      return;
    }
    if (!this.dom) {
      (this.dom = document.createElement("div")),
        (this.dom.className = this.top
          ? "cm-panels cm-panels-top"
          : "cm-panels cm-panels-bottom"),
        (this.dom.style[this.top ? "top" : "bottom"] = "0");
      let n = this.container || this.view.dom;
      n.insertBefore(this.dom, this.top ? n.firstChild : null);
    }
    let e = this.dom.firstChild;
    for (let n of this.panels)
      if (n.dom.parentNode == this.dom) {
        for (; e != n.dom; ) e = ow(e);
        e = e.nextSibling;
      } else this.dom.insertBefore(n.dom, e);
    for (; e; ) e = ow(e);
  }
  scrollMargin() {
    return !this.dom || this.container
      ? 0
      : Math.max(
          0,
          this.top
            ? this.dom.getBoundingClientRect().bottom -
                Math.max(0, this.view.scrollDOM.getBoundingClientRect().top)
            : Math.min(
                innerHeight,
                this.view.scrollDOM.getBoundingClientRect().bottom
              ) - this.dom.getBoundingClientRect().top
        );
  }
  syncClasses() {
    if (!(!this.container || this.classes == this.view.themeClasses)) {
      for (let e of this.classes.split(" "))
        e && this.container.classList.remove(e);
      for (let e of (this.classes = this.view.themeClasses).split(" "))
        e && this.container.classList.add(e);
    }
  }
}
function ow(t) {
  let e = t.nextSibling;
  return t.remove(), e;
}
const fa = $.define({ enables: _C });
class Rr extends is {
  compare(e) {
    return this == e || (this.constructor == e.constructor && this.eq(e));
  }
  eq(e) {
    return !1;
  }
  destroy(e) {}
}
Rr.prototype.elementClass = "";
Rr.prototype.toDOM = void 0;
Rr.prototype.mapMode = kt.TrackBefore;
Rr.prototype.startSide = Rr.prototype.endSide = -1;
Rr.prototype.point = !0;
const Ac = $.define(),
  sD = {
    class: "",
    renderEmptyElements: !1,
    elementStyle: "",
    markers: () => te.empty,
    lineMarker: () => null,
    widgetMarker: () => null,
    lineMarkerChange: null,
    initialSpacer: null,
    updateSpacer: null,
    domEventHandlers: {},
  },
  Tl = $.define();
function oD(t) {
  return [AC(), Tl.of(Object.assign(Object.assign({}, sD), t))];
}
const Um = $.define({ combine: (t) => t.some((e) => e) });
function AC(t) {
  let e = [lD];
  return t && t.fixed === !1 && e.push(Um.of(!0)), e;
}
const lD = Ve.fromClass(
  class {
    constructor(t) {
      (this.view = t),
        (this.prevViewport = t.viewport),
        (this.dom = document.createElement("div")),
        (this.dom.className = "cm-gutters"),
        this.dom.setAttribute("aria-hidden", "true"),
        (this.dom.style.minHeight =
          this.view.contentHeight / this.view.scaleY + "px"),
        (this.gutters = t.state.facet(Tl).map((e) => new aw(t, e)));
      for (let e of this.gutters) this.dom.appendChild(e.dom);
      (this.fixed = !t.state.facet(Um)),
        this.fixed && (this.dom.style.position = "sticky"),
        this.syncGutters(!1),
        t.scrollDOM.insertBefore(this.dom, t.contentDOM);
    }
    update(t) {
      if (this.updateGutters(t)) {
        let e = this.prevViewport,
          n = t.view.viewport,
          r = Math.min(e.to, n.to) - Math.max(e.from, n.from);
        this.syncGutters(r < (n.to - n.from) * 0.8);
      }
      t.geometryChanged &&
        (this.dom.style.minHeight =
          this.view.contentHeight / this.view.scaleY + "px"),
        this.view.state.facet(Um) != !this.fixed &&
          ((this.fixed = !this.fixed),
          (this.dom.style.position = this.fixed ? "sticky" : "")),
        (this.prevViewport = t.view.viewport);
    }
    syncGutters(t) {
      let e = this.dom.nextSibling;
      t && this.dom.remove();
      let n = te.iter(this.view.state.facet(Ac), this.view.viewport.from),
        r = [],
        i = this.gutters.map(
          (s) => new aD(s, this.view.viewport, -this.view.documentPadding.top)
        );
      for (let s of this.view.viewportLineBlocks)
        if ((r.length && (r = []), Array.isArray(s.type))) {
          let o = !0;
          for (let l of s.type)
            if (l.type == _t.Text && o) {
              Km(n, r, l.from);
              for (let a of i) a.line(this.view, l, r);
              o = !1;
            } else if (l.widget) for (let a of i) a.widget(this.view, l);
        } else if (s.type == _t.Text) {
          Km(n, r, s.from);
          for (let o of i) o.line(this.view, s, r);
        } else if (s.widget) for (let o of i) o.widget(this.view, s);
      for (let s of i) s.finish();
      t && this.view.scrollDOM.insertBefore(this.dom, e);
    }
    updateGutters(t) {
      let e = t.startState.facet(Tl),
        n = t.state.facet(Tl),
        r =
          t.docChanged ||
          t.heightChanged ||
          t.viewportChanged ||
          !te.eq(
            t.startState.facet(Ac),
            t.state.facet(Ac),
            t.view.viewport.from,
            t.view.viewport.to
          );
      if (e == n) for (let i of this.gutters) i.update(t) && (r = !0);
      else {
        r = !0;
        let i = [];
        for (let s of n) {
          let o = e.indexOf(s);
          o < 0
            ? i.push(new aw(this.view, s))
            : (this.gutters[o].update(t), i.push(this.gutters[o]));
        }
        for (let s of this.gutters)
          s.dom.remove(), i.indexOf(s) < 0 && s.destroy();
        for (let s of i) this.dom.appendChild(s.dom);
        this.gutters = i;
      }
      return r;
    }
    destroy() {
      for (let t of this.gutters) t.destroy();
      this.dom.remove();
    }
  },
  {
    provide: (t) =>
      N.scrollMargins.of((e) => {
        let n = e.plugin(t);
        return !n || n.gutters.length == 0 || !n.fixed
          ? null
          : e.textDirection == Se.LTR
            ? { left: n.dom.offsetWidth * e.scaleX }
            : { right: n.dom.offsetWidth * e.scaleX };
      }),
  }
);
function lw(t) {
  return Array.isArray(t) ? t : [t];
}
function Km(t, e, n) {
  for (; t.value && t.from <= n; ) t.from == n && e.push(t.value), t.next();
}
class aD {
  constructor(e, n, r) {
    (this.gutter = e),
      (this.height = r),
      (this.i = 0),
      (this.cursor = te.iter(e.markers, n.from));
  }
  addElement(e, n, r) {
    let { gutter: i } = this,
      s = (n.top - this.height) / e.scaleY,
      o = n.height / e.scaleY;
    if (this.i == i.elements.length) {
      let l = new OC(e, o, s, r);
      i.elements.push(l), i.dom.appendChild(l.dom);
    } else i.elements[this.i].update(e, o, s, r);
    (this.height = n.bottom), this.i++;
  }
  line(e, n, r) {
    let i = [];
    Km(this.cursor, i, n.from), r.length && (i = i.concat(r));
    let s = this.gutter.config.lineMarker(e, n, i);
    s && i.unshift(s);
    let o = this.gutter;
    (i.length == 0 && !o.config.renderEmptyElements) ||
      this.addElement(e, n, i);
  }
  widget(e, n) {
    let r = this.gutter.config.widgetMarker(e, n.widget, n);
    r && this.addElement(e, n, [r]);
  }
  finish() {
    let e = this.gutter;
    for (; e.elements.length > this.i; ) {
      let n = e.elements.pop();
      e.dom.removeChild(n.dom), n.destroy();
    }
  }
}
class aw {
  constructor(e, n) {
    (this.view = e),
      (this.config = n),
      (this.elements = []),
      (this.spacer = null),
      (this.dom = document.createElement("div")),
      (this.dom.className =
        "cm-gutter" + (this.config.class ? " " + this.config.class : ""));
    for (let r in n.domEventHandlers)
      this.dom.addEventListener(r, (i) => {
        let s = i.target,
          o;
        if (s != this.dom && this.dom.contains(s)) {
          for (; s.parentNode != this.dom; ) s = s.parentNode;
          let a = s.getBoundingClientRect();
          o = (a.top + a.bottom) / 2;
        } else o = i.clientY;
        let l = e.lineBlockAtHeight(o - e.documentTop);
        n.domEventHandlers[r](e, l, i) && i.preventDefault();
      });
    (this.markers = lw(n.markers(e))),
      n.initialSpacer &&
        ((this.spacer = new OC(e, 0, 0, [n.initialSpacer(e)])),
        this.dom.appendChild(this.spacer.dom),
        (this.spacer.dom.style.cssText +=
          "visibility: hidden; pointer-events: none"));
  }
  update(e) {
    let n = this.markers;
    if (
      ((this.markers = lw(this.config.markers(e.view))),
      this.spacer && this.config.updateSpacer)
    ) {
      let i = this.config.updateSpacer(this.spacer.markers[0], e);
      i != this.spacer.markers[0] && this.spacer.update(e.view, 0, 0, [i]);
    }
    let r = e.view.viewport;
    return (
      !te.eq(this.markers, n, r.from, r.to) ||
      (this.config.lineMarkerChange ? this.config.lineMarkerChange(e) : !1)
    );
  }
  destroy() {
    for (let e of this.elements) e.destroy();
  }
}
class OC {
  constructor(e, n, r, i) {
    (this.height = -1),
      (this.above = 0),
      (this.markers = []),
      (this.dom = document.createElement("div")),
      (this.dom.className = "cm-gutterElement"),
      this.update(e, n, r, i);
  }
  update(e, n, r, i) {
    this.height != n && ((this.height = n), (this.dom.style.height = n + "px")),
      this.above != r &&
        (this.dom.style.marginTop = (this.above = r) ? r + "px" : ""),
      uD(this.markers, i) || this.setMarkers(e, i);
  }
  setMarkers(e, n) {
    let r = "cm-gutterElement",
      i = this.dom.firstChild;
    for (let s = 0, o = 0; ; ) {
      let l = o,
        a = s < n.length ? n[s++] : null,
        u = !1;
      if (a) {
        let c = a.elementClass;
        c && (r += " " + c);
        for (let f = o; f < this.markers.length; f++)
          if (this.markers[f].compare(a)) {
            (l = f), (u = !0);
            break;
          }
      } else l = this.markers.length;
      for (; o < l; ) {
        let c = this.markers[o++];
        if (c.toDOM) {
          c.destroy(i);
          let f = i.nextSibling;
          i.remove(), (i = f);
        }
      }
      if (!a) break;
      a.toDOM &&
        (u ? (i = i.nextSibling) : this.dom.insertBefore(a.toDOM(e), i)),
        u && o++;
    }
    (this.dom.className = r), (this.markers = n);
  }
  destroy() {
    this.setMarkers(null, []);
  }
}
function uD(t, e) {
  if (t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++) if (!t[n].compare(e[n])) return !1;
  return !0;
}
const cD = $.define(),
  Hs = $.define({
    combine(t) {
      return mr(
        t,
        { formatNumber: String, domEventHandlers: {} },
        {
          domEventHandlers(e, n) {
            let r = Object.assign({}, e);
            for (let i in n) {
              let s = r[i],
                o = n[i];
              r[i] = s ? (l, a, u) => s(l, a, u) || o(l, a, u) : o;
            }
            return r;
          },
        }
      );
    },
  });
class zd extends Rr {
  constructor(e) {
    super(), (this.number = e);
  }
  eq(e) {
    return this.number == e.number;
  }
  toDOM() {
    return document.createTextNode(this.number);
  }
}
function jd(t, e) {
  return t.state.facet(Hs).formatNumber(e, t.state);
}
const fD = Tl.compute([Hs], (t) => ({
  class: "cm-lineNumbers",
  renderEmptyElements: !1,
  markers(e) {
    return e.state.facet(cD);
  },
  lineMarker(e, n, r) {
    return r.some((i) => i.toDOM)
      ? null
      : new zd(jd(e, e.state.doc.lineAt(n.from).number));
  },
  widgetMarker: () => null,
  lineMarkerChange: (e) => e.startState.facet(Hs) != e.state.facet(Hs),
  initialSpacer(e) {
    return new zd(jd(e, uw(e.state.doc.lines)));
  },
  updateSpacer(e, n) {
    let r = jd(n.view, uw(n.view.state.doc.lines));
    return r == e.number ? e : new zd(r);
  },
  domEventHandlers: t.facet(Hs).domEventHandlers,
}));
function hD(t = {}) {
  return [Hs.of(t), AC(), fD];
}
function uw(t) {
  let e = 9;
  for (; e < t; ) e = e * 10 + 9;
  return e;
}
const dD = new (class extends Rr {
    constructor() {
      super(...arguments), (this.elementClass = "cm-activeLineGutter");
    }
  })(),
  pD = Ac.compute(["selection"], (t) => {
    let e = [],
      n = -1;
    for (let r of t.selection.ranges) {
      let i = t.doc.lineAt(r.head).from;
      i > n && ((n = i), e.push(dD.range(i)));
    }
    return te.of(e);
  });
function mD() {
  return pD;
}
let gD = 0;
class er {
  constructor(e, n, r) {
    (this.set = e), (this.base = n), (this.modified = r), (this.id = gD++);
  }
  static define(e) {
    if (e != null && e.base)
      throw new Error("Can not derive from a modified tag");
    let n = new er([], null, []);
    if ((n.set.push(n), e)) for (let r of e.set) n.set.push(r);
    return n;
  }
  static defineModifier() {
    let e = new gf();
    return (n) =>
      n.modified.indexOf(e) > -1
        ? n
        : gf.get(
            n.base || n,
            n.modified.concat(e).sort((r, i) => r.id - i.id)
          );
  }
}
let yD = 0;
class gf {
  constructor() {
    (this.instances = []), (this.id = yD++);
  }
  static get(e, n) {
    if (!n.length) return e;
    let r = n[0].instances.find((l) => l.base == e && vD(n, l.modified));
    if (r) return r;
    let i = [],
      s = new er(i, e, n);
    for (let l of n) l.instances.push(s);
    let o = wD(n);
    for (let l of e.set)
      if (!l.modified.length) for (let a of o) i.push(gf.get(l, a));
    return s;
  }
}
function vD(t, e) {
  return t.length == e.length && t.every((n, r) => n == e[r]);
}
function wD(t) {
  let e = [[]];
  for (let n = 0; n < t.length; n++)
    for (let r = 0, i = e.length; r < i; r++) e.push(e[r].concat(t[n]));
  return e.sort((n, r) => r.length - n.length);
}
function bD(t) {
  let e = Object.create(null);
  for (let n in t) {
    let r = t[n];
    Array.isArray(r) || (r = [r]);
    for (let i of n.split(" "))
      if (i) {
        let s = [],
          o = 2,
          l = i;
        for (let f = 0; ; ) {
          if (l == "..." && f > 0 && f + 3 == i.length) {
            o = 1;
            break;
          }
          let h = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);
          if (!h) throw new RangeError("Invalid path: " + i);
          if (
            (s.push(
              h[0] == "*" ? "" : h[0][0] == '"' ? JSON.parse(h[0]) : h[0]
            ),
            (f += h[0].length),
            f == i.length)
          )
            break;
          let d = i[f++];
          if (f == i.length && d == "!") {
            o = 0;
            break;
          }
          if (d != "/") throw new RangeError("Invalid path: " + i);
          l = i.slice(f);
        }
        let a = s.length - 1,
          u = s[a];
        if (!u) throw new RangeError("Invalid path: " + i);
        let c = new yf(r, o, a > 0 ? s.slice(0, a) : null);
        e[u] = c.sort(e[u]);
      }
  }
  return MC.add(e);
}
const MC = new Q();
class yf {
  constructor(e, n, r, i) {
    (this.tags = e), (this.mode = n), (this.context = r), (this.next = i);
  }
  get opaque() {
    return this.mode == 0;
  }
  get inherit() {
    return this.mode == 1;
  }
  sort(e) {
    return !e || e.depth < this.depth
      ? ((this.next = e), this)
      : ((e.next = this.sort(e.next)), e);
  }
  get depth() {
    return this.context ? this.context.length : 0;
  }
}
yf.empty = new yf([], 2, null);
function EC(t, e) {
  let n = Object.create(null);
  for (let s of t)
    if (!Array.isArray(s.tag)) n[s.tag.id] = s.class;
    else for (let o of s.tag) n[o.id] = s.class;
  let { scope: r, all: i = null } = e || {};
  return {
    style: (s) => {
      let o = i;
      for (let l of s)
        for (let a of l.set) {
          let u = n[a.id];
          if (u) {
            o = o ? o + " " + u : u;
            break;
          }
        }
      return o;
    },
    scope: r,
  };
}
function xD(t, e) {
  let n = null;
  for (let r of t) {
    let i = r.style(e);
    i && (n = n ? n + " " + i : i);
  }
  return n;
}
function SD(t, e, n, r = 0, i = t.length) {
  let s = new kD(r, Array.isArray(e) ? e : [e], n);
  s.highlightRange(t.cursor(), r, i, "", s.highlighters), s.flush(i);
}
class kD {
  constructor(e, n, r) {
    (this.at = e), (this.highlighters = n), (this.span = r), (this.class = "");
  }
  startSpan(e, n) {
    n != this.class &&
      (this.flush(e), e > this.at && (this.at = e), (this.class = n));
  }
  flush(e) {
    e > this.at && this.class && this.span(this.at, e, this.class);
  }
  highlightRange(e, n, r, i, s) {
    let { type: o, from: l, to: a } = e;
    if (l >= r || a <= n) return;
    o.isTop && (s = this.highlighters.filter((d) => !d.scope || d.scope(o)));
    let u = i,
      c = CD(e) || yf.empty,
      f = xD(s, c.tags);
    if (
      (f &&
        (u && (u += " "), (u += f), c.mode == 1 && (i += (i ? " " : "") + f)),
      this.startSpan(Math.max(n, l), u),
      c.opaque)
    )
      return;
    let h = e.tree && e.tree.prop(Q.mounted);
    if (h && h.overlay) {
      let d = e.node.enter(h.overlay[0].from + l, 1),
        p = this.highlighters.filter((w) => !w.scope || w.scope(h.tree.type)),
        m = e.firstChild();
      for (let w = 0, g = l; ; w++) {
        let y = w < h.overlay.length ? h.overlay[w] : null,
          v = y ? y.from + l : a,
          b = Math.max(n, g),
          x = Math.min(r, v);
        if (b < x && m)
          for (
            ;
            e.from < x &&
            (this.highlightRange(e, b, x, i, s),
            this.startSpan(Math.min(x, e.to), u),
            !(e.to >= v || !e.nextSibling()));

          );
        if (!y || v > r) break;
        (g = y.to + l),
          g > n &&
            (this.highlightRange(
              d.cursor(),
              Math.max(n, y.from + l),
              Math.min(r, g),
              "",
              p
            ),
            this.startSpan(Math.min(r, g), u));
      }
      m && e.parent();
    } else if (e.firstChild()) {
      h && (i = "");
      do
        if (!(e.to <= n)) {
          if (e.from >= r) break;
          this.highlightRange(e, n, r, i, s),
            this.startSpan(Math.min(r, e.to), u);
        }
      while (e.nextSibling());
      e.parent();
    }
  }
}
function CD(t) {
  let e = t.type.prop(MC);
  for (; e && e.context && !t.matchContext(e.context); ) e = e.next;
  return e || null;
}
const P = er.define,
  Hu = P(),
  Ur = P(),
  cw = P(Ur),
  fw = P(Ur),
  Kr = P(),
  Wu = P(Kr),
  Vd = P(Kr),
  Xn = P(),
  Ni = P(Xn),
  qn = P(),
  Gn = P(),
  qm = P(),
  nl = P(qm),
  Uu = P(),
  R = {
    comment: Hu,
    lineComment: P(Hu),
    blockComment: P(Hu),
    docComment: P(Hu),
    name: Ur,
    variableName: P(Ur),
    typeName: cw,
    tagName: P(cw),
    propertyName: fw,
    attributeName: P(fw),
    className: P(Ur),
    labelName: P(Ur),
    namespace: P(Ur),
    macroName: P(Ur),
    literal: Kr,
    string: Wu,
    docString: P(Wu),
    character: P(Wu),
    attributeValue: P(Wu),
    number: Vd,
    integer: P(Vd),
    float: P(Vd),
    bool: P(Kr),
    regexp: P(Kr),
    escape: P(Kr),
    color: P(Kr),
    url: P(Kr),
    keyword: qn,
    self: P(qn),
    null: P(qn),
    atom: P(qn),
    unit: P(qn),
    modifier: P(qn),
    operatorKeyword: P(qn),
    controlKeyword: P(qn),
    definitionKeyword: P(qn),
    moduleKeyword: P(qn),
    operator: Gn,
    derefOperator: P(Gn),
    arithmeticOperator: P(Gn),
    logicOperator: P(Gn),
    bitwiseOperator: P(Gn),
    compareOperator: P(Gn),
    updateOperator: P(Gn),
    definitionOperator: P(Gn),
    typeOperator: P(Gn),
    controlOperator: P(Gn),
    punctuation: qm,
    separator: P(qm),
    bracket: nl,
    angleBracket: P(nl),
    squareBracket: P(nl),
    paren: P(nl),
    brace: P(nl),
    content: Xn,
    heading: Ni,
    heading1: P(Ni),
    heading2: P(Ni),
    heading3: P(Ni),
    heading4: P(Ni),
    heading5: P(Ni),
    heading6: P(Ni),
    contentSeparator: P(Xn),
    list: P(Xn),
    quote: P(Xn),
    emphasis: P(Xn),
    strong: P(Xn),
    link: P(Xn),
    monospace: P(Xn),
    strikethrough: P(Xn),
    inserted: P(),
    deleted: P(),
    changed: P(),
    invalid: P(),
    meta: Uu,
    documentMeta: P(Uu),
    annotation: P(Uu),
    processingInstruction: P(Uu),
    definition: er.defineModifier(),
    constant: er.defineModifier(),
    function: er.defineModifier(),
    standard: er.defineModifier(),
    local: er.defineModifier(),
    special: er.defineModifier(),
  };
EC([
  { tag: R.link, class: "tok-link" },
  { tag: R.heading, class: "tok-heading" },
  { tag: R.emphasis, class: "tok-emphasis" },
  { tag: R.strong, class: "tok-strong" },
  { tag: R.keyword, class: "tok-keyword" },
  { tag: R.atom, class: "tok-atom" },
  { tag: R.bool, class: "tok-bool" },
  { tag: R.url, class: "tok-url" },
  { tag: R.labelName, class: "tok-labelName" },
  { tag: R.inserted, class: "tok-inserted" },
  { tag: R.deleted, class: "tok-deleted" },
  { tag: R.literal, class: "tok-literal" },
  { tag: R.string, class: "tok-string" },
  { tag: R.number, class: "tok-number" },
  { tag: [R.regexp, R.escape, R.special(R.string)], class: "tok-string2" },
  { tag: R.variableName, class: "tok-variableName" },
  { tag: R.local(R.variableName), class: "tok-variableName tok-local" },
  {
    tag: R.definition(R.variableName),
    class: "tok-variableName tok-definition",
  },
  { tag: R.special(R.variableName), class: "tok-variableName2" },
  {
    tag: R.definition(R.propertyName),
    class: "tok-propertyName tok-definition",
  },
  { tag: R.typeName, class: "tok-typeName" },
  { tag: R.namespace, class: "tok-namespace" },
  { tag: R.className, class: "tok-className" },
  { tag: R.macroName, class: "tok-macroName" },
  { tag: R.propertyName, class: "tok-propertyName" },
  { tag: R.operator, class: "tok-operator" },
  { tag: R.comment, class: "tok-comment" },
  { tag: R.meta, class: "tok-meta" },
  { tag: R.invalid, class: "tok-invalid" },
  { tag: R.punctuation, class: "tok-punctuation" },
]);
var Hd;
const Ws = new Q();
function _D(t) {
  return $.define({ combine: t ? (e) => e.concat(t) : void 0 });
}
const AD = new Q();
class Tn {
  constructor(e, n, r = [], i = "") {
    (this.data = e),
      (this.name = i),
      ee.prototype.hasOwnProperty("tree") ||
        Object.defineProperty(ee.prototype, "tree", {
          get() {
            return ut(this);
          },
        }),
      (this.parser = n),
      (this.extension = [
        Oi.of(this),
        ee.languageData.of((s, o, l) => {
          let a = hw(s, o, l),
            u = a.type.prop(Ws);
          if (!u) return [];
          let c = s.facet(u),
            f = a.type.prop(AD);
          if (f) {
            let h = a.resolve(o - a.from, l);
            for (let d of f)
              if (d.test(h, s)) {
                let p = s.facet(d.facet);
                return d.type == "replace" ? p : p.concat(c);
              }
          }
          return c;
        }),
      ].concat(r));
  }
  isActiveAt(e, n, r = -1) {
    return hw(e, n, r).type.prop(Ws) == this.data;
  }
  findRegions(e) {
    let n = e.facet(Oi);
    if ((n == null ? void 0 : n.data) == this.data)
      return [{ from: 0, to: e.doc.length }];
    if (!n || !n.allowsNesting) return [];
    let r = [],
      i = (s, o) => {
        if (s.prop(Ws) == this.data) {
          r.push({ from: o, to: o + s.length });
          return;
        }
        let l = s.prop(Q.mounted);
        if (l) {
          if (l.tree.prop(Ws) == this.data) {
            if (l.overlay)
              for (let a of l.overlay)
                r.push({ from: a.from + o, to: a.to + o });
            else r.push({ from: o, to: o + s.length });
            return;
          } else if (l.overlay) {
            let a = r.length;
            if ((i(l.tree, l.overlay[0].from + o), r.length > a)) return;
          }
        }
        for (let a = 0; a < s.children.length; a++) {
          let u = s.children[a];
          u instanceof Me && i(u, s.positions[a] + o);
        }
      };
    return i(ut(e), 0), r;
  }
  get allowsNesting() {
    return !0;
  }
}
Tn.setState = Y.define();
function hw(t, e, n) {
  let r = t.facet(Oi),
    i = ut(t).topNode;
  if (!r || r.allowsNesting)
    for (let s = i; s; s = s.enter(e, n, nt.ExcludeBuffers))
      s.type.isTop && (i = s);
  return i;
}
function ut(t) {
  let e = t.field(Tn.state, !1);
  return e ? e.tree : Me.empty;
}
class OD {
  constructor(e) {
    (this.doc = e),
      (this.cursorPos = 0),
      (this.string = ""),
      (this.cursor = e.iter());
  }
  get length() {
    return this.doc.length;
  }
  syncTo(e) {
    return (
      (this.string = this.cursor.next(e - this.cursorPos).value),
      (this.cursorPos = e + this.string.length),
      this.cursorPos - this.string.length
    );
  }
  chunk(e) {
    return this.syncTo(e), this.string;
  }
  get lineChunks() {
    return !0;
  }
  read(e, n) {
    let r = this.cursorPos - this.string.length;
    return e < r || n >= this.cursorPos
      ? this.doc.sliceString(e, n)
      : this.string.slice(e - r, n - r);
  }
}
let rl = null;
class _o {
  constructor(e, n, r = [], i, s, o, l, a) {
    (this.parser = e),
      (this.state = n),
      (this.fragments = r),
      (this.tree = i),
      (this.treeLen = s),
      (this.viewport = o),
      (this.skipped = l),
      (this.scheduleOn = a),
      (this.parse = null),
      (this.tempSkipped = []);
  }
  static create(e, n, r) {
    return new _o(e, n, [], Me.empty, 0, r, [], null);
  }
  startParse() {
    return this.parser.startParse(new OD(this.state.doc), this.fragments);
  }
  work(e, n) {
    return (
      n != null && n >= this.state.doc.length && (n = void 0),
      this.tree != Me.empty && this.isDone(n ?? this.state.doc.length)
        ? (this.takeTree(), !0)
        : this.withContext(() => {
            var r;
            if (typeof e == "number") {
              let i = Date.now() + e;
              e = () => Date.now() > i;
            }
            for (
              this.parse || (this.parse = this.startParse()),
                n != null &&
                  (this.parse.stoppedAt == null || this.parse.stoppedAt > n) &&
                  n < this.state.doc.length &&
                  this.parse.stopAt(n);
              ;

            ) {
              let i = this.parse.advance();
              if (i)
                if (
                  ((this.fragments = this.withoutTempSkipped(
                    Gi.addTree(i, this.fragments, this.parse.stoppedAt != null)
                  )),
                  (this.treeLen =
                    (r = this.parse.stoppedAt) !== null && r !== void 0
                      ? r
                      : this.state.doc.length),
                  (this.tree = i),
                  (this.parse = null),
                  this.treeLen < (n ?? this.state.doc.length))
                )
                  this.parse = this.startParse();
                else return !0;
              if (e()) return !1;
            }
          })
    );
  }
  takeTree() {
    let e, n;
    this.parse &&
      (e = this.parse.parsedPos) >= this.treeLen &&
      ((this.parse.stoppedAt == null || this.parse.stoppedAt > e) &&
        this.parse.stopAt(e),
      this.withContext(() => {
        for (; !(n = this.parse.advance()); );
      }),
      (this.treeLen = e),
      (this.tree = n),
      (this.fragments = this.withoutTempSkipped(
        Gi.addTree(this.tree, this.fragments, !0)
      )),
      (this.parse = null));
  }
  withContext(e) {
    let n = rl;
    rl = this;
    try {
      return e();
    } finally {
      rl = n;
    }
  }
  withoutTempSkipped(e) {
    for (let n; (n = this.tempSkipped.pop()); ) e = dw(e, n.from, n.to);
    return e;
  }
  changes(e, n) {
    let { fragments: r, tree: i, treeLen: s, viewport: o, skipped: l } = this;
    if ((this.takeTree(), !e.empty)) {
      let a = [];
      if (
        (e.iterChangedRanges((u, c, f, h) =>
          a.push({ fromA: u, toA: c, fromB: f, toB: h })
        ),
        (r = Gi.applyChanges(r, a)),
        (i = Me.empty),
        (s = 0),
        (o = { from: e.mapPos(o.from, -1), to: e.mapPos(o.to, 1) }),
        this.skipped.length)
      ) {
        l = [];
        for (let u of this.skipped) {
          let c = e.mapPos(u.from, 1),
            f = e.mapPos(u.to, -1);
          c < f && l.push({ from: c, to: f });
        }
      }
    }
    return new _o(this.parser, n, r, i, s, o, l, this.scheduleOn);
  }
  updateViewport(e) {
    if (this.viewport.from == e.from && this.viewport.to == e.to) return !1;
    this.viewport = e;
    let n = this.skipped.length;
    for (let r = 0; r < this.skipped.length; r++) {
      let { from: i, to: s } = this.skipped[r];
      i < e.to &&
        s > e.from &&
        ((this.fragments = dw(this.fragments, i, s)),
        this.skipped.splice(r--, 1));
    }
    return this.skipped.length >= n ? !1 : (this.reset(), !0);
  }
  reset() {
    this.parse && (this.takeTree(), (this.parse = null));
  }
  skipUntilInView(e, n) {
    this.skipped.push({ from: e, to: n });
  }
  static getSkippingParser(e) {
    return new (class extends nk {
      createParse(n, r, i) {
        let s = i[0].from,
          o = i[i.length - 1].to;
        return {
          parsedPos: s,
          advance() {
            let a = rl;
            if (a) {
              for (let u of i) a.tempSkipped.push(u);
              e &&
                (a.scheduleOn = a.scheduleOn
                  ? Promise.all([a.scheduleOn, e])
                  : e);
            }
            return (this.parsedPos = o), new Me(Ft.none, [], [], o - s);
          },
          stoppedAt: null,
          stopAt() {},
        };
      }
    })();
  }
  isDone(e) {
    e = Math.min(e, this.state.doc.length);
    let n = this.fragments;
    return this.treeLen >= e && n.length && n[0].from == 0 && n[0].to >= e;
  }
  static get() {
    return rl;
  }
}
function dw(t, e, n) {
  return Gi.applyChanges(t, [{ fromA: e, toA: n, fromB: e, toB: n }]);
}
class Ao {
  constructor(e) {
    (this.context = e), (this.tree = e.tree);
  }
  apply(e) {
    if (!e.docChanged && this.tree == this.context.tree) return this;
    let n = this.context.changes(e.changes, e.state),
      r =
        this.context.treeLen == e.startState.doc.length
          ? void 0
          : Math.max(e.changes.mapPos(this.context.treeLen), n.viewport.to);
    return n.work(20, r) || n.takeTree(), new Ao(n);
  }
  static init(e) {
    let n = Math.min(3e3, e.doc.length),
      r = _o.create(e.facet(Oi).parser, e, { from: 0, to: n });
    return r.work(20, n) || r.takeTree(), new Ao(r);
  }
}
Tn.state = ct.define({
  create: Ao.init,
  update(t, e) {
    for (let n of e.effects) if (n.is(Tn.setState)) return n.value;
    return e.startState.facet(Oi) != e.state.facet(Oi)
      ? Ao.init(e.state)
      : t.apply(e);
  },
});
let TC = (t) => {
  let e = setTimeout(() => t(), 500);
  return () => clearTimeout(e);
};
typeof requestIdleCallback < "u" &&
  (TC = (t) => {
    let e = -1,
      n = setTimeout(() => {
        e = requestIdleCallback(t, { timeout: 400 });
      }, 100);
    return () => (e < 0 ? clearTimeout(n) : cancelIdleCallback(e));
  });
const Wd =
    typeof navigator < "u" &&
    !((Hd = navigator.scheduling) === null || Hd === void 0) &&
    Hd.isInputPending
      ? () => navigator.scheduling.isInputPending()
      : null,
  MD = Ve.fromClass(
    class {
      constructor(e) {
        (this.view = e),
          (this.working = null),
          (this.workScheduled = 0),
          (this.chunkEnd = -1),
          (this.chunkBudget = -1),
          (this.work = this.work.bind(this)),
          this.scheduleWork();
      }
      update(e) {
        let n = this.view.state.field(Tn.state).context;
        (n.updateViewport(e.view.viewport) ||
          this.view.viewport.to > n.treeLen) &&
          this.scheduleWork(),
          (e.docChanged || e.selectionSet) &&
            (this.view.hasFocus && (this.chunkBudget += 50),
            this.scheduleWork()),
          this.checkAsyncSchedule(n);
      }
      scheduleWork() {
        if (this.working) return;
        let { state: e } = this.view,
          n = e.field(Tn.state);
        (n.tree != n.context.tree || !n.context.isDone(e.doc.length)) &&
          (this.working = TC(this.work));
      }
      work(e) {
        this.working = null;
        let n = Date.now();
        if (
          (this.chunkEnd < n &&
            (this.chunkEnd < 0 || this.view.hasFocus) &&
            ((this.chunkEnd = n + 3e4), (this.chunkBudget = 3e3)),
          this.chunkBudget <= 0)
        )
          return;
        let {
            state: r,
            viewport: { to: i },
          } = this.view,
          s = r.field(Tn.state);
        if (s.tree == s.context.tree && s.context.isDone(i + 1e5)) return;
        let o =
            Date.now() +
            Math.min(
              this.chunkBudget,
              100,
              e && !Wd ? Math.max(25, e.timeRemaining() - 5) : 1e9
            ),
          l = s.context.treeLen < i && r.doc.length > i + 1e3,
          a = s.context.work(
            () => (Wd && Wd()) || Date.now() > o,
            i + (l ? 0 : 1e5)
          );
        (this.chunkBudget -= Date.now() - n),
          (a || this.chunkBudget <= 0) &&
            (s.context.takeTree(),
            this.view.dispatch({ effects: Tn.setState.of(new Ao(s.context)) })),
          this.chunkBudget > 0 && !(a && !l) && this.scheduleWork(),
          this.checkAsyncSchedule(s.context);
      }
      checkAsyncSchedule(e) {
        e.scheduleOn &&
          (this.workScheduled++,
          e.scheduleOn
            .then(() => this.scheduleWork())
            .catch((n) => Rt(this.view.state, n))
            .then(() => this.workScheduled--),
          (e.scheduleOn = null));
      }
      destroy() {
        this.working && this.working();
      }
      isWorking() {
        return !!(this.working || this.workScheduled > 0);
      }
    },
    {
      eventHandlers: {
        focus() {
          this.scheduleWork();
        },
      },
    }
  ),
  Oi = $.define({
    combine(t) {
      return t.length ? t[0] : null;
    },
    enables: (t) => [
      Tn.state,
      MD,
      N.contentAttributes.compute([t], (e) => {
        let n = e.facet(t);
        return n && n.name ? { "data-language": n.name } : {};
      }),
    ],
  }),
  PC = $.define(),
  j0 = $.define({
    combine: (t) => {
      if (!t.length) return "  ";
      let e = t[0];
      if (!e || /\S/.test(e) || Array.from(e).some((n) => n != e[0]))
        throw new Error("Invalid indent unit: " + JSON.stringify(t[0]));
      return e;
    },
  });
function as(t) {
  let e = t.facet(j0);
  return e.charCodeAt(0) == 9 ? t.tabSize * e.length : e.length;
}
function ha(t, e) {
  let n = "",
    r = t.tabSize,
    i = t.facet(j0)[0];
  if (i == "	") {
    for (; e >= r; ) (n += "	"), (e -= r);
    i = " ";
  }
  for (let s = 0; s < e; s++) n += i;
  return n;
}
function V0(t, e) {
  t instanceof ee && (t = new xh(t));
  for (let r of t.state.facet(PC)) {
    let i = r(t, e);
    if (i !== void 0) return i;
  }
  let n = ut(t.state);
  return n.length >= e ? TD(t, n, e) : null;
}
class xh {
  constructor(e, n = {}) {
    (this.state = e), (this.options = n), (this.unit = as(e));
  }
  lineAt(e, n = 1) {
    let r = this.state.doc.lineAt(e),
      { simulateBreak: i, simulateDoubleBreak: s } = this.options;
    return i != null && i >= r.from && i <= r.to
      ? s && i == e
        ? { text: "", from: e }
        : (n < 0 ? i < e : i <= e)
          ? { text: r.text.slice(i - r.from), from: i }
          : { text: r.text.slice(0, i - r.from), from: r.from }
      : r;
  }
  textAfterPos(e, n = 1) {
    if (this.options.simulateDoubleBreak && e == this.options.simulateBreak)
      return "";
    let { text: r, from: i } = this.lineAt(e, n);
    return r.slice(e - i, Math.min(r.length, e + 100 - i));
  }
  column(e, n = 1) {
    let { text: r, from: i } = this.lineAt(e, n),
      s = this.countColumn(r, e - i),
      o = this.options.overrideIndentation
        ? this.options.overrideIndentation(i)
        : -1;
    return o > -1 && (s += o - this.countColumn(r, r.search(/\S|$/))), s;
  }
  countColumn(e, n = e.length) {
    return No(e, this.state.tabSize, n);
  }
  lineIndent(e, n = 1) {
    let { text: r, from: i } = this.lineAt(e, n),
      s = this.options.overrideIndentation;
    if (s) {
      let o = s(i);
      if (o > -1) return o;
    }
    return this.countColumn(r, r.search(/\S|$/));
  }
  get simulatedBreak() {
    return this.options.simulateBreak || null;
  }
}
const ED = new Q();
function TD(t, e, n) {
  let r = e.resolveStack(n),
    i = r.node.enterUnfinishedNodesBefore(n);
  if (i != r.node) {
    let s = [];
    for (let o = i; o != r.node; o = o.parent) s.push(o);
    for (let o = s.length - 1; o >= 0; o--) r = { node: s[o], next: r };
  }
  return DC(r, t, n);
}
function DC(t, e, n) {
  for (let r = t; r; r = r.next) {
    let i = DD(r.node);
    if (i) return i(H0.create(e, n, r));
  }
  return 0;
}
function PD(t) {
  return t.pos == t.options.simulateBreak && t.options.simulateDoubleBreak;
}
function DD(t) {
  let e = t.type.prop(ED);
  if (e) return e;
  let n = t.firstChild,
    r;
  if (n && (r = n.type.prop(Q.closedBy))) {
    let i = t.lastChild,
      s = i && r.indexOf(i.name) > -1;
    return (o) => ND(o, !0, 1, void 0, s && !PD(o) ? i.from : void 0);
  }
  return t.parent == null ? RD : null;
}
function RD() {
  return 0;
}
class H0 extends xh {
  constructor(e, n, r) {
    super(e.state, e.options),
      (this.base = e),
      (this.pos = n),
      (this.context = r);
  }
  get node() {
    return this.context.node;
  }
  static create(e, n, r) {
    return new H0(e, n, r);
  }
  get textAfter() {
    return this.textAfterPos(this.pos);
  }
  get baseIndent() {
    return this.baseIndentFor(this.node);
  }
  baseIndentFor(e) {
    let n = this.state.doc.lineAt(e.from);
    for (;;) {
      let r = e.resolve(n.from);
      for (; r.parent && r.parent.from == r.from; ) r = r.parent;
      if (LD(r, e)) break;
      n = this.state.doc.lineAt(r.from);
    }
    return this.lineIndent(n.from);
  }
  continue() {
    return DC(this.context.next, this.base, this.pos);
  }
}
function LD(t, e) {
  for (let n = e; n; n = n.parent) if (t == n) return !0;
  return !1;
}
function BD(t) {
  let e = t.node,
    n = e.childAfter(e.from),
    r = e.lastChild;
  if (!n) return null;
  let i = t.options.simulateBreak,
    s = t.state.doc.lineAt(n.from),
    o = i == null || i <= s.from ? s.to : Math.min(s.to, i);
  for (let l = n.to; ; ) {
    let a = e.childAfter(l);
    if (!a || a == r) return null;
    if (!a.type.isSkipped) return a.from < o ? n : null;
    l = a.to;
  }
}
function ND(t, e, n, r, i) {
  let s = t.textAfter,
    o = s.match(/^\s*/)[0].length,
    l = (r && s.slice(o, o + r.length) == r) || i == t.pos + o,
    a = e ? BD(t) : null;
  return a
    ? l
      ? t.column(a.from)
      : t.column(a.to)
    : t.baseIndent + (l ? 0 : t.unit * n);
}
const ID = 200;
function $D() {
  return ee.transactionFilter.of((t) => {
    if (
      !t.docChanged ||
      (!t.isUserEvent("input.type") && !t.isUserEvent("input.complete"))
    )
      return t;
    let e = t.startState.languageDataAt(
      "indentOnInput",
      t.startState.selection.main.head
    );
    if (!e.length) return t;
    let n = t.newDoc,
      { head: r } = t.newSelection.main,
      i = n.lineAt(r);
    if (r > i.from + ID) return t;
    let s = n.sliceString(i.from, r);
    if (!e.some((u) => u.test(s))) return t;
    let { state: o } = t,
      l = -1,
      a = [];
    for (let { head: u } of o.selection.ranges) {
      let c = o.doc.lineAt(u);
      if (c.from == l) continue;
      l = c.from;
      let f = V0(o, c.from);
      if (f == null) continue;
      let h = /^\s*/.exec(c.text)[0],
        d = ha(o, f);
      h != d && a.push({ from: c.from, to: c.from + h.length, insert: d });
    }
    return a.length ? [t, { changes: a, sequential: !0 }] : t;
  });
}
const FD = $.define(),
  zD = new Q();
function jD(t, e, n) {
  let r = ut(t);
  if (r.length < n) return null;
  let i = r.resolveStack(n, 1),
    s = null;
  for (let o = i; o; o = o.next) {
    let l = o.node;
    if (l.to <= n || l.from > n) continue;
    if (s && l.from < e) break;
    let a = l.type.prop(zD);
    if (a && (l.to < r.length - 50 || r.length == t.doc.length || !VD(l))) {
      let u = a(l, t);
      u && u.from <= n && u.from >= e && u.to > n && (s = u);
    }
  }
  return s;
}
function VD(t) {
  let e = t.lastChild;
  return e && e.to == t.to && e.type.isError;
}
function vf(t, e, n) {
  for (let r of t.facet(FD)) {
    let i = r(t, e, n);
    if (i) return i;
  }
  return jD(t, e, n);
}
function RC(t, e) {
  let n = e.mapPos(t.from, 1),
    r = e.mapPos(t.to, -1);
  return n >= r ? void 0 : { from: n, to: r };
}
const Sh = Y.define({ map: RC }),
  Xa = Y.define({ map: RC });
function LC(t) {
  let e = [];
  for (let { head: n } of t.state.selection.ranges)
    e.some((r) => r.from <= n && r.to >= n) || e.push(t.lineBlockAt(n));
  return e;
}
const us = ct.define({
  create() {
    return U.none;
  },
  update(t, e) {
    t = t.map(e.changes);
    for (let n of e.effects)
      if (n.is(Sh) && !HD(t, n.value.from, n.value.to)) {
        let { preparePlaceholder: r } = e.state.facet(W0),
          i = r ? U.replace({ widget: new XD(r(e.state, n.value)) }) : pw;
        t = t.update({ add: [i.range(n.value.from, n.value.to)] });
      } else
        n.is(Xa) &&
          (t = t.update({
            filter: (r, i) => n.value.from != r || n.value.to != i,
            filterFrom: n.value.from,
            filterTo: n.value.to,
          }));
    if (e.selection) {
      let n = !1,
        { head: r } = e.selection.main;
      t.between(r, r, (i, s) => {
        i < r && s > r && (n = !0);
      }),
        n &&
          (t = t.update({
            filterFrom: r,
            filterTo: r,
            filter: (i, s) => s <= r || i >= r,
          }));
    }
    return t;
  },
  provide: (t) => N.decorations.from(t),
  toJSON(t, e) {
    let n = [];
    return (
      t.between(0, e.doc.length, (r, i) => {
        n.push(r, i);
      }),
      n
    );
  },
  fromJSON(t) {
    if (!Array.isArray(t) || t.length % 2)
      throw new RangeError("Invalid JSON for fold state");
    let e = [];
    for (let n = 0; n < t.length; ) {
      let r = t[n++],
        i = t[n++];
      if (typeof r != "number" || typeof i != "number")
        throw new RangeError("Invalid JSON for fold state");
      e.push(pw.range(r, i));
    }
    return U.set(e, !0);
  },
});
function wf(t, e, n) {
  var r;
  let i = null;
  return (
    (r = t.field(us, !1)) === null ||
      r === void 0 ||
      r.between(e, n, (s, o) => {
        (!i || i.from > s) && (i = { from: s, to: o });
      }),
    i
  );
}
function HD(t, e, n) {
  let r = !1;
  return (
    t.between(e, e, (i, s) => {
      i == e && s == n && (r = !0);
    }),
    r
  );
}
function BC(t, e) {
  return t.field(us, !1) ? e : e.concat(Y.appendConfig.of(IC()));
}
const WD = (t) => {
    for (let e of LC(t)) {
      let n = vf(t.state, e.from, e.to);
      if (n)
        return t.dispatch({ effects: BC(t.state, [Sh.of(n), NC(t, n)]) }), !0;
    }
    return !1;
  },
  UD = (t) => {
    if (!t.state.field(us, !1)) return !1;
    let e = [];
    for (let n of LC(t)) {
      let r = wf(t.state, n.from, n.to);
      r && e.push(Xa.of(r), NC(t, r, !1));
    }
    return e.length && t.dispatch({ effects: e }), e.length > 0;
  };
function NC(t, e, n = !0) {
  let r = t.state.doc.lineAt(e.from).number,
    i = t.state.doc.lineAt(e.to).number;
  return N.announce.of(
    `${t.state.phrase(n ? "Folded lines" : "Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`
  );
}
const KD = (t) => {
    let { state: e } = t,
      n = [];
    for (let r = 0; r < e.doc.length; ) {
      let i = t.lineBlockAt(r),
        s = vf(e, i.from, i.to);
      s && n.push(Sh.of(s)), (r = (s ? t.lineBlockAt(s.to) : i).to + 1);
    }
    return n.length && t.dispatch({ effects: BC(t.state, n) }), !!n.length;
  },
  qD = (t) => {
    let e = t.state.field(us, !1);
    if (!e || !e.size) return !1;
    let n = [];
    return (
      e.between(0, t.state.doc.length, (r, i) => {
        n.push(Xa.of({ from: r, to: i }));
      }),
      t.dispatch({ effects: n }),
      !0
    );
  },
  GD = [
    { key: "Ctrl-Shift-[", mac: "Cmd-Alt-[", run: WD },
    { key: "Ctrl-Shift-]", mac: "Cmd-Alt-]", run: UD },
    { key: "Ctrl-Alt-[", run: KD },
    { key: "Ctrl-Alt-]", run: qD },
  ],
  YD = { placeholderDOM: null, preparePlaceholder: null, placeholderText: "" },
  W0 = $.define({
    combine(t) {
      return mr(t, YD);
    },
  });
function IC(t) {
  let e = [us, ZD];
  return t && e.push(W0.of(t)), e;
}
function $C(t, e) {
  let { state: n } = t,
    r = n.facet(W0),
    i = (o) => {
      let l = t.lineBlockAt(t.posAtDOM(o.target)),
        a = wf(t.state, l.from, l.to);
      a && t.dispatch({ effects: Xa.of(a) }), o.preventDefault();
    };
  if (r.placeholderDOM) return r.placeholderDOM(t, i, e);
  let s = document.createElement("span");
  return (
    (s.textContent = r.placeholderText),
    s.setAttribute("aria-label", n.phrase("folded code")),
    (s.title = n.phrase("unfold")),
    (s.className = "cm-foldPlaceholder"),
    (s.onclick = i),
    s
  );
}
const pw = U.replace({
  widget: new (class extends Ri {
    toDOM(t) {
      return $C(t, null);
    }
  })(),
});
class XD extends Ri {
  constructor(e) {
    super(), (this.value = e);
  }
  eq(e) {
    return this.value == e.value;
  }
  toDOM(e) {
    return $C(e, this.value);
  }
}
const QD = {
  openText: "",
  closedText: "",
  markerDOM: null,
  domEventHandlers: {},
  foldingChanged: () => !1,
};
class Ud extends Rr {
  constructor(e, n) {
    super(), (this.config = e), (this.open = n);
  }
  eq(e) {
    return this.config == e.config && this.open == e.open;
  }
  toDOM(e) {
    if (this.config.markerDOM) return this.config.markerDOM(this.open);
    let n = document.createElement("span");
    return (
      (n.textContent = this.open
        ? this.config.openText
        : this.config.closedText),
      (n.title = e.state.phrase(this.open ? "Fold line" : "Unfold line")),
      n
    );
  }
}
function JD(t = {}) {
  let e = Object.assign(Object.assign({}, QD), t),
    n = new Ud(e, !0),
    r = new Ud(e, !1),
    i = Ve.fromClass(
      class {
        constructor(o) {
          (this.from = o.viewport.from), (this.markers = this.buildMarkers(o));
        }
        update(o) {
          (o.docChanged ||
            o.viewportChanged ||
            o.startState.facet(Oi) != o.state.facet(Oi) ||
            o.startState.field(us, !1) != o.state.field(us, !1) ||
            ut(o.startState) != ut(o.state) ||
            e.foldingChanged(o)) &&
            (this.markers = this.buildMarkers(o.view));
        }
        buildMarkers(o) {
          let l = new ki();
          for (let a of o.viewportLineBlocks) {
            let u = wf(o.state, a.from, a.to)
              ? r
              : vf(o.state, a.from, a.to)
                ? n
                : null;
            u && l.add(a.from, a.from, u);
          }
          return l.finish();
        }
      }
    ),
    { domEventHandlers: s } = e;
  return [
    i,
    oD({
      class: "cm-foldGutter",
      markers(o) {
        var l;
        return (
          ((l = o.plugin(i)) === null || l === void 0 ? void 0 : l.markers) ||
          te.empty
        );
      },
      initialSpacer() {
        return new Ud(e, !1);
      },
      domEventHandlers: Object.assign(Object.assign({}, s), {
        click: (o, l, a) => {
          if (s.click && s.click(o, l, a)) return !0;
          let u = wf(o.state, l.from, l.to);
          if (u) return o.dispatch({ effects: Xa.of(u) }), !0;
          let c = vf(o.state, l.from, l.to);
          return c ? (o.dispatch({ effects: Sh.of(c) }), !0) : !1;
        },
      }),
    }),
    IC(),
  ];
}
const ZD = N.baseTheme({
  ".cm-foldPlaceholder": {
    backgroundColor: "#eee",
    border: "1px solid #ddd",
    color: "#888",
    borderRadius: ".2em",
    margin: "0 1px",
    padding: "0 1px",
    cursor: "pointer",
  },
  ".cm-foldGutter span": { padding: "0 1px", cursor: "pointer" },
});
class kh {
  constructor(e, n) {
    this.specs = e;
    let r;
    function i(l) {
      let a = Ci.newName();
      return ((r || (r = Object.create(null)))["." + a] = l), a;
    }
    const s = typeof n.all == "string" ? n.all : n.all ? i(n.all) : void 0,
      o = n.scope;
    (this.scope =
      o instanceof Tn
        ? (l) => l.prop(Ws) == o.data
        : o
          ? (l) => l == o
          : void 0),
      (this.style = EC(
        e.map((l) => ({
          tag: l.tag,
          class: l.class || i(Object.assign({}, l, { tag: null })),
        })),
        { all: s }
      ).style),
      (this.module = r ? new Ci(r) : null),
      (this.themeType = n.themeType);
  }
  static define(e, n) {
    return new kh(e, n || {});
  }
}
const Gm = $.define(),
  FC = $.define({
    combine(t) {
      return t.length ? [t[0]] : null;
    },
  });
function Kd(t) {
  let e = t.facet(Gm);
  return e.length ? e : t.facet(FC);
}
function eR(t, e) {
  let n = [nR],
    r;
  return (
    t instanceof kh &&
      (t.module && n.push(N.styleModule.of(t.module)), (r = t.themeType)),
    e != null && e.fallback
      ? n.push(FC.of(t))
      : r
        ? n.push(
            Gm.computeN([N.darkTheme], (i) =>
              i.facet(N.darkTheme) == (r == "dark") ? [t] : []
            )
          )
        : n.push(Gm.of(t)),
    n
  );
}
class tR {
  constructor(e) {
    (this.markCache = Object.create(null)),
      (this.tree = ut(e.state)),
      (this.decorations = this.buildDeco(e, Kd(e.state))),
      (this.decoratedTo = e.viewport.to);
  }
  update(e) {
    let n = ut(e.state),
      r = Kd(e.state),
      i = r != Kd(e.startState),
      { viewport: s } = e.view,
      o = e.changes.mapPos(this.decoratedTo, 1);
    n.length < s.to && !i && n.type == this.tree.type && o >= s.to
      ? ((this.decorations = this.decorations.map(e.changes)),
        (this.decoratedTo = o))
      : (n != this.tree || e.viewportChanged || i) &&
        ((this.tree = n),
        (this.decorations = this.buildDeco(e.view, r)),
        (this.decoratedTo = s.to));
  }
  buildDeco(e, n) {
    if (!n || !this.tree.length) return U.none;
    let r = new ki();
    for (let { from: i, to: s } of e.visibleRanges)
      SD(
        this.tree,
        n,
        (o, l, a) => {
          r.add(
            o,
            l,
            this.markCache[a] || (this.markCache[a] = U.mark({ class: a }))
          );
        },
        i,
        s
      );
    return r.finish();
  }
}
const nR = gs.high(Ve.fromClass(tR, { decorations: (t) => t.decorations })),
  rR = kh.define([
    { tag: R.meta, color: "#404740" },
    { tag: R.link, textDecoration: "underline" },
    { tag: R.heading, textDecoration: "underline", fontWeight: "bold" },
    { tag: R.emphasis, fontStyle: "italic" },
    { tag: R.strong, fontWeight: "bold" },
    { tag: R.strikethrough, textDecoration: "line-through" },
    { tag: R.keyword, color: "#708" },
    {
      tag: [R.atom, R.bool, R.url, R.contentSeparator, R.labelName],
      color: "#219",
    },
    { tag: [R.literal, R.inserted], color: "#164" },
    { tag: [R.string, R.deleted], color: "#a11" },
    { tag: [R.regexp, R.escape, R.special(R.string)], color: "#e40" },
    { tag: R.definition(R.variableName), color: "#00f" },
    { tag: R.local(R.variableName), color: "#30a" },
    { tag: [R.typeName, R.namespace], color: "#085" },
    { tag: R.className, color: "#167" },
    { tag: [R.special(R.variableName), R.macroName], color: "#256" },
    { tag: R.definition(R.propertyName), color: "#00c" },
    { tag: R.comment, color: "#940" },
    { tag: R.invalid, color: "#f00" },
  ]),
  iR = N.baseTheme({
    "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" },
    "&.cm-focused .cm-nonmatchingBracket": { backgroundColor: "#bb555544" },
  }),
  zC = 1e4,
  jC = "()[]{}",
  VC = $.define({
    combine(t) {
      return mr(t, {
        afterCursor: !0,
        brackets: jC,
        maxScanDistance: zC,
        renderMatch: lR,
      });
    },
  }),
  sR = U.mark({ class: "cm-matchingBracket" }),
  oR = U.mark({ class: "cm-nonmatchingBracket" });
function lR(t) {
  let e = [],
    n = t.matched ? sR : oR;
  return (
    e.push(n.range(t.start.from, t.start.to)),
    t.end && e.push(n.range(t.end.from, t.end.to)),
    e
  );
}
const aR = ct.define({
    create() {
      return U.none;
    },
    update(t, e) {
      if (!e.docChanged && !e.selection) return t;
      let n = [],
        r = e.state.facet(VC);
      for (let i of e.state.selection.ranges) {
        if (!i.empty) continue;
        let s =
          sr(e.state, i.head, -1, r) ||
          (i.head > 0 && sr(e.state, i.head - 1, 1, r)) ||
          (r.afterCursor &&
            (sr(e.state, i.head, 1, r) ||
              (i.head < e.state.doc.length && sr(e.state, i.head + 1, -1, r))));
        s && (n = n.concat(r.renderMatch(s, e.state)));
      }
      return U.set(n, !0);
    },
    provide: (t) => N.decorations.from(t),
  }),
  uR = [aR, iR];
function cR(t = {}) {
  return [VC.of(t), uR];
}
const fR = new Q();
function Ym(t, e, n) {
  let r = t.prop(e < 0 ? Q.openedBy : Q.closedBy);
  if (r) return r;
  if (t.name.length == 1) {
    let i = n.indexOf(t.name);
    if (i > -1 && i % 2 == (e < 0 ? 1 : 0)) return [n[i + e]];
  }
  return null;
}
function Xm(t) {
  let e = t.type.prop(fR);
  return e ? e(t.node) : t;
}
function sr(t, e, n, r = {}) {
  let i = r.maxScanDistance || zC,
    s = r.brackets || jC,
    o = ut(t),
    l = o.resolveInner(e, n);
  for (let a = l; a; a = a.parent) {
    let u = Ym(a.type, n, s);
    if (u && a.from < a.to) {
      let c = Xm(a);
      if (c && (n > 0 ? e >= c.from && e < c.to : e > c.from && e <= c.to))
        return hR(t, e, n, a, c, u, s);
    }
  }
  return dR(t, e, n, o, l.type, i, s);
}
function hR(t, e, n, r, i, s, o) {
  let l = r.parent,
    a = { from: i.from, to: i.to },
    u = 0,
    c = l == null ? void 0 : l.cursor();
  if (c && (n < 0 ? c.childBefore(r.from) : c.childAfter(r.to)))
    do
      if (n < 0 ? c.to <= r.from : c.from >= r.to) {
        if (u == 0 && s.indexOf(c.type.name) > -1 && c.from < c.to) {
          let f = Xm(c);
          return {
            start: a,
            end: f ? { from: f.from, to: f.to } : void 0,
            matched: !0,
          };
        } else if (Ym(c.type, n, o)) u++;
        else if (Ym(c.type, -n, o)) {
          if (u == 0) {
            let f = Xm(c);
            return {
              start: a,
              end: f && f.from < f.to ? { from: f.from, to: f.to } : void 0,
              matched: !1,
            };
          }
          u--;
        }
      }
    while (n < 0 ? c.prevSibling() : c.nextSibling());
  return { start: a, matched: !1 };
}
function dR(t, e, n, r, i, s, o) {
  let l = n < 0 ? t.sliceDoc(e - 1, e) : t.sliceDoc(e, e + 1),
    a = o.indexOf(l);
  if (a < 0 || (a % 2 == 0) != n > 0) return null;
  let u = { from: n < 0 ? e - 1 : e, to: n > 0 ? e + 1 : e },
    c = t.doc.iterRange(e, n > 0 ? t.doc.length : 0),
    f = 0;
  for (let h = 0; !c.next().done && h <= s; ) {
    let d = c.value;
    n < 0 && (h += d.length);
    let p = e + h * n;
    for (
      let m = n > 0 ? 0 : d.length - 1, w = n > 0 ? d.length : -1;
      m != w;
      m += n
    ) {
      let g = o.indexOf(d[m]);
      if (!(g < 0 || r.resolveInner(p + m, 1).type != i))
        if ((g % 2 == 0) == n > 0) f++;
        else {
          if (f == 1)
            return {
              start: u,
              end: { from: p + m, to: p + m + 1 },
              matched: g >> 1 == a >> 1,
            };
          f--;
        }
    }
    n > 0 && (h += d.length);
  }
  return c.done ? { start: u, matched: !1 } : null;
}
function mw(t, e, n, r = 0, i = 0) {
  e == null && ((e = t.search(/[^\s\u00a0]/)), e == -1 && (e = t.length));
  let s = i;
  for (let o = r; o < e; o++) t.charCodeAt(o) == 9 ? (s += n - (s % n)) : s++;
  return s;
}
class HC {
  constructor(e, n, r, i) {
    (this.string = e),
      (this.tabSize = n),
      (this.indentUnit = r),
      (this.overrideIndent = i),
      (this.pos = 0),
      (this.start = 0),
      (this.lastColumnPos = 0),
      (this.lastColumnValue = 0);
  }
  eol() {
    return this.pos >= this.string.length;
  }
  sol() {
    return this.pos == 0;
  }
  peek() {
    return this.string.charAt(this.pos) || void 0;
  }
  next() {
    if (this.pos < this.string.length) return this.string.charAt(this.pos++);
  }
  eat(e) {
    let n = this.string.charAt(this.pos),
      r;
    if (
      (typeof e == "string"
        ? (r = n == e)
        : (r = n && (e instanceof RegExp ? e.test(n) : e(n))),
      r)
    )
      return ++this.pos, n;
  }
  eatWhile(e) {
    let n = this.pos;
    for (; this.eat(e); );
    return this.pos > n;
  }
  eatSpace() {
    let e = this.pos;
    for (; /[\s\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos;
    return this.pos > e;
  }
  skipToEnd() {
    this.pos = this.string.length;
  }
  skipTo(e) {
    let n = this.string.indexOf(e, this.pos);
    if (n > -1) return (this.pos = n), !0;
  }
  backUp(e) {
    this.pos -= e;
  }
  column() {
    return (
      this.lastColumnPos < this.start &&
        ((this.lastColumnValue = mw(
          this.string,
          this.start,
          this.tabSize,
          this.lastColumnPos,
          this.lastColumnValue
        )),
        (this.lastColumnPos = this.start)),
      this.lastColumnValue
    );
  }
  indentation() {
    var e;
    return (e = this.overrideIndent) !== null && e !== void 0
      ? e
      : mw(this.string, null, this.tabSize);
  }
  match(e, n, r) {
    if (typeof e == "string") {
      let i = (o) => (r ? o.toLowerCase() : o),
        s = this.string.substr(this.pos, e.length);
      return i(s) == i(e) ? (n !== !1 && (this.pos += e.length), !0) : null;
    } else {
      let i = this.string.slice(this.pos).match(e);
      return i && i.index > 0
        ? null
        : (i && n !== !1 && (this.pos += i[0].length), i);
    }
  }
  current() {
    return this.string.slice(this.start, this.pos);
  }
}
function pR(t) {
  return {
    name: t.name || "",
    token: t.token,
    blankLine: t.blankLine || (() => {}),
    startState: t.startState || (() => !0),
    copyState: t.copyState || mR,
    indent: t.indent || (() => null),
    languageData: t.languageData || {},
    tokenTable: t.tokenTable || q0,
  };
}
function mR(t) {
  if (typeof t != "object") return t;
  let e = {};
  for (let n in t) {
    let r = t[n];
    e[n] = r instanceof Array ? r.slice() : r;
  }
  return e;
}
const gw = new WeakMap();
class U0 extends Tn {
  constructor(e) {
    let n = _D(e.languageData),
      r = pR(e),
      i,
      s = new (class extends nk {
        createParse(o, l, a) {
          return new yR(i, o, l, a);
        }
      })();
    super(n, s, [PC.of((o, l) => this.getIndent(o, l))], e.name),
      (this.topNode = bR(n)),
      (i = this),
      (this.streamParser = r),
      (this.stateAfter = new Q({ perNode: !0 })),
      (this.tokenTable = e.tokenTable ? new qC(r.tokenTable) : wR);
  }
  static define(e) {
    return new U0(e);
  }
  getIndent(e, n) {
    let r = ut(e.state),
      i = r.resolve(n);
    for (; i && i.type != this.topNode; ) i = i.parent;
    if (!i) return null;
    let s,
      { overrideIndentation: o } = e.options;
    o && ((s = gw.get(e.state)), s != null && s < n - 1e4 && (s = void 0));
    let l = K0(this, r, 0, i.from, s ?? n),
      a,
      u;
    if (
      (l
        ? ((u = l.state), (a = l.pos + 1))
        : ((u = this.streamParser.startState(e.unit)), (a = 0)),
      n - a > 1e4)
    )
      return null;
    for (; a < n; ) {
      let f = e.state.doc.lineAt(a),
        h = Math.min(n, f.to);
      if (f.length) {
        let d = o ? o(f.from) : -1,
          p = new HC(f.text, e.state.tabSize, e.unit, d < 0 ? void 0 : d);
        for (; p.pos < h - f.from; ) UC(this.streamParser.token, p, u);
      } else this.streamParser.blankLine(u, e.unit);
      if (h == n) break;
      a = f.to + 1;
    }
    let c = e.lineAt(n);
    return (
      o && s == null && gw.set(e.state, c.from),
      this.streamParser.indent(u, /^\s*(.*)/.exec(c.text)[1], e)
    );
  }
  get allowsNesting() {
    return !1;
  }
}
function K0(t, e, n, r, i) {
  let s = n >= r && n + e.length <= i && e.prop(t.stateAfter);
  if (s) return { state: t.streamParser.copyState(s), pos: n + e.length };
  for (let o = e.children.length - 1; o >= 0; o--) {
    let l = e.children[o],
      a = n + e.positions[o],
      u = l instanceof Me && a < i && K0(t, l, a, r, i);
    if (u) return u;
  }
  return null;
}
function WC(t, e, n, r, i) {
  if (i && n <= 0 && r >= e.length) return e;
  !i && e.type == t.topNode && (i = !0);
  for (let s = e.children.length - 1; s >= 0; s--) {
    let o = e.positions[s],
      l = e.children[s],
      a;
    if (o < r && l instanceof Me) {
      if (!(a = WC(t, l, n - o, r - o, i))) break;
      return i
        ? new Me(
            e.type,
            e.children.slice(0, s).concat(a),
            e.positions.slice(0, s + 1),
            o + a.length
          )
        : a;
    }
  }
  return null;
}
function gR(t, e, n, r) {
  for (let i of e) {
    let s = i.from + (i.openStart ? 25 : 0),
      o = i.to - (i.openEnd ? 25 : 0),
      l = s <= n && o > n && K0(t, i.tree, 0 - i.offset, n, o),
      a;
    if (l && (a = WC(t, i.tree, n + i.offset, l.pos + i.offset, !1)))
      return { state: l.state, tree: a };
  }
  return { state: t.streamParser.startState(r ? as(r) : 4), tree: Me.empty };
}
class yR {
  constructor(e, n, r, i) {
    (this.lang = e),
      (this.input = n),
      (this.fragments = r),
      (this.ranges = i),
      (this.stoppedAt = null),
      (this.chunks = []),
      (this.chunkPos = []),
      (this.chunk = []),
      (this.chunkReused = void 0),
      (this.rangeIndex = 0),
      (this.to = i[i.length - 1].to);
    let s = _o.get(),
      o = i[0].from,
      { state: l, tree: a } = gR(e, r, o, s == null ? void 0 : s.state);
    (this.state = l), (this.parsedPos = this.chunkStart = o + a.length);
    for (let u = 0; u < a.children.length; u++)
      this.chunks.push(a.children[u]), this.chunkPos.push(a.positions[u]);
    s &&
      this.parsedPos < s.viewport.from - 1e5 &&
      ((this.state = this.lang.streamParser.startState(as(s.state))),
      s.skipUntilInView(this.parsedPos, s.viewport.from),
      (this.parsedPos = s.viewport.from)),
      this.moveRangeIndex();
  }
  advance() {
    let e = _o.get(),
      n = this.stoppedAt == null ? this.to : Math.min(this.to, this.stoppedAt),
      r = Math.min(n, this.chunkStart + 2048);
    for (e && (r = Math.min(r, e.viewport.to)); this.parsedPos < r; )
      this.parseLine(e);
    return (
      this.chunkStart < this.parsedPos && this.finishChunk(),
      this.parsedPos >= n
        ? this.finish()
        : e && this.parsedPos >= e.viewport.to
          ? (e.skipUntilInView(this.parsedPos, n), this.finish())
          : null
    );
  }
  stopAt(e) {
    this.stoppedAt = e;
  }
  lineAfter(e) {
    let n = this.input.chunk(e);
    if (this.input.lineChunks)
      n ==
        `
` && (n = "");
    else {
      let r = n.indexOf(`
`);
      r > -1 && (n = n.slice(0, r));
    }
    return e + n.length <= this.to ? n : n.slice(0, this.to - e);
  }
  nextLine() {
    let e = this.parsedPos,
      n = this.lineAfter(e),
      r = e + n.length;
    for (let i = this.rangeIndex; ; ) {
      let s = this.ranges[i].to;
      if (
        s >= r ||
        ((n = n.slice(0, s - (r - n.length))), i++, i == this.ranges.length)
      )
        break;
      let o = this.ranges[i].from,
        l = this.lineAfter(o);
      (n += l), (r = o + l.length);
    }
    return { line: n, end: r };
  }
  skipGapsTo(e, n, r) {
    for (;;) {
      let i = this.ranges[this.rangeIndex].to,
        s = e + n;
      if (r > 0 ? i > s : i >= s) break;
      let o = this.ranges[++this.rangeIndex].from;
      n += o - i;
    }
    return n;
  }
  moveRangeIndex() {
    for (; this.ranges[this.rangeIndex].to < this.parsedPos; )
      this.rangeIndex++;
  }
  emitToken(e, n, r, i, s) {
    if (this.ranges.length > 1) {
      (s = this.skipGapsTo(n, s, 1)), (n += s);
      let o = this.chunk.length;
      (s = this.skipGapsTo(r, s, -1)), (r += s), (i += this.chunk.length - o);
    }
    return this.chunk.push(e, n, r, i), s;
  }
  parseLine(e) {
    let { line: n, end: r } = this.nextLine(),
      i = 0,
      { streamParser: s } = this.lang,
      o = new HC(n, e ? e.state.tabSize : 4, e ? as(e.state) : 2);
    if (o.eol()) s.blankLine(this.state, o.indentUnit);
    else
      for (; !o.eol(); ) {
        let l = UC(s.token, o, this.state);
        if (
          (l &&
            (i = this.emitToken(
              this.lang.tokenTable.resolve(l),
              this.parsedPos + o.start,
              this.parsedPos + o.pos,
              4,
              i
            )),
          o.start > 1e4)
        )
          break;
      }
    (this.parsedPos = r),
      this.moveRangeIndex(),
      this.parsedPos < this.to && this.parsedPos++;
  }
  finishChunk() {
    let e = Me.build({
      buffer: this.chunk,
      start: this.chunkStart,
      length: this.parsedPos - this.chunkStart,
      nodeSet: vR,
      topID: 0,
      maxBufferLength: 2048,
      reused: this.chunkReused,
    });
    (e = new Me(e.type, e.children, e.positions, e.length, [
      [this.lang.stateAfter, this.lang.streamParser.copyState(this.state)],
    ])),
      this.chunks.push(e),
      this.chunkPos.push(this.chunkStart - this.ranges[0].from),
      (this.chunk = []),
      (this.chunkReused = void 0),
      (this.chunkStart = this.parsedPos);
  }
  finish() {
    return new Me(
      this.lang.topNode,
      this.chunks,
      this.chunkPos,
      this.parsedPos - this.ranges[0].from
    ).balance();
  }
}
function UC(t, e, n) {
  e.start = e.pos;
  for (let r = 0; r < 10; r++) {
    let i = t(e, n);
    if (e.pos > e.start) return i;
  }
  throw new Error("Stream parser failed to advance stream.");
}
const q0 = Object.create(null),
  da = [Ft.none],
  vR = new k0(da),
  yw = [],
  vw = Object.create(null),
  KC = Object.create(null);
for (let [t, e] of [
  ["variable", "variableName"],
  ["variable-2", "variableName.special"],
  ["string-2", "string.special"],
  ["def", "variableName.definition"],
  ["tag", "tagName"],
  ["attribute", "attributeName"],
  ["type", "typeName"],
  ["builtin", "variableName.standard"],
  ["qualifier", "modifier"],
  ["error", "invalid"],
  ["header", "heading"],
  ["property", "propertyName"],
])
  KC[t] = GC(q0, e);
class qC {
  constructor(e) {
    (this.extra = e), (this.table = Object.assign(Object.create(null), KC));
  }
  resolve(e) {
    return e ? this.table[e] || (this.table[e] = GC(this.extra, e)) : 0;
  }
}
const wR = new qC(q0);
function qd(t, e) {
  yw.indexOf(t) > -1 || (yw.push(t), console.warn(e));
}
function GC(t, e) {
  let n = [];
  for (let l of e.split(" ")) {
    let a = [];
    for (let u of l.split(".")) {
      let c = t[u] || R[u];
      c
        ? typeof c == "function"
          ? a.length
            ? (a = a.map(c))
            : qd(u, `Modifier ${u} used at start of tag`)
          : a.length
            ? qd(u, `Tag ${u} used as modifier`)
            : (a = Array.isArray(c) ? c : [c])
        : qd(u, `Unknown highlighting tag ${u}`);
    }
    for (let u of a) n.push(u);
  }
  if (!n.length) return 0;
  let r = e.replace(/ /g, "_"),
    i = r + " " + n.map((l) => l.id),
    s = vw[i];
  if (s) return s.id;
  let o = (vw[i] = Ft.define({
    id: da.length,
    name: r,
    props: [bD({ [r]: n })],
  }));
  return da.push(o), o.id;
}
function bR(t) {
  let e = Ft.define({
    id: da.length,
    name: "Document",
    props: [Ws.add(() => t)],
    top: !0,
  });
  return da.push(e), e;
}
Se.RTL, Se.LTR;
function YC(t) {
  function e(f, h) {
    f.cmdState.push(h);
  }
  function n(f) {
    return f.cmdState.length > 0 ? f.cmdState[f.cmdState.length - 1] : null;
  }
  function r(f) {
    var h = f.cmdState.pop();
    h && h.closeBracket();
  }
  function i(f) {
    for (var h = f.cmdState, d = h.length - 1; d >= 0; d--) {
      var p = h[d];
      if (p.name != "DEFAULT") return p;
    }
    return {
      styleIdentifier: function () {
        return null;
      },
    };
  }
  function s(f, h, d) {
    return function () {
      (this.name = f),
        (this.bracketNo = 0),
        (this.style = h),
        (this.styles = d),
        (this.argument = null),
        (this.styleIdentifier = function () {
          return this.styles[this.bracketNo - 1] || null;
        }),
        (this.openBracket = function () {
          return this.bracketNo++, "bracket";
        }),
        (this.closeBracket = function () {});
    };
  }
  var o = {};
  (o.importmodule = s("importmodule", "tag", ["string", "builtin"])),
    (o.documentclass = s("documentclass", "tag", ["", "atom"])),
    (o.usepackage = s("usepackage", "tag", ["atom"])),
    (o.begin = s("begin", "tag", ["atom"])),
    (o.end = s("end", "tag", ["atom"])),
    (o.label = s("label", "tag", ["atom"])),
    (o.ref = s("ref", "tag", ["atom"])),
    (o.eqref = s("eqref", "tag", ["atom"])),
    (o.cite = s("cite", "tag", ["atom"])),
    (o.bibitem = s("bibitem", "tag", ["atom"])),
    (o.Bibitem = s("Bibitem", "tag", ["atom"])),
    (o.RBibitem = s("RBibitem", "tag", ["atom"])),
    (o.DEFAULT = function () {
      (this.name = "DEFAULT"),
        (this.style = "tag"),
        (this.styleIdentifier =
          this.openBracket =
          this.closeBracket =
            function () {});
    });
  function l(f, h) {
    f.f = h;
  }
  function a(f, h) {
    var d;
    if (f.match(/^\\[a-zA-Z@\xc0-\u1fff\u2060-\uffff]+/)) {
      var p = f.current().slice(1);
      return (
        (d = o.hasOwnProperty(p) ? o[p] : o.DEFAULT),
        (d = new d()),
        e(h, d),
        l(h, c),
        d.style
      );
    }
    if (f.match(/^\\[$&%#{}_]/) || f.match(/^\\[,;!\/\\]/)) return "tag";
    if (f.match("\\["))
      return (
        l(h, function (w, g) {
          return u(w, g, "\\]");
        }),
        "keyword"
      );
    if (f.match("\\("))
      return (
        l(h, function (w, g) {
          return u(w, g, "\\)");
        }),
        "keyword"
      );
    if (f.match("$$"))
      return (
        l(h, function (w, g) {
          return u(w, g, "$$");
        }),
        "keyword"
      );
    if (f.match("$"))
      return (
        l(h, function (w, g) {
          return u(w, g, "$");
        }),
        "keyword"
      );
    var m = f.next();
    if (m == "%") return f.skipToEnd(), "comment";
    if (m == "}" || m == "]") {
      if (((d = n(h)), d)) d.closeBracket(m), l(h, c);
      else return "error";
      return "bracket";
    } else
      return m == "{" || m == "["
        ? ((d = o.DEFAULT), (d = new d()), e(h, d), "bracket")
        : /\d/.test(m)
          ? (f.eatWhile(/[\w.%]/), "atom")
          : (f.eatWhile(/[\w\-_]/),
            (d = i(h)),
            d.name == "begin" && (d.argument = f.current()),
            d.styleIdentifier());
  }
  function u(f, h, d) {
    if (f.eatSpace()) return null;
    if (d && f.match(d)) return l(h, a), "keyword";
    if (f.match(/^\\[a-zA-Z@]+/)) return "tag";
    if (f.match(/^[a-zA-Z]+/)) return "variableName.special";
    if (f.match(/^\\[$&%#{}_]/) || f.match(/^\\[,;!\/]/) || f.match(/^[\^_&]/))
      return "tag";
    if (f.match(/^[+\-<>|=,\/@!*:;'"`~#?]/)) return null;
    if (f.match(/^(\d+\.\d*|\d*\.\d+|\d+)/)) return "number";
    var p = f.next();
    return p == "{" || p == "}" || p == "[" || p == "]" || p == "(" || p == ")"
      ? "bracket"
      : p == "%"
        ? (f.skipToEnd(), "comment")
        : "error";
  }
  function c(f, h) {
    var d = f.peek(),
      p;
    return d == "{" || d == "["
      ? ((p = n(h)), p.openBracket(d), f.eat(d), l(h, a), "bracket")
      : /[ \t\r]/.test(d)
        ? (f.eat(d), null)
        : (l(h, a), r(h), a(f, h));
  }
  return {
    name: "stex",
    startState: function () {
      var f = t
        ? function (h, d) {
            return u(h, d);
          }
        : a;
      return { cmdState: [], f };
    },
    copyState: function (f) {
      return { cmdState: f.cmdState.slice(), f: f.f };
    },
    token: function (f, h) {
      return h.f(f, h);
    },
    blankLine: function (f) {
      (f.f = a), (f.cmdState.length = 0);
    },
    languageData: { commentTokens: { line: "%" } },
  };
}
const xR = YC(!1);
YC(!0);
const SR = (t) => {
  let { state: e } = t,
    n = e.doc.lineAt(e.selection.main.from),
    r = Y0(t.state, n.from);
  return r.line ? kR(t) : r.block ? _R(t) : !1;
};
function G0(t, e) {
  return ({ state: n, dispatch: r }) => {
    if (n.readOnly) return !1;
    let i = t(e, n);
    return i ? (r(n.update(i)), !0) : !1;
  };
}
const kR = G0(MR, 0),
  CR = G0(XC, 0),
  _R = G0((t, e) => XC(t, e, OR(e)), 0);
function Y0(t, e) {
  let n = t.languageDataAt("commentTokens", e);
  return n.length ? n[0] : {};
}
const il = 50;
function AR(t, { open: e, close: n }, r, i) {
  let s = t.sliceDoc(r - il, r),
    o = t.sliceDoc(i, i + il),
    l = /\s*$/.exec(s)[0].length,
    a = /^\s*/.exec(o)[0].length,
    u = s.length - l;
  if (s.slice(u - e.length, u) == e && o.slice(a, a + n.length) == n)
    return {
      open: { pos: r - l, margin: l && 1 },
      close: { pos: i + a, margin: a && 1 },
    };
  let c, f;
  i - r <= 2 * il
    ? (c = f = t.sliceDoc(r, i))
    : ((c = t.sliceDoc(r, r + il)), (f = t.sliceDoc(i - il, i)));
  let h = /^\s*/.exec(c)[0].length,
    d = /\s*$/.exec(f)[0].length,
    p = f.length - d - n.length;
  return c.slice(h, h + e.length) == e && f.slice(p, p + n.length) == n
    ? {
        open: {
          pos: r + h + e.length,
          margin: /\s/.test(c.charAt(h + e.length)) ? 1 : 0,
        },
        close: {
          pos: i - d - n.length,
          margin: /\s/.test(f.charAt(p - 1)) ? 1 : 0,
        },
      }
    : null;
}
function OR(t) {
  let e = [];
  for (let n of t.selection.ranges) {
    let r = t.doc.lineAt(n.from),
      i = n.to <= r.to ? r : t.doc.lineAt(n.to),
      s = e.length - 1;
    s >= 0 && e[s].to > r.from
      ? (e[s].to = i.to)
      : e.push({ from: r.from + /^\s*/.exec(r.text)[0].length, to: i.to });
  }
  return e;
}
function XC(t, e, n = e.selection.ranges) {
  let r = n.map((s) => Y0(e, s.from).block);
  if (!r.every((s) => s)) return null;
  let i = n.map((s, o) => AR(e, r[o], s.from, s.to));
  if (t != 2 && !i.every((s) => s))
    return {
      changes: e.changes(
        n.map((s, o) =>
          i[o]
            ? []
            : [
                { from: s.from, insert: r[o].open + " " },
                { from: s.to, insert: " " + r[o].close },
              ]
        )
      ),
    };
  if (t != 1 && i.some((s) => s)) {
    let s = [];
    for (let o = 0, l; o < i.length; o++)
      if ((l = i[o])) {
        let a = r[o],
          { open: u, close: c } = l;
        s.push(
          { from: u.pos - a.open.length, to: u.pos + u.margin },
          { from: c.pos - c.margin, to: c.pos + a.close.length }
        );
      }
    return { changes: s };
  }
  return null;
}
function MR(t, e, n = e.selection.ranges) {
  let r = [],
    i = -1;
  for (let { from: s, to: o } of n) {
    let l = r.length,
      a = 1e9,
      u = Y0(e, s).line;
    if (u) {
      for (let c = s; c <= o; ) {
        let f = e.doc.lineAt(c);
        if (f.from > i && (s == o || o > f.from)) {
          i = f.from;
          let h = /^\s*/.exec(f.text)[0].length,
            d = h == f.length,
            p = f.text.slice(h, h + u.length) == u ? h : -1;
          h < f.text.length && h < a && (a = h),
            r.push({
              line: f,
              comment: p,
              token: u,
              indent: h,
              empty: d,
              single: !1,
            });
        }
        c = f.to + 1;
      }
      if (a < 1e9)
        for (let c = l; c < r.length; c++)
          r[c].indent < r[c].line.text.length && (r[c].indent = a);
      r.length == l + 1 && (r[l].single = !0);
    }
  }
  if (t != 2 && r.some((s) => s.comment < 0 && (!s.empty || s.single))) {
    let s = [];
    for (let { line: l, token: a, indent: u, empty: c, single: f } of r)
      (f || !c) && s.push({ from: l.from + u, insert: a + " " });
    let o = e.changes(s);
    return { changes: o, selection: e.selection.map(o, 1) };
  } else if (t != 1 && r.some((s) => s.comment >= 0)) {
    let s = [];
    for (let { line: o, comment: l, token: a } of r)
      if (l >= 0) {
        let u = o.from + l,
          c = u + a.length;
        o.text[c - o.from] == " " && c++, s.push({ from: u, to: c });
      }
    return { changes: s };
  }
  return null;
}
const Qm = Ir.define(),
  ER = Ir.define(),
  TR = $.define(),
  QC = $.define({
    combine(t) {
      return mr(
        t,
        { minDepth: 100, newGroupDelay: 500, joinToEvent: (e, n) => n },
        {
          minDepth: Math.max,
          newGroupDelay: Math.min,
          joinToEvent: (e, n) => (r, i) => e(r, i) || n(r, i),
        }
      );
    },
  }),
  JC = ct.define({
    create() {
      return or.empty;
    },
    update(t, e) {
      let n = e.state.facet(QC),
        r = e.annotation(Qm);
      if (r) {
        let a = Lt.fromTransaction(e, r.selection),
          u = r.side,
          c = u == 0 ? t.undone : t.done;
        return (
          a
            ? (c = bf(c, c.length, n.minDepth, a))
            : (c = t_(c, e.startState.selection)),
          new or(u == 0 ? r.rest : c, u == 0 ? c : r.rest)
        );
      }
      let i = e.annotation(ER);
      if (
        ((i == "full" || i == "before") && (t = t.isolate()),
        e.annotation(Ye.addToHistory) === !1)
      )
        return e.changes.empty ? t : t.addMapping(e.changes.desc);
      let s = Lt.fromTransaction(e),
        o = e.annotation(Ye.time),
        l = e.annotation(Ye.userEvent);
      return (
        s
          ? (t = t.addChanges(s, o, l, n, e))
          : e.selection &&
            (t = t.addSelection(e.startState.selection, o, l, n.newGroupDelay)),
        (i == "full" || i == "after") && (t = t.isolate()),
        t
      );
    },
    toJSON(t) {
      return {
        done: t.done.map((e) => e.toJSON()),
        undone: t.undone.map((e) => e.toJSON()),
      };
    },
    fromJSON(t) {
      return new or(t.done.map(Lt.fromJSON), t.undone.map(Lt.fromJSON));
    },
  });
function PR(t = {}) {
  return [
    JC,
    QC.of(t),
    N.domEventHandlers({
      beforeinput(e, n) {
        let r =
          e.inputType == "historyUndo"
            ? ZC
            : e.inputType == "historyRedo"
              ? Jm
              : null;
        return r ? (e.preventDefault(), r(n)) : !1;
      },
    }),
  ];
}
function Ch(t, e) {
  return function ({ state: n, dispatch: r }) {
    if (!e && n.readOnly) return !1;
    let i = n.field(JC, !1);
    if (!i) return !1;
    let s = i.pop(t, n, e);
    return s ? (r(s), !0) : !1;
  };
}
const ZC = Ch(0, !1),
  Jm = Ch(1, !1),
  DR = Ch(0, !0),
  RR = Ch(1, !0);
class Lt {
  constructor(e, n, r, i, s) {
    (this.changes = e),
      (this.effects = n),
      (this.mapped = r),
      (this.startSelection = i),
      (this.selectionsAfter = s);
  }
  setSelAfter(e) {
    return new Lt(
      this.changes,
      this.effects,
      this.mapped,
      this.startSelection,
      e
    );
  }
  toJSON() {
    var e, n, r;
    return {
      changes:
        (e = this.changes) === null || e === void 0 ? void 0 : e.toJSON(),
      mapped: (n = this.mapped) === null || n === void 0 ? void 0 : n.toJSON(),
      startSelection:
        (r = this.startSelection) === null || r === void 0
          ? void 0
          : r.toJSON(),
      selectionsAfter: this.selectionsAfter.map((i) => i.toJSON()),
    };
  }
  static fromJSON(e) {
    return new Lt(
      e.changes && Ke.fromJSON(e.changes),
      [],
      e.mapped && dr.fromJSON(e.mapped),
      e.startSelection && A.fromJSON(e.startSelection),
      e.selectionsAfter.map(A.fromJSON)
    );
  }
  static fromTransaction(e, n) {
    let r = dn;
    for (let i of e.startState.facet(TR)) {
      let s = i(e);
      s.length && (r = r.concat(s));
    }
    return !r.length && e.changes.empty
      ? null
      : new Lt(
          e.changes.invert(e.startState.doc),
          r,
          void 0,
          n || e.startState.selection,
          dn
        );
  }
  static selection(e) {
    return new Lt(void 0, dn, void 0, void 0, e);
  }
}
function bf(t, e, n, r) {
  let i = e + 1 > n + 20 ? e - n - 1 : 0,
    s = t.slice(i, e);
  return s.push(r), s;
}
function LR(t, e) {
  let n = [],
    r = !1;
  return (
    t.iterChangedRanges((i, s) => n.push(i, s)),
    e.iterChangedRanges((i, s, o, l) => {
      for (let a = 0; a < n.length; ) {
        let u = n[a++],
          c = n[a++];
        l >= u && o <= c && (r = !0);
      }
    }),
    r
  );
}
function BR(t, e) {
  return (
    t.ranges.length == e.ranges.length &&
    t.ranges.filter((n, r) => n.empty != e.ranges[r].empty).length === 0
  );
}
function e_(t, e) {
  return t.length ? (e.length ? t.concat(e) : t) : e;
}
const dn = [],
  NR = 200;
function t_(t, e) {
  if (t.length) {
    let n = t[t.length - 1],
      r = n.selectionsAfter.slice(Math.max(0, n.selectionsAfter.length - NR));
    return r.length && r[r.length - 1].eq(e)
      ? t
      : (r.push(e), bf(t, t.length - 1, 1e9, n.setSelAfter(r)));
  } else return [Lt.selection([e])];
}
function IR(t) {
  let e = t[t.length - 1],
    n = t.slice();
  return (
    (n[t.length - 1] = e.setSelAfter(
      e.selectionsAfter.slice(0, e.selectionsAfter.length - 1)
    )),
    n
  );
}
function Gd(t, e) {
  if (!t.length) return t;
  let n = t.length,
    r = dn;
  for (; n; ) {
    let i = $R(t[n - 1], e, r);
    if ((i.changes && !i.changes.empty) || i.effects.length) {
      let s = t.slice(0, n);
      return (s[n - 1] = i), s;
    } else (e = i.mapped), n--, (r = i.selectionsAfter);
  }
  return r.length ? [Lt.selection(r)] : dn;
}
function $R(t, e, n) {
  let r = e_(
    t.selectionsAfter.length ? t.selectionsAfter.map((l) => l.map(e)) : dn,
    n
  );
  if (!t.changes) return Lt.selection(r);
  let i = t.changes.map(e),
    s = e.mapDesc(t.changes, !0),
    o = t.mapped ? t.mapped.composeDesc(s) : s;
  return new Lt(i, Y.mapEffects(t.effects, e), o, t.startSelection.map(s), r);
}
const FR = /^(input\.type|delete)($|\.)/;
class or {
  constructor(e, n, r = 0, i = void 0) {
    (this.done = e),
      (this.undone = n),
      (this.prevTime = r),
      (this.prevUserEvent = i);
  }
  isolate() {
    return this.prevTime ? new or(this.done, this.undone) : this;
  }
  addChanges(e, n, r, i, s) {
    let o = this.done,
      l = o[o.length - 1];
    return (
      l &&
      l.changes &&
      !l.changes.empty &&
      e.changes &&
      (!r || FR.test(r)) &&
      ((!l.selectionsAfter.length &&
        n - this.prevTime < i.newGroupDelay &&
        i.joinToEvent(s, LR(l.changes, e.changes))) ||
        r == "input.type.compose")
        ? (o = bf(
            o,
            o.length - 1,
            i.minDepth,
            new Lt(
              e.changes.compose(l.changes),
              e_(e.effects, l.effects),
              l.mapped,
              l.startSelection,
              dn
            )
          ))
        : (o = bf(o, o.length, i.minDepth, e)),
      new or(o, dn, n, r)
    );
  }
  addSelection(e, n, r, i) {
    let s = this.done.length
      ? this.done[this.done.length - 1].selectionsAfter
      : dn;
    return s.length > 0 &&
      n - this.prevTime < i &&
      r == this.prevUserEvent &&
      r &&
      /^select($|\.)/.test(r) &&
      BR(s[s.length - 1], e)
      ? this
      : new or(t_(this.done, e), this.undone, n, r);
  }
  addMapping(e) {
    return new or(
      Gd(this.done, e),
      Gd(this.undone, e),
      this.prevTime,
      this.prevUserEvent
    );
  }
  pop(e, n, r) {
    let i = e == 0 ? this.done : this.undone;
    if (i.length == 0) return null;
    let s = i[i.length - 1],
      o = s.selectionsAfter[0] || n.selection;
    if (r && s.selectionsAfter.length)
      return n.update({
        selection: s.selectionsAfter[s.selectionsAfter.length - 1],
        annotations: Qm.of({ side: e, rest: IR(i), selection: o }),
        userEvent: e == 0 ? "select.undo" : "select.redo",
        scrollIntoView: !0,
      });
    if (s.changes) {
      let l = i.length == 1 ? dn : i.slice(0, i.length - 1);
      return (
        s.mapped && (l = Gd(l, s.mapped)),
        n.update({
          changes: s.changes,
          selection: s.startSelection,
          effects: s.effects,
          annotations: Qm.of({ side: e, rest: l, selection: o }),
          filter: !1,
          userEvent: e == 0 ? "undo" : "redo",
          scrollIntoView: !0,
        })
      );
    } else return null;
  }
}
or.empty = new or(dn, dn);
const zR = [
  { key: "Mod-z", run: ZC, preventDefault: !0 },
  { key: "Mod-y", mac: "Mod-Shift-z", run: Jm, preventDefault: !0 },
  { linux: "Ctrl-Shift-z", run: Jm, preventDefault: !0 },
  { key: "Mod-u", run: DR, preventDefault: !0 },
  { key: "Alt-u", mac: "Mod-Shift-u", run: RR, preventDefault: !0 },
];
function Io(t, e) {
  return A.create(t.ranges.map(e), t.mainIndex);
}
function gr(t, e) {
  return t.update({ selection: e, scrollIntoView: !0, userEvent: "select" });
}
function jn({ state: t, dispatch: e }, n) {
  let r = Io(t.selection, n);
  return r.eq(t.selection, !0) ? !1 : (e(gr(t, r)), !0);
}
function _h(t, e) {
  return A.cursor(e ? t.to : t.from);
}
function n_(t, e) {
  return jn(t, (n) => (n.empty ? t.moveByChar(n, e) : _h(n, e)));
}
function vt(t) {
  return t.textDirectionAt(t.state.selection.main.head) == Se.LTR;
}
const r_ = (t) => n_(t, !vt(t)),
  i_ = (t) => n_(t, vt(t));
function s_(t, e) {
  return jn(t, (n) => (n.empty ? t.moveByGroup(n, e) : _h(n, e)));
}
const jR = (t) => s_(t, !vt(t)),
  VR = (t) => s_(t, vt(t));
function HR(t, e, n) {
  if (e.type.prop(n)) return !0;
  let r = e.to - e.from;
  return (
    (r && (r > 2 || /[^\s,.;:]/.test(t.sliceDoc(e.from, e.to)))) || e.firstChild
  );
}
function Ah(t, e, n) {
  let r = ut(t).resolveInner(e.head),
    i = n ? Q.closedBy : Q.openedBy;
  for (let a = e.head; ; ) {
    let u = n ? r.childAfter(a) : r.childBefore(a);
    if (!u) break;
    HR(t, u, i) ? (r = u) : (a = n ? u.to : u.from);
  }
  let s = r.type.prop(i),
    o,
    l;
  return (
    s && (o = n ? sr(t, r.from, 1) : sr(t, r.to, -1)) && o.matched
      ? (l = n ? o.end.to : o.end.from)
      : (l = n ? r.to : r.from),
    A.cursor(l, n ? -1 : 1)
  );
}
const WR = (t) => jn(t, (e) => Ah(t.state, e, !vt(t))),
  UR = (t) => jn(t, (e) => Ah(t.state, e, vt(t)));
function o_(t, e) {
  return jn(t, (n) => {
    if (!n.empty) return _h(n, e);
    let r = t.moveVertically(n, e);
    return r.head != n.head ? r : t.moveToLineBoundary(n, e);
  });
}
const l_ = (t) => o_(t, !1),
  a_ = (t) => o_(t, !0);
function u_(t) {
  let e = t.scrollDOM.clientHeight < t.scrollDOM.scrollHeight - 2,
    n = 0,
    r = 0,
    i;
  if (e) {
    for (let s of t.state.facet(N.scrollMargins)) {
      let o = s(t);
      o != null && o.top && (n = Math.max(o == null ? void 0 : o.top, n)),
        o != null &&
          o.bottom &&
          (r = Math.max(o == null ? void 0 : o.bottom, r));
    }
    i = t.scrollDOM.clientHeight - n - r;
  } else i = (t.dom.ownerDocument.defaultView || window).innerHeight;
  return {
    marginTop: n,
    marginBottom: r,
    selfScroll: e,
    height: Math.max(t.defaultLineHeight, i - 5),
  };
}
function c_(t, e) {
  let n = u_(t),
    { state: r } = t,
    i = Io(r.selection, (o) =>
      o.empty ? t.moveVertically(o, e, n.height) : _h(o, e)
    );
  if (i.eq(r.selection)) return !1;
  let s;
  if (n.selfScroll) {
    let o = t.coordsAtPos(r.selection.main.head),
      l = t.scrollDOM.getBoundingClientRect(),
      a = l.top + n.marginTop,
      u = l.bottom - n.marginBottom;
    o &&
      o.top > a &&
      o.bottom < u &&
      (s = N.scrollIntoView(i.main.head, { y: "start", yMargin: o.top - a }));
  }
  return t.dispatch(gr(r, i), { effects: s }), !0;
}
const ww = (t) => c_(t, !1),
  Zm = (t) => c_(t, !0);
function Li(t, e, n) {
  let r = t.lineBlockAt(e.head),
    i = t.moveToLineBoundary(e, n);
  if (
    (i.head == e.head &&
      i.head != (n ? r.to : r.from) &&
      (i = t.moveToLineBoundary(e, n, !1)),
    !n && i.head == r.from && r.length)
  ) {
    let s = /^\s*/.exec(
      t.state.sliceDoc(r.from, Math.min(r.from + 100, r.to))
    )[0].length;
    s && e.head != r.from + s && (i = A.cursor(r.from + s));
  }
  return i;
}
const KR = (t) => jn(t, (e) => Li(t, e, !0)),
  qR = (t) => jn(t, (e) => Li(t, e, !1)),
  GR = (t) => jn(t, (e) => Li(t, e, !vt(t))),
  YR = (t) => jn(t, (e) => Li(t, e, vt(t))),
  XR = (t) => jn(t, (e) => A.cursor(t.lineBlockAt(e.head).from, 1)),
  QR = (t) => jn(t, (e) => A.cursor(t.lineBlockAt(e.head).to, -1));
function JR(t, e, n) {
  let r = !1,
    i = Io(t.selection, (s) => {
      let o =
        sr(t, s.head, -1) ||
        sr(t, s.head, 1) ||
        (s.head > 0 && sr(t, s.head - 1, 1)) ||
        (s.head < t.doc.length && sr(t, s.head + 1, -1));
      if (!o || !o.end) return s;
      r = !0;
      let l = o.start.from == s.head ? o.end.to : o.end.from;
      return n ? A.range(s.anchor, l) : A.cursor(l);
    });
  return r ? (e(gr(t, i)), !0) : !1;
}
const ZR = ({ state: t, dispatch: e }) => JR(t, e, !1);
function xn(t, e) {
  let n = Io(t.state.selection, (r) => {
    let i = e(r);
    return A.range(r.anchor, i.head, i.goalColumn, i.bidiLevel || void 0);
  });
  return n.eq(t.state.selection) ? !1 : (t.dispatch(gr(t.state, n)), !0);
}
function f_(t, e) {
  return xn(t, (n) => t.moveByChar(n, e));
}
const h_ = (t) => f_(t, !vt(t)),
  d_ = (t) => f_(t, vt(t));
function p_(t, e) {
  return xn(t, (n) => t.moveByGroup(n, e));
}
const eL = (t) => p_(t, !vt(t)),
  tL = (t) => p_(t, vt(t)),
  nL = (t) => xn(t, (e) => Ah(t.state, e, !vt(t))),
  rL = (t) => xn(t, (e) => Ah(t.state, e, vt(t)));
function m_(t, e) {
  return xn(t, (n) => t.moveVertically(n, e));
}
const g_ = (t) => m_(t, !1),
  y_ = (t) => m_(t, !0);
function v_(t, e) {
  return xn(t, (n) => t.moveVertically(n, e, u_(t).height));
}
const bw = (t) => v_(t, !1),
  xw = (t) => v_(t, !0),
  iL = (t) => xn(t, (e) => Li(t, e, !0)),
  sL = (t) => xn(t, (e) => Li(t, e, !1)),
  oL = (t) => xn(t, (e) => Li(t, e, !vt(t))),
  lL = (t) => xn(t, (e) => Li(t, e, vt(t))),
  aL = (t) => xn(t, (e) => A.cursor(t.lineBlockAt(e.head).from)),
  uL = (t) => xn(t, (e) => A.cursor(t.lineBlockAt(e.head).to)),
  Sw = ({ state: t, dispatch: e }) => (e(gr(t, { anchor: 0 })), !0),
  kw = ({ state: t, dispatch: e }) => (e(gr(t, { anchor: t.doc.length })), !0),
  Cw = ({ state: t, dispatch: e }) => (
    e(gr(t, { anchor: t.selection.main.anchor, head: 0 })), !0
  ),
  _w = ({ state: t, dispatch: e }) => (
    e(gr(t, { anchor: t.selection.main.anchor, head: t.doc.length })), !0
  ),
  cL = ({ state: t, dispatch: e }) => (
    e(
      t.update({
        selection: { anchor: 0, head: t.doc.length },
        userEvent: "select",
      })
    ),
    !0
  ),
  fL = ({ state: t, dispatch: e }) => {
    let n = Oh(t).map(({ from: r, to: i }) =>
      A.range(r, Math.min(i + 1, t.doc.length))
    );
    return e(t.update({ selection: A.create(n), userEvent: "select" })), !0;
  },
  hL = ({ state: t, dispatch: e }) => {
    let n = Io(t.selection, (r) => {
      var i;
      let s = ut(t).resolveStack(r.from, 1);
      for (let o = s; o; o = o.next) {
        let { node: l } = o;
        if (
          ((l.from < r.from && l.to >= r.to) ||
            (l.to > r.to && l.from <= r.from)) &&
          !((i = l.parent) === null || i === void 0) &&
          i.parent
        )
          return A.range(l.to, l.from);
      }
      return r;
    });
    return e(gr(t, n)), !0;
  },
  dL = ({ state: t, dispatch: e }) => {
    let n = t.selection,
      r = null;
    return (
      n.ranges.length > 1
        ? (r = A.create([n.main]))
        : n.main.empty || (r = A.create([A.cursor(n.main.head)])),
      r ? (e(gr(t, r)), !0) : !1
    );
  };
function Qa(t, e) {
  if (t.state.readOnly) return !1;
  let n = "delete.selection",
    { state: r } = t,
    i = r.changeByRange((s) => {
      let { from: o, to: l } = s;
      if (o == l) {
        let a = e(s);
        a < o
          ? ((n = "delete.backward"), (a = Ku(t, a, !1)))
          : a > o && ((n = "delete.forward"), (a = Ku(t, a, !0))),
          (o = Math.min(o, a)),
          (l = Math.max(l, a));
      } else (o = Ku(t, o, !1)), (l = Ku(t, l, !0));
      return o == l
        ? { range: s }
        : {
            changes: { from: o, to: l },
            range: A.cursor(o, o < s.head ? -1 : 1),
          };
    });
  return i.changes.empty
    ? !1
    : (t.dispatch(
        r.update(i, {
          scrollIntoView: !0,
          userEvent: n,
          effects:
            n == "delete.selection"
              ? N.announce.of(r.phrase("Selection deleted"))
              : void 0,
        })
      ),
      !0);
}
function Ku(t, e, n) {
  if (t instanceof N)
    for (let r of t.state.facet(N.atomicRanges).map((i) => i(t)))
      r.between(e, e, (i, s) => {
        i < e && s > e && (e = n ? s : i);
      });
  return e;
}
const w_ = (t, e, n) =>
    Qa(t, (r) => {
      let i = r.from,
        { state: s } = t,
        o = s.doc.lineAt(i),
        l,
        a;
      if (
        n &&
        !e &&
        i > o.from &&
        i < o.from + 200 &&
        !/[^ \t]/.test((l = o.text.slice(0, i - o.from)))
      ) {
        if (l[l.length - 1] == "	") return i - 1;
        let u = No(l, s.tabSize),
          c = u % as(s) || as(s);
        for (let f = 0; f < c && l[l.length - 1 - f] == " "; f++) i--;
        a = i;
      } else
        (a = ot(o.text, i - o.from, e, e) + o.from),
          a == i && o.number != (e ? s.doc.lines : 1)
            ? (a += e ? 1 : -1)
            : !e &&
              /[\ufe00-\ufe0f]/.test(o.text.slice(a - o.from, i - o.from)) &&
              (a = ot(o.text, a - o.from, !1, !1) + o.from);
      return a;
    }),
  eg = (t) => w_(t, !1, !0),
  b_ = (t) => w_(t, !0, !1),
  x_ = (t, e) =>
    Qa(t, (n) => {
      let r = n.head,
        { state: i } = t,
        s = i.doc.lineAt(r),
        o = i.charCategorizer(r);
      for (let l = null; ; ) {
        if (r == (e ? s.to : s.from)) {
          r == n.head && s.number != (e ? i.doc.lines : 1) && (r += e ? 1 : -1);
          break;
        }
        let a = ot(s.text, r - s.from, e) + s.from,
          u = s.text.slice(Math.min(r, a) - s.from, Math.max(r, a) - s.from),
          c = o(u);
        if (l != null && c != l) break;
        (u != " " || r != n.head) && (l = c), (r = a);
      }
      return r;
    }),
  S_ = (t) => x_(t, !1),
  pL = (t) => x_(t, !0),
  mL = (t) =>
    Qa(t, (e) => {
      let n = t.lineBlockAt(e.head).to;
      return e.head < n ? n : Math.min(t.state.doc.length, e.head + 1);
    }),
  gL = (t) =>
    Qa(t, (e) => {
      let n = t.moveToLineBoundary(e, !1).head;
      return e.head > n ? n : Math.max(0, e.head - 1);
    }),
  yL = (t) =>
    Qa(t, (e) => {
      let n = t.moveToLineBoundary(e, !0).head;
      return e.head < n ? n : Math.min(t.state.doc.length, e.head + 1);
    }),
  vL = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let n = t.changeByRange((r) => ({
      changes: { from: r.from, to: r.to, insert: le.of(["", ""]) },
      range: A.cursor(r.from),
    }));
    return e(t.update(n, { scrollIntoView: !0, userEvent: "input" })), !0;
  },
  wL = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let n = t.changeByRange((r) => {
      if (!r.empty || r.from == 0 || r.from == t.doc.length)
        return { range: r };
      let i = r.from,
        s = t.doc.lineAt(i),
        o = i == s.from ? i - 1 : ot(s.text, i - s.from, !1) + s.from,
        l = i == s.to ? i + 1 : ot(s.text, i - s.from, !0) + s.from;
      return {
        changes: {
          from: o,
          to: l,
          insert: t.doc.slice(i, l).append(t.doc.slice(o, i)),
        },
        range: A.cursor(l),
      };
    });
    return n.changes.empty
      ? !1
      : (e(t.update(n, { scrollIntoView: !0, userEvent: "move.character" })),
        !0);
  };
function Oh(t) {
  let e = [],
    n = -1;
  for (let r of t.selection.ranges) {
    let i = t.doc.lineAt(r.from),
      s = t.doc.lineAt(r.to);
    if (
      (!r.empty && r.to == s.from && (s = t.doc.lineAt(r.to - 1)),
      n >= i.number)
    ) {
      let o = e[e.length - 1];
      (o.to = s.to), o.ranges.push(r);
    } else e.push({ from: i.from, to: s.to, ranges: [r] });
    n = s.number + 1;
  }
  return e;
}
function k_(t, e, n) {
  if (t.readOnly) return !1;
  let r = [],
    i = [];
  for (let s of Oh(t)) {
    if (n ? s.to == t.doc.length : s.from == 0) continue;
    let o = t.doc.lineAt(n ? s.to + 1 : s.from - 1),
      l = o.length + 1;
    if (n) {
      r.push(
        { from: s.to, to: o.to },
        { from: s.from, insert: o.text + t.lineBreak }
      );
      for (let a of s.ranges)
        i.push(
          A.range(
            Math.min(t.doc.length, a.anchor + l),
            Math.min(t.doc.length, a.head + l)
          )
        );
    } else {
      r.push(
        { from: o.from, to: s.from },
        { from: s.to, insert: t.lineBreak + o.text }
      );
      for (let a of s.ranges) i.push(A.range(a.anchor - l, a.head - l));
    }
  }
  return r.length
    ? (e(
        t.update({
          changes: r,
          scrollIntoView: !0,
          selection: A.create(i, t.selection.mainIndex),
          userEvent: "move.line",
        })
      ),
      !0)
    : !1;
}
const bL = ({ state: t, dispatch: e }) => k_(t, e, !1),
  xL = ({ state: t, dispatch: e }) => k_(t, e, !0);
function C_(t, e, n) {
  if (t.readOnly) return !1;
  let r = [];
  for (let i of Oh(t))
    n
      ? r.push({
          from: i.from,
          insert: t.doc.slice(i.from, i.to) + t.lineBreak,
        })
      : r.push({ from: i.to, insert: t.lineBreak + t.doc.slice(i.from, i.to) });
  return (
    e(
      t.update({ changes: r, scrollIntoView: !0, userEvent: "input.copyline" })
    ),
    !0
  );
}
const SL = ({ state: t, dispatch: e }) => C_(t, e, !1),
  kL = ({ state: t, dispatch: e }) => C_(t, e, !0),
  CL = (t) => {
    if (t.state.readOnly) return !1;
    let { state: e } = t,
      n = e.changes(
        Oh(e).map(
          ({ from: i, to: s }) => (
            i > 0 ? i-- : s < e.doc.length && s++, { from: i, to: s }
          )
        )
      ),
      r = Io(e.selection, (i) => {
        let s;
        if (t.lineWrapping) {
          let o = t.lineBlockAt(i.head),
            l = t.coordsAtPos(i.head, i.assoc || 1);
          l &&
            (s = o.bottom + t.documentTop - l.bottom + t.defaultLineHeight / 2);
        }
        return t.moveVertically(i, !0, s);
      }).map(n);
    return (
      t.dispatch({
        changes: n,
        selection: r,
        scrollIntoView: !0,
        userEvent: "delete.line",
      }),
      !0
    );
  };
function _L(t, e) {
  if (/\(\)|\[\]|\{\}/.test(t.sliceDoc(e - 1, e + 1)))
    return { from: e, to: e };
  let n = ut(t).resolveInner(e),
    r = n.childBefore(e),
    i = n.childAfter(e),
    s;
  return r &&
    i &&
    r.to <= e &&
    i.from >= e &&
    (s = r.type.prop(Q.closedBy)) &&
    s.indexOf(i.name) > -1 &&
    t.doc.lineAt(r.to).from == t.doc.lineAt(i.from).from &&
    !/\S/.test(t.sliceDoc(r.to, i.from))
    ? { from: r.to, to: i.from }
    : null;
}
const AL = __(!1),
  OL = __(!0);
function __(t) {
  return ({ state: e, dispatch: n }) => {
    if (e.readOnly) return !1;
    let r = e.changeByRange((i) => {
      let { from: s, to: o } = i,
        l = e.doc.lineAt(s),
        a = !t && s == o && _L(e, s);
      t && (s = o = (o <= l.to ? l : e.doc.lineAt(o)).to);
      let u = new xh(e, { simulateBreak: s, simulateDoubleBreak: !!a }),
        c = V0(u, s);
      for (
        c == null && (c = No(/^\s*/.exec(e.doc.lineAt(s).text)[0], e.tabSize));
        o < l.to && /\s/.test(l.text[o - l.from]);

      )
        o++;
      a
        ? ({ from: s, to: o } = a)
        : s > l.from &&
          s < l.from + 100 &&
          !/\S/.test(l.text.slice(0, s)) &&
          (s = l.from);
      let f = ["", ha(e, c)];
      return (
        a && f.push(ha(e, u.lineIndent(l.from, -1))),
        {
          changes: { from: s, to: o, insert: le.of(f) },
          range: A.cursor(s + 1 + f[1].length),
        }
      );
    });
    return n(e.update(r, { scrollIntoView: !0, userEvent: "input" })), !0;
  };
}
function X0(t, e) {
  let n = -1;
  return t.changeByRange((r) => {
    let i = [];
    for (let o = r.from; o <= r.to; ) {
      let l = t.doc.lineAt(o);
      l.number > n &&
        (r.empty || r.to > l.from) &&
        (e(l, i, r), (n = l.number)),
        (o = l.to + 1);
    }
    let s = t.changes(i);
    return {
      changes: i,
      range: A.range(s.mapPos(r.anchor, 1), s.mapPos(r.head, 1)),
    };
  });
}
const ML = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let n = Object.create(null),
      r = new xh(t, {
        overrideIndentation: (s) => {
          let o = n[s];
          return o ?? -1;
        },
      }),
      i = X0(t, (s, o, l) => {
        let a = V0(r, s.from);
        if (a == null) return;
        /\S/.test(s.text) || (a = 0);
        let u = /^\s*/.exec(s.text)[0],
          c = ha(t, a);
        (u != c || l.from < s.from + u.length) &&
          ((n[s.from] = a),
          o.push({ from: s.from, to: s.from + u.length, insert: c }));
      });
    return i.changes.empty || e(t.update(i, { userEvent: "indent" })), !0;
  },
  EL = ({ state: t, dispatch: e }) =>
    t.readOnly
      ? !1
      : (e(
          t.update(
            X0(t, (n, r) => {
              r.push({ from: n.from, insert: t.facet(j0) });
            }),
            { userEvent: "input.indent" }
          )
        ),
        !0),
  TL = ({ state: t, dispatch: e }) =>
    t.readOnly
      ? !1
      : (e(
          t.update(
            X0(t, (n, r) => {
              let i = /^\s*/.exec(n.text)[0];
              if (!i) return;
              let s = No(i, t.tabSize),
                o = 0,
                l = ha(t, Math.max(0, s - as(t)));
              for (
                ;
                o < i.length &&
                o < l.length &&
                i.charCodeAt(o) == l.charCodeAt(o);

              )
                o++;
              r.push({
                from: n.from + o,
                to: n.from + i.length,
                insert: l.slice(o),
              });
            }),
            { userEvent: "delete.dedent" }
          )
        ),
        !0),
  PL = [
    { key: "Ctrl-b", run: r_, shift: h_, preventDefault: !0 },
    { key: "Ctrl-f", run: i_, shift: d_ },
    { key: "Ctrl-p", run: l_, shift: g_ },
    { key: "Ctrl-n", run: a_, shift: y_ },
    { key: "Ctrl-a", run: XR, shift: aL },
    { key: "Ctrl-e", run: QR, shift: uL },
    { key: "Ctrl-d", run: b_ },
    { key: "Ctrl-h", run: eg },
    { key: "Ctrl-k", run: mL },
    { key: "Ctrl-Alt-h", run: S_ },
    { key: "Ctrl-o", run: vL },
    { key: "Ctrl-t", run: wL },
    { key: "Ctrl-v", run: Zm },
  ],
  DL = [
    { key: "ArrowLeft", run: r_, shift: h_, preventDefault: !0 },
    {
      key: "Mod-ArrowLeft",
      mac: "Alt-ArrowLeft",
      run: jR,
      shift: eL,
      preventDefault: !0,
    },
    { mac: "Cmd-ArrowLeft", run: GR, shift: oL, preventDefault: !0 },
    { key: "ArrowRight", run: i_, shift: d_, preventDefault: !0 },
    {
      key: "Mod-ArrowRight",
      mac: "Alt-ArrowRight",
      run: VR,
      shift: tL,
      preventDefault: !0,
    },
    { mac: "Cmd-ArrowRight", run: YR, shift: lL, preventDefault: !0 },
    { key: "ArrowUp", run: l_, shift: g_, preventDefault: !0 },
    { mac: "Cmd-ArrowUp", run: Sw, shift: Cw },
    { mac: "Ctrl-ArrowUp", run: ww, shift: bw },
    { key: "ArrowDown", run: a_, shift: y_, preventDefault: !0 },
    { mac: "Cmd-ArrowDown", run: kw, shift: _w },
    { mac: "Ctrl-ArrowDown", run: Zm, shift: xw },
    { key: "PageUp", run: ww, shift: bw },
    { key: "PageDown", run: Zm, shift: xw },
    { key: "Home", run: qR, shift: sL, preventDefault: !0 },
    { key: "Mod-Home", run: Sw, shift: Cw },
    { key: "End", run: KR, shift: iL, preventDefault: !0 },
    { key: "Mod-End", run: kw, shift: _w },
    { key: "Enter", run: AL },
    { key: "Mod-a", run: cL },
    { key: "Backspace", run: eg, shift: eg },
    { key: "Delete", run: b_ },
    { key: "Mod-Backspace", mac: "Alt-Backspace", run: S_ },
    { key: "Mod-Delete", mac: "Alt-Delete", run: pL },
    { mac: "Mod-Backspace", run: gL },
    { mac: "Mod-Delete", run: yL },
  ].concat(PL.map((t) => ({ mac: t.key, run: t.run, shift: t.shift }))),
  RL = [
    { key: "Alt-ArrowLeft", mac: "Ctrl-ArrowLeft", run: WR, shift: nL },
    { key: "Alt-ArrowRight", mac: "Ctrl-ArrowRight", run: UR, shift: rL },
    { key: "Alt-ArrowUp", run: bL },
    { key: "Shift-Alt-ArrowUp", run: SL },
    { key: "Alt-ArrowDown", run: xL },
    { key: "Shift-Alt-ArrowDown", run: kL },
    { key: "Escape", run: dL },
    { key: "Mod-Enter", run: OL },
    { key: "Alt-l", mac: "Ctrl-l", run: fL },
    { key: "Mod-i", run: hL, preventDefault: !0 },
    { key: "Mod-[", run: TL },
    { key: "Mod-]", run: EL },
    { key: "Mod-Alt-\\", run: ML },
    { key: "Shift-Mod-k", run: CL },
    { key: "Shift-Mod-\\", run: ZR },
    { key: "Mod-/", run: SR },
    { key: "Alt-A", run: CR },
  ].concat(DL);
function ge() {
  var t = arguments[0];
  typeof t == "string" && (t = document.createElement(t));
  var e = 1,
    n = arguments[1];
  if (n && typeof n == "object" && n.nodeType == null && !Array.isArray(n)) {
    for (var r in n)
      if (Object.prototype.hasOwnProperty.call(n, r)) {
        var i = n[r];
        typeof i == "string" ? t.setAttribute(r, i) : i != null && (t[r] = i);
      }
    e++;
  }
  for (; e < arguments.length; e++) A_(t, arguments[e]);
  return t;
}
function A_(t, e) {
  if (typeof e == "string") t.appendChild(document.createTextNode(e));
  else if (e != null)
    if (e.nodeType != null) t.appendChild(e);
    else if (Array.isArray(e)) for (var n = 0; n < e.length; n++) A_(t, e[n]);
    else throw new RangeError("Unsupported child node: " + e);
}
const Aw =
  typeof String.prototype.normalize == "function"
    ? (t) => t.normalize("NFKD")
    : (t) => t;
class Oo {
  constructor(e, n, r = 0, i = e.length, s, o) {
    (this.test = o),
      (this.value = { from: 0, to: 0 }),
      (this.done = !1),
      (this.matches = []),
      (this.buffer = ""),
      (this.bufferPos = 0),
      (this.iter = e.iterRange(r, i)),
      (this.bufferStart = r),
      (this.normalize = s ? (l) => s(Aw(l)) : Aw),
      (this.query = this.normalize(n));
  }
  peek() {
    if (this.bufferPos == this.buffer.length) {
      if (
        ((this.bufferStart += this.buffer.length),
        this.iter.next(),
        this.iter.done)
      )
        return -1;
      (this.bufferPos = 0), (this.buffer = this.iter.value);
    }
    return rt(this.buffer, this.bufferPos);
  }
  next() {
    for (; this.matches.length; ) this.matches.pop();
    return this.nextOverlapping();
  }
  nextOverlapping() {
    for (;;) {
      let e = this.peek();
      if (e < 0) return (this.done = !0), this;
      let n = O0(e),
        r = this.bufferStart + this.bufferPos;
      this.bufferPos += un(e);
      let i = this.normalize(n);
      for (let s = 0, o = r; ; s++) {
        let l = i.charCodeAt(s),
          a = this.match(l, o, this.bufferPos + this.bufferStart);
        if (s == i.length - 1) {
          if (a) return (this.value = a), this;
          break;
        }
        o == r && s < n.length && n.charCodeAt(s) == l && o++;
      }
    }
  }
  match(e, n, r) {
    let i = null;
    for (let s = 0; s < this.matches.length; s += 2) {
      let o = this.matches[s],
        l = !1;
      this.query.charCodeAt(o) == e &&
        (o == this.query.length - 1
          ? (i = { from: this.matches[s + 1], to: r })
          : (this.matches[s]++, (l = !0))),
        l || (this.matches.splice(s, 2), (s -= 2));
    }
    return (
      this.query.charCodeAt(0) == e &&
        (this.query.length == 1
          ? (i = { from: n, to: r })
          : this.matches.push(1, n)),
      i &&
        this.test &&
        !this.test(i.from, i.to, this.buffer, this.bufferStart) &&
        (i = null),
      i
    );
  }
}
typeof Symbol < "u" &&
  (Oo.prototype[Symbol.iterator] = function () {
    return this;
  });
const O_ = { from: -1, to: -1, match: /.*/.exec("") },
  Q0 = "gm" + (/x/.unicode == null ? "" : "u");
class M_ {
  constructor(e, n, r, i = 0, s = e.length) {
    if (
      ((this.text = e),
      (this.to = s),
      (this.curLine = ""),
      (this.done = !1),
      (this.value = O_),
      /\\[sWDnr]|\n|\r|\[\^/.test(n))
    )
      return new E_(e, n, r, i, s);
    (this.re = new RegExp(n, Q0 + (r != null && r.ignoreCase ? "i" : ""))),
      (this.test = r == null ? void 0 : r.test),
      (this.iter = e.iter());
    let o = e.lineAt(i);
    (this.curLineStart = o.from),
      (this.matchPos = xf(e, i)),
      this.getLine(this.curLineStart);
  }
  getLine(e) {
    this.iter.next(e),
      this.iter.lineBreak
        ? (this.curLine = "")
        : ((this.curLine = this.iter.value),
          this.curLineStart + this.curLine.length > this.to &&
            (this.curLine = this.curLine.slice(0, this.to - this.curLineStart)),
          this.iter.next());
  }
  nextLine() {
    (this.curLineStart = this.curLineStart + this.curLine.length + 1),
      this.curLineStart > this.to ? (this.curLine = "") : this.getLine(0);
  }
  next() {
    for (let e = this.matchPos - this.curLineStart; ; ) {
      this.re.lastIndex = e;
      let n = this.matchPos <= this.to && this.re.exec(this.curLine);
      if (n) {
        let r = this.curLineStart + n.index,
          i = r + n[0].length;
        if (
          ((this.matchPos = xf(this.text, i + (r == i ? 1 : 0))),
          r == this.curLineStart + this.curLine.length && this.nextLine(),
          (r < i || r > this.value.to) && (!this.test || this.test(r, i, n)))
        )
          return (this.value = { from: r, to: i, match: n }), this;
        e = this.matchPos - this.curLineStart;
      } else if (this.curLineStart + this.curLine.length < this.to)
        this.nextLine(), (e = 0);
      else return (this.done = !0), this;
    }
  }
}
const Yd = new WeakMap();
class ro {
  constructor(e, n) {
    (this.from = e), (this.text = n);
  }
  get to() {
    return this.from + this.text.length;
  }
  static get(e, n, r) {
    let i = Yd.get(e);
    if (!i || i.from >= r || i.to <= n) {
      let l = new ro(n, e.sliceString(n, r));
      return Yd.set(e, l), l;
    }
    if (i.from == n && i.to == r) return i;
    let { text: s, from: o } = i;
    return (
      o > n && ((s = e.sliceString(n, o) + s), (o = n)),
      i.to < r && (s += e.sliceString(i.to, r)),
      Yd.set(e, new ro(o, s)),
      new ro(n, s.slice(n - o, r - o))
    );
  }
}
class E_ {
  constructor(e, n, r, i, s) {
    (this.text = e),
      (this.to = s),
      (this.done = !1),
      (this.value = O_),
      (this.matchPos = xf(e, i)),
      (this.re = new RegExp(n, Q0 + (r != null && r.ignoreCase ? "i" : ""))),
      (this.test = r == null ? void 0 : r.test),
      (this.flat = ro.get(e, i, this.chunkEnd(i + 5e3)));
  }
  chunkEnd(e) {
    return e >= this.to ? this.to : this.text.lineAt(e).to;
  }
  next() {
    for (;;) {
      let e = (this.re.lastIndex = this.matchPos - this.flat.from),
        n = this.re.exec(this.flat.text);
      if (
        (n &&
          !n[0] &&
          n.index == e &&
          ((this.re.lastIndex = e + 1), (n = this.re.exec(this.flat.text))),
        n)
      ) {
        let r = this.flat.from + n.index,
          i = r + n[0].length;
        if (
          (this.flat.to >= this.to ||
            n.index + n[0].length <= this.flat.text.length - 10) &&
          (!this.test || this.test(r, i, n))
        )
          return (
            (this.value = { from: r, to: i, match: n }),
            (this.matchPos = xf(this.text, i + (r == i ? 1 : 0))),
            this
          );
      }
      if (this.flat.to == this.to) return (this.done = !0), this;
      this.flat = ro.get(
        this.text,
        this.flat.from,
        this.chunkEnd(this.flat.from + this.flat.text.length * 2)
      );
    }
  }
}
typeof Symbol < "u" &&
  (M_.prototype[Symbol.iterator] = E_.prototype[Symbol.iterator] =
    function () {
      return this;
    });
function LL(t) {
  try {
    return new RegExp(t, Q0), !0;
  } catch {
    return !1;
  }
}
function xf(t, e) {
  if (e >= t.length) return e;
  let n = t.lineAt(e),
    r;
  for (
    ;
    e < n.to && (r = n.text.charCodeAt(e - n.from)) >= 56320 && r < 57344;

  )
    e++;
  return e;
}
function tg(t) {
  let e = String(t.state.doc.lineAt(t.state.selection.main.head).number),
    n = ge("input", { class: "cm-textfield", name: "line", value: e }),
    r = ge(
      "form",
      {
        class: "cm-gotoLine",
        onkeydown: (s) => {
          s.keyCode == 27
            ? (s.preventDefault(),
              t.dispatch({ effects: Sf.of(!1) }),
              t.focus())
            : s.keyCode == 13 && (s.preventDefault(), i());
        },
        onsubmit: (s) => {
          s.preventDefault(), i();
        },
      },
      ge("label", t.state.phrase("Go to line"), ": ", n),
      " ",
      ge("button", { class: "cm-button", type: "submit" }, t.state.phrase("go"))
    );
  function i() {
    let s = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);
    if (!s) return;
    let { state: o } = t,
      l = o.doc.lineAt(o.selection.main.head),
      [, a, u, c, f] = s,
      h = c ? +c.slice(1) : 0,
      d = u ? +u : l.number;
    if (u && f) {
      let w = d / 100;
      a && (w = w * (a == "-" ? -1 : 1) + l.number / o.doc.lines),
        (d = Math.round(o.doc.lines * w));
    } else u && a && (d = d * (a == "-" ? -1 : 1) + l.number);
    let p = o.doc.line(Math.max(1, Math.min(o.doc.lines, d))),
      m = A.cursor(p.from + Math.max(0, Math.min(h, p.length)));
    t.dispatch({
      effects: [Sf.of(!1), N.scrollIntoView(m.from, { y: "center" })],
      selection: m,
    }),
      t.focus();
  }
  return { dom: r };
}
const Sf = Y.define(),
  Ow = ct.define({
    create() {
      return !0;
    },
    update(t, e) {
      for (let n of e.effects) n.is(Sf) && (t = n.value);
      return t;
    },
    provide: (t) => fa.from(t, (e) => (e ? tg : null)),
  }),
  BL = (t) => {
    let e = ca(t, tg);
    if (!e) {
      let n = [Sf.of(!0)];
      t.state.field(Ow, !1) == null && n.push(Y.appendConfig.of([Ow, NL])),
        t.dispatch({ effects: n }),
        (e = ca(t, tg));
    }
    return e && e.dom.querySelector("input").select(), !0;
  },
  NL = N.baseTheme({
    ".cm-panel.cm-gotoLine": {
      padding: "2px 6px 4px",
      "& label": { fontSize: "80%" },
    },
  }),
  IL = {
    highlightWordAroundCursor: !1,
    minSelectionLength: 1,
    maxMatches: 100,
    wholeWords: !1,
  },
  T_ = $.define({
    combine(t) {
      return mr(t, IL, {
        highlightWordAroundCursor: (e, n) => e || n,
        minSelectionLength: Math.min,
        maxMatches: Math.min,
      });
    },
  });
function $L(t) {
  let e = [HL, VL];
  return t && e.push(T_.of(t)), e;
}
const FL = U.mark({ class: "cm-selectionMatch" }),
  zL = U.mark({ class: "cm-selectionMatch cm-selectionMatch-main" });
function Mw(t, e, n, r) {
  return (
    (n == 0 || t(e.sliceDoc(n - 1, n)) != _e.Word) &&
    (r == e.doc.length || t(e.sliceDoc(r, r + 1)) != _e.Word)
  );
}
function jL(t, e, n, r) {
  return (
    t(e.sliceDoc(n, n + 1)) == _e.Word && t(e.sliceDoc(r - 1, r)) == _e.Word
  );
}
const VL = Ve.fromClass(
    class {
      constructor(t) {
        this.decorations = this.getDeco(t);
      }
      update(t) {
        (t.selectionSet || t.docChanged || t.viewportChanged) &&
          (this.decorations = this.getDeco(t.view));
      }
      getDeco(t) {
        let e = t.state.facet(T_),
          { state: n } = t,
          r = n.selection;
        if (r.ranges.length > 1) return U.none;
        let i = r.main,
          s,
          o = null;
        if (i.empty) {
          if (!e.highlightWordAroundCursor) return U.none;
          let a = n.wordAt(i.head);
          if (!a) return U.none;
          (o = n.charCategorizer(i.head)), (s = n.sliceDoc(a.from, a.to));
        } else {
          let a = i.to - i.from;
          if (a < e.minSelectionLength || a > 200) return U.none;
          if (e.wholeWords) {
            if (
              ((s = n.sliceDoc(i.from, i.to)),
              (o = n.charCategorizer(i.head)),
              !(Mw(o, n, i.from, i.to) && jL(o, n, i.from, i.to)))
            )
              return U.none;
          } else if (((s = n.sliceDoc(i.from, i.to)), !s)) return U.none;
        }
        let l = [];
        for (let a of t.visibleRanges) {
          let u = new Oo(n.doc, s, a.from, a.to);
          for (; !u.next().done; ) {
            let { from: c, to: f } = u.value;
            if (
              (!o || Mw(o, n, c, f)) &&
              (i.empty && c <= i.from && f >= i.to
                ? l.push(zL.range(c, f))
                : (c >= i.to || f <= i.from) && l.push(FL.range(c, f)),
              l.length > e.maxMatches)
            )
              return U.none;
          }
        }
        return U.set(l);
      }
    },
    { decorations: (t) => t.decorations }
  ),
  HL = N.baseTheme({
    ".cm-selectionMatch": { backgroundColor: "#99ff7780" },
    ".cm-searchMatch .cm-selectionMatch": { backgroundColor: "transparent" },
  }),
  WL = ({ state: t, dispatch: e }) => {
    let { selection: n } = t,
      r = A.create(
        n.ranges.map((i) => t.wordAt(i.head) || A.cursor(i.head)),
        n.mainIndex
      );
    return r.eq(n) ? !1 : (e(t.update({ selection: r })), !0);
  };
function UL(t, e) {
  let { main: n, ranges: r } = t.selection,
    i = t.wordAt(n.head),
    s = i && i.from == n.from && i.to == n.to;
  for (let o = !1, l = new Oo(t.doc, e, r[r.length - 1].to); ; )
    if ((l.next(), l.done)) {
      if (o) return null;
      (l = new Oo(t.doc, e, 0, Math.max(0, r[r.length - 1].from - 1))),
        (o = !0);
    } else {
      if (o && r.some((a) => a.from == l.value.from)) continue;
      if (s) {
        let a = t.wordAt(l.value.from);
        if (!a || a.from != l.value.from || a.to != l.value.to) continue;
      }
      return l.value;
    }
}
const KL = ({ state: t, dispatch: e }) => {
    let { ranges: n } = t.selection;
    if (n.some((s) => s.from === s.to)) return WL({ state: t, dispatch: e });
    let r = t.sliceDoc(n[0].from, n[0].to);
    if (t.selection.ranges.some((s) => t.sliceDoc(s.from, s.to) != r))
      return !1;
    let i = UL(t, r);
    return i
      ? (e(
          t.update({
            selection: t.selection.addRange(A.range(i.from, i.to), !1),
            effects: N.scrollIntoView(i.to),
          })
        ),
        !0)
      : !1;
  },
  $o = $.define({
    combine(t) {
      return mr(t, {
        top: !1,
        caseSensitive: !1,
        literal: !1,
        regexp: !1,
        wholeWord: !1,
        createPanel: (e) => new i8(e),
        scrollToMatch: (e) => N.scrollIntoView(e),
      });
    },
  });
class P_ {
  constructor(e) {
    (this.search = e.search),
      (this.caseSensitive = !!e.caseSensitive),
      (this.literal = !!e.literal),
      (this.regexp = !!e.regexp),
      (this.replace = e.replace || ""),
      (this.valid = !!this.search && (!this.regexp || LL(this.search))),
      (this.unquoted = this.unquote(this.search)),
      (this.wholeWord = !!e.wholeWord);
  }
  unquote(e) {
    return this.literal
      ? e
      : e.replace(/\\([nrt\\])/g, (n, r) =>
          r == "n"
            ? `
`
            : r == "r"
              ? "\r"
              : r == "t"
                ? "	"
                : "\\"
        );
  }
  eq(e) {
    return (
      this.search == e.search &&
      this.replace == e.replace &&
      this.caseSensitive == e.caseSensitive &&
      this.regexp == e.regexp &&
      this.wholeWord == e.wholeWord
    );
  }
  create() {
    return this.regexp ? new XL(this) : new GL(this);
  }
  getCursor(e, n = 0, r) {
    let i = e.doc ? e : ee.create({ doc: e });
    return (
      r == null && (r = i.doc.length),
      this.regexp ? Ms(this, i, n, r) : Os(this, i, n, r)
    );
  }
}
class D_ {
  constructor(e) {
    this.spec = e;
  }
}
function Os(t, e, n, r) {
  return new Oo(
    e.doc,
    t.unquoted,
    n,
    r,
    t.caseSensitive ? void 0 : (i) => i.toLowerCase(),
    t.wholeWord ? qL(e.doc, e.charCategorizer(e.selection.main.head)) : void 0
  );
}
function qL(t, e) {
  return (n, r, i, s) => (
    (s > n || s + i.length < r) &&
      ((s = Math.max(0, n - 2)),
      (i = t.sliceString(s, Math.min(t.length, r + 2)))),
    (e(kf(i, n - s)) != _e.Word || e(Cf(i, n - s)) != _e.Word) &&
      (e(Cf(i, r - s)) != _e.Word || e(kf(i, r - s)) != _e.Word)
  );
}
class GL extends D_ {
  constructor(e) {
    super(e);
  }
  nextMatch(e, n, r) {
    let i = Os(this.spec, e, r, e.doc.length).nextOverlapping();
    return (
      i.done && (i = Os(this.spec, e, 0, n).nextOverlapping()),
      i.done ? null : i.value
    );
  }
  prevMatchInRange(e, n, r) {
    for (let i = r; ; ) {
      let s = Math.max(n, i - 1e4 - this.spec.unquoted.length),
        o = Os(this.spec, e, s, i),
        l = null;
      for (; !o.nextOverlapping().done; ) l = o.value;
      if (l) return l;
      if (s == n) return null;
      i -= 1e4;
    }
  }
  prevMatch(e, n, r) {
    return (
      this.prevMatchInRange(e, 0, n) ||
      this.prevMatchInRange(e, r, e.doc.length)
    );
  }
  getReplacement(e) {
    return this.spec.unquote(this.spec.replace);
  }
  matchAll(e, n) {
    let r = Os(this.spec, e, 0, e.doc.length),
      i = [];
    for (; !r.next().done; ) {
      if (i.length >= n) return null;
      i.push(r.value);
    }
    return i;
  }
  highlight(e, n, r, i) {
    let s = Os(
      this.spec,
      e,
      Math.max(0, n - this.spec.unquoted.length),
      Math.min(r + this.spec.unquoted.length, e.doc.length)
    );
    for (; !s.next().done; ) i(s.value.from, s.value.to);
  }
}
function Ms(t, e, n, r) {
  return new M_(
    e.doc,
    t.search,
    {
      ignoreCase: !t.caseSensitive,
      test: t.wholeWord ? YL(e.charCategorizer(e.selection.main.head)) : void 0,
    },
    n,
    r
  );
}
function kf(t, e) {
  return t.slice(ot(t, e, !1), e);
}
function Cf(t, e) {
  return t.slice(e, ot(t, e));
}
function YL(t) {
  return (e, n, r) =>
    !r[0].length ||
    ((t(kf(r.input, r.index)) != _e.Word ||
      t(Cf(r.input, r.index)) != _e.Word) &&
      (t(Cf(r.input, r.index + r[0].length)) != _e.Word ||
        t(kf(r.input, r.index + r[0].length)) != _e.Word));
}
class XL extends D_ {
  nextMatch(e, n, r) {
    let i = Ms(this.spec, e, r, e.doc.length).next();
    return (
      i.done && (i = Ms(this.spec, e, 0, n).next()), i.done ? null : i.value
    );
  }
  prevMatchInRange(e, n, r) {
    for (let i = 1; ; i++) {
      let s = Math.max(n, r - i * 1e4),
        o = Ms(this.spec, e, s, r),
        l = null;
      for (; !o.next().done; ) l = o.value;
      if (l && (s == n || l.from > s + 10)) return l;
      if (s == n) return null;
    }
  }
  prevMatch(e, n, r) {
    return (
      this.prevMatchInRange(e, 0, n) ||
      this.prevMatchInRange(e, r, e.doc.length)
    );
  }
  getReplacement(e) {
    return this.spec
      .unquote(this.spec.replace)
      .replace(/\$([$&\d+])/g, (n, r) =>
        r == "$"
          ? "$"
          : r == "&"
            ? e.match[0]
            : r != "0" && +r < e.match.length
              ? e.match[r]
              : n
      );
  }
  matchAll(e, n) {
    let r = Ms(this.spec, e, 0, e.doc.length),
      i = [];
    for (; !r.next().done; ) {
      if (i.length >= n) return null;
      i.push(r.value);
    }
    return i;
  }
  highlight(e, n, r, i) {
    let s = Ms(
      this.spec,
      e,
      Math.max(0, n - 250),
      Math.min(r + 250, e.doc.length)
    );
    for (; !s.next().done; ) i(s.value.from, s.value.to);
  }
}
const pa = Y.define(),
  J0 = Y.define(),
  mi = ct.define({
    create(t) {
      return new Xd(ng(t).create(), null);
    },
    update(t, e) {
      for (let n of e.effects)
        n.is(pa)
          ? (t = new Xd(n.value.create(), t.panel))
          : n.is(J0) && (t = new Xd(t.query, n.value ? Z0 : null));
      return t;
    },
    provide: (t) => fa.from(t, (e) => e.panel),
  });
class Xd {
  constructor(e, n) {
    (this.query = e), (this.panel = n);
  }
}
const QL = U.mark({ class: "cm-searchMatch" }),
  JL = U.mark({ class: "cm-searchMatch cm-searchMatch-selected" }),
  ZL = Ve.fromClass(
    class {
      constructor(t) {
        (this.view = t), (this.decorations = this.highlight(t.state.field(mi)));
      }
      update(t) {
        let e = t.state.field(mi);
        (e != t.startState.field(mi) ||
          t.docChanged ||
          t.selectionSet ||
          t.viewportChanged) &&
          (this.decorations = this.highlight(e));
      }
      highlight({ query: t, panel: e }) {
        if (!e || !t.spec.valid) return U.none;
        let { view: n } = this,
          r = new ki();
        for (let i = 0, s = n.visibleRanges, o = s.length; i < o; i++) {
          let { from: l, to: a } = s[i];
          for (; i < o - 1 && a > s[i + 1].from - 2 * 250; ) a = s[++i].to;
          t.highlight(n.state, l, a, (u, c) => {
            let f = n.state.selection.ranges.some(
              (h) => h.from == u && h.to == c
            );
            r.add(u, c, f ? JL : QL);
          });
        }
        return r.finish();
      }
    },
    { decorations: (t) => t.decorations }
  );
function Ja(t) {
  return (e) => {
    let n = e.state.field(mi, !1);
    return n && n.query.spec.valid ? t(e, n) : B_(e);
  };
}
const _f = Ja((t, { query: e }) => {
    let { to: n } = t.state.selection.main,
      r = e.nextMatch(t.state, n, n);
    if (!r) return !1;
    let i = A.single(r.from, r.to),
      s = t.state.facet($o);
    return (
      t.dispatch({
        selection: i,
        effects: [e1(t, r), s.scrollToMatch(i.main, t)],
        userEvent: "select.search",
      }),
      L_(t),
      !0
    );
  }),
  Af = Ja((t, { query: e }) => {
    let { state: n } = t,
      { from: r } = n.selection.main,
      i = e.prevMatch(n, r, r);
    if (!i) return !1;
    let s = A.single(i.from, i.to),
      o = t.state.facet($o);
    return (
      t.dispatch({
        selection: s,
        effects: [e1(t, i), o.scrollToMatch(s.main, t)],
        userEvent: "select.search",
      }),
      L_(t),
      !0
    );
  }),
  e8 = Ja((t, { query: e }) => {
    let n = e.matchAll(t.state, 1e3);
    return !n || !n.length
      ? !1
      : (t.dispatch({
          selection: A.create(n.map((r) => A.range(r.from, r.to))),
          userEvent: "select.search.matches",
        }),
        !0);
  }),
  t8 = ({ state: t, dispatch: e }) => {
    let n = t.selection;
    if (n.ranges.length > 1 || n.main.empty) return !1;
    let { from: r, to: i } = n.main,
      s = [],
      o = 0;
    for (let l = new Oo(t.doc, t.sliceDoc(r, i)); !l.next().done; ) {
      if (s.length > 1e3) return !1;
      l.value.from == r && (o = s.length),
        s.push(A.range(l.value.from, l.value.to));
    }
    return (
      e(
        t.update({
          selection: A.create(s, o),
          userEvent: "select.search.matches",
        })
      ),
      !0
    );
  },
  Ew = Ja((t, { query: e }) => {
    let { state: n } = t,
      { from: r, to: i } = n.selection.main;
    if (n.readOnly) return !1;
    let s = e.nextMatch(n, r, r);
    if (!s) return !1;
    let o = [],
      l,
      a,
      u = [];
    if (
      (s.from == r &&
        s.to == i &&
        ((a = n.toText(e.getReplacement(s))),
        o.push({ from: s.from, to: s.to, insert: a }),
        (s = e.nextMatch(n, s.from, s.to)),
        u.push(
          N.announce.of(
            n.phrase("replaced match on line $", n.doc.lineAt(r).number) + "."
          )
        )),
      s)
    ) {
      let c = o.length == 0 || o[0].from >= s.to ? 0 : s.to - s.from - a.length;
      (l = A.single(s.from - c, s.to - c)),
        u.push(e1(t, s)),
        u.push(n.facet($o).scrollToMatch(l.main, t));
    }
    return (
      t.dispatch({
        changes: o,
        selection: l,
        effects: u,
        userEvent: "input.replace",
      }),
      !0
    );
  }),
  n8 = Ja((t, { query: e }) => {
    if (t.state.readOnly) return !1;
    let n = e.matchAll(t.state, 1e9).map((i) => {
      let { from: s, to: o } = i;
      return { from: s, to: o, insert: e.getReplacement(i) };
    });
    if (!n.length) return !1;
    let r = t.state.phrase("replaced $ matches", n.length) + ".";
    return (
      t.dispatch({
        changes: n,
        effects: N.announce.of(r),
        userEvent: "input.replace.all",
      }),
      !0
    );
  });
function Z0(t) {
  return t.state.facet($o).createPanel(t);
}
function ng(t, e) {
  var n, r, i, s, o;
  let l = t.selection.main,
    a = l.empty || l.to > l.from + 100 ? "" : t.sliceDoc(l.from, l.to);
  if (e && !a) return e;
  let u = t.facet($o);
  return new P_({
    search: (
      (n = e == null ? void 0 : e.literal) !== null && n !== void 0
        ? n
        : u.literal
    )
      ? a
      : a.replace(/\n/g, "\\n"),
    caseSensitive:
      (r = e == null ? void 0 : e.caseSensitive) !== null && r !== void 0
        ? r
        : u.caseSensitive,
    literal:
      (i = e == null ? void 0 : e.literal) !== null && i !== void 0
        ? i
        : u.literal,
    regexp:
      (s = e == null ? void 0 : e.regexp) !== null && s !== void 0
        ? s
        : u.regexp,
    wholeWord:
      (o = e == null ? void 0 : e.wholeWord) !== null && o !== void 0
        ? o
        : u.wholeWord,
  });
}
function R_(t) {
  let e = ca(t, Z0);
  return e && e.dom.querySelector("[main-field]");
}
function L_(t) {
  let e = R_(t);
  e && e == t.root.activeElement && e.select();
}
const B_ = (t) => {
    let e = t.state.field(mi, !1);
    if (e && e.panel) {
      let n = R_(t);
      if (n && n != t.root.activeElement) {
        let r = ng(t.state, e.query.spec);
        r.valid && t.dispatch({ effects: pa.of(r) }), n.focus(), n.select();
      }
    } else
      t.dispatch({
        effects: [
          J0.of(!0),
          e ? pa.of(ng(t.state, e.query.spec)) : Y.appendConfig.of(o8),
        ],
      });
    return !0;
  },
  N_ = (t) => {
    let e = t.state.field(mi, !1);
    if (!e || !e.panel) return !1;
    let n = ca(t, Z0);
    return (
      n && n.dom.contains(t.root.activeElement) && t.focus(),
      t.dispatch({ effects: J0.of(!1) }),
      !0
    );
  },
  r8 = [
    { key: "Mod-f", run: B_, scope: "editor search-panel" },
    {
      key: "F3",
      run: _f,
      shift: Af,
      scope: "editor search-panel",
      preventDefault: !0,
    },
    {
      key: "Mod-g",
      run: _f,
      shift: Af,
      scope: "editor search-panel",
      preventDefault: !0,
    },
    { key: "Escape", run: N_, scope: "editor search-panel" },
    { key: "Mod-Shift-l", run: t8 },
    { key: "Mod-Alt-g", run: BL },
    { key: "Mod-d", run: KL, preventDefault: !0 },
  ];
class i8 {
  constructor(e) {
    this.view = e;
    let n = (this.query = e.state.field(mi).query.spec);
    (this.commit = this.commit.bind(this)),
      (this.searchField = ge("input", {
        value: n.search,
        placeholder: Vt(e, "Find"),
        "aria-label": Vt(e, "Find"),
        class: "cm-textfield",
        name: "search",
        form: "",
        "main-field": "true",
        onchange: this.commit,
        onkeyup: this.commit,
      })),
      (this.replaceField = ge("input", {
        value: n.replace,
        placeholder: Vt(e, "Replace"),
        "aria-label": Vt(e, "Replace"),
        class: "cm-textfield",
        name: "replace",
        form: "",
        onchange: this.commit,
        onkeyup: this.commit,
      })),
      (this.caseField = ge("input", {
        type: "checkbox",
        name: "case",
        form: "",
        checked: n.caseSensitive,
        onchange: this.commit,
      })),
      (this.reField = ge("input", {
        type: "checkbox",
        name: "re",
        form: "",
        checked: n.regexp,
        onchange: this.commit,
      })),
      (this.wordField = ge("input", {
        type: "checkbox",
        name: "word",
        form: "",
        checked: n.wholeWord,
        onchange: this.commit,
      }));
    function r(i, s, o) {
      return ge(
        "button",
        { class: "cm-button", name: i, onclick: s, type: "button" },
        o
      );
    }
    this.dom = ge(
      "div",
      { onkeydown: (i) => this.keydown(i), class: "cm-search" },
      [
        this.searchField,
        r("next", () => _f(e), [Vt(e, "next")]),
        r("prev", () => Af(e), [Vt(e, "previous")]),
        r("select", () => e8(e), [Vt(e, "all")]),
        ge("label", null, [this.caseField, Vt(e, "match case")]),
        ge("label", null, [this.reField, Vt(e, "regexp")]),
        ge("label", null, [this.wordField, Vt(e, "by word")]),
        ...(e.state.readOnly
          ? []
          : [
              ge("br"),
              this.replaceField,
              r("replace", () => Ew(e), [Vt(e, "replace")]),
              r("replaceAll", () => n8(e), [Vt(e, "replace all")]),
            ]),
        ge(
          "button",
          {
            name: "close",
            onclick: () => N_(e),
            "aria-label": Vt(e, "close"),
            type: "button",
          },
          [""]
        ),
      ]
    );
  }
  commit() {
    let e = new P_({
      search: this.searchField.value,
      caseSensitive: this.caseField.checked,
      regexp: this.reField.checked,
      wholeWord: this.wordField.checked,
      replace: this.replaceField.value,
    });
    e.eq(this.query) ||
      ((this.query = e), this.view.dispatch({ effects: pa.of(e) }));
  }
  keydown(e) {
    y4(this.view, e, "search-panel")
      ? e.preventDefault()
      : e.keyCode == 13 && e.target == this.searchField
        ? (e.preventDefault(), (e.shiftKey ? Af : _f)(this.view))
        : e.keyCode == 13 &&
          e.target == this.replaceField &&
          (e.preventDefault(), Ew(this.view));
  }
  update(e) {
    for (let n of e.transactions)
      for (let r of n.effects)
        r.is(pa) && !r.value.eq(this.query) && this.setQuery(r.value);
  }
  setQuery(e) {
    (this.query = e),
      (this.searchField.value = e.search),
      (this.replaceField.value = e.replace),
      (this.caseField.checked = e.caseSensitive),
      (this.reField.checked = e.regexp),
      (this.wordField.checked = e.wholeWord);
  }
  mount() {
    this.searchField.select();
  }
  get pos() {
    return 80;
  }
  get top() {
    return this.view.state.facet($o).top;
  }
}
function Vt(t, e) {
  return t.state.phrase(e);
}
const qu = 30,
  Gu = /[\s\.,:;?!]/;
function e1(t, { from: e, to: n }) {
  let r = t.state.doc.lineAt(e),
    i = t.state.doc.lineAt(n).to,
    s = Math.max(r.from, e - qu),
    o = Math.min(i, n + qu),
    l = t.state.sliceDoc(s, o);
  if (s != r.from) {
    for (let a = 0; a < qu; a++)
      if (!Gu.test(l[a + 1]) && Gu.test(l[a])) {
        l = l.slice(a);
        break;
      }
  }
  if (o != i) {
    for (let a = l.length - 1; a > l.length - qu; a--)
      if (!Gu.test(l[a - 1]) && Gu.test(l[a])) {
        l = l.slice(0, a);
        break;
      }
  }
  return N.announce.of(
    `${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`
  );
}
const s8 = N.baseTheme({
    ".cm-panel.cm-search": {
      padding: "2px 6px 4px",
      position: "relative",
      "& [name=close]": {
        position: "absolute",
        top: "0",
        right: "4px",
        backgroundColor: "inherit",
        border: "none",
        font: "inherit",
        padding: 0,
        margin: 0,
      },
      "& input, & button, & label": { margin: ".2em .6em .2em 0" },
      "& input[type=checkbox]": { marginRight: ".2em" },
      "& label": { fontSize: "80%", whiteSpace: "pre" },
    },
    "&light .cm-searchMatch": { backgroundColor: "#ffff0054" },
    "&dark .cm-searchMatch": { backgroundColor: "#00ffff8a" },
    "&light .cm-searchMatch-selected": { backgroundColor: "#ff6a0054" },
    "&dark .cm-searchMatch-selected": { backgroundColor: "#ff00ff8a" },
  }),
  o8 = [mi, gs.low(ZL), s8];
class I_ {
  constructor(e, n, r) {
    (this.state = e),
      (this.pos = n),
      (this.explicit = r),
      (this.abortListeners = []);
  }
  tokenBefore(e) {
    let n = ut(this.state).resolveInner(this.pos, -1);
    for (; n && e.indexOf(n.name) < 0; ) n = n.parent;
    return n
      ? {
          from: n.from,
          to: this.pos,
          text: this.state.sliceDoc(n.from, this.pos),
          type: n.type,
        }
      : null;
  }
  matchBefore(e) {
    let n = this.state.doc.lineAt(this.pos),
      r = Math.max(n.from, this.pos - 250),
      i = n.text.slice(r - n.from, this.pos - n.from),
      s = i.search($_(e, !1));
    return s < 0 ? null : { from: r + s, to: this.pos, text: i.slice(s) };
  }
  get aborted() {
    return this.abortListeners == null;
  }
  addEventListener(e, n) {
    e == "abort" && this.abortListeners && this.abortListeners.push(n);
  }
}
function Tw(t) {
  let e = Object.keys(t).join(""),
    n = /\w/.test(e);
  return (
    n && (e = e.replace(/\w/g, "")),
    `[${n ? "\\w" : ""}${e.replace(/[^\w\s]/g, "\\$&")}]`
  );
}
function l8(t) {
  let e = Object.create(null),
    n = Object.create(null);
  for (let { label: i } of t) {
    e[i[0]] = !0;
    for (let s = 1; s < i.length; s++) n[i[s]] = !0;
  }
  let r = Tw(e) + Tw(n) + "*$";
  return [new RegExp("^" + r), new RegExp(r)];
}
function a8(t) {
  let e = t.map((i) => (typeof i == "string" ? { label: i } : i)),
    [n, r] = e.every((i) => /^\w+$/.test(i.label)) ? [/\w*$/, /\w+$/] : l8(e);
  return (i) => {
    let s = i.matchBefore(r);
    return s || i.explicit
      ? { from: s ? s.from : i.pos, options: e, validFor: n }
      : null;
  };
}
class Pw {
  constructor(e, n, r, i) {
    (this.completion = e),
      (this.source = n),
      (this.match = r),
      (this.score = i);
  }
}
function gi(t) {
  return t.selection.main.from;
}
function $_(t, e) {
  var n;
  let { source: r } = t,
    i = e && r[0] != "^",
    s = r[r.length - 1] != "$";
  return !i && !s
    ? t
    : new RegExp(
        `${i ? "^" : ""}(?:${r})${s ? "$" : ""}`,
        (n = t.flags) !== null && n !== void 0 ? n : t.ignoreCase ? "i" : ""
      );
}
const F_ = Ir.define();
function u8(t, e, n, r) {
  let { main: i } = t.selection,
    s = n - i.from,
    o = r - i.from;
  return Object.assign(
    Object.assign(
      {},
      t.changeByRange((l) =>
        l != i &&
        n != r &&
        t.sliceDoc(l.from + s, l.from + o) != t.sliceDoc(n, r)
          ? { range: l }
          : {
              changes: {
                from: l.from + s,
                to: r == i.from ? l.to : l.from + o,
                insert: e,
              },
              range: A.cursor(l.from + s + e.length),
            }
      )
    ),
    { scrollIntoView: !0, userEvent: "input.complete" }
  );
}
const Dw = new WeakMap();
function c8(t) {
  if (!Array.isArray(t)) return t;
  let e = Dw.get(t);
  return e || Dw.set(t, (e = a8(t))), e;
}
const Of = Y.define(),
  ma = Y.define();
class f8 {
  constructor(e) {
    (this.pattern = e),
      (this.chars = []),
      (this.folded = []),
      (this.any = []),
      (this.precise = []),
      (this.byWord = []),
      (this.score = 0),
      (this.matched = []);
    for (let n = 0; n < e.length; ) {
      let r = rt(e, n),
        i = un(r);
      this.chars.push(r);
      let s = e.slice(n, n + i),
        o = s.toUpperCase();
      this.folded.push(rt(o == s ? s.toLowerCase() : o, 0)), (n += i);
    }
    this.astral = e.length != this.chars.length;
  }
  ret(e, n) {
    return (this.score = e), (this.matched = n), this;
  }
  match(e) {
    if (this.pattern.length == 0) return this.ret(-100, []);
    if (e.length < this.pattern.length) return null;
    let { chars: n, folded: r, any: i, precise: s, byWord: o } = this;
    if (n.length == 1) {
      let y = rt(e, 0),
        v = un(y),
        b = v == e.length ? 0 : -100;
      if (y != n[0])
        if (y == r[0]) b += -200;
        else return null;
      return this.ret(b, [0, v]);
    }
    let l = e.indexOf(this.pattern);
    if (l == 0)
      return this.ret(e.length == this.pattern.length ? 0 : -100, [
        0,
        this.pattern.length,
      ]);
    let a = n.length,
      u = 0;
    if (l < 0) {
      for (let y = 0, v = Math.min(e.length, 200); y < v && u < a; ) {
        let b = rt(e, y);
        (b == n[u] || b == r[u]) && (i[u++] = y), (y += un(b));
      }
      if (u < a) return null;
    }
    let c = 0,
      f = 0,
      h = !1,
      d = 0,
      p = -1,
      m = -1,
      w = /[a-z]/.test(e),
      g = !0;
    for (let y = 0, v = Math.min(e.length, 200), b = 0; y < v && f < a; ) {
      let x = rt(e, y);
      l < 0 &&
        (c < a && x == n[c] && (s[c++] = y),
        d < a &&
          (x == n[d] || x == r[d]
            ? (d == 0 && (p = y), (m = y + 1), d++)
            : (d = 0)));
      let S,
        k =
          x < 255
            ? (x >= 48 && x <= 57) || (x >= 97 && x <= 122)
              ? 2
              : x >= 65 && x <= 90
                ? 1
                : 0
            : (S = O0(x)) != S.toLowerCase()
              ? 1
              : S != S.toUpperCase()
                ? 2
                : 0;
      (!y || (k == 1 && w) || (b == 0 && k != 0)) &&
        (n[f] == x || (r[f] == x && (h = !0))
          ? (o[f++] = y)
          : o.length && (g = !1)),
        (b = k),
        (y += un(x));
    }
    return f == a && o[0] == 0 && g
      ? this.result(-100 + (h ? -200 : 0), o, e)
      : d == a && p == 0
        ? this.ret(-200 - e.length + (m == e.length ? 0 : -100), [0, m])
        : l > -1
          ? this.ret(-700 - e.length, [l, l + this.pattern.length])
          : d == a
            ? this.ret(-900 - e.length, [p, m])
            : f == a
              ? this.result(
                  -100 + (h ? -200 : 0) + -700 + (g ? 0 : -1100),
                  o,
                  e
                )
              : n.length == 2
                ? null
                : this.result((i[0] ? -700 : 0) + -200 + -1100, i, e);
  }
  result(e, n, r) {
    let i = [],
      s = 0;
    for (let o of n) {
      let l = o + (this.astral ? un(rt(r, o)) : 1);
      s && i[s - 1] == o ? (i[s - 1] = l) : ((i[s++] = o), (i[s++] = l));
    }
    return this.ret(e - r.length, i);
  }
}
class h8 {
  constructor(e) {
    (this.pattern = e),
      (this.matched = []),
      (this.score = 0),
      (this.folded = e.toLowerCase());
  }
  match(e) {
    if (e.length < this.pattern.length) return null;
    let n = e.slice(0, this.pattern.length),
      r = n == this.pattern ? 0 : n.toLowerCase() == this.folded ? -200 : null;
    return r == null
      ? null
      : ((this.matched = [0, n.length]),
        (this.score = r + (e.length == this.pattern.length ? 0 : -100)),
        this);
  }
}
const st = $.define({
  combine(t) {
    return mr(
      t,
      {
        activateOnTyping: !0,
        activateOnCompletion: () => !1,
        activateOnTypingDelay: 100,
        selectOnOpen: !0,
        override: null,
        closeOnBlur: !0,
        maxRenderedOptions: 100,
        defaultKeymap: !0,
        tooltipClass: () => "",
        optionClass: () => "",
        aboveCursor: !1,
        icons: !0,
        addToOptions: [],
        positionInfo: d8,
        filterStrict: !1,
        compareCompletions: (e, n) => e.label.localeCompare(n.label),
        interactionDelay: 75,
        updateSyncTime: 100,
      },
      {
        defaultKeymap: (e, n) => e && n,
        closeOnBlur: (e, n) => e && n,
        icons: (e, n) => e && n,
        tooltipClass: (e, n) => (r) => Rw(e(r), n(r)),
        optionClass: (e, n) => (r) => Rw(e(r), n(r)),
        addToOptions: (e, n) => e.concat(n),
        filterStrict: (e, n) => e || n,
      }
    );
  },
});
function Rw(t, e) {
  return t ? (e ? t + " " + e : t) : e;
}
function d8(t, e, n, r, i, s) {
  let o = t.textDirection == Se.RTL,
    l = o,
    a = !1,
    u = "top",
    c,
    f,
    h = e.left - i.left,
    d = i.right - e.right,
    p = r.right - r.left,
    m = r.bottom - r.top;
  if (
    (l && h < Math.min(p, d) ? (l = !1) : !l && d < Math.min(p, h) && (l = !0),
    p <= (l ? h : d))
  )
    (c = Math.max(i.top, Math.min(n.top, i.bottom - m)) - e.top),
      (f = Math.min(400, l ? h : d));
  else {
    (a = !0), (f = Math.min(400, (o ? e.right : i.right - e.left) - 30));
    let y = i.bottom - e.bottom;
    y >= m || y > e.top
      ? (c = n.bottom - e.top)
      : ((u = "bottom"), (c = e.bottom - n.top));
  }
  let w = (e.bottom - e.top) / s.offsetHeight,
    g = (e.right - e.left) / s.offsetWidth;
  return {
    style: `${u}: ${c / w}px; max-width: ${f / g}px`,
    class:
      "cm-completionInfo-" +
      (a ? (o ? "left-narrow" : "right-narrow") : l ? "left" : "right"),
  };
}
function p8(t) {
  let e = t.addToOptions.slice();
  return (
    t.icons &&
      e.push({
        render(n) {
          let r = document.createElement("div");
          return (
            r.classList.add("cm-completionIcon"),
            n.type &&
              r.classList.add(
                ...n.type.split(/\s+/g).map((i) => "cm-completionIcon-" + i)
              ),
            r.setAttribute("aria-hidden", "true"),
            r
          );
        },
        position: 20,
      }),
    e.push(
      {
        render(n, r, i, s) {
          let o = document.createElement("span");
          o.className = "cm-completionLabel";
          let l = n.displayLabel || n.label,
            a = 0;
          for (let u = 0; u < s.length; ) {
            let c = s[u++],
              f = s[u++];
            c > a && o.appendChild(document.createTextNode(l.slice(a, c)));
            let h = o.appendChild(document.createElement("span"));
            h.appendChild(document.createTextNode(l.slice(c, f))),
              (h.className = "cm-completionMatchedText"),
              (a = f);
          }
          return (
            a < l.length && o.appendChild(document.createTextNode(l.slice(a))),
            o
          );
        },
        position: 50,
      },
      {
        render(n) {
          if (!n.detail) return null;
          let r = document.createElement("span");
          return (
            (r.className = "cm-completionDetail"), (r.textContent = n.detail), r
          );
        },
        position: 80,
      }
    ),
    e.sort((n, r) => n.position - r.position).map((n) => n.render)
  );
}
function Qd(t, e, n) {
  if (t <= n) return { from: 0, to: t };
  if ((e < 0 && (e = 0), e <= t >> 1)) {
    let i = Math.floor(e / n);
    return { from: i * n, to: (i + 1) * n };
  }
  let r = Math.floor((t - e) / n);
  return { from: t - (r + 1) * n, to: t - r * n };
}
class m8 {
  constructor(e, n, r) {
    (this.view = e),
      (this.stateField = n),
      (this.applyCompletion = r),
      (this.info = null),
      (this.infoDestroy = null),
      (this.placeInfoReq = {
        read: () => this.measureInfo(),
        write: (a) => this.placeInfo(a),
        key: this,
      }),
      (this.space = null),
      (this.currentClass = "");
    let i = e.state.field(n),
      { options: s, selected: o } = i.open,
      l = e.state.facet(st);
    (this.optionContent = p8(l)),
      (this.optionClass = l.optionClass),
      (this.tooltipClass = l.tooltipClass),
      (this.range = Qd(s.length, o, l.maxRenderedOptions)),
      (this.dom = document.createElement("div")),
      (this.dom.className = "cm-tooltip-autocomplete"),
      this.updateTooltipClass(e.state),
      this.dom.addEventListener("mousedown", (a) => {
        let { options: u } = e.state.field(n).open;
        for (let c = a.target, f; c && c != this.dom; c = c.parentNode)
          if (
            c.nodeName == "LI" &&
            (f = /-(\d+)$/.exec(c.id)) &&
            +f[1] < u.length
          ) {
            this.applyCompletion(e, u[+f[1]]), a.preventDefault();
            return;
          }
      }),
      this.dom.addEventListener("focusout", (a) => {
        let u = e.state.field(this.stateField, !1);
        u &&
          u.tooltip &&
          e.state.facet(st).closeOnBlur &&
          a.relatedTarget != e.contentDOM &&
          e.dispatch({ effects: ma.of(null) });
      }),
      this.showOptions(s, i.id);
  }
  mount() {
    this.updateSel();
  }
  showOptions(e, n) {
    this.list && this.list.remove(),
      (this.list = this.dom.appendChild(this.createListBox(e, n, this.range))),
      this.list.addEventListener("scroll", () => {
        this.info && this.view.requestMeasure(this.placeInfoReq);
      });
  }
  update(e) {
    var n;
    let r = e.state.field(this.stateField),
      i = e.startState.field(this.stateField);
    if ((this.updateTooltipClass(e.state), r != i)) {
      let { options: s, selected: o, disabled: l } = r.open;
      (!i.open || i.open.options != s) &&
        ((this.range = Qd(s.length, o, e.state.facet(st).maxRenderedOptions)),
        this.showOptions(s, r.id)),
        this.updateSel(),
        l != ((n = i.open) === null || n === void 0 ? void 0 : n.disabled) &&
          this.dom.classList.toggle("cm-tooltip-autocomplete-disabled", !!l);
    }
  }
  updateTooltipClass(e) {
    let n = this.tooltipClass(e);
    if (n != this.currentClass) {
      for (let r of this.currentClass.split(" "))
        r && this.dom.classList.remove(r);
      for (let r of n.split(" ")) r && this.dom.classList.add(r);
      this.currentClass = n;
    }
  }
  positioned(e) {
    (this.space = e), this.info && this.view.requestMeasure(this.placeInfoReq);
  }
  updateSel() {
    let e = this.view.state.field(this.stateField),
      n = e.open;
    if (
      (((n.selected > -1 && n.selected < this.range.from) ||
        n.selected >= this.range.to) &&
        ((this.range = Qd(
          n.options.length,
          n.selected,
          this.view.state.facet(st).maxRenderedOptions
        )),
        this.showOptions(n.options, e.id)),
      this.updateSelectedOption(n.selected))
    ) {
      this.destroyInfo();
      let { completion: r } = n.options[n.selected],
        { info: i } = r;
      if (!i) return;
      let s = typeof i == "string" ? document.createTextNode(i) : i(r);
      if (!s) return;
      "then" in s
        ? s
            .then((o) => {
              o &&
                this.view.state.field(this.stateField, !1) == e &&
                this.addInfoPane(o, r);
            })
            .catch((o) => Rt(this.view.state, o, "completion info"))
        : this.addInfoPane(s, r);
    }
  }
  addInfoPane(e, n) {
    this.destroyInfo();
    let r = (this.info = document.createElement("div"));
    if (((r.className = "cm-tooltip cm-completionInfo"), e.nodeType != null))
      r.appendChild(e), (this.infoDestroy = null);
    else {
      let { dom: i, destroy: s } = e;
      r.appendChild(i), (this.infoDestroy = s || null);
    }
    this.dom.appendChild(r), this.view.requestMeasure(this.placeInfoReq);
  }
  updateSelectedOption(e) {
    let n = null;
    for (
      let r = this.list.firstChild, i = this.range.from;
      r;
      r = r.nextSibling, i++
    )
      r.nodeName != "LI" || !r.id
        ? i--
        : i == e
          ? r.hasAttribute("aria-selected") ||
            (r.setAttribute("aria-selected", "true"), (n = r))
          : r.hasAttribute("aria-selected") &&
            r.removeAttribute("aria-selected");
    return n && y8(this.list, n), n;
  }
  measureInfo() {
    let e = this.dom.querySelector("[aria-selected]");
    if (!e || !this.info) return null;
    let n = this.dom.getBoundingClientRect(),
      r = this.info.getBoundingClientRect(),
      i = e.getBoundingClientRect(),
      s = this.space;
    if (!s) {
      let o = this.dom.ownerDocument.defaultView || window;
      s = { left: 0, top: 0, right: o.innerWidth, bottom: o.innerHeight };
    }
    return i.top > Math.min(s.bottom, n.bottom) - 10 ||
      i.bottom < Math.max(s.top, n.top) + 10
      ? null
      : this.view.state.facet(st).positionInfo(this.view, n, i, r, s, this.dom);
  }
  placeInfo(e) {
    this.info &&
      (e
        ? (e.style && (this.info.style.cssText = e.style),
          (this.info.className =
            "cm-tooltip cm-completionInfo " + (e.class || "")))
        : (this.info.style.cssText = "top: -1e6px"));
  }
  createListBox(e, n, r) {
    const i = document.createElement("ul");
    (i.id = n),
      i.setAttribute("role", "listbox"),
      i.setAttribute("aria-expanded", "true"),
      i.setAttribute("aria-label", this.view.state.phrase("Completions"));
    let s = null;
    for (let o = r.from; o < r.to; o++) {
      let { completion: l, match: a } = e[o],
        { section: u } = l;
      if (u) {
        let h = typeof u == "string" ? u : u.name;
        if (h != s && (o > r.from || r.from == 0))
          if (((s = h), typeof u != "string" && u.header))
            i.appendChild(u.header(u));
          else {
            let d = i.appendChild(document.createElement("completion-section"));
            d.textContent = h;
          }
      }
      const c = i.appendChild(document.createElement("li"));
      (c.id = n + "-" + o), c.setAttribute("role", "option");
      let f = this.optionClass(l);
      f && (c.className = f);
      for (let h of this.optionContent) {
        let d = h(l, this.view.state, this.view, a);
        d && c.appendChild(d);
      }
    }
    return (
      r.from && i.classList.add("cm-completionListIncompleteTop"),
      r.to < e.length && i.classList.add("cm-completionListIncompleteBottom"),
      i
    );
  }
  destroyInfo() {
    this.info &&
      (this.infoDestroy && this.infoDestroy(),
      this.info.remove(),
      (this.info = null));
  }
  destroy() {
    this.destroyInfo();
  }
}
function g8(t, e) {
  return (n) => new m8(n, t, e);
}
function y8(t, e) {
  let n = t.getBoundingClientRect(),
    r = e.getBoundingClientRect(),
    i = n.height / t.offsetHeight;
  r.top < n.top
    ? (t.scrollTop -= (n.top - r.top) / i)
    : r.bottom > n.bottom && (t.scrollTop += (r.bottom - n.bottom) / i);
}
function Lw(t) {
  return (
    (t.boost || 0) * 100 +
    (t.apply ? 10 : 0) +
    (t.info ? 5 : 0) +
    (t.type ? 1 : 0)
  );
}
function v8(t, e) {
  let n = [],
    r = null,
    i = (u) => {
      n.push(u);
      let { section: c } = u.completion;
      if (c) {
        r || (r = []);
        let f = typeof c == "string" ? c : c.name;
        r.some((h) => h.name == f) ||
          r.push(typeof c == "string" ? { name: f } : c);
      }
    },
    s = e.facet(st);
  for (let u of t)
    if (u.hasResult()) {
      let c = u.result.getMatch;
      if (u.result.filter === !1)
        for (let f of u.result.options)
          i(new Pw(f, u.source, c ? c(f) : [], 1e9 - n.length));
      else {
        let f = e.sliceDoc(u.from, u.to),
          h,
          d = s.filterStrict ? new h8(f) : new f8(f);
        for (let p of u.result.options)
          if ((h = d.match(p.label))) {
            let m = p.displayLabel ? (c ? c(p, h.matched) : []) : h.matched;
            i(new Pw(p, u.source, m, h.score + (p.boost || 0)));
          }
      }
    }
  if (r) {
    let u = Object.create(null),
      c = 0,
      f = (h, d) => {
        var p, m;
        return (
          ((p = h.rank) !== null && p !== void 0 ? p : 1e9) -
            ((m = d.rank) !== null && m !== void 0 ? m : 1e9) ||
          (h.name < d.name ? -1 : 1)
        );
      };
    for (let h of r.sort(f)) (c -= 1e5), (u[h.name] = c);
    for (let h of n) {
      let { section: d } = h.completion;
      d && (h.score += u[typeof d == "string" ? d : d.name]);
    }
  }
  let o = [],
    l = null,
    a = s.compareCompletions;
  for (let u of n.sort(
    (c, f) => f.score - c.score || a(c.completion, f.completion)
  )) {
    let c = u.completion;
    !l ||
    l.label != c.label ||
    l.detail != c.detail ||
    (l.type != null && c.type != null && l.type != c.type) ||
    l.apply != c.apply ||
    l.boost != c.boost
      ? o.push(u)
      : Lw(u.completion) > Lw(l) && (o[o.length - 1] = u),
      (l = u.completion);
  }
  return o;
}
class Us {
  constructor(e, n, r, i, s, o) {
    (this.options = e),
      (this.attrs = n),
      (this.tooltip = r),
      (this.timestamp = i),
      (this.selected = s),
      (this.disabled = o);
  }
  setSelected(e, n) {
    return e == this.selected || e >= this.options.length
      ? this
      : new Us(
          this.options,
          Bw(n, e),
          this.tooltip,
          this.timestamp,
          e,
          this.disabled
        );
  }
  static build(e, n, r, i, s) {
    let o = v8(e, n);
    if (!o.length)
      return i && e.some((a) => a.state == 1)
        ? new Us(i.options, i.attrs, i.tooltip, i.timestamp, i.selected, !0)
        : null;
    let l = n.facet(st).selectOnOpen ? 0 : -1;
    if (i && i.selected != l && i.selected != -1) {
      let a = i.options[i.selected].completion;
      for (let u = 0; u < o.length; u++)
        if (o[u].completion == a) {
          l = u;
          break;
        }
    }
    return new Us(
      o,
      Bw(r, l),
      {
        pos: e.reduce((a, u) => (u.hasResult() ? Math.min(a, u.from) : a), 1e8),
        create: k8,
        above: s.aboveCursor,
      },
      i ? i.timestamp : Date.now(),
      l,
      !1
    );
  }
  map(e) {
    return new Us(
      this.options,
      this.attrs,
      Object.assign(Object.assign({}, this.tooltip), {
        pos: e.mapPos(this.tooltip.pos),
      }),
      this.timestamp,
      this.selected,
      this.disabled
    );
  }
}
class Mf {
  constructor(e, n, r) {
    (this.active = e), (this.id = n), (this.open = r);
  }
  static start() {
    return new Mf(
      x8,
      "cm-ac-" + Math.floor(Math.random() * 2e6).toString(36),
      null
    );
  }
  update(e) {
    let { state: n } = e,
      r = n.facet(st),
      s = (r.override || n.languageDataAt("autocomplete", gi(n)).map(c8)).map(
        (l) =>
          (
            this.active.find((u) => u.source == l) ||
            new St(l, this.active.some((u) => u.state != 0) ? 1 : 0)
          ).update(e, r)
      );
    s.length == this.active.length &&
      s.every((l, a) => l == this.active[a]) &&
      (s = this.active);
    let o = this.open;
    o && e.docChanged && (o = o.map(e.changes)),
      e.selection ||
      s.some((l) => l.hasResult() && e.changes.touchesRange(l.from, l.to)) ||
      !w8(s, this.active)
        ? (o = Us.build(s, n, this.id, o, r))
        : o && o.disabled && !s.some((l) => l.state == 1) && (o = null),
      !o &&
        s.every((l) => l.state != 1) &&
        s.some((l) => l.hasResult()) &&
        (s = s.map((l) => (l.hasResult() ? new St(l.source, 0) : l)));
    for (let l of e.effects)
      l.is(j_) && (o = o && o.setSelected(l.value, this.id));
    return s == this.active && o == this.open ? this : new Mf(s, this.id, o);
  }
  get tooltip() {
    return this.open ? this.open.tooltip : null;
  }
  get attrs() {
    return this.open ? this.open.attrs : b8;
  }
}
function w8(t, e) {
  if (t == e) return !0;
  for (let n = 0, r = 0; ; ) {
    for (; n < t.length && !t[n].hasResult; ) n++;
    for (; r < e.length && !e[r].hasResult; ) r++;
    let i = n == t.length,
      s = r == e.length;
    if (i || s) return i == s;
    if (t[n++].result != e[r++].result) return !1;
  }
}
const b8 = { "aria-autocomplete": "list" };
function Bw(t, e) {
  let n = {
    "aria-autocomplete": "list",
    "aria-haspopup": "listbox",
    "aria-controls": t,
  };
  return e > -1 && (n["aria-activedescendant"] = t + "-" + e), n;
}
const x8 = [];
function rg(t, e) {
  if (t.isUserEvent("input.complete")) {
    let n = t.annotation(F_);
    if (n && e.activateOnCompletion(n)) return "input";
  }
  return t.isUserEvent("input.type")
    ? "input"
    : t.isUserEvent("delete.backward")
      ? "delete"
      : null;
}
class St {
  constructor(e, n, r = -1) {
    (this.source = e), (this.state = n), (this.explicitPos = r);
  }
  hasResult() {
    return !1;
  }
  update(e, n) {
    let r = rg(e, n),
      i = this;
    r
      ? (i = i.handleUserEvent(e, r, n))
      : e.docChanged
        ? (i = i.handleChange(e))
        : e.selection && i.state != 0 && (i = new St(i.source, 0));
    for (let s of e.effects)
      if (s.is(Of)) i = new St(i.source, 1, s.value ? gi(e.state) : -1);
      else if (s.is(ma)) i = new St(i.source, 0);
      else if (s.is(z_)) for (let o of s.value) o.source == i.source && (i = o);
    return i;
  }
  handleUserEvent(e, n, r) {
    return n == "delete" || !r.activateOnTyping
      ? this.map(e.changes)
      : new St(this.source, 1);
  }
  handleChange(e) {
    return e.changes.touchesRange(gi(e.startState))
      ? new St(this.source, 0)
      : this.map(e.changes);
  }
  map(e) {
    return e.empty || this.explicitPos < 0
      ? this
      : new St(this.source, this.state, e.mapPos(this.explicitPos));
  }
}
class io extends St {
  constructor(e, n, r, i, s) {
    super(e, 2, n), (this.result = r), (this.from = i), (this.to = s);
  }
  hasResult() {
    return !0;
  }
  handleUserEvent(e, n, r) {
    var i;
    let s = this.result;
    s.map && !e.changes.empty && (s = s.map(s, e.changes));
    let o = e.changes.mapPos(this.from),
      l = e.changes.mapPos(this.to, 1),
      a = gi(e.state);
    if (
      (this.explicitPos < 0 ? a <= o : a < this.from) ||
      a > l ||
      !s ||
      (n == "delete" && gi(e.startState) == this.from)
    )
      return new St(this.source, n == "input" && r.activateOnTyping ? 1 : 0);
    let u = this.explicitPos < 0 ? -1 : e.changes.mapPos(this.explicitPos);
    return S8(s.validFor, e.state, o, l)
      ? new io(this.source, u, s, o, l)
      : s.update && (s = s.update(s, o, l, new I_(e.state, a, u >= 0)))
        ? new io(
            this.source,
            u,
            s,
            s.from,
            (i = s.to) !== null && i !== void 0 ? i : gi(e.state)
          )
        : new St(this.source, 1, u);
  }
  handleChange(e) {
    return e.changes.touchesRange(this.from, this.to)
      ? new St(this.source, 0)
      : this.map(e.changes);
  }
  map(e) {
    return e.empty
      ? this
      : (this.result.map ? this.result.map(this.result, e) : this.result)
        ? new io(
            this.source,
            this.explicitPos < 0 ? -1 : e.mapPos(this.explicitPos),
            this.result,
            e.mapPos(this.from),
            e.mapPos(this.to, 1)
          )
        : new St(this.source, 0);
  }
}
function S8(t, e, n, r) {
  if (!t) return !1;
  let i = e.sliceDoc(n, r);
  return typeof t == "function" ? t(i, n, r, e) : $_(t, !0).test(i);
}
const z_ = Y.define({
    map(t, e) {
      return t.map((n) => n.map(e));
    },
  }),
  j_ = Y.define(),
  Pt = ct.define({
    create() {
      return Mf.start();
    },
    update(t, e) {
      return t.update(e);
    },
    provide: (t) => [
      z0.from(t, (e) => e.tooltip),
      N.contentAttributes.from(t, (e) => e.attrs),
    ],
  });
function t1(t, e) {
  const n = e.completion.apply || e.completion.label;
  let r = t.state.field(Pt).active.find((i) => i.source == e.source);
  return r instanceof io
    ? (typeof n == "string"
        ? t.dispatch(
            Object.assign(Object.assign({}, u8(t.state, n, r.from, r.to)), {
              annotations: F_.of(e.completion),
            })
          )
        : n(t, e.completion, r.from, r.to),
      !0)
    : !1;
}
const k8 = g8(Pt, t1);
function Yu(t, e = "option") {
  return (n) => {
    let r = n.state.field(Pt, !1);
    if (
      !r ||
      !r.open ||
      r.open.disabled ||
      Date.now() - r.open.timestamp < n.state.facet(st).interactionDelay
    )
      return !1;
    let i = 1,
      s;
    e == "page" &&
      (s = CC(n, r.open.tooltip)) &&
      (i = Math.max(
        2,
        Math.floor(
          s.dom.offsetHeight / s.dom.querySelector("li").offsetHeight
        ) - 1
      ));
    let { length: o } = r.open.options,
      l =
        r.open.selected > -1
          ? r.open.selected + i * (t ? 1 : -1)
          : t
            ? 0
            : o - 1;
    return (
      l < 0
        ? (l = e == "page" ? 0 : o - 1)
        : l >= o && (l = e == "page" ? o - 1 : 0),
      n.dispatch({ effects: j_.of(l) }),
      !0
    );
  };
}
const C8 = (t) => {
    let e = t.state.field(Pt, !1);
    return t.state.readOnly ||
      !e ||
      !e.open ||
      e.open.selected < 0 ||
      e.open.disabled ||
      Date.now() - e.open.timestamp < t.state.facet(st).interactionDelay
      ? !1
      : t1(t, e.open.options[e.open.selected]);
  },
  _8 = (t) =>
    t.state.field(Pt, !1) ? (t.dispatch({ effects: Of.of(!0) }), !0) : !1,
  A8 = (t) => {
    let e = t.state.field(Pt, !1);
    return !e || !e.active.some((n) => n.state != 0)
      ? !1
      : (t.dispatch({ effects: ma.of(null) }), !0);
  };
class O8 {
  constructor(e, n) {
    (this.active = e),
      (this.context = n),
      (this.time = Date.now()),
      (this.updates = []),
      (this.done = void 0);
  }
}
const M8 = 50,
  E8 = 1e3,
  T8 = Ve.fromClass(
    class {
      constructor(t) {
        (this.view = t),
          (this.debounceUpdate = -1),
          (this.running = []),
          (this.debounceAccept = -1),
          (this.pendingStart = !1),
          (this.composing = 0);
        for (let e of t.state.field(Pt).active)
          e.state == 1 && this.startQuery(e);
      }
      update(t) {
        let e = t.state.field(Pt),
          n = t.state.facet(st);
        if (!t.selectionSet && !t.docChanged && t.startState.field(Pt) == e)
          return;
        let r = t.transactions.some(
          (s) => (s.selection || s.docChanged) && !rg(s, n)
        );
        for (let s = 0; s < this.running.length; s++) {
          let o = this.running[s];
          if (
            r ||
            (o.updates.length + t.transactions.length > M8 &&
              Date.now() - o.time > E8)
          ) {
            for (let l of o.context.abortListeners)
              try {
                l();
              } catch (a) {
                Rt(this.view.state, a);
              }
            (o.context.abortListeners = null), this.running.splice(s--, 1);
          } else o.updates.push(...t.transactions);
        }
        this.debounceUpdate > -1 && clearTimeout(this.debounceUpdate),
          t.transactions.some((s) => s.effects.some((o) => o.is(Of))) &&
            (this.pendingStart = !0);
        let i = this.pendingStart ? 50 : n.activateOnTypingDelay;
        if (
          ((this.debounceUpdate = e.active.some(
            (s) =>
              s.state == 1 &&
              !this.running.some((o) => o.active.source == s.source)
          )
            ? setTimeout(() => this.startUpdate(), i)
            : -1),
          this.composing != 0)
        )
          for (let s of t.transactions)
            rg(s, n) == "input"
              ? (this.composing = 2)
              : this.composing == 2 && s.selection && (this.composing = 3);
      }
      startUpdate() {
        (this.debounceUpdate = -1), (this.pendingStart = !1);
        let { state: t } = this.view,
          e = t.field(Pt);
        for (let n of e.active)
          n.state == 1 &&
            !this.running.some((r) => r.active.source == n.source) &&
            this.startQuery(n);
      }
      startQuery(t) {
        let { state: e } = this.view,
          n = gi(e),
          r = new I_(e, n, t.explicitPos == n),
          i = new O8(t, r);
        this.running.push(i),
          Promise.resolve(t.source(r)).then(
            (s) => {
              i.context.aborted ||
                ((i.done = s || null), this.scheduleAccept());
            },
            (s) => {
              this.view.dispatch({ effects: ma.of(null) }),
                Rt(this.view.state, s);
            }
          );
      }
      scheduleAccept() {
        this.running.every((t) => t.done !== void 0)
          ? this.accept()
          : this.debounceAccept < 0 &&
            (this.debounceAccept = setTimeout(
              () => this.accept(),
              this.view.state.facet(st).updateSyncTime
            ));
      }
      accept() {
        var t;
        this.debounceAccept > -1 && clearTimeout(this.debounceAccept),
          (this.debounceAccept = -1);
        let e = [],
          n = this.view.state.facet(st);
        for (let r = 0; r < this.running.length; r++) {
          let i = this.running[r];
          if (i.done === void 0) continue;
          if ((this.running.splice(r--, 1), i.done)) {
            let o = new io(
              i.active.source,
              i.active.explicitPos,
              i.done,
              i.done.from,
              (t = i.done.to) !== null && t !== void 0
                ? t
                : gi(
                    i.updates.length ? i.updates[0].startState : this.view.state
                  )
            );
            for (let l of i.updates) o = o.update(l, n);
            if (o.hasResult()) {
              e.push(o);
              continue;
            }
          }
          let s = this.view.state
            .field(Pt)
            .active.find((o) => o.source == i.active.source);
          if (s && s.state == 1)
            if (i.done == null) {
              let o = new St(i.active.source, 0);
              for (let l of i.updates) o = o.update(l, n);
              o.state != 1 && e.push(o);
            } else this.startQuery(s);
        }
        e.length && this.view.dispatch({ effects: z_.of(e) });
      }
    },
    {
      eventHandlers: {
        blur(t) {
          let e = this.view.state.field(Pt, !1);
          if (e && e.tooltip && this.view.state.facet(st).closeOnBlur) {
            let n = e.open && CC(this.view, e.open.tooltip);
            (!n || !n.dom.contains(t.relatedTarget)) &&
              setTimeout(
                () => this.view.dispatch({ effects: ma.of(null) }),
                10
              );
          }
        },
        compositionstart() {
          this.composing = 1;
        },
        compositionend() {
          this.composing == 3 &&
            setTimeout(() => this.view.dispatch({ effects: Of.of(!1) }), 20),
            (this.composing = 0);
        },
      },
    }
  ),
  P8 = typeof navigator == "object" && /Win/.test(navigator.platform),
  D8 = gs.highest(
    N.domEventHandlers({
      keydown(t, e) {
        let n = e.state.field(Pt, !1);
        if (
          !n ||
          !n.open ||
          n.open.disabled ||
          n.open.selected < 0 ||
          t.key.length > 1 ||
          (t.ctrlKey && !(P8 && t.altKey)) ||
          t.metaKey
        )
          return !1;
        let r = n.open.options[n.open.selected],
          i = n.active.find((o) => o.source == r.source),
          s = r.completion.commitCharacters || i.result.commitCharacters;
        return s && s.indexOf(t.key) > -1 && t1(e, r), !1;
      },
    })
  ),
  R8 = N.baseTheme({
    ".cm-tooltip.cm-tooltip-autocomplete": {
      "& > ul": {
        fontFamily: "monospace",
        whiteSpace: "nowrap",
        overflow: "hidden auto",
        maxWidth_fallback: "700px",
        maxWidth: "min(700px, 95vw)",
        minWidth: "250px",
        maxHeight: "10em",
        height: "100%",
        listStyle: "none",
        margin: 0,
        padding: 0,
        "& > li, & > completion-section": {
          padding: "1px 3px",
          lineHeight: 1.2,
        },
        "& > li": {
          overflowX: "hidden",
          textOverflow: "ellipsis",
          cursor: "pointer",
        },
        "& > completion-section": {
          display: "list-item",
          borderBottom: "1px solid silver",
          paddingLeft: "0.5em",
          opacity: 0.7,
        },
      },
    },
    "&light .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#17c",
      color: "white",
    },
    "&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#777",
    },
    "&dark .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#347",
      color: "white",
    },
    "&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#444",
    },
    ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":
      { content: '""', opacity: 0.5, display: "block", textAlign: "center" },
    ".cm-tooltip.cm-completionInfo": {
      position: "absolute",
      padding: "3px 9px",
      width: "max-content",
      maxWidth: "400px",
      boxSizing: "border-box",
    },
    ".cm-completionInfo.cm-completionInfo-left": { right: "100%" },
    ".cm-completionInfo.cm-completionInfo-right": { left: "100%" },
    ".cm-completionInfo.cm-completionInfo-left-narrow": { right: "30px" },
    ".cm-completionInfo.cm-completionInfo-right-narrow": { left: "30px" },
    "&light .cm-snippetField": { backgroundColor: "#00000022" },
    "&dark .cm-snippetField": { backgroundColor: "#ffffff22" },
    ".cm-snippetFieldPosition": {
      verticalAlign: "text-top",
      width: 0,
      height: "1.15em",
      display: "inline-block",
      margin: "0 -0.7px -.7em",
      borderLeft: "1.4px dotted #888",
    },
    ".cm-completionMatchedText": { textDecoration: "underline" },
    ".cm-completionDetail": { marginLeft: "0.5em", fontStyle: "italic" },
    ".cm-completionIcon": {
      fontSize: "90%",
      width: ".8em",
      display: "inline-block",
      textAlign: "center",
      paddingRight: ".6em",
      opacity: "0.6",
      boxSizing: "content-box",
    },
    ".cm-completionIcon-function, .cm-completionIcon-method": {
      "&:after": { content: "''" },
    },
    ".cm-completionIcon-class": { "&:after": { content: "''" } },
    ".cm-completionIcon-interface": { "&:after": { content: "''" } },
    ".cm-completionIcon-variable": { "&:after": { content: "''" } },
    ".cm-completionIcon-constant": { "&:after": { content: "''" } },
    ".cm-completionIcon-type": { "&:after": { content: "''" } },
    ".cm-completionIcon-enum": { "&:after": { content: "''" } },
    ".cm-completionIcon-property": { "&:after": { content: "''" } },
    ".cm-completionIcon-keyword": { "&:after": { content: "''" } },
    ".cm-completionIcon-namespace": { "&:after": { content: "''" } },
    ".cm-completionIcon-text": {
      "&:after": { content: "'abc'", fontSize: "50%", verticalAlign: "middle" },
    },
  }),
  ga = {
    brackets: ["(", "[", "{", "'", '"'],
    before: ")]}:;>",
    stringPrefixes: [],
  },
  Ui = Y.define({
    map(t, e) {
      let n = e.mapPos(t, -1, kt.TrackAfter);
      return n ?? void 0;
    },
  }),
  n1 = new (class extends is {})();
n1.startSide = 1;
n1.endSide = -1;
const V_ = ct.define({
  create() {
    return te.empty;
  },
  update(t, e) {
    if (((t = t.map(e.changes)), e.selection)) {
      let n = e.state.doc.lineAt(e.selection.main.head);
      t = t.update({ filter: (r) => r >= n.from && r <= n.to });
    }
    for (let n of e.effects)
      n.is(Ui) && (t = t.update({ add: [n1.range(n.value, n.value + 1)] }));
    return t;
  },
});
function L8() {
  return [N8, V_];
}
const Jd = "()[]{}<>";
function H_(t) {
  for (let e = 0; e < Jd.length; e += 2)
    if (Jd.charCodeAt(e) == t) return Jd.charAt(e + 1);
  return O0(t < 128 ? t : t + 1);
}
function W_(t, e) {
  return t.languageDataAt("closeBrackets", e)[0] || ga;
}
const B8 =
    typeof navigator == "object" && /Android\b/.test(navigator.userAgent),
  N8 = N.inputHandler.of((t, e, n, r) => {
    if ((B8 ? t.composing : t.compositionStarted) || t.state.readOnly)
      return !1;
    let i = t.state.selection.main;
    if (
      r.length > 2 ||
      (r.length == 2 && un(rt(r, 0)) == 1) ||
      e != i.from ||
      n != i.to
    )
      return !1;
    let s = F8(t.state, r);
    return s ? (t.dispatch(s), !0) : !1;
  }),
  I8 = ({ state: t, dispatch: e }) => {
    if (t.readOnly) return !1;
    let r = W_(t, t.selection.main.head).brackets || ga.brackets,
      i = null,
      s = t.changeByRange((o) => {
        if (o.empty) {
          let l = z8(t.doc, o.head);
          for (let a of r)
            if (a == l && Mh(t.doc, o.head) == H_(rt(a, 0)))
              return {
                changes: { from: o.head - a.length, to: o.head + a.length },
                range: A.cursor(o.head - a.length),
              };
        }
        return { range: (i = o) };
      });
    return (
      i || e(t.update(s, { scrollIntoView: !0, userEvent: "delete.backward" })),
      !i
    );
  },
  $8 = [{ key: "Backspace", run: I8 }];
function F8(t, e) {
  let n = W_(t, t.selection.main.head),
    r = n.brackets || ga.brackets;
  for (let i of r) {
    let s = H_(rt(i, 0));
    if (e == i)
      return s == i
        ? H8(t, i, r.indexOf(i + i + i) > -1, n)
        : j8(t, i, s, n.before || ga.before);
    if (e == s && U_(t, t.selection.main.from)) return V8(t, i, s);
  }
  return null;
}
function U_(t, e) {
  let n = !1;
  return (
    t.field(V_).between(0, t.doc.length, (r) => {
      r == e && (n = !0);
    }),
    n
  );
}
function Mh(t, e) {
  let n = t.sliceString(e, e + 2);
  return n.slice(0, un(rt(n, 0)));
}
function z8(t, e) {
  let n = t.sliceString(e - 2, e);
  return un(rt(n, 0)) == n.length ? n : n.slice(1);
}
function j8(t, e, n, r) {
  let i = null,
    s = t.changeByRange((o) => {
      if (!o.empty)
        return {
          changes: [
            { insert: e, from: o.from },
            { insert: n, from: o.to },
          ],
          effects: Ui.of(o.to + e.length),
          range: A.range(o.anchor + e.length, o.head + e.length),
        };
      let l = Mh(t.doc, o.head);
      return !l || /\s/.test(l) || r.indexOf(l) > -1
        ? {
            changes: { insert: e + n, from: o.head },
            effects: Ui.of(o.head + e.length),
            range: A.cursor(o.head + e.length),
          }
        : { range: (i = o) };
    });
  return i
    ? null
    : t.update(s, { scrollIntoView: !0, userEvent: "input.type" });
}
function V8(t, e, n) {
  let r = null,
    i = t.changeByRange((s) =>
      s.empty && Mh(t.doc, s.head) == n
        ? {
            changes: { from: s.head, to: s.head + n.length, insert: n },
            range: A.cursor(s.head + n.length),
          }
        : (r = { range: s })
    );
  return r
    ? null
    : t.update(i, { scrollIntoView: !0, userEvent: "input.type" });
}
function H8(t, e, n, r) {
  let i = r.stringPrefixes || ga.stringPrefixes,
    s = null,
    o = t.changeByRange((l) => {
      if (!l.empty)
        return {
          changes: [
            { insert: e, from: l.from },
            { insert: e, from: l.to },
          ],
          effects: Ui.of(l.to + e.length),
          range: A.range(l.anchor + e.length, l.head + e.length),
        };
      let a = l.head,
        u = Mh(t.doc, a),
        c;
      if (u == e) {
        if (Nw(t, a))
          return {
            changes: { insert: e + e, from: a },
            effects: Ui.of(a + e.length),
            range: A.cursor(a + e.length),
          };
        if (U_(t, a)) {
          let h =
            n && t.sliceDoc(a, a + e.length * 3) == e + e + e ? e + e + e : e;
          return {
            changes: { from: a, to: a + h.length, insert: h },
            range: A.cursor(a + h.length),
          };
        }
      } else {
        if (
          n &&
          t.sliceDoc(a - 2 * e.length, a) == e + e &&
          (c = Iw(t, a - 2 * e.length, i)) > -1 &&
          Nw(t, c)
        )
          return {
            changes: { insert: e + e + e + e, from: a },
            effects: Ui.of(a + e.length),
            range: A.cursor(a + e.length),
          };
        if (
          t.charCategorizer(a)(u) != _e.Word &&
          Iw(t, a, i) > -1 &&
          !W8(t, a, e, i)
        )
          return {
            changes: { insert: e + e, from: a },
            effects: Ui.of(a + e.length),
            range: A.cursor(a + e.length),
          };
      }
      return { range: (s = l) };
    });
  return s
    ? null
    : t.update(o, { scrollIntoView: !0, userEvent: "input.type" });
}
function Nw(t, e) {
  let n = ut(t).resolveInner(e + 1);
  return n.parent && n.from == e;
}
function W8(t, e, n, r) {
  let i = ut(t).resolveInner(e, -1),
    s = r.reduce((o, l) => Math.max(o, l.length), 0);
  for (let o = 0; o < 5; o++) {
    let l = t.sliceDoc(i.from, Math.min(i.to, i.from + n.length + s)),
      a = l.indexOf(n);
    if (!a || (a > -1 && r.indexOf(l.slice(0, a)) > -1)) {
      let c = i.firstChild;
      for (; c && c.from == i.from && c.to - c.from > n.length + a; ) {
        if (t.sliceDoc(c.to - n.length, c.to) == n) return !1;
        c = c.firstChild;
      }
      return !0;
    }
    let u = i.to == e && i.parent;
    if (!u) break;
    i = u;
  }
  return !1;
}
function Iw(t, e, n) {
  let r = t.charCategorizer(e);
  if (r(t.sliceDoc(e - 1, e)) != _e.Word) return e;
  for (let i of n) {
    let s = e - i.length;
    if (t.sliceDoc(s, e) == i && r(t.sliceDoc(s - 1, s)) != _e.Word) return s;
  }
  return -1;
}
function U8(t = {}) {
  return [D8, Pt, st.of(t), T8, K8, R8];
}
const K_ = [
    { key: "Ctrl-Space", run: _8 },
    { key: "Escape", run: A8 },
    { key: "ArrowDown", run: Yu(!0) },
    { key: "ArrowUp", run: Yu(!1) },
    { key: "PageDown", run: Yu(!0, "page") },
    { key: "PageUp", run: Yu(!1, "page") },
    { key: "Enter", run: C8 },
  ],
  K8 = gs.highest(
    $0.computeN([st], (t) => (t.facet(st).defaultKeymap ? [K_] : []))
  );
class q8 {
  constructor(e, n, r) {
    (this.from = e), (this.to = n), (this.diagnostic = r);
  }
}
class zi {
  constructor(e, n, r) {
    (this.diagnostics = e), (this.panel = n), (this.selected = r);
  }
  static init(e, n, r) {
    let i = e,
      s = r.facet(i1).markerFilter;
    s && (i = s(i, r));
    let o = U.set(
      i.map((l) =>
        l.from == l.to ||
        (l.from == l.to - 1 && r.doc.lineAt(l.from).to == l.from)
          ? U.widget({ widget: new n6(l), diagnostic: l }).range(l.from)
          : U.mark({
              attributes: {
                class:
                  "cm-lintRange cm-lintRange-" +
                  l.severity +
                  (l.markClass ? " " + l.markClass : ""),
              },
              diagnostic: l,
              inclusive: !0,
            }).range(l.from, l.to)
      ),
      !0
    );
    return new zi(o, n, Mo(o));
  }
}
function Mo(t, e = null, n = 0) {
  let r = null;
  return (
    t.between(n, 1e9, (i, s, { spec: o }) => {
      if (!(e && o.diagnostic != e))
        return (r = new q8(i, s, o.diagnostic)), !1;
    }),
    r
  );
}
function G8(t, e) {
  let n = e.pos,
    r = e.end || n,
    i = t.state.facet(i1).hideOn(t, n, r);
  if (i != null) return i;
  let s = t.startState.doc.lineAt(e.pos);
  return !!(
    t.effects.some((o) => o.is(q_)) ||
    t.changes.touchesRange(s.from, Math.max(s.to, r))
  );
}
function Y8(t, e) {
  return t.field(Gt, !1) ? e : e.concat(Y.appendConfig.of(s6));
}
const q_ = Y.define(),
  r1 = Y.define(),
  G_ = Y.define(),
  Gt = ct.define({
    create() {
      return new zi(U.none, null, null);
    },
    update(t, e) {
      if (e.docChanged) {
        let n = t.diagnostics.map(e.changes),
          r = null;
        if (t.selected) {
          let i = e.changes.mapPos(t.selected.from, 1);
          r = Mo(n, t.selected.diagnostic, i) || Mo(n, null, i);
        }
        t = new zi(n, t.panel, r);
      }
      for (let n of e.effects)
        n.is(q_)
          ? (t = zi.init(n.value, t.panel, e.state))
          : n.is(r1)
            ? (t = new zi(t.diagnostics, n.value ? Eh.open : null, t.selected))
            : n.is(G_) && (t = new zi(t.diagnostics, t.panel, n.value));
      return t;
    },
    provide: (t) => [
      fa.from(t, (e) => e.panel),
      N.decorations.from(t, (e) => e.diagnostics),
    ],
  }),
  X8 = U.mark({ class: "cm-lintRange cm-lintRange-active", inclusive: !0 });
function Q8(t, e, n) {
  let { diagnostics: r } = t.state.field(Gt),
    i = [],
    s = 2e8,
    o = 0;
  r.between(e - (n < 0 ? 1 : 0), e + (n > 0 ? 1 : 0), (a, u, { spec: c }) => {
    e >= a &&
      e <= u &&
      (a == u || ((e > a || n > 0) && (e < u || n < 0))) &&
      (i.push(c.diagnostic), (s = Math.min(a, s)), (o = Math.max(u, o)));
  });
  let l = t.state.facet(i1).tooltipFilter;
  return (
    l && (i = l(i, t.state)),
    i.length
      ? {
          pos: s,
          end: o,
          above: t.state.doc.lineAt(s).to < o,
          create() {
            return { dom: J8(t, i) };
          },
        }
      : null
  );
}
function J8(t, e) {
  return ge(
    "ul",
    { class: "cm-tooltip-lint" },
    e.map((n) => X_(t, n, !1))
  );
}
const Z8 = (t) => {
    let e = t.state.field(Gt, !1);
    (!e || !e.panel) && t.dispatch({ effects: Y8(t.state, [r1.of(!0)]) });
    let n = ca(t, Eh.open);
    return n && n.dom.querySelector(".cm-panel-lint ul").focus(), !0;
  },
  $w = (t) => {
    let e = t.state.field(Gt, !1);
    return !e || !e.panel ? !1 : (t.dispatch({ effects: r1.of(!1) }), !0);
  },
  e6 = (t) => {
    let e = t.state.field(Gt, !1);
    if (!e) return !1;
    let n = t.state.selection.main,
      r = e.diagnostics.iter(n.to + 1);
    return !r.value &&
      ((r = e.diagnostics.iter(0)),
      !r.value || (r.from == n.from && r.to == n.to))
      ? !1
      : (t.dispatch({
          selection: { anchor: r.from, head: r.to },
          scrollIntoView: !0,
        }),
        !0);
  },
  t6 = [
    { key: "Mod-Shift-m", run: Z8, preventDefault: !0 },
    { key: "F8", run: e6 },
  ],
  i1 = $.define({
    combine(t) {
      return Object.assign(
        { sources: t.map((e) => e.source).filter((e) => e != null) },
        mr(
          t.map((e) => e.config),
          {
            delay: 750,
            markerFilter: null,
            tooltipFilter: null,
            needsRefresh: null,
            hideOn: () => null,
          },
          { needsRefresh: (e, n) => (e ? (n ? (r) => e(r) || n(r) : e) : n) }
        )
      );
    },
  });
function Y_(t) {
  let e = [];
  if (t)
    e: for (let { name: n } of t) {
      for (let r = 0; r < n.length; r++) {
        let i = n[r];
        if (
          /[a-zA-Z]/.test(i) &&
          !e.some((s) => s.toLowerCase() == i.toLowerCase())
        ) {
          e.push(i);
          continue e;
        }
      }
      e.push("");
    }
  return e;
}
function X_(t, e, n) {
  var r;
  let i = n ? Y_(e.actions) : [];
  return ge(
    "li",
    { class: "cm-diagnostic cm-diagnostic-" + e.severity },
    ge(
      "span",
      { class: "cm-diagnosticText" },
      e.renderMessage ? e.renderMessage(t) : e.message
    ),
    (r = e.actions) === null || r === void 0
      ? void 0
      : r.map((s, o) => {
          let l = !1,
            a = (h) => {
              if ((h.preventDefault(), l)) return;
              l = !0;
              let d = Mo(t.state.field(Gt).diagnostics, e);
              d && s.apply(t, d.from, d.to);
            },
            { name: u } = s,
            c = i[o] ? u.indexOf(i[o]) : -1,
            f =
              c < 0
                ? u
                : [u.slice(0, c), ge("u", u.slice(c, c + 1)), u.slice(c + 1)];
          return ge(
            "button",
            {
              type: "button",
              class: "cm-diagnosticAction",
              onclick: a,
              onmousedown: a,
              "aria-label": ` Action: ${u}${c < 0 ? "" : ` (access key "${i[o]})"`}.`,
            },
            f
          );
        }),
    e.source && ge("div", { class: "cm-diagnosticSource" }, e.source)
  );
}
class n6 extends Ri {
  constructor(e) {
    super(), (this.diagnostic = e);
  }
  eq(e) {
    return e.diagnostic == this.diagnostic;
  }
  toDOM() {
    return ge("span", {
      class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity,
    });
  }
}
class Fw {
  constructor(e, n) {
    (this.diagnostic = n),
      (this.id = "item_" + Math.floor(Math.random() * 4294967295).toString(16)),
      (this.dom = X_(e, n, !0)),
      (this.dom.id = this.id),
      this.dom.setAttribute("role", "option");
  }
}
class Eh {
  constructor(e) {
    (this.view = e), (this.items = []);
    let n = (i) => {
        if (i.keyCode == 27) $w(this.view), this.view.focus();
        else if (i.keyCode == 38 || i.keyCode == 33)
          this.moveSelection(
            (this.selectedIndex - 1 + this.items.length) % this.items.length
          );
        else if (i.keyCode == 40 || i.keyCode == 34)
          this.moveSelection((this.selectedIndex + 1) % this.items.length);
        else if (i.keyCode == 36) this.moveSelection(0);
        else if (i.keyCode == 35) this.moveSelection(this.items.length - 1);
        else if (i.keyCode == 13) this.view.focus();
        else if (
          i.keyCode >= 65 &&
          i.keyCode <= 90 &&
          this.selectedIndex >= 0
        ) {
          let { diagnostic: s } = this.items[this.selectedIndex],
            o = Y_(s.actions);
          for (let l = 0; l < o.length; l++)
            if (o[l].toUpperCase().charCodeAt(0) == i.keyCode) {
              let a = Mo(this.view.state.field(Gt).diagnostics, s);
              a && s.actions[l].apply(e, a.from, a.to);
            }
        } else return;
        i.preventDefault();
      },
      r = (i) => {
        for (let s = 0; s < this.items.length; s++)
          this.items[s].dom.contains(i.target) && this.moveSelection(s);
      };
    (this.list = ge("ul", {
      tabIndex: 0,
      role: "listbox",
      "aria-label": this.view.state.phrase("Diagnostics"),
      onkeydown: n,
      onclick: r,
    })),
      (this.dom = ge(
        "div",
        { class: "cm-panel-lint" },
        this.list,
        ge(
          "button",
          {
            type: "button",
            name: "close",
            "aria-label": this.view.state.phrase("close"),
            onclick: () => $w(this.view),
          },
          ""
        )
      )),
      this.update();
  }
  get selectedIndex() {
    let e = this.view.state.field(Gt).selected;
    if (!e) return -1;
    for (let n = 0; n < this.items.length; n++)
      if (this.items[n].diagnostic == e.diagnostic) return n;
    return -1;
  }
  update() {
    let { diagnostics: e, selected: n } = this.view.state.field(Gt),
      r = 0,
      i = !1,
      s = null;
    for (
      e.between(0, this.view.state.doc.length, (o, l, { spec: a }) => {
        let u = -1,
          c;
        for (let f = r; f < this.items.length; f++)
          if (this.items[f].diagnostic == a.diagnostic) {
            u = f;
            break;
          }
        u < 0
          ? ((c = new Fw(this.view, a.diagnostic)),
            this.items.splice(r, 0, c),
            (i = !0))
          : ((c = this.items[u]),
            u > r && (this.items.splice(r, u - r), (i = !0))),
          n && c.diagnostic == n.diagnostic
            ? c.dom.hasAttribute("aria-selected") ||
              (c.dom.setAttribute("aria-selected", "true"), (s = c))
            : c.dom.hasAttribute("aria-selected") &&
              c.dom.removeAttribute("aria-selected"),
          r++;
      });
      r < this.items.length &&
      !(this.items.length == 1 && this.items[0].diagnostic.from < 0);

    )
      (i = !0), this.items.pop();
    this.items.length == 0 &&
      (this.items.push(
        new Fw(this.view, {
          from: -1,
          to: -1,
          severity: "info",
          message: this.view.state.phrase("No diagnostics"),
        })
      ),
      (i = !0)),
      s
        ? (this.list.setAttribute("aria-activedescendant", s.id),
          this.view.requestMeasure({
            key: this,
            read: () => ({
              sel: s.dom.getBoundingClientRect(),
              panel: this.list.getBoundingClientRect(),
            }),
            write: ({ sel: o, panel: l }) => {
              let a = l.height / this.list.offsetHeight;
              o.top < l.top
                ? (this.list.scrollTop -= (l.top - o.top) / a)
                : o.bottom > l.bottom &&
                  (this.list.scrollTop += (o.bottom - l.bottom) / a);
            },
          }))
        : this.selectedIndex < 0 &&
          this.list.removeAttribute("aria-activedescendant"),
      i && this.sync();
  }
  sync() {
    let e = this.list.firstChild;
    function n() {
      let r = e;
      (e = r.nextSibling), r.remove();
    }
    for (let r of this.items)
      if (r.dom.parentNode == this.list) {
        for (; e != r.dom; ) n();
        e = r.dom.nextSibling;
      } else this.list.insertBefore(r.dom, e);
    for (; e; ) n();
  }
  moveSelection(e) {
    if (this.selectedIndex < 0) return;
    let n = this.view.state.field(Gt),
      r = Mo(n.diagnostics, this.items[e].diagnostic);
    r &&
      this.view.dispatch({
        selection: { anchor: r.from, head: r.to },
        scrollIntoView: !0,
        effects: G_.of(r),
      });
  }
  static open(e) {
    return new Eh(e);
  }
}
function r6(t, e = 'viewBox="0 0 40 40"') {
  return `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`;
}
function Xu(t) {
  return r6(
    `<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,
    'width="6" height="3"'
  );
}
const i6 = N.baseTheme({
    ".cm-diagnostic": {
      padding: "3px 6px 3px 8px",
      marginLeft: "-1px",
      display: "block",
      whiteSpace: "pre-wrap",
    },
    ".cm-diagnostic-error": { borderLeft: "5px solid #d11" },
    ".cm-diagnostic-warning": { borderLeft: "5px solid orange" },
    ".cm-diagnostic-info": { borderLeft: "5px solid #999" },
    ".cm-diagnostic-hint": { borderLeft: "5px solid #66d" },
    ".cm-diagnosticAction": {
      font: "inherit",
      border: "none",
      padding: "2px 4px",
      backgroundColor: "#444",
      color: "white",
      borderRadius: "3px",
      marginLeft: "8px",
      cursor: "pointer",
    },
    ".cm-diagnosticSource": { fontSize: "70%", opacity: 0.7 },
    ".cm-lintRange": {
      backgroundPosition: "left bottom",
      backgroundRepeat: "repeat-x",
      paddingBottom: "0.7px",
    },
    ".cm-lintRange-error": { backgroundImage: Xu("#d11") },
    ".cm-lintRange-warning": { backgroundImage: Xu("orange") },
    ".cm-lintRange-info": { backgroundImage: Xu("#999") },
    ".cm-lintRange-hint": { backgroundImage: Xu("#66d") },
    ".cm-lintRange-active": { backgroundColor: "#ffdd9980" },
    ".cm-tooltip-lint": { padding: 0, margin: 0 },
    ".cm-lintPoint": {
      position: "relative",
      "&:after": {
        content: '""',
        position: "absolute",
        bottom: 0,
        left: "-2px",
        borderLeft: "3px solid transparent",
        borderRight: "3px solid transparent",
        borderBottom: "4px solid #d11",
      },
    },
    ".cm-lintPoint-warning": { "&:after": { borderBottomColor: "orange" } },
    ".cm-lintPoint-info": { "&:after": { borderBottomColor: "#999" } },
    ".cm-lintPoint-hint": { "&:after": { borderBottomColor: "#66d" } },
    ".cm-panel.cm-panel-lint": {
      position: "relative",
      "& ul": {
        maxHeight: "100px",
        overflowY: "auto",
        "& [aria-selected]": {
          backgroundColor: "#ddd",
          "& u": { textDecoration: "underline" },
        },
        "&:focus [aria-selected]": {
          background_fallback: "#bdf",
          backgroundColor: "Highlight",
          color_fallback: "white",
          color: "HighlightText",
        },
        "& u": { textDecoration: "none" },
        padding: 0,
        margin: 0,
      },
      "& [name=close]": {
        position: "absolute",
        top: "0",
        right: "2px",
        background: "inherit",
        border: "none",
        font: "inherit",
        padding: 0,
        margin: 0,
      },
    },
  }),
  s6 = [
    Gt,
    N.decorations.compute([Gt], (t) => {
      let { selected: e, panel: n } = t.field(Gt);
      return !e || !n || e.from == e.to
        ? U.none
        : U.set([X8.range(e.from, e.to)]);
    }),
    rD(Q8, { hideOn: G8 }),
    i6,
  ],
  o6 = [
    hD(),
    mD(),
    L4(),
    PR(),
    JD(),
    k4(),
    M4(),
    ee.allowMultipleSelections.of(!0),
    $D(),
    eR(rR, { fallback: !0 }),
    cR(),
    L8(),
    U8(),
    K4(),
    Y4(),
    z4(),
    $L(),
    $0.of([...$8, ...RL, ...r8, ...zR, ...GD, ...K_, ...t6]),
  ],
  l6 = async (t) => {
    const e = { strict: !1, trust: !0, output: "html" };
    console.log("KaTeX Parse tree:", katex.__parse(t, e));
    const n = katex.renderToString(t, e);
    let r = document.getElementById("debug");
    r ||
      ((r = document.createElement("div")),
      (r.id = "debug"),
      document.body.appendChild(r)),
      (r.innerHTML = n);
    const i = Za(t);
    console.log("Parsed augmented formula:", i);
  };
window.debugLatex = l6;
const a6 = (t) => {
    try {
      return Za(t), !0;
    } catch {
      return !1;
    }
  },
  u6 = (t) => {
    console.log("LaTeX:", t.toLatex("noid")), console.log("New formula:", t);
    const e = t.toLatex("render"),
      n = MathJax.tex2chtml(e),
      r = Q_(n);
    return (
      console.log("Render spec:", r),
      MathJax.startup.document.clear(),
      MathJax.startup.document.updateDocument(),
      { renderSpec: r }
    );
  },
  Za = (t) => {
    const n = katex
      .__parse(t, { strict: !1, trust: !0 })
      .map((r, i) => An(r, `${i}`));
    return new Fo(n);
  },
  An = (t, e) => {
    switch (t.type) {
      case "html": {
        const [n, ...r] = t.body;
        if (n === void 0 || r.length > 0)
          throw new Error("htmlId should only have a single child");
        return An(n, t.attributes.id);
      }
      case "supsub": {
        const n = An(t.base, `${e}.base`),
          r = t.sub ? An(t.sub, `${e}.sub`) : void 0,
          i = t.sup ? An(t.sup, `${e}.sup`) : void 0,
          s = new s1(e, n, r, i);
        return (n._parent = s), r && (r._parent = s), i && (i._parent = s), s;
      }
      case "genfrac": {
        const n = An(t.numer, `${e}.numer`),
          r = An(t.denom, `${e}.denom`),
          i = new o1(e, n, r);
        return (n._parent = i), (r._parent = i), i;
      }
      case "atom":
      case "mathord":
      case "textord":
        return new ya(e, t.text);
      case "color": {
        const n = t.body.map((i) => An(i, `${e}.body`)),
          r = new va(e, t.color, n);
        return n.forEach((i) => (i._parent = r)), r;
      }
      case "styling":
      case "ordgroup": {
        if (t.body.length === 1) return An(t.body[0], e);
        const n = t.body.map((i, s) => An(i, `${e}.${s}`)),
          r = new l1(e, n);
        return n.forEach((i) => (i._parent = r)), r;
      }
      case "enclose": {
        const n = An(t.body, `${e}.body`),
          r = new wa(e, t.borderColor, t.backgroundColor, n);
        return (n._parent = r), r;
      }
    }
    throw (
      (console.log("Failed to build:", t),
      new Error("Failed to build formula tree"))
    );
  };
class Fo {
  constructor(e) {
    Cn(this, "idToNode", {});
    this.children = e;
    const n = (r) => {
      (this.idToNode[r.id] = r), r.children.forEach(n);
    };
    e.forEach(n);
  }
  toLatex(e) {
    return this.children.map((n) => n.toLatex(e)).join(" ");
  }
  findNode(e) {
    return this.idToNode[e] ?? null;
  }
  equals(e) {
    return this.toLatex("noid") === e.toLatex("noid");
  }
}
class zo {
  constructor(e) {
    Cn(this, "_parent", null);
    this.id = e;
  }
  latexWithId(e, n) {
    switch (e) {
      case "ast":
        return String.raw`\htmlId{${this.id}}{${n}}`;
      case "render":
        return String.raw`\cssId{${this.id}}{${n}}`;
      case "noid":
        return n;
    }
  }
  get ancestors() {
    return this._parent === null
      ? []
      : [this._parent, ...this._parent.ancestors];
  }
}
class s1 extends zo {
  constructor(n, r, i, s) {
    super(n);
    Cn(this, "type", "script");
    (this.id = n), (this.base = r), (this.sub = i), (this.sup = s);
  }
  toLatex(n) {
    const r = String.raw`{${this.base.toLatex(n)}}`,
      i = this.sub ? String.raw`_{${this.sub.toLatex(n)}}` : "",
      s = this.sup ? String.raw`^{${this.sup.toLatex(n)}}` : "";
    return this.latexWithId(n, String.raw`{${r}${i}${s}}`);
  }
  withChanges({ id: n, parent: r, base: i, sub: s, sup: o }) {
    const l = new s1(
      n ?? this.id,
      i ?? this.base,
      s ?? this.sub,
      o ?? this.sup
    );
    return (l._parent = r ?? this._parent), l;
  }
  get children() {
    return [
      this.base,
      ...(this.sub ? [this.sub] : []),
      ...(this.sup ? [this.sup] : []),
    ];
  }
}
class o1 extends zo {
  constructor(n, r, i) {
    super(n);
    Cn(this, "type", "frac");
    (this.id = n), (this.numerator = r), (this.denominator = i);
  }
  toLatex(n) {
    const r = this.numerator.toLatex(n),
      i = this.denominator.toLatex(n);
    return this.latexWithId(n, String.raw`\frac{${r}}{${i}}`);
  }
  withChanges({ id: n, parent: r, numerator: i, denominator: s }) {
    const o = new o1(n ?? this.id, i ?? this.numerator, s ?? this.denominator);
    return (o._parent = r ?? this._parent), o;
  }
  get children() {
    return [this.numerator, this.denominator];
  }
}
class ya extends zo {
  constructor(n, r) {
    super(n);
    Cn(this, "type", "symbol");
    (this.id = n), (this.value = r);
  }
  toLatex(n) {
    return this.latexWithId(n, this.value.toString());
  }
  withChanges({ id: n, parent: r, value: i }) {
    const s = new ya(n ?? this.id, i ?? this.value);
    return (s._parent = r ?? this._parent), s;
  }
  get children() {
    return [];
  }
}
class va extends zo {
  constructor(n, r, i) {
    super(n);
    Cn(this, "type", "color");
    (this.id = n), (this.color = r), (this.body = i);
  }
  toLatex(n) {
    const r = this.body.map((i) => i.toLatex(n)).join(" ");
    return this.latexWithId(n, String.raw`\textcolor{${this.color}}{${r}}`);
  }
  withChanges({ id: n, parent: r, color: i, body: s }) {
    const o = new va(n ?? this.id, i ?? this.color, s ?? this.body);
    return (o._parent = r ?? this._parent), o;
  }
  get children() {
    return this.body;
  }
}
class l1 extends zo {
  constructor(n, r) {
    super(n);
    Cn(this, "type", "group");
    (this.id = n), (this.body = r);
  }
  toLatex(n) {
    const r = this.body.map((i) => i.toLatex(n)).join(" ");
    return this.latexWithId(n, String.raw`{${r}}`);
  }
  withChanges({ id: n, parent: r, body: i }) {
    const s = new l1(n ?? this.id, i ?? this.body);
    return (s._parent = r ?? this._parent), s;
  }
  get children() {
    return this.body;
  }
}
class wa extends zo {
  constructor(n, r, i, s) {
    super(n);
    Cn(this, "type", "box");
    (this.id = n),
      (this.borderColor = r),
      (this.backgroundColor = i),
      (this.body = s);
  }
  toLatex(n) {
    const r = this.body.toLatex(n);
    return this.latexWithId(
      n,
      String.raw`\fcolorbox{${this.borderColor}}{${this.backgroundColor}}{$${r}$}`
    );
  }
  withChanges({
    id: n,
    parent: r,
    borderColor: i,
    backgroundColor: s,
    body: o,
  }) {
    const l = new wa(
      n ?? this.id,
      i ?? this.borderColor,
      s ?? this.backgroundColor,
      o ?? this.body
    );
    return (l._parent = r ?? this._parent), l;
  }
  get children() {
    return [this.body];
  }
}
const Q_ = (t) => {
    const e = Array.from(t.children).map(Q_);
    return {
      tagName: t.tagName.toLowerCase(),
      id: t.getAttribute("id") ?? void 0,
      className: t.getAttribute("class") ?? void 0,
      style: "style" in t ? c6(t) : void 0,
      attrs: Object.fromEntries(
        Array.from(t.attributes)
          .filter((n) => !["id", "class", "style"].includes(n.name))
          .map((n) => [n.name, n.value])
      ),
      children: e,
    };
  },
  c6 = (t) =>
    Object.fromEntries(
      Array.from(t.style).map((e) => [
        e.replace(/-./g, (n) => n[1].toUpperCase()),
        t.style[e],
      ])
    );
let zw,
  jw,
  Vw,
  Hw,
  Ww,
  Uw,
  Kw,
  qw,
  Gw,
  Yw,
  Xw,
  Qw,
  Jw,
  Zw,
  eb,
  tb,
  nb,
  rb,
  ib,
  sb;
function J_(t, e, n, r, i, s) {
  var o,
    l,
    a,
    u,
    c,
    f,
    h,
    d = Symbol.metadata || Symbol.for("Symbol.metadata"),
    p = Object.defineProperty,
    m = Object.create,
    w = [m(null), m(null)],
    g = e.length;
  function y(S, k, _) {
    return function (E, O) {
      k && ((O = E), (E = t));
      for (var L = 0; L < S.length; L++) O = S[L].apply(E, _ ? [O] : []);
      return _ ? O : E;
    };
  }
  function v(S, k, _, E) {
    if (typeof S != "function" && (E || S !== void 0))
      throw new TypeError(
        k + " must " + (_ || "be") + " a function" + (E ? "" : " or undefined")
      );
    return S;
  }
  function b(S, k, _, E, O, L, F, V, W, X, Ae) {
    function Pe(bt) {
      if (!Ae(bt))
        throw new TypeError(
          "Attempted to access private element on non-instance"
        );
    }
    var T = [].concat(k[0]),
      j = k[3],
      z = !F,
      G = O === 1,
      re = O === 3,
      wt = O === 4,
      He = O === 2;
    function zt(bt, ys, k1) {
      return function (ou, C1) {
        return ys && ((C1 = ou), (ou = S)), k1 && k1(ou), de[bt].call(ou, C1);
      };
    }
    if (!z) {
      var de = {},
        $r = [],
        Fr = re ? "get" : wt || G ? "set" : "value";
      if (
        (W
          ? (X || G
              ? (de = {
                  get: ob(
                    function () {
                      return j(this);
                    },
                    E,
                    "get"
                  ),
                  set: function (bt) {
                    k[4](this, bt);
                  },
                })
              : (de[Fr] = j),
            X || ob(de[Fr], E, He ? "" : Fr))
          : X || (de = Object.getOwnPropertyDescriptor(S, E)),
        !X && !W)
      ) {
        if ((l = w[+V][E]) && (l ^ O) != 7)
          throw new Error(
            "Decorating two elements with the same name (" +
              de[Fr].name +
              ") is not supported yet"
          );
        w[+V][E] = O < 3 ? 1 : O;
      }
    }
    for (var jt = S, su = T.length - 1; su >= 0; su -= _ ? 2 : 1) {
      var x1 = T[su],
        S1 = _ ? T[su - 1] : void 0,
        Gh = {},
        Ho = {
          kind: ["field", "accessor", "method", "getter", "setter", "class"][O],
          name: E,
          metadata: o,
          addInitializer: function (bt, ys) {
            if (bt.v)
              throw new Error(
                "attempted to call addInitializer after decoration was finished"
              );
            v(ys, "An initializer", "be", !0), L.push(ys);
          }.bind(null, Gh),
        };
      if (z)
        (l = x1.call(S1, jt, Ho)),
          (Gh.v = 1),
          v(l, "class decorators", "return") && (jt = l);
      else if (
        ((Ho.static = V),
        (Ho.private = W),
        (l = Ho.access =
          {
            has: W
              ? Ae.bind()
              : function (bt) {
                  return E in bt;
                },
          }),
        wt ||
          (l.get = W
            ? He
              ? function (bt) {
                  return Pe(bt), de.value;
                }
              : zt("get", 0, Pe)
            : function (bt) {
                return bt[E];
              }),
        He ||
          re ||
          (l.set = W
            ? zt("set", 0, Pe)
            : function (bt, ys) {
                bt[E] = ys;
              }),
        (jt = x1.call(S1, G ? { get: de.get, set: de.set } : de[Fr], Ho)),
        (Gh.v = 1),
        G)
      ) {
        if (typeof jt == "object" && jt)
          (l = v(jt.get, "accessor.get")) && (de.get = l),
            (l = v(jt.set, "accessor.set")) && (de.set = l),
            (l = v(jt.init, "accessor.init")) && $r.unshift(l);
        else if (jt !== void 0)
          throw new TypeError(
            "accessor decorators must return an object with get, set, or init properties or undefined"
          );
      } else
        v(jt, (X ? "field" : "method") + " decorators", "return") &&
          (X ? $r.unshift(jt) : (de[Fr] = jt));
    }
    return (
      O < 2 && F.push(y($r, V, 1), y(L, V, 0)),
      X ||
        z ||
        (W
          ? G
            ? F.splice(-1, 0, zt("get", V), zt("set", V))
            : F.push(He ? de[Fr] : v.call.bind(de[Fr]))
          : p(S, E, de)),
      jt
    );
  }
  function x(S) {
    return p(S, d, { configurable: !0, enumerable: !0, value: o });
  }
  return (
    s !== void 0 && (o = s[d]),
    (o = m(o ?? null)),
    (c = []),
    (f = function (S) {
      S && c.push(y(S));
    }),
    (h = function (S, k) {
      for (var _ = 0; _ < n.length; _++) {
        var E = n[_],
          O = E[1],
          L = 7 & O;
        if ((8 & O) == S && !L == k) {
          var F = E[2],
            V = !!E[3],
            W = 16 & O;
          b(
            S ? t : t.prototype,
            E,
            W,
            V ? "#" + F : f6(F),
            L,
            L < 2 ? [] : S ? (u = u || []) : (a = a || []),
            c,
            !!S,
            V,
            k,
            S && V
              ? function (X) {
                  return d6(X) === t;
                }
              : i
          );
        }
      }
    }),
    h(8, 0),
    h(0, 0),
    h(8, 1),
    h(0, 1),
    f(a),
    f(u),
    (l = c),
    g || x(t),
    {
      e: l,
      get c() {
        var S = [];
        return g && [x((t = b(t, [e], r, t.name, 5, S))), y(S, 1)];
      },
    }
  );
}
function f6(t) {
  var e = h6(t, "string");
  return typeof e == "symbol" ? e : String(e);
}
function h6(t, e) {
  if (typeof t != "object" || !t) return t;
  var n = t[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(t, e || "default");
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function ob(t, e, n) {
  typeof e == "symbol" && (e = (e = e.description) ? "[" + e + "]" : "");
  try {
    Object.defineProperty(t, "name", {
      configurable: !0,
      value: n ? n + " " + e : e,
    });
  } catch {}
  return t;
}
function d6(t) {
  if (Object(t) !== t)
    throw TypeError(
      "right-hand side of 'in' should be an object, got " +
        (t !== null ? typeof t : "null")
    );
  return t;
}
var Sa, ka, Ca;
const w1 = class w1 {
  constructor() {
    Hn(this, Sa, (zw(this), jw(this, null)));
    Hn(this, ka, (Vw(this), Hw(this, new Fo([]))));
    Hn(this, Ca, (Ww(this), Uw(this, !1)));
    Kw(this);
  }
  get renderSpec() {
    return Vn(this, Sa);
  }
  set renderSpec(e) {
    Wn(this, Sa, e);
  }
  get augmentedFormula() {
    return Vn(this, ka);
  }
  set augmentedFormula(e) {
    Wn(this, ka, e);
  }
  get suppressEditorUpdate() {
    return Vn(this, Ca);
  }
  set suppressEditorUpdate(e) {
    Wn(this, Ca, e);
  }
  updateFormula(e) {
    if (this.augmentedFormula.equals(e)) {
      console.log("Skipping formula update");
      return;
    }
    const { renderSpec: n } = u6(e);
    (this.renderSpec = n), (this.augmentedFormula = e), q.clearSelection();
  }
  get latexWithStyling() {
    return this.augmentedFormula.toLatex("noid");
  }
};
(Sa = new WeakMap()),
  (ka = new WeakMap()),
  (Ca = new WeakMap()),
  ([jw, Vw, Hw, Ww, Uw, Kw, zw] = J_(
    w1,
    [],
    [
      [he, 1, "renderSpec"],
      [he, 1, "augmentedFormula"],
      [he, 1, "suppressEditorUpdate"],
      [Be, 2, "updateFormula"],
      [hi, 3, "latexWithStyling"],
    ]
  ).e);
let ig = w1;
const Ot = new ig();
var _a, Aa, Oa, Ma, Ea, Ta;
const b1 = class b1 {
  constructor() {
    Hn(this, _a, (qw(this), Gw(this, null)));
    Hn(this, Aa, (Yw(this), Xw(this, he.array())));
    Hn(this, Oa, (Qw(this), Jw(this, he.map())));
    Hn(this, Ma, (Zw(this), eb(this, null)));
    Hn(this, Ea, (tb(this), nb(this, 4)));
    Hn(this, Ta, (rb(this), ib(this, { x: 0, y: 0 })));
    Cn(this, "workspaceRef", (sb(this), null));
    Cn(this, "targetRefs", new Map());
  }
  get workspaceBBox() {
    return Vn(this, _a);
  }
  set workspaceBBox(e) {
    Wn(this, _a, e);
  }
  get selected() {
    return Vn(this, Aa);
  }
  set selected(e) {
    Wn(this, Aa, e);
  }
  get targets() {
    return Vn(this, Oa);
  }
  set targets(e) {
    Wn(this, Oa, e);
  }
  get selectionRect() {
    return Vn(this, Ma);
  }
  set selectionRect(e) {
    Wn(this, Ma, e);
  }
  get zoom() {
    return Vn(this, Ea);
  }
  set zoom(e) {
    Wn(this, Ea, e);
  }
  get pan() {
    return Vn(this, Ta);
  }
  set pan(e) {
    Wn(this, Ta, e);
  }
  initializeWorkspace(e) {
    if (((this.workspaceRef = e), !e)) return;
    const { left: n, top: r, width: i, height: s } = e.getBoundingClientRect();
    this.workspaceBBox = { left: n, top: r, width: i, height: s };
  }
  updateWorkspaceDimensions() {
    if (!this.workspaceRef) return;
    const {
      left: e,
      top: n,
      width: r,
      height: i,
    } = this.workspaceRef.getBoundingClientRect();
    this.workspaceBBox = { left: e, top: n, width: r, height: i };
  }
  addTarget(e, n, r) {
    this.targetRefs.set(e, [n, r]);
  }
  removeTarget(e) {
    this.targetRefs.delete(e);
  }
  clearTargets() {
    console.log("Clearing targets"),
      this.targetRefs.clear(),
      this.targets.clear(),
      this.selected.clear();
  }
  startDragSelection(e, n) {
    this.selectionRect = { x1: e, y1: n, x2: e, y2: n };
  }
  updateDragSelection(e, n) {
    this.selectionRect &&
      ((this.selectionRect.x2 = e), (this.selectionRect.y2 = n));
  }
  stopDragSelection() {
    this.currentlyDragged.forEach((e) => {
      this.selected.includes(e) || this.selected.push(e);
    }),
      (this.selectionRect = null);
  }
  clearSelection() {
    this.selected.clear();
  }
  updateTargets() {
    for (const [e, [n, r]] of this.targetRefs) {
      const {
        left: i,
        top: s,
        width: o,
        height: l,
      } = n.getBoundingClientRect();
      i === 0 && s === 0 && o === 0 && l === 0
        ? this.targets.delete(e)
        : this.targets.set(e, {
            id: e,
            left: i,
            top: s,
            width: o,
            height: l,
            isLeaf: r,
          });
    }
    console.log(this.targetRefs.size, "targets updated");
  }
  toggle(e) {
    this.selected.includes(e)
      ? this.selected.replace(this.selected.filter((n) => n !== e))
      : this.selected.push(e);
  }
  updatePan(e, n) {
    (this.pan.x += e), (this.pan.y += n);
  }
  updateZoom(e) {
    this.zoom = Math.max(1, this.zoom + e / 1e3);
  }
  get selectionRectDimensions() {
    var e, n;
    return this.selectionRect
      ? {
          left:
            Math.min(this.selectionRect.x1, this.selectionRect.x2) -
            (((e = this.workspaceBBox) == null ? void 0 : e.left) ?? 0),
          top:
            Math.min(this.selectionRect.y1, this.selectionRect.y2) -
            (((n = this.workspaceBBox) == null ? void 0 : n.top) ?? 0),
          width: Math.abs(this.selectionRect.x1 - this.selectionRect.x2),
          height: Math.abs(this.selectionRect.y1 - this.selectionRect.y2),
        }
      : null;
  }
  get currentlyDragged() {
    if (!this.selectionRect) return new Set();
    const { x1: e, x2: n, y1: r, y2: i } = this.selectionRect,
      s = Math.min(e, n),
      o = Math.max(e, n),
      l = Math.min(r, i),
      a = Math.max(r, i);
    return new Set(
      Array.from(this.targets.values()).flatMap((u) => {
        const { left: c, top: f, width: h, height: d } = u,
          p = c + h,
          m = f + d;
        return u.isLeaf && c <= o && p >= s && f <= a && m >= l ? [u.id] : [];
      })
    );
  }
  get resolvedSelection() {
    var r, i;
    const e = new Set([...this.selected, ...this.currentlyDragged]);
    let n = !0;
    for (; n; ) {
      n = !1;
      for (const s of e) {
        const o = Ot.augmentedFormula.findNode(s);
        if (!o) {
          console.error(`Node with id ${s} not found`);
          continue;
        }
        (r = o._parent) != null && r.children.every((l) => e.has(l.id))
          ? (e.add(o._parent.id),
            o._parent.children.forEach((l) => e.delete(l.id)),
            (n = !0))
          : ((i = o._parent) == null ? void 0 : i.children.length) === 1 &&
            (e.add(o._parent.id), e.delete(o.id), (n = !0));
      }
    }
    return e;
  }
};
(_a = new WeakMap()),
  (Aa = new WeakMap()),
  (Oa = new WeakMap()),
  (Ma = new WeakMap()),
  (Ea = new WeakMap()),
  (Ta = new WeakMap()),
  ([Gw, Yw, Xw, Qw, Jw, Zw, eb, tb, nb, rb, ib, sb, qw] = J_(
    b1,
    [],
    [
      [he, 1, "workspaceBBox"],
      [he, 1, "selected"],
      [he, 1, "targets"],
      [he, 1, "selectionRect"],
      [he, 1, "zoom"],
      [he, 1, "pan"],
      [Be, 2, "initializeWorkspace"],
      [Be, 2, "updateWorkspaceDimensions"],
      [Be, 2, "addTarget"],
      [Be, 2, "removeTarget"],
      [Be, 2, "clearTargets"],
      [Be, 2, "startDragSelection"],
      [Be, 2, "updateDragSelection"],
      [Be, 2, "stopDragSelection"],
      [Be, 2, "clearSelection"],
      [Be, 2, "updateTargets"],
      [Be, 2, "toggle"],
      [Be, 2, "updatePan"],
      [Be, 2, "updateZoom"],
      [hi, 3, "selectionRectDimensions"],
      [
        hi({
          equals: (e, n) =>
            e.size === n.size && Array.from(e).every((r) => n.has(r)),
        }),
        3,
        "currentlyDragged",
      ],
      [
        hi({
          equals: (e, n) =>
            e.size === n.size && Array.from(e).every((r) => n.has(r)),
        }),
        3,
        "resolvedSelection",
      ],
    ]
  ).e);
let sg = b1;
const q = new sg();
var p6 = { name: "1fwhj2e", styles: "height:2rem;background-color:#f0f0f0" },
  m6 = { name: "sj1ogp", styles: ".cm-editor{height:100%;font-size:1.5rem;}" };
const g6 = zn(() => {
  const [t, e] = H.useState(null),
    [n, r] = H.useState(null),
    [i, s] = H.useState(!0);
  return (
    H.useEffect(() => {
      if (t && (!n || n.contentDOM !== t)) {
        const o = new N({
          state: ee.create({
            extensions: [o6, N.lineWrapping, U0.define(xR)],
            doc: Ot.latexWithStyling,
          }),
          parent: t,
        });
        r(o);
        const l = g3(
          () => Ot.latexWithStyling,
          (a) => {
            console.log("Synchronizing editor with new formula", a),
              s(() => !0),
              o.dispatch(
                o.state.update({
                  changes: { from: 0, to: o.state.doc.length, insert: a },
                })
              );
          }
        );
        return (
          o.contentDOM.addEventListener("blur", () => {
            const a = o.state.doc.toString();
            a6(a) ? (s(() => !0), Ot.updateFormula(Za(a))) : s(() => !1);
          }),
          () => {
            l(), o.destroy();
          }
        );
      }
    }, [t, r]),
    qe(vi, {
      children: [
        C(h0, { styles: m6 }),
        C("div", { css: p6 }),
        C("div", {
          css: ah(
            "width:100%;height:100%;border:2px solid ",
            i ? "transparent" : "red",
            ";",
            ""
          ),
          ref: (o) => e(o),
        }),
      ],
    })
  );
});
function Bi(t, e) {
  if (t == null) return {};
  var n = {},
    r = Object.keys(t),
    i,
    s;
  for (s = 0; s < r.length; s++)
    (i = r[s]), !(e.indexOf(i) >= 0) && (n[i] = t[i]);
  return n;
}
function Z_(t) {
  var e,
    n,
    r = "";
  if (typeof t == "string" || typeof t == "number") r += t;
  else if (typeof t == "object")
    if (Array.isArray(t)) {
      var i = t.length;
      for (e = 0; e < i; e++)
        t[e] && (n = Z_(t[e])) && (r && (r += " "), (r += n));
    } else for (n in t) t[n] && (r && (r += " "), (r += n));
  return r;
}
function y6() {
  for (var t, e, n = 0, r = "", i = arguments.length; n < i; n++)
    (t = arguments[n]) && (e = Z_(t)) && (r && (r += " "), (r += e));
  return r;
}
function v6(t, e, n = void 0) {
  const r = {};
  return (
    Object.keys(t).forEach((i) => {
      r[i] = t[i]
        .reduce((s, o) => {
          if (o) {
            const l = e(o);
            l !== "" && s.push(l), n && n[o] && s.push(n[o]);
          }
          return s;
        }, [])
        .join(" ");
    }),
    r
  );
}
var eu = {},
  eA = { exports: {} };
(function (t) {
  function e(n) {
    return n && n.__esModule ? n : { default: n };
  }
  (t.exports = e), (t.exports.__esModule = !0), (t.exports.default = t.exports);
})(eA);
var tA = eA.exports;
const w6 = Br(MO);
var Zd = { exports: {} },
  lb;
function b6() {
  return (
    lb ||
      ((lb = 1),
      (function (t) {
        function e(n, r) {
          if (n == null) return {};
          var i = {},
            s = Object.keys(n),
            o,
            l;
          for (l = 0; l < s.length; l++)
            (o = s[l]), !(r.indexOf(o) >= 0) && (i[o] = n[o]);
          return i;
        }
        (t.exports = e),
          (t.exports.__esModule = !0),
          (t.exports.default = t.exports);
      })(Zd)),
    Zd.exports
  );
}
var x6 =
    /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,
  S6 = $b(function (t) {
    return (
      x6.test(t) ||
      (t.charCodeAt(0) === 111 &&
        t.charCodeAt(1) === 110 &&
        t.charCodeAt(2) < 91)
    );
  }),
  k6 = S6,
  C6 = function (e) {
    return e !== "theme";
  },
  ab = function (e) {
    return typeof e == "string" && e.charCodeAt(0) > 96 ? k6 : C6;
  },
  ub = function (e, n, r) {
    var i;
    if (n) {
      var s = n.shouldForwardProp;
      i =
        e.__emotion_forwardProp && s
          ? function (o) {
              return e.__emotion_forwardProp(o) && s(o);
            }
          : s;
    }
    return typeof i != "function" && r && (i = e.__emotion_forwardProp), i;
  },
  _6 = function (e) {
    var n = e.cache,
      r = e.serialized,
      i = e.isStringTag;
    return (
      wg(n, r, i),
      Gb(function () {
        return bg(n, r, i);
      }),
      null
    );
  },
  nA = function t(e, n) {
    var r = e.__emotion_real === e,
      i = (r && e.__emotion_base) || e,
      s,
      o;
    n !== void 0 && ((s = n.label), (o = n.target));
    var l = ub(e, n, r),
      a = l || ab(i),
      u = !a("as");
    return function () {
      var c = arguments,
        f =
          r && e.__emotion_styles !== void 0 ? e.__emotion_styles.slice(0) : [];
      if (
        (s !== void 0 && f.push("label:" + s + ";"),
        c[0] == null || c[0].raw === void 0)
      )
        f.push.apply(f, c);
      else {
        f.push(c[0][0]);
        for (var h = c.length, d = 1; d < h; d++) f.push(c[d], c[0][d]);
      }
      var p = xg(function (m, w, g) {
        var y = (u && m.as) || i,
          v = "",
          b = [],
          x = m;
        if (m.theme == null) {
          x = {};
          for (var S in m) x[S] = m[S];
          x.theme = H.useContext(Ra);
        }
        typeof m.className == "string"
          ? (v = Ub(w.registered, b, m.className))
          : m.className != null && (v = m.className + " ");
        var k = Uf(f.concat(b), w.registered, x);
        (v += w.key + "-" + k.name), o !== void 0 && (v += " " + o);
        var _ = u && l === void 0 ? ab(y) : a,
          E = {};
        for (var O in m) (u && O === "as") || (_(O) && (E[O] = m[O]));
        return (
          (E.className = v),
          (E.ref = g),
          H.createElement(
            H.Fragment,
            null,
            H.createElement(_6, {
              cache: w,
              serialized: k,
              isStringTag: typeof y == "string",
            }),
            H.createElement(y, E)
          )
        );
      });
      return (
        (p.displayName =
          s !== void 0
            ? s
            : "Styled(" +
              (typeof i == "string"
                ? i
                : i.displayName || i.name || "Component") +
              ")"),
        (p.defaultProps = e.defaultProps),
        (p.__emotion_real = p),
        (p.__emotion_base = i),
        (p.__emotion_styles = f),
        (p.__emotion_forwardProp = l),
        Object.defineProperty(p, "toString", {
          value: function () {
            return "." + o;
          },
        }),
        (p.withComponent = function (m, w) {
          return t(m, ae({}, n, w, { shouldForwardProp: ub(p, w, !0) })).apply(
            void 0,
            f
          );
        }),
        p
      );
    };
  },
  A6 = [
    "a",
    "abbr",
    "address",
    "area",
    "article",
    "aside",
    "audio",
    "b",
    "base",
    "bdi",
    "bdo",
    "big",
    "blockquote",
    "body",
    "br",
    "button",
    "canvas",
    "caption",
    "cite",
    "code",
    "col",
    "colgroup",
    "data",
    "datalist",
    "dd",
    "del",
    "details",
    "dfn",
    "dialog",
    "div",
    "dl",
    "dt",
    "em",
    "embed",
    "fieldset",
    "figcaption",
    "figure",
    "footer",
    "form",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "head",
    "header",
    "hgroup",
    "hr",
    "html",
    "i",
    "iframe",
    "img",
    "input",
    "ins",
    "kbd",
    "keygen",
    "label",
    "legend",
    "li",
    "link",
    "main",
    "map",
    "mark",
    "marquee",
    "menu",
    "menuitem",
    "meta",
    "meter",
    "nav",
    "noscript",
    "object",
    "ol",
    "optgroup",
    "option",
    "output",
    "p",
    "param",
    "picture",
    "pre",
    "progress",
    "q",
    "rp",
    "rt",
    "ruby",
    "s",
    "samp",
    "script",
    "section",
    "select",
    "small",
    "source",
    "span",
    "strong",
    "style",
    "sub",
    "summary",
    "sup",
    "table",
    "tbody",
    "td",
    "textarea",
    "tfoot",
    "th",
    "thead",
    "time",
    "title",
    "tr",
    "track",
    "u",
    "ul",
    "var",
    "video",
    "wbr",
    "circle",
    "clipPath",
    "defs",
    "ellipse",
    "foreignObject",
    "g",
    "image",
    "line",
    "linearGradient",
    "mask",
    "path",
    "pattern",
    "polygon",
    "polyline",
    "radialGradient",
    "rect",
    "stop",
    "svg",
    "text",
    "tspan",
  ],
  og = nA.bind();
A6.forEach(function (t) {
  og[t] = og(t);
});
let lg;
typeof document == "object" && (lg = zb({ key: "css", prepend: !0 }));
function O6(t) {
  const { injectFirst: e, children: n } = t;
  return e && lg ? yi.jsx(WO, { value: lg, children: n }) : n;
}
function M6(t) {
  return t == null || Object.keys(t).length === 0;
}
function E6(t) {
  const { styles: e, defaultTheme: n = {} } = t,
    r = typeof e == "function" ? (i) => e(M6(i) ? n : i) : e;
  return yi.jsx(h0, { styles: r });
}
function T6(t, e) {
  return og(t, e);
}
const P6 = (t, e) => {
    Array.isArray(t.__emotion_styles) &&
      (t.__emotion_styles = e(t.__emotion_styles));
  },
  D6 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        GlobalStyles: E6,
        StyledEngineProvider: O6,
        ThemeContext: Ra,
        css: ah,
        default: T6,
        internal_processStyles: P6,
        keyframes: XE,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  R6 = Br(D6);
function Xr(t) {
  if (typeof t != "object" || t === null) return !1;
  const e = Object.getPrototypeOf(t);
  return (
    (e === null ||
      e === Object.prototype ||
      Object.getPrototypeOf(e) === null) &&
    !(Symbol.toStringTag in t) &&
    !(Symbol.iterator in t)
  );
}
function rA(t) {
  if (!Xr(t)) return t;
  const e = {};
  return (
    Object.keys(t).forEach((n) => {
      e[n] = rA(t[n]);
    }),
    e
  );
}
function pr(t, e, n = { clone: !0 }) {
  const r = n.clone ? ae({}, t) : t;
  return (
    Xr(t) &&
      Xr(e) &&
      Object.keys(e).forEach((i) => {
        i !== "__proto__" &&
          (Xr(e[i]) && i in t && Xr(t[i])
            ? (r[i] = pr(t[i], e[i], n))
            : n.clone
              ? (r[i] = Xr(e[i]) ? rA(e[i]) : e[i])
              : (r[i] = e[i]));
      }),
    r
  );
}
const L6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: pr, isPlainObject: Xr },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  B6 = Br(L6);
function ba(t) {
  let e = "https://mui.com/production-error/?code=" + t;
  for (let n = 1; n < arguments.length; n += 1)
    e += "&args[]=" + encodeURIComponent(arguments[n]);
  return "Minified MUI error #" + t + "; visit " + e + " for the full message.";
}
const N6 = Object.freeze(
  Object.defineProperty({ __proto__: null, default: ba }, Symbol.toStringTag, {
    value: "Module",
  })
);
function cs(t) {
  if (typeof t != "string") throw new Error(ba(7));
  return t.charAt(0).toUpperCase() + t.slice(1);
}
const I6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: cs },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  $6 = Br(I6);
var iA = { exports: {} },
  fe = {};
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var a1 = Symbol.for("react.element"),
  u1 = Symbol.for("react.portal"),
  Th = Symbol.for("react.fragment"),
  Ph = Symbol.for("react.strict_mode"),
  Dh = Symbol.for("react.profiler"),
  Rh = Symbol.for("react.provider"),
  Lh = Symbol.for("react.context"),
  F6 = Symbol.for("react.server_context"),
  Bh = Symbol.for("react.forward_ref"),
  Nh = Symbol.for("react.suspense"),
  Ih = Symbol.for("react.suspense_list"),
  $h = Symbol.for("react.memo"),
  Fh = Symbol.for("react.lazy"),
  z6 = Symbol.for("react.offscreen"),
  sA;
sA = Symbol.for("react.module.reference");
function Sn(t) {
  if (typeof t == "object" && t !== null) {
    var e = t.$$typeof;
    switch (e) {
      case a1:
        switch (((t = t.type), t)) {
          case Th:
          case Dh:
          case Ph:
          case Nh:
          case Ih:
            return t;
          default:
            switch (((t = t && t.$$typeof), t)) {
              case F6:
              case Lh:
              case Bh:
              case Fh:
              case $h:
              case Rh:
                return t;
              default:
                return e;
            }
        }
      case u1:
        return e;
    }
  }
}
fe.ContextConsumer = Lh;
fe.ContextProvider = Rh;
fe.Element = a1;
fe.ForwardRef = Bh;
fe.Fragment = Th;
fe.Lazy = Fh;
fe.Memo = $h;
fe.Portal = u1;
fe.Profiler = Dh;
fe.StrictMode = Ph;
fe.Suspense = Nh;
fe.SuspenseList = Ih;
fe.isAsyncMode = function () {
  return !1;
};
fe.isConcurrentMode = function () {
  return !1;
};
fe.isContextConsumer = function (t) {
  return Sn(t) === Lh;
};
fe.isContextProvider = function (t) {
  return Sn(t) === Rh;
};
fe.isElement = function (t) {
  return typeof t == "object" && t !== null && t.$$typeof === a1;
};
fe.isForwardRef = function (t) {
  return Sn(t) === Bh;
};
fe.isFragment = function (t) {
  return Sn(t) === Th;
};
fe.isLazy = function (t) {
  return Sn(t) === Fh;
};
fe.isMemo = function (t) {
  return Sn(t) === $h;
};
fe.isPortal = function (t) {
  return Sn(t) === u1;
};
fe.isProfiler = function (t) {
  return Sn(t) === Dh;
};
fe.isStrictMode = function (t) {
  return Sn(t) === Ph;
};
fe.isSuspense = function (t) {
  return Sn(t) === Nh;
};
fe.isSuspenseList = function (t) {
  return Sn(t) === Ih;
};
fe.isValidElementType = function (t) {
  return (
    typeof t == "string" ||
    typeof t == "function" ||
    t === Th ||
    t === Dh ||
    t === Ph ||
    t === Nh ||
    t === Ih ||
    t === z6 ||
    (typeof t == "object" &&
      t !== null &&
      (t.$$typeof === Fh ||
        t.$$typeof === $h ||
        t.$$typeof === Rh ||
        t.$$typeof === Lh ||
        t.$$typeof === Bh ||
        t.$$typeof === sA ||
        t.getModuleId !== void 0))
  );
};
fe.typeOf = Sn;
iA.exports = fe;
var cb = iA.exports;
const j6 = /^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;
function oA(t) {
  const e = `${t}`.match(j6);
  return (e && e[1]) || "";
}
function lA(t, e = "") {
  return t.displayName || t.name || oA(t) || e;
}
function fb(t, e, n) {
  const r = lA(e);
  return t.displayName || (r !== "" ? `${n}(${r})` : n);
}
function V6(t) {
  if (t != null) {
    if (typeof t == "string") return t;
    if (typeof t == "function") return lA(t, "Component");
    if (typeof t == "object")
      switch (t.$$typeof) {
        case cb.ForwardRef:
          return fb(t, t.render, "ForwardRef");
        case cb.Memo:
          return fb(t, t.type, "memo");
        default:
          return;
      }
  }
}
const H6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: V6, getFunctionName: oA },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  W6 = Br(H6),
  U6 = ["values", "unit", "step"],
  K6 = (t) => {
    const e = Object.keys(t).map((n) => ({ key: n, val: t[n] })) || [];
    return (
      e.sort((n, r) => n.val - r.val),
      e.reduce((n, r) => ae({}, n, { [r.key]: r.val }), {})
    );
  };
function aA(t) {
  const {
      values: e = { xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536 },
      unit: n = "px",
      step: r = 5,
    } = t,
    i = Bi(t, U6),
    s = K6(e),
    o = Object.keys(s);
  function l(h) {
    return `@media (min-width:${typeof e[h] == "number" ? e[h] : h}${n})`;
  }
  function a(h) {
    return `@media (max-width:${(typeof e[h] == "number" ? e[h] : h) - r / 100}${n})`;
  }
  function u(h, d) {
    const p = o.indexOf(d);
    return `@media (min-width:${typeof e[h] == "number" ? e[h] : h}${n}) and (max-width:${(p !== -1 && typeof e[o[p]] == "number" ? e[o[p]] : d) - r / 100}${n})`;
  }
  function c(h) {
    return o.indexOf(h) + 1 < o.length ? u(h, o[o.indexOf(h) + 1]) : l(h);
  }
  function f(h) {
    const d = o.indexOf(h);
    return d === 0
      ? l(o[1])
      : d === o.length - 1
        ? a(o[d])
        : u(h, o[o.indexOf(h) + 1]).replace("@media", "@media not all and");
  }
  return ae(
    {
      keys: o,
      values: s,
      up: l,
      down: a,
      between: u,
      only: c,
      not: f,
      unit: n,
    },
    i
  );
}
const q6 = { borderRadius: 4 },
  G6 = q6;
function Pl(t, e) {
  return e ? pr(t, e, { clone: !1 }) : t;
}
const c1 = { xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536 },
  hb = {
    keys: ["xs", "sm", "md", "lg", "xl"],
    up: (t) => `@media (min-width:${c1[t]}px)`,
  };
function Lr(t, e, n) {
  const r = t.theme || {};
  if (Array.isArray(e)) {
    const s = r.breakpoints || hb;
    return e.reduce((o, l, a) => ((o[s.up(s.keys[a])] = n(e[a])), o), {});
  }
  if (typeof e == "object") {
    const s = r.breakpoints || hb;
    return Object.keys(e).reduce((o, l) => {
      if (Object.keys(s.values || c1).indexOf(l) !== -1) {
        const a = s.up(l);
        o[a] = n(e[l], l);
      } else {
        const a = l;
        o[a] = e[a];
      }
      return o;
    }, {});
  }
  return n(e);
}
function Y6(t = {}) {
  var e;
  return (
    ((e = t.keys) == null
      ? void 0
      : e.reduce((r, i) => {
          const s = t.up(i);
          return (r[s] = {}), r;
        }, {})) || {}
  );
}
function X6(t, e) {
  return t.reduce((n, r) => {
    const i = n[r];
    return (!i || Object.keys(i).length === 0) && delete n[r], n;
  }, e);
}
function zh(t, e, n = !0) {
  if (!e || typeof e != "string") return null;
  if (t && t.vars && n) {
    const r = `vars.${e}`
      .split(".")
      .reduce((i, s) => (i && i[s] ? i[s] : null), t);
    if (r != null) return r;
  }
  return e.split(".").reduce((r, i) => (r && r[i] != null ? r[i] : null), t);
}
function Ef(t, e, n, r = n) {
  let i;
  return (
    typeof t == "function"
      ? (i = t(n))
      : Array.isArray(t)
        ? (i = t[n] || r)
        : (i = zh(t, n) || r),
    e && (i = e(i, r, t)),
    i
  );
}
function $e(t) {
  const { prop: e, cssProperty: n = t.prop, themeKey: r, transform: i } = t,
    s = (o) => {
      if (o[e] == null) return null;
      const l = o[e],
        a = o.theme,
        u = zh(a, r) || {};
      return Lr(o, l, (f) => {
        let h = Ef(u, i, f);
        return (
          f === h &&
            typeof f == "string" &&
            (h = Ef(u, i, `${e}${f === "default" ? "" : cs(f)}`, f)),
          n === !1 ? h : { [n]: h }
        );
      });
    };
  return (s.propTypes = {}), (s.filterProps = [e]), s;
}
function Q6(t) {
  const e = {};
  return (n) => (e[n] === void 0 && (e[n] = t(n)), e[n]);
}
const J6 = { m: "margin", p: "padding" },
  Z6 = {
    t: "Top",
    r: "Right",
    b: "Bottom",
    l: "Left",
    x: ["Left", "Right"],
    y: ["Top", "Bottom"],
  },
  db = { marginX: "mx", marginY: "my", paddingX: "px", paddingY: "py" },
  eB = Q6((t) => {
    if (t.length > 2)
      if (db[t]) t = db[t];
      else return [t];
    const [e, n] = t.split(""),
      r = J6[e],
      i = Z6[n] || "";
    return Array.isArray(i) ? i.map((s) => r + s) : [r + i];
  }),
  f1 = [
    "m",
    "mt",
    "mr",
    "mb",
    "ml",
    "mx",
    "my",
    "margin",
    "marginTop",
    "marginRight",
    "marginBottom",
    "marginLeft",
    "marginX",
    "marginY",
    "marginInline",
    "marginInlineStart",
    "marginInlineEnd",
    "marginBlock",
    "marginBlockStart",
    "marginBlockEnd",
  ],
  h1 = [
    "p",
    "pt",
    "pr",
    "pb",
    "pl",
    "px",
    "py",
    "padding",
    "paddingTop",
    "paddingRight",
    "paddingBottom",
    "paddingLeft",
    "paddingX",
    "paddingY",
    "paddingInline",
    "paddingInlineStart",
    "paddingInlineEnd",
    "paddingBlock",
    "paddingBlockStart",
    "paddingBlockEnd",
  ];
[...f1, ...h1];
function tu(t, e, n, r) {
  var i;
  const s = (i = zh(t, e, !1)) != null ? i : n;
  return typeof s == "number"
    ? (o) => (typeof o == "string" ? o : s * o)
    : Array.isArray(s)
      ? (o) => (typeof o == "string" ? o : s[o])
      : typeof s == "function"
        ? s
        : () => {};
}
function uA(t) {
  return tu(t, "spacing", 8);
}
function nu(t, e) {
  if (typeof e == "string" || e == null) return e;
  const n = Math.abs(e),
    r = t(n);
  return e >= 0 ? r : typeof r == "number" ? -r : `-${r}`;
}
function tB(t, e) {
  return (n) => t.reduce((r, i) => ((r[i] = nu(e, n)), r), {});
}
function nB(t, e, n, r) {
  if (e.indexOf(n) === -1) return null;
  const i = eB(n),
    s = tB(i, r),
    o = t[n];
  return Lr(t, o, s);
}
function cA(t, e) {
  const n = uA(t.theme);
  return Object.keys(t)
    .map((r) => nB(t, e, r, n))
    .reduce(Pl, {});
}
function De(t) {
  return cA(t, f1);
}
De.propTypes = {};
De.filterProps = f1;
function Re(t) {
  return cA(t, h1);
}
Re.propTypes = {};
Re.filterProps = h1;
function rB(t = 8) {
  if (t.mui) return t;
  const e = uA({ spacing: t }),
    n = (...r) =>
      (r.length === 0 ? [1] : r)
        .map((s) => {
          const o = e(s);
          return typeof o == "number" ? `${o}px` : o;
        })
        .join(" ");
  return (n.mui = !0), n;
}
function jh(...t) {
  const e = t.reduce(
      (r, i) => (
        i.filterProps.forEach((s) => {
          r[s] = i;
        }),
        r
      ),
      {}
    ),
    n = (r) => Object.keys(r).reduce((i, s) => (e[s] ? Pl(i, e[s](r)) : i), {});
  return (
    (n.propTypes = {}),
    (n.filterProps = t.reduce((r, i) => r.concat(i.filterProps), [])),
    n
  );
}
function on(t) {
  return typeof t != "number" ? t : `${t}px solid`;
}
function kn(t, e) {
  return $e({ prop: t, themeKey: "borders", transform: e });
}
const iB = kn("border", on),
  sB = kn("borderTop", on),
  oB = kn("borderRight", on),
  lB = kn("borderBottom", on),
  aB = kn("borderLeft", on),
  uB = kn("borderColor"),
  cB = kn("borderTopColor"),
  fB = kn("borderRightColor"),
  hB = kn("borderBottomColor"),
  dB = kn("borderLeftColor"),
  pB = kn("outline", on),
  mB = kn("outlineColor"),
  Vh = (t) => {
    if (t.borderRadius !== void 0 && t.borderRadius !== null) {
      const e = tu(t.theme, "shape.borderRadius", 4),
        n = (r) => ({ borderRadius: nu(e, r) });
      return Lr(t, t.borderRadius, n);
    }
    return null;
  };
Vh.propTypes = {};
Vh.filterProps = ["borderRadius"];
jh(iB, sB, oB, lB, aB, uB, cB, fB, hB, dB, Vh, pB, mB);
const Hh = (t) => {
  if (t.gap !== void 0 && t.gap !== null) {
    const e = tu(t.theme, "spacing", 8),
      n = (r) => ({ gap: nu(e, r) });
    return Lr(t, t.gap, n);
  }
  return null;
};
Hh.propTypes = {};
Hh.filterProps = ["gap"];
const Wh = (t) => {
  if (t.columnGap !== void 0 && t.columnGap !== null) {
    const e = tu(t.theme, "spacing", 8),
      n = (r) => ({ columnGap: nu(e, r) });
    return Lr(t, t.columnGap, n);
  }
  return null;
};
Wh.propTypes = {};
Wh.filterProps = ["columnGap"];
const Uh = (t) => {
  if (t.rowGap !== void 0 && t.rowGap !== null) {
    const e = tu(t.theme, "spacing", 8),
      n = (r) => ({ rowGap: nu(e, r) });
    return Lr(t, t.rowGap, n);
  }
  return null;
};
Uh.propTypes = {};
Uh.filterProps = ["rowGap"];
const gB = $e({ prop: "gridColumn" }),
  yB = $e({ prop: "gridRow" }),
  vB = $e({ prop: "gridAutoFlow" }),
  wB = $e({ prop: "gridAutoColumns" }),
  bB = $e({ prop: "gridAutoRows" }),
  xB = $e({ prop: "gridTemplateColumns" }),
  SB = $e({ prop: "gridTemplateRows" }),
  kB = $e({ prop: "gridTemplateAreas" }),
  CB = $e({ prop: "gridArea" });
jh(Hh, Wh, Uh, gB, yB, vB, wB, bB, xB, SB, kB, CB);
function so(t, e) {
  return e === "grey" ? e : t;
}
const _B = $e({ prop: "color", themeKey: "palette", transform: so }),
  AB = $e({
    prop: "bgcolor",
    cssProperty: "backgroundColor",
    themeKey: "palette",
    transform: so,
  }),
  OB = $e({ prop: "backgroundColor", themeKey: "palette", transform: so });
jh(_B, AB, OB);
function Kt(t) {
  return t <= 1 && t !== 0 ? `${t * 100}%` : t;
}
const MB = $e({ prop: "width", transform: Kt }),
  d1 = (t) => {
    if (t.maxWidth !== void 0 && t.maxWidth !== null) {
      const e = (n) => {
        var r, i;
        const s =
          ((r = t.theme) == null ||
          (r = r.breakpoints) == null ||
          (r = r.values) == null
            ? void 0
            : r[n]) || c1[n];
        return s
          ? ((i = t.theme) == null || (i = i.breakpoints) == null
              ? void 0
              : i.unit) !== "px"
            ? { maxWidth: `${s}${t.theme.breakpoints.unit}` }
            : { maxWidth: s }
          : { maxWidth: Kt(n) };
      };
      return Lr(t, t.maxWidth, e);
    }
    return null;
  };
d1.filterProps = ["maxWidth"];
const EB = $e({ prop: "minWidth", transform: Kt }),
  TB = $e({ prop: "height", transform: Kt }),
  PB = $e({ prop: "maxHeight", transform: Kt }),
  DB = $e({ prop: "minHeight", transform: Kt });
$e({ prop: "size", cssProperty: "width", transform: Kt });
$e({ prop: "size", cssProperty: "height", transform: Kt });
const RB = $e({ prop: "boxSizing" });
jh(MB, d1, EB, TB, PB, DB, RB);
const LB = {
    border: { themeKey: "borders", transform: on },
    borderTop: { themeKey: "borders", transform: on },
    borderRight: { themeKey: "borders", transform: on },
    borderBottom: { themeKey: "borders", transform: on },
    borderLeft: { themeKey: "borders", transform: on },
    borderColor: { themeKey: "palette" },
    borderTopColor: { themeKey: "palette" },
    borderRightColor: { themeKey: "palette" },
    borderBottomColor: { themeKey: "palette" },
    borderLeftColor: { themeKey: "palette" },
    outline: { themeKey: "borders", transform: on },
    outlineColor: { themeKey: "palette" },
    borderRadius: { themeKey: "shape.borderRadius", style: Vh },
    color: { themeKey: "palette", transform: so },
    bgcolor: {
      themeKey: "palette",
      cssProperty: "backgroundColor",
      transform: so,
    },
    backgroundColor: { themeKey: "palette", transform: so },
    p: { style: Re },
    pt: { style: Re },
    pr: { style: Re },
    pb: { style: Re },
    pl: { style: Re },
    px: { style: Re },
    py: { style: Re },
    padding: { style: Re },
    paddingTop: { style: Re },
    paddingRight: { style: Re },
    paddingBottom: { style: Re },
    paddingLeft: { style: Re },
    paddingX: { style: Re },
    paddingY: { style: Re },
    paddingInline: { style: Re },
    paddingInlineStart: { style: Re },
    paddingInlineEnd: { style: Re },
    paddingBlock: { style: Re },
    paddingBlockStart: { style: Re },
    paddingBlockEnd: { style: Re },
    m: { style: De },
    mt: { style: De },
    mr: { style: De },
    mb: { style: De },
    ml: { style: De },
    mx: { style: De },
    my: { style: De },
    margin: { style: De },
    marginTop: { style: De },
    marginRight: { style: De },
    marginBottom: { style: De },
    marginLeft: { style: De },
    marginX: { style: De },
    marginY: { style: De },
    marginInline: { style: De },
    marginInlineStart: { style: De },
    marginInlineEnd: { style: De },
    marginBlock: { style: De },
    marginBlockStart: { style: De },
    marginBlockEnd: { style: De },
    displayPrint: {
      cssProperty: !1,
      transform: (t) => ({ "@media print": { display: t } }),
    },
    display: {},
    overflow: {},
    textOverflow: {},
    visibility: {},
    whiteSpace: {},
    flexBasis: {},
    flexDirection: {},
    flexWrap: {},
    justifyContent: {},
    alignItems: {},
    alignContent: {},
    order: {},
    flex: {},
    flexGrow: {},
    flexShrink: {},
    alignSelf: {},
    justifyItems: {},
    justifySelf: {},
    gap: { style: Hh },
    rowGap: { style: Uh },
    columnGap: { style: Wh },
    gridColumn: {},
    gridRow: {},
    gridAutoFlow: {},
    gridAutoColumns: {},
    gridAutoRows: {},
    gridTemplateColumns: {},
    gridTemplateRows: {},
    gridTemplateAreas: {},
    gridArea: {},
    position: {},
    zIndex: { themeKey: "zIndex" },
    top: {},
    right: {},
    bottom: {},
    left: {},
    boxShadow: { themeKey: "shadows" },
    width: { transform: Kt },
    maxWidth: { style: d1 },
    minWidth: { transform: Kt },
    height: { transform: Kt },
    maxHeight: { transform: Kt },
    minHeight: { transform: Kt },
    boxSizing: {},
    fontFamily: { themeKey: "typography" },
    fontSize: { themeKey: "typography" },
    fontStyle: { themeKey: "typography" },
    fontWeight: { themeKey: "typography" },
    letterSpacing: {},
    textTransform: {},
    lineHeight: {},
    textAlign: {},
    typography: { cssProperty: !1, themeKey: "typography" },
  },
  ru = LB;
function BB(...t) {
  const e = t.reduce((r, i) => r.concat(Object.keys(i)), []),
    n = new Set(e);
  return t.every((r) => n.size === Object.keys(r).length);
}
function NB(t, e) {
  return typeof t == "function" ? t(e) : t;
}
function fA() {
  function t(n, r, i, s) {
    const o = { [n]: r, theme: i },
      l = s[n];
    if (!l) return { [n]: r };
    const { cssProperty: a = n, themeKey: u, transform: c, style: f } = l;
    if (r == null) return null;
    if (u === "typography" && r === "inherit") return { [n]: r };
    const h = zh(i, u) || {};
    return f
      ? f(o)
      : Lr(o, r, (p) => {
          let m = Ef(h, c, p);
          return (
            p === m &&
              typeof p == "string" &&
              (m = Ef(h, c, `${n}${p === "default" ? "" : cs(p)}`, p)),
            a === !1 ? m : { [a]: m }
          );
        });
  }
  function e(n) {
    var r;
    const { sx: i, theme: s = {} } = n || {};
    if (!i) return null;
    const o = (r = s.unstable_sxConfig) != null ? r : ru;
    function l(a) {
      let u = a;
      if (typeof a == "function") u = a(s);
      else if (typeof a != "object") return a;
      if (!u) return null;
      const c = Y6(s.breakpoints),
        f = Object.keys(c);
      let h = c;
      return (
        Object.keys(u).forEach((d) => {
          const p = NB(u[d], s);
          if (p != null)
            if (typeof p == "object")
              if (o[d]) h = Pl(h, t(d, p, s, o));
              else {
                const m = Lr({ theme: s }, p, (w) => ({ [d]: w }));
                BB(m, p) ? (h[d] = e({ sx: p, theme: s })) : (h = Pl(h, m));
              }
            else h = Pl(h, t(d, p, s, o));
        }),
        X6(f, h)
      );
    }
    return Array.isArray(i) ? i.map(l) : l(i);
  }
  return e;
}
const Kh = fA();
Kh.filterProps = ["sx"];
function hA(t, e) {
  const n = this;
  return n.vars && typeof n.getColorSchemeSelector == "function"
    ? {
        [n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/, "*:where($1)")]: e,
      }
    : n.palette.mode === t
      ? e
      : {};
}
const IB = ["breakpoints", "palette", "spacing", "shape"];
function p1(t = {}, ...e) {
  const { breakpoints: n = {}, palette: r = {}, spacing: i, shape: s = {} } = t,
    o = Bi(t, IB),
    l = aA(n),
    a = rB(i);
  let u = pr(
    {
      breakpoints: l,
      direction: "ltr",
      components: {},
      palette: ae({ mode: "light" }, r),
      spacing: a,
      shape: ae({}, G6, s),
    },
    o
  );
  return (
    (u.applyStyles = hA),
    (u = e.reduce((c, f) => pr(c, f), u)),
    (u.unstable_sxConfig = ae(
      {},
      ru,
      o == null ? void 0 : o.unstable_sxConfig
    )),
    (u.unstable_sx = function (f) {
      return Kh({ sx: f, theme: this });
    }),
    u
  );
}
const $B = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        default: p1,
        private_createBreakpoints: aA,
        unstable_applyStyles: hA,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  FB = Br($B),
  zB = ["sx"],
  jB = (t) => {
    var e, n;
    const r = { systemProps: {}, otherProps: {} },
      i =
        (e =
          t == null || (n = t.theme) == null ? void 0 : n.unstable_sxConfig) !=
        null
          ? e
          : ru;
    return (
      Object.keys(t).forEach((s) => {
        i[s] ? (r.systemProps[s] = t[s]) : (r.otherProps[s] = t[s]);
      }),
      r
    );
  };
function VB(t) {
  const { sx: e } = t,
    n = Bi(t, zB),
    { systemProps: r, otherProps: i } = jB(n);
  let s;
  return (
    Array.isArray(e)
      ? (s = [r, ...e])
      : typeof e == "function"
        ? (s = (...o) => {
            const l = e(...o);
            return Xr(l) ? ae({}, r, l) : r;
          })
        : (s = ae({}, r, e)),
    ae({}, i, { sx: s })
  );
}
const HB = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        default: Kh,
        extendSxProp: VB,
        unstable_createStyleFunctionSx: fA,
        unstable_defaultSxConfig: ru,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  WB = Br(HB);
var jo = tA;
Object.defineProperty(eu, "__esModule", { value: !0 });
var UB = (eu.default = iN);
eu.shouldForwardProp = Oc;
eu.systemDefaultTheme = void 0;
var nn = jo(w6),
  ag = jo(b6()),
  pb = JB(R6),
  KB = B6;
jo($6);
jo(W6);
var qB = jo(FB),
  GB = jo(WB);
const YB = ["ownerState"],
  XB = ["variants"],
  QB = ["name", "slot", "skipVariantsResolver", "skipSx", "overridesResolver"];
function dA(t) {
  if (typeof WeakMap != "function") return null;
  var e = new WeakMap(),
    n = new WeakMap();
  return (dA = function (r) {
    return r ? n : e;
  })(t);
}
function JB(t, e) {
  if (!e && t && t.__esModule) return t;
  if (t === null || (typeof t != "object" && typeof t != "function"))
    return { default: t };
  var n = dA(e);
  if (n && n.has(t)) return n.get(t);
  var r = { __proto__: null },
    i = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var s in t)
    if (s !== "default" && Object.prototype.hasOwnProperty.call(t, s)) {
      var o = i ? Object.getOwnPropertyDescriptor(t, s) : null;
      o && (o.get || o.set) ? Object.defineProperty(r, s, o) : (r[s] = t[s]);
    }
  return (r.default = t), n && n.set(t, r), r;
}
function ZB(t) {
  return Object.keys(t).length === 0;
}
function eN(t) {
  return typeof t == "string" && t.charCodeAt(0) > 96;
}
function Oc(t) {
  return t !== "ownerState" && t !== "theme" && t !== "sx" && t !== "as";
}
const tN = (eu.systemDefaultTheme = (0, qB.default)()),
  nN = (t) => t && t.charAt(0).toLowerCase() + t.slice(1);
function Qu({ defaultTheme: t, theme: e, themeId: n }) {
  return ZB(e) ? t : e[n] || e;
}
function rN(t) {
  return t ? (e, n) => n[t] : null;
}
function Mc(t, e) {
  let { ownerState: n } = e,
    r = (0, ag.default)(e, YB);
  const i =
    typeof t == "function" ? t((0, nn.default)({ ownerState: n }, r)) : t;
  if (Array.isArray(i))
    return i.flatMap((s) => Mc(s, (0, nn.default)({ ownerState: n }, r)));
  if (i && typeof i == "object" && Array.isArray(i.variants)) {
    const { variants: s = [] } = i;
    let l = (0, ag.default)(i, XB);
    return (
      s.forEach((a) => {
        let u = !0;
        typeof a.props == "function"
          ? (u = a.props((0, nn.default)({ ownerState: n }, r, n)))
          : Object.keys(a.props).forEach((c) => {
              (n == null ? void 0 : n[c]) !== a.props[c] &&
                r[c] !== a.props[c] &&
                (u = !1);
            }),
          u &&
            (Array.isArray(l) || (l = [l]),
            l.push(
              typeof a.style == "function"
                ? a.style((0, nn.default)({ ownerState: n }, r, n))
                : a.style
            ));
      }),
      l
    );
  }
  return i;
}
function iN(t = {}) {
  const {
      themeId: e,
      defaultTheme: n = tN,
      rootShouldForwardProp: r = Oc,
      slotShouldForwardProp: i = Oc,
    } = t,
    s = (o) =>
      (0, GB.default)(
        (0, nn.default)({}, o, {
          theme: Qu((0, nn.default)({}, o, { defaultTheme: n, themeId: e })),
        })
      );
  return (
    (s.__mui_systemSx = !0),
    (o, l = {}) => {
      (0, pb.internal_processStyles)(o, (x) =>
        x.filter((S) => !(S != null && S.__mui_systemSx))
      );
      const {
          name: a,
          slot: u,
          skipVariantsResolver: c,
          skipSx: f,
          overridesResolver: h = rN(nN(u)),
        } = l,
        d = (0, ag.default)(l, QB),
        p = c !== void 0 ? c : (u && u !== "Root" && u !== "root") || !1,
        m = f || !1;
      let w,
        g = Oc;
      u === "Root" || u === "root"
        ? (g = r)
        : u
          ? (g = i)
          : eN(o) && (g = void 0);
      const y = (0, pb.default)(
          o,
          (0, nn.default)({ shouldForwardProp: g, label: w }, d)
        ),
        v = (x) =>
          (typeof x == "function" && x.__emotion_real !== x) ||
          (0, KB.isPlainObject)(x)
            ? (S) =>
                Mc(
                  x,
                  (0, nn.default)({}, S, {
                    theme: Qu({ theme: S.theme, defaultTheme: n, themeId: e }),
                  })
                )
            : x,
        b = (x, ...S) => {
          let k = v(x);
          const _ = S ? S.map(v) : [];
          a &&
            h &&
            _.push((L) => {
              const F = Qu(
                (0, nn.default)({}, L, { defaultTheme: n, themeId: e })
              );
              if (
                !F.components ||
                !F.components[a] ||
                !F.components[a].styleOverrides
              )
                return null;
              const V = F.components[a].styleOverrides,
                W = {};
              return (
                Object.entries(V).forEach(([X, Ae]) => {
                  W[X] = Mc(Ae, (0, nn.default)({}, L, { theme: F }));
                }),
                h(L, W)
              );
            }),
            a &&
              !p &&
              _.push((L) => {
                var F;
                const V = Qu(
                    (0, nn.default)({}, L, { defaultTheme: n, themeId: e })
                  ),
                  W =
                    V == null ||
                    (F = V.components) == null ||
                    (F = F[a]) == null
                      ? void 0
                      : F.variants;
                return Mc(
                  { variants: W },
                  (0, nn.default)({}, L, { theme: V })
                );
              }),
            m || _.push(s);
          const E = _.length - S.length;
          if (Array.isArray(x) && E > 0) {
            const L = new Array(E).fill("");
            (k = [...x, ...L]), (k.raw = [...x.raw, ...L]);
          }
          const O = y(k, ..._);
          return o.muiName && (O.muiName = o.muiName), O;
        };
      return y.withConfig && (b.withConfig = y.withConfig), b;
    }
  );
}
const mb = (t) => t,
  sN = () => {
    let t = mb;
    return {
      configure(e) {
        t = e;
      },
      generate(e) {
        return t(e);
      },
      reset() {
        t = mb;
      },
    };
  },
  oN = sN(),
  lN = {
    active: "active",
    checked: "checked",
    completed: "completed",
    disabled: "disabled",
    error: "error",
    expanded: "expanded",
    focused: "focused",
    focusVisible: "focusVisible",
    open: "open",
    readOnly: "readOnly",
    required: "required",
    selected: "selected",
  };
function pA(t, e, n = "Mui") {
  const r = lN[e];
  return r ? `${n}-${r}` : `${oN.generate(t)}-${e}`;
}
function aN(t, e) {
  return ae(
    {
      toolbar: {
        minHeight: 56,
        [t.up("xs")]: { "@media (orientation: landscape)": { minHeight: 48 } },
        [t.up("sm")]: { minHeight: 64 },
      },
    },
    e
  );
}
var Fe = {};
const uN = Br(N6);
function cN(t, e = Number.MIN_SAFE_INTEGER, n = Number.MAX_SAFE_INTEGER) {
  return Math.max(e, Math.min(t, n));
}
const fN = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: cN },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  hN = Br(fN);
var mA = tA;
Object.defineProperty(Fe, "__esModule", { value: !0 });
Fe.alpha = wA;
Fe.blend = _N;
Fe.colorChannel = void 0;
var dN = (Fe.darken = g1);
Fe.decomposeColor = bn;
Fe.emphasize = CN;
var pN = (Fe.getContrastRatio = bN);
Fe.getLuminance = Tf;
Fe.hexToRgb = gA;
Fe.hslToRgb = vA;
var mN = (Fe.lighten = y1);
Fe.private_safeAlpha = xN;
Fe.private_safeColorChannel = void 0;
Fe.private_safeDarken = SN;
Fe.private_safeEmphasize = bA;
Fe.private_safeLighten = kN;
Fe.recomposeColor = Vo;
Fe.rgbToHex = wN;
var gb = mA(uN),
  gN = mA(hN);
function m1(t, e = 0, n = 1) {
  return (0, gN.default)(t, e, n);
}
function gA(t) {
  t = t.slice(1);
  const e = new RegExp(`.{1,${t.length >= 6 ? 2 : 1}}`, "g");
  let n = t.match(e);
  return (
    n && n[0].length === 1 && (n = n.map((r) => r + r)),
    n
      ? `rgb${n.length === 4 ? "a" : ""}(${n.map((r, i) => (i < 3 ? parseInt(r, 16) : Math.round((parseInt(r, 16) / 255) * 1e3) / 1e3)).join(", ")})`
      : ""
  );
}
function yN(t) {
  const e = t.toString(16);
  return e.length === 1 ? `0${e}` : e;
}
function bn(t) {
  if (t.type) return t;
  if (t.charAt(0) === "#") return bn(gA(t));
  const e = t.indexOf("("),
    n = t.substring(0, e);
  if (["rgb", "rgba", "hsl", "hsla", "color"].indexOf(n) === -1)
    throw new Error((0, gb.default)(9, t));
  let r = t.substring(e + 1, t.length - 1),
    i;
  if (n === "color") {
    if (
      ((r = r.split(" ")),
      (i = r.shift()),
      r.length === 4 && r[3].charAt(0) === "/" && (r[3] = r[3].slice(1)),
      ["srgb", "display-p3", "a98-rgb", "prophoto-rgb", "rec-2020"].indexOf(
        i
      ) === -1)
    )
      throw new Error((0, gb.default)(10, i));
  } else r = r.split(",");
  return (
    (r = r.map((s) => parseFloat(s))), { type: n, values: r, colorSpace: i }
  );
}
const yA = (t) => {
  const e = bn(t);
  return e.values
    .slice(0, 3)
    .map((n, r) => (e.type.indexOf("hsl") !== -1 && r !== 0 ? `${n}%` : n))
    .join(" ");
};
Fe.colorChannel = yA;
const vN = (t, e) => {
  try {
    return yA(t);
  } catch {
    return t;
  }
};
Fe.private_safeColorChannel = vN;
function Vo(t) {
  const { type: e, colorSpace: n } = t;
  let { values: r } = t;
  return (
    e.indexOf("rgb") !== -1
      ? (r = r.map((i, s) => (s < 3 ? parseInt(i, 10) : i)))
      : e.indexOf("hsl") !== -1 && ((r[1] = `${r[1]}%`), (r[2] = `${r[2]}%`)),
    e.indexOf("color") !== -1
      ? (r = `${n} ${r.join(" ")}`)
      : (r = `${r.join(", ")}`),
    `${e}(${r})`
  );
}
function wN(t) {
  if (t.indexOf("#") === 0) return t;
  const { values: e } = bn(t);
  return `#${e.map((n, r) => yN(r === 3 ? Math.round(255 * n) : n)).join("")}`;
}
function vA(t) {
  t = bn(t);
  const { values: e } = t,
    n = e[0],
    r = e[1] / 100,
    i = e[2] / 100,
    s = r * Math.min(i, 1 - i),
    o = (u, c = (u + n / 30) % 12) =>
      i - s * Math.max(Math.min(c - 3, 9 - c, 1), -1);
  let l = "rgb";
  const a = [
    Math.round(o(0) * 255),
    Math.round(o(8) * 255),
    Math.round(o(4) * 255),
  ];
  return (
    t.type === "hsla" && ((l += "a"), a.push(e[3])), Vo({ type: l, values: a })
  );
}
function Tf(t) {
  t = bn(t);
  let e = t.type === "hsl" || t.type === "hsla" ? bn(vA(t)).values : t.values;
  return (
    (e = e.map(
      (n) => (
        t.type !== "color" && (n /= 255),
        n <= 0.03928 ? n / 12.92 : ((n + 0.055) / 1.055) ** 2.4
      )
    )),
    Number((0.2126 * e[0] + 0.7152 * e[1] + 0.0722 * e[2]).toFixed(3))
  );
}
function bN(t, e) {
  const n = Tf(t),
    r = Tf(e);
  return (Math.max(n, r) + 0.05) / (Math.min(n, r) + 0.05);
}
function wA(t, e) {
  return (
    (t = bn(t)),
    (e = m1(e)),
    (t.type === "rgb" || t.type === "hsl") && (t.type += "a"),
    t.type === "color" ? (t.values[3] = `/${e}`) : (t.values[3] = e),
    Vo(t)
  );
}
function xN(t, e, n) {
  try {
    return wA(t, e);
  } catch {
    return t;
  }
}
function g1(t, e) {
  if (((t = bn(t)), (e = m1(e)), t.type.indexOf("hsl") !== -1))
    t.values[2] *= 1 - e;
  else if (t.type.indexOf("rgb") !== -1 || t.type.indexOf("color") !== -1)
    for (let n = 0; n < 3; n += 1) t.values[n] *= 1 - e;
  return Vo(t);
}
function SN(t, e, n) {
  try {
    return g1(t, e);
  } catch {
    return t;
  }
}
function y1(t, e) {
  if (((t = bn(t)), (e = m1(e)), t.type.indexOf("hsl") !== -1))
    t.values[2] += (100 - t.values[2]) * e;
  else if (t.type.indexOf("rgb") !== -1)
    for (let n = 0; n < 3; n += 1) t.values[n] += (255 - t.values[n]) * e;
  else if (t.type.indexOf("color") !== -1)
    for (let n = 0; n < 3; n += 1) t.values[n] += (1 - t.values[n]) * e;
  return Vo(t);
}
function kN(t, e, n) {
  try {
    return y1(t, e);
  } catch {
    return t;
  }
}
function CN(t, e = 0.15) {
  return Tf(t) > 0.5 ? g1(t, e) : y1(t, e);
}
function bA(t, e, n) {
  try {
    return bA(t, e);
  } catch {
    return t;
  }
}
function _N(t, e, n, r = 1) {
  const i = (a, u) =>
      Math.round((a ** (1 / r) * (1 - n) + u ** (1 / r) * n) ** r),
    s = bn(t),
    o = bn(e),
    l = [
      i(s.values[0], o.values[0]),
      i(s.values[1], o.values[1]),
      i(s.values[2], o.values[2]),
    ];
  return Vo({ type: "rgb", values: l });
}
const AN = { black: "#000", white: "#fff" },
  xa = AN,
  ON = {
    50: "#fafafa",
    100: "#f5f5f5",
    200: "#eeeeee",
    300: "#e0e0e0",
    400: "#bdbdbd",
    500: "#9e9e9e",
    600: "#757575",
    700: "#616161",
    800: "#424242",
    900: "#212121",
    A100: "#f5f5f5",
    A200: "#eeeeee",
    A400: "#bdbdbd",
    A700: "#616161",
  },
  MN = ON,
  EN = {
    50: "#f3e5f5",
    100: "#e1bee7",
    200: "#ce93d8",
    300: "#ba68c8",
    400: "#ab47bc",
    500: "#9c27b0",
    600: "#8e24aa",
    700: "#7b1fa2",
    800: "#6a1b9a",
    900: "#4a148c",
    A100: "#ea80fc",
    A200: "#e040fb",
    A400: "#d500f9",
    A700: "#aa00ff",
  },
  xs = EN,
  TN = {
    50: "#ffebee",
    100: "#ffcdd2",
    200: "#ef9a9a",
    300: "#e57373",
    400: "#ef5350",
    500: "#f44336",
    600: "#e53935",
    700: "#d32f2f",
    800: "#c62828",
    900: "#b71c1c",
    A100: "#ff8a80",
    A200: "#ff5252",
    A400: "#ff1744",
    A700: "#d50000",
  },
  Ss = TN,
  PN = {
    50: "#fff3e0",
    100: "#ffe0b2",
    200: "#ffcc80",
    300: "#ffb74d",
    400: "#ffa726",
    500: "#ff9800",
    600: "#fb8c00",
    700: "#f57c00",
    800: "#ef6c00",
    900: "#e65100",
    A100: "#ffd180",
    A200: "#ffab40",
    A400: "#ff9100",
    A700: "#ff6d00",
  },
  sl = PN,
  DN = {
    50: "#e3f2fd",
    100: "#bbdefb",
    200: "#90caf9",
    300: "#64b5f6",
    400: "#42a5f5",
    500: "#2196f3",
    600: "#1e88e5",
    700: "#1976d2",
    800: "#1565c0",
    900: "#0d47a1",
    A100: "#82b1ff",
    A200: "#448aff",
    A400: "#2979ff",
    A700: "#2962ff",
  },
  ks = DN,
  RN = {
    50: "#e1f5fe",
    100: "#b3e5fc",
    200: "#81d4fa",
    300: "#4fc3f7",
    400: "#29b6f6",
    500: "#03a9f4",
    600: "#039be5",
    700: "#0288d1",
    800: "#0277bd",
    900: "#01579b",
    A100: "#80d8ff",
    A200: "#40c4ff",
    A400: "#00b0ff",
    A700: "#0091ea",
  },
  Cs = RN,
  LN = {
    50: "#e8f5e9",
    100: "#c8e6c9",
    200: "#a5d6a7",
    300: "#81c784",
    400: "#66bb6a",
    500: "#4caf50",
    600: "#43a047",
    700: "#388e3c",
    800: "#2e7d32",
    900: "#1b5e20",
    A100: "#b9f6ca",
    A200: "#69f0ae",
    A400: "#00e676",
    A700: "#00c853",
  },
  _s = LN,
  BN = ["mode", "contrastThreshold", "tonalOffset"],
  yb = {
    text: {
      primary: "rgba(0, 0, 0, 0.87)",
      secondary: "rgba(0, 0, 0, 0.6)",
      disabled: "rgba(0, 0, 0, 0.38)",
    },
    divider: "rgba(0, 0, 0, 0.12)",
    background: { paper: xa.white, default: xa.white },
    action: {
      active: "rgba(0, 0, 0, 0.54)",
      hover: "rgba(0, 0, 0, 0.04)",
      hoverOpacity: 0.04,
      selected: "rgba(0, 0, 0, 0.08)",
      selectedOpacity: 0.08,
      disabled: "rgba(0, 0, 0, 0.26)",
      disabledBackground: "rgba(0, 0, 0, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(0, 0, 0, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.12,
    },
  },
  ep = {
    text: {
      primary: xa.white,
      secondary: "rgba(255, 255, 255, 0.7)",
      disabled: "rgba(255, 255, 255, 0.5)",
      icon: "rgba(255, 255, 255, 0.5)",
    },
    divider: "rgba(255, 255, 255, 0.12)",
    background: { paper: "#121212", default: "#121212" },
    action: {
      active: xa.white,
      hover: "rgba(255, 255, 255, 0.08)",
      hoverOpacity: 0.08,
      selected: "rgba(255, 255, 255, 0.16)",
      selectedOpacity: 0.16,
      disabled: "rgba(255, 255, 255, 0.3)",
      disabledBackground: "rgba(255, 255, 255, 0.12)",
      disabledOpacity: 0.38,
      focus: "rgba(255, 255, 255, 0.12)",
      focusOpacity: 0.12,
      activatedOpacity: 0.24,
    },
  };
function vb(t, e, n, r) {
  const i = r.light || r,
    s = r.dark || r * 1.5;
  t[e] ||
    (t.hasOwnProperty(n)
      ? (t[e] = t[n])
      : e === "light"
        ? (t.light = mN(t.main, i))
        : e === "dark" && (t.dark = dN(t.main, s)));
}
function NN(t = "light") {
  return t === "dark"
    ? { main: ks[200], light: ks[50], dark: ks[400] }
    : { main: ks[700], light: ks[400], dark: ks[800] };
}
function IN(t = "light") {
  return t === "dark"
    ? { main: xs[200], light: xs[50], dark: xs[400] }
    : { main: xs[500], light: xs[300], dark: xs[700] };
}
function $N(t = "light") {
  return t === "dark"
    ? { main: Ss[500], light: Ss[300], dark: Ss[700] }
    : { main: Ss[700], light: Ss[400], dark: Ss[800] };
}
function FN(t = "light") {
  return t === "dark"
    ? { main: Cs[400], light: Cs[300], dark: Cs[700] }
    : { main: Cs[700], light: Cs[500], dark: Cs[900] };
}
function zN(t = "light") {
  return t === "dark"
    ? { main: _s[400], light: _s[300], dark: _s[700] }
    : { main: _s[800], light: _s[500], dark: _s[900] };
}
function jN(t = "light") {
  return t === "dark"
    ? { main: sl[400], light: sl[300], dark: sl[700] }
    : { main: "#ed6c02", light: sl[500], dark: sl[900] };
}
function VN(t) {
  const {
      mode: e = "light",
      contrastThreshold: n = 3,
      tonalOffset: r = 0.2,
    } = t,
    i = Bi(t, BN),
    s = t.primary || NN(e),
    o = t.secondary || IN(e),
    l = t.error || $N(e),
    a = t.info || FN(e),
    u = t.success || zN(e),
    c = t.warning || jN(e);
  function f(m) {
    return pN(m, ep.text.primary) >= n ? ep.text.primary : yb.text.primary;
  }
  const h = ({
      color: m,
      name: w,
      mainShade: g = 500,
      lightShade: y = 300,
      darkShade: v = 700,
    }) => {
      if (
        ((m = ae({}, m)),
        !m.main && m[g] && (m.main = m[g]),
        !m.hasOwnProperty("main"))
      )
        throw new Error(ba(11, w ? ` (${w})` : "", g));
      if (typeof m.main != "string")
        throw new Error(ba(12, w ? ` (${w})` : "", JSON.stringify(m.main)));
      return (
        vb(m, "light", y, r),
        vb(m, "dark", v, r),
        m.contrastText || (m.contrastText = f(m.main)),
        m
      );
    },
    d = { dark: ep, light: yb };
  return pr(
    ae(
      {
        common: ae({}, xa),
        mode: e,
        primary: h({ color: s, name: "primary" }),
        secondary: h({
          color: o,
          name: "secondary",
          mainShade: "A400",
          lightShade: "A200",
          darkShade: "A700",
        }),
        error: h({ color: l, name: "error" }),
        warning: h({ color: c, name: "warning" }),
        info: h({ color: a, name: "info" }),
        success: h({ color: u, name: "success" }),
        grey: MN,
        contrastThreshold: n,
        getContrastText: f,
        augmentColor: h,
        tonalOffset: r,
      },
      d[e]
    ),
    i
  );
}
const HN = [
  "fontFamily",
  "fontSize",
  "fontWeightLight",
  "fontWeightRegular",
  "fontWeightMedium",
  "fontWeightBold",
  "htmlFontSize",
  "allVariants",
  "pxToRem",
];
function WN(t) {
  return Math.round(t * 1e5) / 1e5;
}
const wb = { textTransform: "uppercase" },
  bb = '"Roboto", "Helvetica", "Arial", sans-serif';
function UN(t, e) {
  const n = typeof e == "function" ? e(t) : e,
    {
      fontFamily: r = bb,
      fontSize: i = 14,
      fontWeightLight: s = 300,
      fontWeightRegular: o = 400,
      fontWeightMedium: l = 500,
      fontWeightBold: a = 700,
      htmlFontSize: u = 16,
      allVariants: c,
      pxToRem: f,
    } = n,
    h = Bi(n, HN),
    d = i / 14,
    p = f || ((g) => `${(g / u) * d}rem`),
    m = (g, y, v, b, x) =>
      ae(
        { fontFamily: r, fontWeight: g, fontSize: p(y), lineHeight: v },
        r === bb ? { letterSpacing: `${WN(b / y)}em` } : {},
        x,
        c
      ),
    w = {
      h1: m(s, 96, 1.167, -1.5),
      h2: m(s, 60, 1.2, -0.5),
      h3: m(o, 48, 1.167, 0),
      h4: m(o, 34, 1.235, 0.25),
      h5: m(o, 24, 1.334, 0),
      h6: m(l, 20, 1.6, 0.15),
      subtitle1: m(o, 16, 1.75, 0.15),
      subtitle2: m(l, 14, 1.57, 0.1),
      body1: m(o, 16, 1.5, 0.15),
      body2: m(o, 14, 1.43, 0.15),
      button: m(l, 14, 1.75, 0.4, wb),
      caption: m(o, 12, 1.66, 0.4),
      overline: m(o, 12, 2.66, 1, wb),
      inherit: {
        fontFamily: "inherit",
        fontWeight: "inherit",
        fontSize: "inherit",
        lineHeight: "inherit",
        letterSpacing: "inherit",
      },
    };
  return pr(
    ae(
      {
        htmlFontSize: u,
        pxToRem: p,
        fontFamily: r,
        fontSize: i,
        fontWeightLight: s,
        fontWeightRegular: o,
        fontWeightMedium: l,
        fontWeightBold: a,
      },
      w
    ),
    h,
    { clone: !1 }
  );
}
const KN = 0.2,
  qN = 0.14,
  GN = 0.12;
function ke(...t) {
  return [
    `${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${KN})`,
    `${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${qN})`,
    `${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${GN})`,
  ].join(",");
}
const YN = [
    "none",
    ke(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0),
    ke(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0),
    ke(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0),
    ke(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0),
    ke(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0),
    ke(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0),
    ke(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1),
    ke(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2),
    ke(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2),
    ke(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3),
    ke(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3),
    ke(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4),
    ke(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4),
    ke(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4),
    ke(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5),
    ke(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5),
    ke(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5),
    ke(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6),
    ke(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6),
    ke(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7),
    ke(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7),
    ke(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7),
    ke(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8),
    ke(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8),
  ],
  XN = ["duration", "easing", "delay"],
  QN = {
    easeInOut: "cubic-bezier(0.4, 0, 0.2, 1)",
    easeOut: "cubic-bezier(0.0, 0, 0.2, 1)",
    easeIn: "cubic-bezier(0.4, 0, 1, 1)",
    sharp: "cubic-bezier(0.4, 0, 0.6, 1)",
  },
  JN = {
    shortest: 150,
    shorter: 200,
    short: 250,
    standard: 300,
    complex: 375,
    enteringScreen: 225,
    leavingScreen: 195,
  };
function xb(t) {
  return `${Math.round(t)}ms`;
}
function ZN(t) {
  if (!t) return 0;
  const e = t / 36;
  return Math.round((4 + 15 * e ** 0.25 + e / 5) * 10);
}
function e9(t) {
  const e = ae({}, QN, t.easing),
    n = ae({}, JN, t.duration);
  return ae(
    {
      getAutoHeightDuration: ZN,
      create: (i = ["all"], s = {}) => {
        const {
          duration: o = n.standard,
          easing: l = e.easeInOut,
          delay: a = 0,
        } = s;
        return (
          Bi(s, XN),
          (Array.isArray(i) ? i : [i])
            .map(
              (u) =>
                `${u} ${typeof o == "string" ? o : xb(o)} ${l} ${typeof a == "string" ? a : xb(a)}`
            )
            .join(",")
        );
      },
    },
    t,
    { easing: e, duration: n }
  );
}
const t9 = {
    mobileStepper: 1e3,
    fab: 1050,
    speedDial: 1050,
    appBar: 1100,
    drawer: 1200,
    modal: 1300,
    snackbar: 1400,
    tooltip: 1500,
  },
  n9 = t9,
  r9 = [
    "breakpoints",
    "mixins",
    "spacing",
    "palette",
    "transitions",
    "typography",
    "shape",
  ];
function i9(t = {}, ...e) {
  const {
      mixins: n = {},
      palette: r = {},
      transitions: i = {},
      typography: s = {},
    } = t,
    o = Bi(t, r9);
  if (t.vars) throw new Error(ba(18));
  const l = VN(r),
    a = p1(t);
  let u = pr(a, {
    mixins: aN(a.breakpoints, n),
    palette: l,
    shadows: YN.slice(),
    typography: UN(l, s),
    transitions: e9(i),
    zIndex: ae({}, n9),
  });
  return (
    (u = pr(u, o)),
    (u = e.reduce((c, f) => pr(c, f), u)),
    (u.unstable_sxConfig = ae(
      {},
      ru,
      o == null ? void 0 : o.unstable_sxConfig
    )),
    (u.unstable_sx = function (f) {
      return Kh({ sx: f, theme: this });
    }),
    u
  );
}
const s9 = i9(),
  xA = s9,
  SA = "$$material";
function o9(t) {
  return t !== "ownerState" && t !== "theme" && t !== "sx" && t !== "as";
}
const l9 = (t) => o9(t) && t !== "classes",
  a9 = l9,
  u9 = UB({ themeId: SA, defaultTheme: xA, rootShouldForwardProp: a9 });
function kA(t, e) {
  const n = ae({}, e);
  return (
    Object.keys(t).forEach((r) => {
      if (r.toString().match(/^(components|slots)$/)) n[r] = ae({}, t[r], n[r]);
      else if (r.toString().match(/^(componentsProps|slotProps)$/)) {
        const i = t[r] || {},
          s = e[r];
        (n[r] = {}),
          !s || !Object.keys(s)
            ? (n[r] = i)
            : !i || !Object.keys(i)
              ? (n[r] = s)
              : ((n[r] = ae({}, s)),
                Object.keys(i).forEach((o) => {
                  n[r][o] = kA(i[o], s[o]);
                }));
      } else n[r] === void 0 && (n[r] = t[r]);
    }),
    n
  );
}
function c9(t) {
  const { theme: e, name: n, props: r } = t;
  return !e ||
    !e.components ||
    !e.components[n] ||
    !e.components[n].defaultProps
    ? r
    : kA(e.components[n].defaultProps, r);
}
function f9(t) {
  return Object.keys(t).length === 0;
}
function h9(t = null) {
  const e = H.useContext(Ra);
  return !e || f9(e) ? t : e;
}
const d9 = p1();
function p9(t = d9) {
  return h9(t);
}
function m9({ props: t, name: e, defaultTheme: n, themeId: r }) {
  let i = p9(n);
  return r && (i = i[r] || i), c9({ theme: i, name: e, props: t });
}
function g9({ props: t, name: e }) {
  return m9({ props: t, name: e, defaultTheme: xA, themeId: SA });
}
function y9(t, e, n = "Mui") {
  const r = {};
  return (
    e.forEach((i) => {
      r[i] = pA(t, i, n);
    }),
    r
  );
}
function v9(t) {
  return pA("MuiIcon", t);
}
y9("MuiIcon", [
  "root",
  "colorPrimary",
  "colorSecondary",
  "colorAction",
  "colorError",
  "colorDisabled",
  "fontSizeInherit",
  "fontSizeSmall",
  "fontSizeMedium",
  "fontSizeLarge",
]);
const w9 = ["baseClassName", "className", "color", "component", "fontSize"],
  b9 = (t) => {
    const { color: e, fontSize: n, classes: r } = t,
      i = {
        root: ["root", e !== "inherit" && `color${cs(e)}`, `fontSize${cs(n)}`],
      };
    return v6(i, v9, r);
  },
  x9 = u9("span", {
    name: "MuiIcon",
    slot: "Root",
    overridesResolver: (t, e) => {
      const { ownerState: n } = t;
      return [
        e.root,
        n.color !== "inherit" && e[`color${cs(n.color)}`],
        e[`fontSize${cs(n.fontSize)}`],
      ];
    },
  })(({ theme: t, ownerState: e }) => ({
    userSelect: "none",
    width: "1em",
    height: "1em",
    overflow: "hidden",
    display: "inline-block",
    textAlign: "center",
    flexShrink: 0,
    fontSize: {
      inherit: "inherit",
      small: t.typography.pxToRem(20),
      medium: t.typography.pxToRem(24),
      large: t.typography.pxToRem(36),
    }[e.fontSize],
    color: {
      primary: (t.vars || t).palette.primary.main,
      secondary: (t.vars || t).palette.secondary.main,
      info: (t.vars || t).palette.info.main,
      success: (t.vars || t).palette.success.main,
      warning: (t.vars || t).palette.warning.main,
      action: (t.vars || t).palette.action.active,
      error: (t.vars || t).palette.error.main,
      disabled: (t.vars || t).palette.action.disabled,
      inherit: void 0,
    }[e.color],
  })),
  CA = H.forwardRef(function (e, n) {
    const r = g9({ props: e, name: "MuiIcon" }),
      {
        baseClassName: i = "material-icons",
        className: s,
        color: o = "inherit",
        component: l = "span",
        fontSize: a = "medium",
      } = r,
      u = Bi(r, w9),
      c = ae({}, r, { baseClassName: i, color: o, component: l, fontSize: a }),
      f = b9(c);
    return yi.jsx(
      x9,
      ae(
        {
          as: l,
          className: y6(i, "notranslate", f.root, s),
          ownerState: c,
          "aria-hidden": !0,
          ref: n,
        },
        u
      )
    );
  });
CA.muiName = "Icon";
const yr = CA,
  _A = (t) => {
    throw new Error("Non-exhaustive match for " + t);
  },
  AA = (t, e) => k9(S9(new Fo(t.children.map((n) => vr(n, e))))),
  vr = (t, e) => {
    switch (t.type) {
      case "script":
        return e(
          t.withChanges({
            base: vr(t.base, e),
            sub: t.sub ? vr(t.sub, e) : void 0,
            sup: t.sup ? vr(t.sup, e) : void 0,
          })
        );
      case "frac":
        return e(
          t.withChanges({
            numerator: vr(t.numerator, e),
            denominator: vr(t.denominator, e),
          })
        );
      case "symbol":
        return e(t.withChanges({}));
      case "color":
        return e(t.withChanges({ body: t.body.map((n) => vr(n, e)) }));
      case "group":
        return e(t.withChanges({ body: t.body.map((n) => vr(n, e)) }));
      case "box":
        return e(t.withChanges({ body: vr(t.body, e) }));
    }
  },
  S9 = (t) => new Fo(t.children.map((e, n) => jr(e, `${n}`))),
  jr = (t, e) => {
    switch (t.type) {
      case "script":
        return t.withChanges({
          id: e,
          base: jr(t.base, `${e}.base`),
          sub: t.sub ? jr(t.sub, `${e}.sub`) : void 0,
          sup: t.sup ? jr(t.sup, `${e}.sup`) : void 0,
        });
      case "frac":
        return t.withChanges({
          id: e,
          numerator: jr(t.numerator, `${e}.numerator`),
          denominator: jr(t.denominator, `${e}.denominator`),
        });
      case "symbol":
        return t.withChanges({ id: e });
      case "color":
      case "group":
        return t.withChanges({
          id: e,
          body: t.body.map((n, r) => jr(n, `${e}.${r}`)),
        });
      case "box":
        return t.withChanges({ id: e, body: jr(t.body, `${e}.body`) });
    }
    return _A(t);
  },
  k9 = (t) => new Fo(t.children.map((e) => Vr(e, null))),
  Vr = (t, e) => {
    switch (t.type) {
      case "script":
        return t.withChanges({
          parent: e,
          base: Vr(t.base, t),
          sub: t.sub ? Vr(t.sub, t) : void 0,
          sup: t.sup ? Vr(t.sup, t) : void 0,
        });
      case "frac":
        return t.withChanges({
          parent: e,
          numerator: Vr(t.numerator, t),
          denominator: Vr(t.denominator, t),
        });
      case "symbol":
        return t.withChanges({ parent: e });
      case "color":
      case "group":
        return t.withChanges({ parent: e, body: t.body.map((n) => Vr(n, t)) });
      case "box":
        return t.withChanges({ parent: e, body: Vr(t.body, t) });
    }
    return _A(t);
  },
  C9 =
    "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2012.5023H6.16112L7.29526%209.3053H12.3408L13.466%2012.5023H15.6272L10.9299%200H8.6973L4%2012.5023ZM7.94716%207.49247L9.76%202.32186H9.86716L11.68%207.49247H7.94716Z'%20fill='black'/%3e%3cpath%20d='M0.103975%2013.6455L1.55298%2013.6455L1.55298%2014.1745C1.55298%2014.7265%201.69098%2015.0945%201.96698%2015.2785C2.22764%2015.4778%202.70298%2015.5775%203.39298%2015.5775C4.05231%2015.5775%204.68864%2015.5545%205.30198%2015.5085C5.93064%2015.4778%206.61298%2015.4625%207.34898%2015.4625C8.16164%2015.4625%208.75964%2015.5852%209.14298%2015.8305C9.54164%2016.0758%209.80998%2016.4668%209.94798%2017.0035L10.04%2017.0035C10.178%2016.4668%2010.4386%2016.0758%2010.822%2015.8305C11.2206%2015.5852%2011.8263%2015.4625%2012.639%2015.4625C13.375%2015.4625%2014.0496%2015.4778%2014.663%2015.5085C15.2916%2015.5545%2015.9356%2015.5775%2016.595%2015.5775C17.285%2015.5775%2017.7603%2015.4778%2018.021%2015.2785C18.297%2015.0945%2018.435%2014.7265%2018.435%2014.1745L18.435%2013.6455L19.884%2013.6455L19.884%2014.8875C19.884%2015.8535%2019.6616%2016.5665%2019.217%2017.0265C18.7723%2017.4865%2017.9366%2017.7165%2016.71%2017.7165C15.882%2017.7165%2015.169%2017.6782%2014.571%2017.6015C13.973%2017.5402%2013.2906%2017.5095%2012.524%2017.5095C12.11%2017.5095%2011.719%2017.6475%2011.351%2017.9235C10.9983%2018.1995%2010.8143%2018.7208%2010.799%2019.4875L9.18898%2019.4875C9.17364%2018.7208%208.98198%2018.1995%208.61398%2017.9235C8.26131%2017.6475%207.87031%2017.5095%207.44098%2017.5095C6.68964%2017.5095%206.01498%2017.5402%205.41698%2017.6015C4.81898%2017.6782%204.10598%2017.7165%203.27798%2017.7165C2.06664%2017.7165%201.23864%2017.4865%200.793975%2017.0265C0.333975%2016.5665%200.103975%2015.8535%200.103975%2014.8875L0.103975%2013.6455Z'%20fill='black'/%3e%3c/svg%3e",
  _9 =
    "data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2017%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2018.5693H17V22H0V18.5693ZM3.23187%2013.5133H5.22855L6.2764%2010.6986H10.9381L11.9777%2013.5133H13.9744L9.63446%202.5061H7.57177L3.23187%2013.5133ZM6.8787%209.10258L8.55361%204.5503H8.65262L10.3275%209.10258H6.8787Z'%20fill='black'/%3e%3cpath%20d='M15.1111%201.79996V14.3997H1.88889V1.79996H15.1111ZM15.1111%200H1.88889C0.85%200%200%200.809982%200%201.79996V14.3997C0%2015.3896%200.85%2016.1996%201.88889%2016.1996H15.1111C16.15%2016.1996%2017%2015.3896%2017%2014.3997V1.79996C17%200.809982%2016.15%200%2015.1111%200Z'%20fill='black'/%3e%3c/svg%3e",
  A9 =
    "data:image/svg+xml,%3csvg%20width='20'%20height='64'%20viewBox='0%200%2020%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2064H20V56H8V8H20V0H0V64Z'%20fill='black'/%3e%3c/svg%3e",
  O9 =
    "data:image/svg+xml,%3csvg%20width='32'%20height='64'%20viewBox='0%200%2032%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2012V20C8%2022.2%206.2%2024%204%2024H0V40H4C6.2%2040%208%2041.8%208%2044V52C8%2058.6%2013.4%2064%2020%2064H32V56H20C17.8%2056%2016%2054.2%2016%2052V44C16%2038.8%2012.64%2034.32%208%2032.68V31.32C12.64%2029.68%2016%2025.2%2016%2020V12C16%209.8%2017.8%208%2020%208H32V0H20C13.4%200%208%205.4%208%2012Z'%20fill='black'/%3e%3c/svg%3e",
  M9 =
    "data:image/svg+xml,%3csvg%20width='1'%20height='19'%20viewBox='0%200%201%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cline%20x1='0.5'%20y1='-2.18557e-08'%20x2='0.500001'%20y2='19'%20stroke='%23B1B1B1'/%3e%3c/svg%3e",
  E9 =
    "data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_246_5575)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.04744%2011.3945C7.34926%205.97742%2011.0087%202.17927%2017.8942%200C13.681%204.71137%2021.4814%209.81708%2021.9148%2014.7152C22.9259%2013.2209%2023.5037%2011.2492%2023.6241%208.59254C28.7762%2015.5869%2024.4908%2026.9814%2013.1514%2025.3418C12.0921%2025.1965%2011.105%2024.9059%2010.1901%2024.4908C6.0492%2022.5814%203.56946%2018.4304%203.56946%2014.4662C3.56946%2011.9341%204.82137%209.67179%206.45848%207.88687C6.67516%209.63029%207.13259%2010.9586%208.04744%2011.3945Z'%20fill='%23BB3030'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.731%2019.2191C10.5513%2016.6039%2010.7198%2012.4114%2013.994%2010.9378C14.0181%2015.7737%2019.5313%2016.3756%2018.5202%2021.5436C19.4591%2020.6096%2019.9406%2019.1568%2020.0128%2017.9738C21.5296%2020.9417%2020.3499%2023.3078%2018.2072%2024.5116C11.7069%2028.1644%206.12146%2020.7342%209.85311%2016.6662C9.94941%2017.5794%2011.2495%2018.9907%2011.731%2019.2191Z'%20fill='%23FAA21E'/%3e%3c/g%3e%3cg%20clip-path='url(%23clip1_246_5575)'%3e%3cpath%20d='M16.0362%208.62421L14.8547%207.48234L14.8143%2018.1486L16.0124%2018.1883M15.3083%2024.7161L14.2706%2024.7125C14.1562%2024.7122%2014.043%2024.6903%2013.9375%2024.648C13.8319%2024.6056%2013.7361%2024.5438%2013.6555%2024.4659C13.5749%2024.388%2013.5111%2024.2956%2013.4678%2024.194C13.4244%2024.0925%2013.4024%2023.9837%2013.4029%2023.8739L13.4169%2020.1763L10.1188%2020.1529L10.1251%2018.4819L11.8792%2018.488L11.9192%207.91655L14.8636%205.11206L17.7868%207.93699L17.7467%2018.5084L19.5008%2018.5146L19.4945%2020.1856L16.1963%2020.1741L16.1823%2023.8718C16.1805%2024.3458%2015.79%2024.7178%2015.3083%2024.7161Z'%20fill='%23100B0B'/%3e%3crect%20x='14.1337'%20y='7.44217'%20width='2.62042'%20height='11.1149'%20fill='%23100B0B'/%3e%3cpath%20d='M16.1481%2015.6509C16.1277%2015.739%2016.0988%2015.8255%2016.0614%2015.9103C16.0239%2015.9919%2015.9865%2016.0539%2015.9491%2016.0964C15.8913%2016.1094%2015.7552%2016.1159%2015.5409%2016.1159L15.5409%2017.095C15.5409%2017.2811%2015.546%2017.4181%2015.5562%2017.5062C15.5664%2017.5944%2015.5885%2017.658%2015.6225%2017.6972C15.66%2017.7363%2015.7161%2017.7559%2015.7909%2017.7559C15.8453%2017.7559%2015.893%2017.7445%2015.9338%2017.7216C15.9746%2017.6955%2016.0205%2017.6547%2016.0716%2017.5993L16.1379%2017.707C16.0733%2017.8179%2015.9899%2017.9011%2015.8879%2017.9566C15.7858%2018.0121%2015.6821%2018.0398%2015.5766%2018.0398C15.4235%2018.0398%2015.3045%2017.9942%2015.2194%2017.9028C15.1378%2017.8081%2015.097%2017.6433%2015.097%2017.4083C15.097%2017.1016%2015.1157%2016.6675%2015.1531%2016.1062L14.2449%2016.0964L14.2449%2016.1894C14.2449%2016.5321%2014.2211%2016.8307%2014.1734%2017.0852C14.1292%2017.3365%2014.0782%2017.5356%2014.0204%2017.6825C13.9659%2017.8261%2013.92%2017.9175%2013.8826%2017.9566C13.7465%2018.0088%2013.6428%2018.0366%2013.5714%2018.0398L13.5356%2017.9566C13.7159%2017.7543%2013.8452%2017.4736%2013.9234%2017.1146C14.0051%2016.7556%2014.0459%2016.4129%2014.0459%2016.0866C13.8826%2016.0866%2013.755%2016.1062%2013.6632%2016.1453C13.5714%2016.1812%2013.4608%2016.2432%2013.3315%2016.3313L13.255%2016.2236C13.3298%2016.129%2013.4013%2016.0507%2013.4693%2015.9887C13.5373%2015.9267%2013.6292%2015.8728%2013.7448%2015.8271C13.8639%2015.7814%2014.0085%2015.7586%2014.1785%2015.7586C14.2942%2015.7586%2014.5119%2015.7618%2014.8317%2015.7684C15.199%2015.7749%2015.4848%2015.7782%2015.6889%2015.7782C15.7739%2015.7782%2015.8385%2015.7667%2015.8828%2015.7439C15.9304%2015.7211%2015.978%2015.6737%2016.0256%2015.6019L16.1481%2015.6509Z'%20fill='%23FFFAFA'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_246_5575'%3e%3crect%20width='22.3899'%20height='25.5286'%20fill='white'%20transform='translate(3.56946)'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_246_5575'%3e%3crect%20width='20.5393'%20height='20.5455'%20fill='white'%20transform='matrix(0.719079%200.694928%20-0.724103%200.689691%2014.8771%201.55664)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";
var T9 = {
  name: "1kkpex7",
  styles:
    "height:2rem;display:flex;flex-direction:row;justify-content:flex-start;background:#f0f0f0",
};
const P9 = () => {
  const [t, e] = oo.useState(null);
  return qe("div", {
    css: T9,
    onMouseDown: (n) => {
      n.stopPropagation();
    },
    children: [
      C(N9, {}),
      C(tp, {}),
      C($9, {}),
      C(z9, {}),
      C(V9, {}),
      C(W9, {}),
      C(tp, {}),
      C(U9, {}),
      C(K9, {}),
      C(q9, {}),
      C(G9, {}),
      C(Q9, {
        open: t === "color",
        onMenuOpen: () => e("color"),
        onMenuClose: () => {
          t === "color" && e(null);
        },
      }),
      C(eI, {
        open: t === "box",
        onMenuOpen: () => e("box"),
        onMenuClose: () => {
          t === "box" && e(null);
        },
      }),
      C(rI, {
        open: t === "line",
        onMenuOpen: () => e("line"),
        onMenuClose: () => {
          t === "line" && e(null);
        },
      }),
      C(tp, {}),
      C(oI, {
        open: t === "annotate",
        onMenuOpen: () => e("annotate"),
        onMenuClose: () => {
          t === "annotate" && e(null);
        },
      }),
    ],
  });
};
var D9 = {
  name: "voquwr",
  styles:
    'height:2.5rem;min-width:2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;&:hover{background:#e0e0e0;height:2rem;}font-family:"Source Sans 3",sans-serif',
};
const iu = ({ children: t, onClick: e }) =>
    C("div", {
      css: D9,
      onClick: (n) => {
        e(), n.stopPropagation();
      },
      children: t,
    }),
  OA = ({ color: t, onClick: e }) =>
    C("div", {
      onClick: e,
      css: ah(
        "width:1rem;height:1rem;background-color:",
        t,
        ";border:1px solid black;",
        ""
      ),
    });
var R9 = {
    name: "1gjma0e",
    styles:
      "position:absolute;top:2rem;left:0;display:flex;flex-direction:column;background:#f0f0f0",
  },
  L9 = {
    name: "5hk907",
    styles:
      "position:relative;height:2rem;display:flex;align-items:center;&:hover{height:1.8rem;}z-index:500",
  };
const qh = ({
  menuButton: t,
  open: e,
  onMenuOpen: n,
  onMenuClose: r,
  children: i,
}) => (
  oo.useEffect(() => {
    window.addEventListener("click", r);
  }, [r]),
  C("div", {
    css: L9,
    children: qe(iu, {
      onClick: n,
      children: [t, e && C("div", { css: R9, children: i })],
    }),
  })
);
var B9 = {
  name: "4p28ln",
  styles:
    "height:2.25rem;width:2.25rem;display:flex;align-items:center;justify-content:center",
};
const N9 = () => C("div", { css: B9, children: C("img", { src: E9 }) });
var I9 = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const $9 = () => C("div", { css: I9, children: C(yr, { children: "save" }) });
var F9 = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const z9 = () => C("div", { css: F9, children: C(yr, { children: "undo" }) });
var j9 = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const V9 = () => C("div", { css: j9, children: C(yr, { children: "redo" }) });
var H9 = {
  name: "1mc5cvo",
  styles:
    "height:2rem;width:2rem;display:flex;align-items:center;justify-content:center",
};
const W9 = () =>
    C("div", { css: H9, children: C(yr, { children: "zoom_in" }) }),
  U9 = () =>
    C(iu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(yr, { children: "format_bold" }),
      }),
    }),
  K9 = () =>
    C(iu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(yr, { children: "format_italic" }),
      }),
    }),
  q9 = () =>
    C(iu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(yr, { children: "format_underline" }),
      }),
    }),
  G9 = () =>
    C(iu, {
      onClick: () => {},
      children: C("div", {
        onClick: (t) => {
          t.stopPropagation();
        },
        children: C(yr, { children: "format_strikethrough" }),
      }),
    });
var Y9 = { name: "18kvkhj", styles: "margin:0.25rem" },
  X9 = {
    name: "1btcj0n",
    styles:
      "padding:0.5rem;width:7rem;display:flex;flex-wrap:wrap;justify-content:flex-start",
  };
const Q9 = ({ open: t, onMenuOpen: e, onMenuClose: n }) =>
  C(qh, {
    menuButton: C(yr, { children: "format_color_text" }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: C("div", {
      css: X9,
      children: [
        "#000000",
        "#FF0000",
        "#00FF00",
        "#0000FF",
        "#FFFF00",
        "#00FFFF",
        "#FF00FF",
      ].map((i) =>
        C(
          "div",
          {
            css: Y9,
            onClick: (s) => {
              Ot.updateFormula(
                AA(Ot.augmentedFormula, (o) =>
                  o.type === "color" &&
                  (q.resolvedSelection.has(o.id) ||
                    o.body.some((l) => q.resolvedSelection.has(l.id)))
                    ? (console.log("Modifying existing color node", o),
                      new va(o.id, i, o.body))
                    : q.resolvedSelection.has(o.id) &&
                        (o.ancestors.length === 0 ||
                          o.ancestors[0].type !== "color")
                      ? (console.log("Applying new color node to", o),
                        new va(o.id, i, [o]))
                      : o
                )
              ),
                s.stopPropagation(),
                n();
            },
            children: C(OA, { color: i }, i),
          },
          i
        )
      ),
    }),
  });
var J9 = { name: "18kvkhj", styles: "margin:0.25rem" },
  Z9 = {
    name: "1btcj0n",
    styles:
      "padding:0.5rem;width:7rem;display:flex;flex-wrap:wrap;justify-content:flex-start",
  };
const eI = ({ open: t, onMenuOpen: e, onMenuClose: n }) =>
  C(qh, {
    menuButton: C("img", { src: _9 }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: C("div", {
      css: Z9,
      children: [
        "#000000",
        "#FF0000",
        "#00FF00",
        "#0000FF",
        "#FFFF00",
        "#00FFFF",
        "#FF00FF",
      ].map((i) =>
        C(
          "div",
          {
            css: J9,
            onClick: (s) => {
              Ot.updateFormula(
                AA(Ot.augmentedFormula, (o) =>
                  o.type === "box" &&
                  (q.resolvedSelection.has(o.id) ||
                    q.resolvedSelection.has(o.body.id))
                    ? (console.log("Modifying existing box node", o),
                      new wa(o.id, i, "white", o.body))
                    : q.resolvedSelection.has(o.id) &&
                        (o.ancestors.length === 0 ||
                          o.ancestors[0].type !== "box")
                      ? (console.log("Applying new box node to", o),
                        new wa(o.id, i, "white", o))
                      : o
                )
              ),
                s.stopPropagation(),
                n();
            },
            children: C(OA, { color: i }, i),
          },
          i
        )
      ),
    }),
  });
var tI = { name: "18kvkhj", styles: "margin:0.25rem" },
  nI = {
    name: "1jrmhuw",
    styles:
      "padding:0.5rem;width:5rem;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start",
  };
const rI = ({ open: t, onMenuOpen: e, onMenuClose: n }) =>
  C(qh, {
    menuButton: C(yr, { children: "line_weight" }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: C("div", {
      css: nI,
      children: ["Thin", "Normal", "Thick"].map((i) =>
        C(
          "div",
          {
            css: tI,
            onClick: (s) => {
              s.stopPropagation();
            },
            children: i,
          },
          i
        )
      ),
    }),
  });
var iI = { name: "18kvkhj", styles: "margin:0.25rem" },
  sI = {
    name: "19xdp11",
    styles:
      "padding:0.5rem;width:2rem;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start",
  };
const oI = ({ open: t, onMenuOpen: e, onMenuClose: n }) =>
  C(qh, {
    menuButton: C("img", { src: C9 }),
    open: t,
    onMenuOpen: e,
    onMenuClose: n,
    children: C("div", {
      css: sI,
      children: [A9, O9].map((i) =>
        C(
          "div",
          {
            css: iI,
            onClick: (s) => {
              s.stopPropagation();
            },
            children: C("img", { src: i, height: "17rem" }),
          },
          i
        )
      ),
    }),
  });
var lI = {
  name: "10hhyed",
  styles:
    "height:2rem;width:0.5rem;display:flex;align-items:center;justify-content:center",
};
const tp = () => C("div", { css: lI, children: C("img", { src: M9 }) });
function Ju(t) {
  return Math.round(t).toString().padStart(3, " ");
}
const Yn = nA("td", { target: "e6lwmu50" })({
  name: "1xig5ax",
  styles: "text-align:right;padding-right:1rem",
});
var aI = {
  name: "1xg0rxw",
  styles:
    "position:fixed;top:2rem;right:0;padding:1rem;max-height:calc(100vh - 2rem);overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;background:rgba(255, 255, 255, 0.8)",
};
const uI = zn(() =>
    qe("div", {
      onMouseDown: (t) => t.stopPropagation(),
      onScroll: (t) => t.stopPropagation(),
      css: aI,
      children: [C(cI, {}), C(dI, {}), C(pI, {}), C(mI, {})],
    })
  ),
  cI = zn(() =>
    qe(vi, {
      children: [
        qe("pre", { children: ["Pan: ", q.pan.x, ", ", q.pan.y] }),
        qe("pre", { children: ["Zoom: ", q.zoom] }),
      ],
    })
  );
var fI = { name: "1efi8gv", styles: "font-weight:bold" },
  hI = { name: "1n7r223", styles: "font-family:monospace" };
const dI = zn(() =>
    qe(vi, {
      children: [
        C("pre", { children: "Targets:" }),
        qe("table", {
          css: hI,
          children: [
            C("thead", {
              css: fI,
              children: qe("tr", {
                children: [
                  C(Yn, { children: "Id" }),
                  C(Yn, { children: "Left" }),
                  C(Yn, { children: "Top" }),
                  C(Yn, { children: "Width" }),
                  C(Yn, { children: "Height" }),
                ],
              }),
            }),
            C("tbody", {
              children: Array.from(q.targets.values()).map((t) =>
                qe(
                  "tr",
                  {
                    children: [
                      C(Yn, { children: t.id }),
                      C(Yn, { children: Ju(t.left) }),
                      C(Yn, { children: Ju(t.top) }),
                      C(Yn, { children: Ju(t.width) }),
                      C(Yn, { children: Ju(t.height) }),
                    ],
                  },
                  t.id
                )
              ),
            }),
          ],
        }),
      ],
    })
  ),
  pI = zn(() =>
    qe(vi, {
      children: [
        C("pre", { children: "Selection rect:" }),
        q.selectionRect
          ? qe(vi, {
              children: [
                C("pre", { children: "x1: " + q.selectionRect.x1 }),
                C("pre", { children: "y1: " + q.selectionRect.y1 }),
                C("pre", { children: "x2: " + q.selectionRect.x2 }),
                C("pre", { children: "y2: " + q.selectionRect.y2 }),
              ],
            })
          : C("pre", { children: "None" }),
        C("pre", { children: "Drag selection:" }),
        C("pre", {
          children: Array.from(q.currentlyDragged).join(`,
`),
        }),
      ],
    })
  ),
  mI = zn(() =>
    qe(vi, {
      children: [
        C("pre", { children: "Selection:" }),
        C("pre", {
          children: q.selected.join(`,
`),
        }),
        C("pre", { children: "Resolved selection:" }),
        C("pre", {
          children: Array.from(q.resolvedSelection).join(`,
`),
        }),
      ],
    })
  );
window.testMutateFormula = () => {
  (window.mutatedTimes = (window.mutatedTimes || 0) + 1),
    Ot.updateFormula(
      new Fo([
        ...Ot.augmentedFormula.children.slice(0, -1),
        new ya(`t${window.mutatedTimes}`, "t"),
        new ya(`+${window.mutatedTimes}`, "+"),
        ...Ot.augmentedFormula.children.slice(-1),
      ])
    );
};
window.setFormula = (t) => {
  Ot.updateFormula(Za(t)), q.updateTargets();
};
const gI = zn(
    () => (
      H.useEffect(() => {
        Ot.updateFormula(Za("a^2 + b^2 = c^2"));
      }, []),
      H.useEffect(() => {
        const t = () => {
          q.updateTargets();
        };
        window.addEventListener("resize", t);
      }, []),
      H.useEffect(() => {
        console.log("Updating targets"),
          requestAnimationFrame(() => {
            q.updateTargets();
          });
      }),
      C("div", {
        style: {
          transform: `translate(${q.pan.x}px, ${q.pan.y}px) scale(${q.zoom})`,
        },
        children: Ot.renderSpec !== null && C(MA, { spec: P3(Ot.renderSpec) }),
      })
    )
  ),
  MA = zn(({ spec: t }) => {
    var i;
    const [e, n] = H.useState(null);
    H.useEffect(() => {
      t.id &&
        e &&
        (console.log("Got element ref", e),
        q.addTarget(
          t.id,
          e,
          ["mjx-mi", "mjx-mn", "mjx-mo"].includes(t.tagName)
        ));
    }, [e, t.id]);
    const r = t.tagName;
    return C(r, {
      id: t.id,
      class: t.className,
      style: t.style,
      ...t.attrs,
      ref: (s) => n(s),
      children:
        (i = t.children) == null
          ? void 0
          : i.map((s, o) => C(MA, { spec: s }, o)),
    });
  });
var yI = { name: "1rm0bw4", styles: "user-select:none;font-family:monospace" },
  vI = { name: "u7ytkp", styles: "margin-right:0.5rem" },
  wI = {
    name: "1ptw6ga",
    styles: "position:absolute;top:0.5rem;right:1rem;z-index:1000",
  },
  bI = {
    name: "169tse",
    styles:
      "width:100%;height:100%;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden",
  };
const xI = zn(() => {
    const [t, e] = H.useState(!1),
      [n, r] = H.useState({ state: "none" }),
      i = H.useCallback((f) => {
        q.clearSelection();
      }, []),
      s = H.useCallback((f) => {
        f.button === 0
          ? r({ state: "leftdown", x: f.clientX, y: f.clientY })
          : f.button === 1 &&
            r({ state: "panning", lastX: f.clientX, lastY: f.clientY });
      }, []),
      o = H.useCallback(
        (f) => {
          if (n.state === "leftdown")
            q.startDragSelection(n.x, n.y),
              q.updateDragSelection(f.clientX, f.clientY),
              r({ state: "selecting" });
          else if (n.state === "selecting")
            q.updateDragSelection(f.clientX, f.clientY);
          else if (n.state === "panning") {
            const h = f.clientX - n.lastX,
              d = f.clientY - n.lastY;
            q.updatePan(h, d),
              r({ state: "panning", lastX: f.clientX, lastY: f.clientY });
          }
        },
        [n, r]
      ),
      l = H.useCallback(
        (f) => {
          n.state === "selecting" && q.stopDragSelection(),
            r({ state: "none" });
        },
        [n, r]
      ),
      a = H.useCallback((f) => {
        f.preventDefault(), f.stopPropagation(), q.updateZoom(-f.deltaY);
      }, []),
      u = H.useCallback((f) => {
        q.initializeWorkspace(f);
      }, []),
      c = H.useCallback(
        (f) => {
          e(f.target.checked);
        },
        [e]
      );
    return (
      H.useEffect(() => {
        const f = () => {
          q.updateWorkspaceDimensions();
        };
        window.addEventListener("resize", f);
      }, []),
      qe("div", {
        css: bI,
        onDoubleClick: i,
        onMouseDown: s,
        onMouseMove: o,
        onMouseUp: l,
        onWheel: a,
        ref: u,
        children: [
          qe("div", {
            css: wI,
            children: [
              C("input", {
                id: "showDebug",
                css: vI,
                type: "checkbox",
                checked: t,
                onChange: c,
              }),
              C("label", {
                css: yI,
                htmlFor: "showDebug",
                children: "Show debug menu",
              }),
            ],
          }),
          C(SI, {}),
          C(kI, {}),
          C(gI, {}),
          t && C(uI, {}),
        ],
      })
    );
  }),
  SI = zn(() =>
    q.selectionRectDimensions
      ? C("div", {
          style: {
            position: "absolute",
            border: "1px solid black",
            backgroundColor: "rgba(0, 0, 0, 0.1)",
            zIndex: "1000",
            pointerEvents: "none",
            left: `${q.selectionRectDimensions.left}px`,
            top: `${q.selectionRectDimensions.top}px`,
            width: `${q.selectionRectDimensions.width}px`,
            height: `${q.selectionRectDimensions.height}px`,
          },
        })
      : null
  ),
  Zu = 0.4,
  kI = zn(() =>
    C(vi, {
      children: Array.from(q.resolvedSelection).map((t) => {
        const e = q.targets.get(t),
          { left: n, top: r } = q.workspaceBBox;
        return C(
          "div",
          {
            style: {
              position: "absolute",
              left: `calc(${e.left - n}px - ${Zu}rem)`,
              top: `calc(${e.top - r}px - ${Zu}rem)`,
              width: `calc(${e.width}px + ${2 * Zu}rem)`,
              height: `calc(${e.height}px + ${2 * Zu}rem)`,
              border: "2px dashed black",
              zIndex: "1000",
            },
          },
          t
        );
      }),
    })
  );
var CI = {
    name: "1alafz2",
    styles:
      "display:flex;flex-direction:column;position:relative;width:100%;height:100%",
  },
  _I = {
    name: "86tgoq",
    styles:
      "display:flex;flex-direction:column;position:relative;height:100%;width:50%;border-right:2px solid black;overflow-x:hidden;overflow-y:auto",
  },
  AI = {
    name: "aeaamz",
    styles: "display:flex;flex-direction:row;width:100%;height:100%",
  },
  OI = {
    name: "1i7uxdt",
    styles:
      "*{margin:0;padding:0;box-sizing:border-box;}html,body{width:100vw;height:100vh;overflow:hidden;}",
  };
function MI() {
  return qe(vi, {
    children: [
      C(h0, { styles: OI }),
      qe("div", {
        css: AI,
        children: [
          C("div", { css: _I, children: C(g6, {}) }),
          qe("div", { css: CI, children: [C(P9, {}), C(xI, {})] }),
        ],
      }),
    ],
  });
}
window.MathJax = {
  loader: {
    load: ["input/tex", "output/chtml", "[tex]/html", "[tex]/color"],
    tex: { packages: { "[+]": ["html", "color"] } },
  },
  startup: {
    pageReady: () => {
      sp.createRoot(document.getElementById("root")).render(
        C(oo.StrictMode, { children: C(MI, {}) })
      );
    },
  },
};
const v1 = document.createElement("script");
v1.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js";
v1.async = !0;
document.head.appendChild(v1);
